/*!
*  filename: ej.dashboard.viewer.all.min.js
*  version : 3.1.0.114
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
var CryptoJS=CryptoJS||function(n,t){var u={},f=u.lib={},o=function(){},i=f.Base={extend:function(n){o.prototype=this;var t=new o;return n&&t.mixIn(n),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:4*n.length},toString:function(n){return(n||l).stringify(this)},concat:function(n){var i=this.words,r=n.words,u=this.sigBytes,t;if(n=n.sigBytes,this.clamp(),u%4)for(t=0;t<n;t++)i[u+t>>>2]|=(r[t>>>2]>>>24-8*(t%4)&255)<<24-8*((u+t)%4);else if(65535<r.length)for(t=0;t<n;t+=4)i[u+t>>>2]=r[t>>>2];else i.push.apply(i,r);return this.sigBytes+=n,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-8*(t%4);i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i=[],u=0;u<t;u+=4)i.push(4294967296*n.random()|0);return new r.init(i,t)}}),e=u.enc={},l=e.Hex={stringify:function(n){var u=n.words,i,t,r;for(n=n.sigBytes,i=[],t=0;t<n;t++)r=u[t>>>2]>>>24-8*(t%4)&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-4*(t%8);return new r.init(u,i/2)}},s=e.Latin1={stringify:function(n){var r=n.words,i,t;for(n=n.sigBytes,i=[],t=0;t<n;t++)i.push(String.fromCharCode(r[t>>>2]>>>24-8*(t%4)&255));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-8*(t%4);return new r.init(u,i)}},a=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(s.stringify(n)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(n){return s.parse(unescape(encodeURIComponent(n)))}},h=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=a.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var f=this._data,s=f.words,u=f.sigBytes,e=this.blockSize,o=u/(4*e),o=t?n.ceil(o):n.max((o|0)-this._minBufferSize,0),i;if(t=o*e,u=n.min(4*t,u),t){for(i=0;i<t;i+=e)this._doProcessBlock(s,i);i=s.splice(0,t);f.sigBytes-=u}return new r.init(i,u)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),c;return f.Hasher=h.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new c.HMAC.init(n,i).finalize(t)}}}),c=u.algo={},u}(Math),dbrddashboardControls,RequestHeaders,widgetDetails,dashboardInfo;(function(){var n=CryptoJS,t=n.lib.WordArray;n.enc.Base64={stringify:function(n){var i=n.words,u=n.sigBytes,f=this._map,t,e,r;for(n.clamp(),n=[],t=0;t<u;t+=3)for(e=(i[t>>>2]>>>24-8*(t%4)&255)<<16|(i[t+1>>>2]>>>24-8*((t+1)%4)&255)<<8|i[t+2>>>2]>>>24-8*((t+2)%4)&255,r=0;4>r&&t+.75*r<u;r++)n.push(f.charAt(e>>>6*(3-r)&63));if(i=f.charAt(64))for(;n.length%4;)n.push(i);return n.join("")},parse:function(n){var e=n.length,f=this._map,i=f.charAt(64),o,s;i&&(i=n.indexOf(i),-1!=i&&(e=i));for(var i=[],u=0,r=0;r<e;r++)r%4&&(o=f.indexOf(n.charAt(r-1))<<2*(r%4),s=f.indexOf(n.charAt(r))>>>6-2*(r%4),i[u>>>2]|=(o|s)<<24-8*(u%4),u++);return t.create(i,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(n){function i(n,t,i,r,u,f,e){return n=n+(t&i|~t&r)+u+e,(n<<f|n>>>32-f)+t}function r(n,t,i,r,u,f,e){return n=n+(t&r|i&~r)+u+e,(n<<f|n>>>32-f)+t}function u(n,t,i,r,u,f,e){return n=n+(t^i^r)+u+e,(n<<f|n>>>32-f)+t}function f(n,t,i,r,u,f,e){return n=n+(i^(t|~r))+u+e,(n<<f|n>>>32-f)+t}for(var o=CryptoJS,e=o.lib,c=e.WordArray,s=e.Hasher,e=o.algo,t=[],h=0;64>h;h++)t[h]=4294967296*n.abs(n.sin(h+1))|0;e=e.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(n,e){for(var v,a,l=0;16>l;l++)v=e+l,a=n[v],n[v]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var l=this._hash.words,v=n[e+0],a=n[e+1],y=n[e+2],p=n[e+3],w=n[e+4],b=n[e+5],k=n[e+6],d=n[e+7],g=n[e+8],nt=n[e+9],tt=n[e+10],it=n[e+11],rt=n[e+12],ut=n[e+13],ft=n[e+14],et=n[e+15],o=l[0],s=l[1],h=l[2],c=l[3],o=i(o,s,h,c,v,7,t[0]),c=i(c,o,s,h,a,12,t[1]),h=i(h,c,o,s,y,17,t[2]),s=i(s,h,c,o,p,22,t[3]),o=i(o,s,h,c,w,7,t[4]),c=i(c,o,s,h,b,12,t[5]),h=i(h,c,o,s,k,17,t[6]),s=i(s,h,c,o,d,22,t[7]),o=i(o,s,h,c,g,7,t[8]),c=i(c,o,s,h,nt,12,t[9]),h=i(h,c,o,s,tt,17,t[10]),s=i(s,h,c,o,it,22,t[11]),o=i(o,s,h,c,rt,7,t[12]),c=i(c,o,s,h,ut,12,t[13]),h=i(h,c,o,s,ft,17,t[14]),s=i(s,h,c,o,et,22,t[15]),o=r(o,s,h,c,a,5,t[16]),c=r(c,o,s,h,k,9,t[17]),h=r(h,c,o,s,it,14,t[18]),s=r(s,h,c,o,v,20,t[19]),o=r(o,s,h,c,b,5,t[20]),c=r(c,o,s,h,tt,9,t[21]),h=r(h,c,o,s,et,14,t[22]),s=r(s,h,c,o,w,20,t[23]),o=r(o,s,h,c,nt,5,t[24]),c=r(c,o,s,h,ft,9,t[25]),h=r(h,c,o,s,p,14,t[26]),s=r(s,h,c,o,g,20,t[27]),o=r(o,s,h,c,ut,5,t[28]),c=r(c,o,s,h,y,9,t[29]),h=r(h,c,o,s,d,14,t[30]),s=r(s,h,c,o,rt,20,t[31]),o=u(o,s,h,c,b,4,t[32]),c=u(c,o,s,h,g,11,t[33]),h=u(h,c,o,s,it,16,t[34]),s=u(s,h,c,o,ft,23,t[35]),o=u(o,s,h,c,a,4,t[36]),c=u(c,o,s,h,w,11,t[37]),h=u(h,c,o,s,d,16,t[38]),s=u(s,h,c,o,tt,23,t[39]),o=u(o,s,h,c,ut,4,t[40]),c=u(c,o,s,h,v,11,t[41]),h=u(h,c,o,s,p,16,t[42]),s=u(s,h,c,o,k,23,t[43]),o=u(o,s,h,c,nt,4,t[44]),c=u(c,o,s,h,rt,11,t[45]),h=u(h,c,o,s,et,16,t[46]),s=u(s,h,c,o,y,23,t[47]),o=f(o,s,h,c,v,6,t[48]),c=f(c,o,s,h,d,10,t[49]),h=f(h,c,o,s,ft,15,t[50]),s=f(s,h,c,o,b,21,t[51]),o=f(o,s,h,c,rt,6,t[52]),c=f(c,o,s,h,p,10,t[53]),h=f(h,c,o,s,tt,15,t[54]),s=f(s,h,c,o,a,21,t[55]),o=f(o,s,h,c,g,6,t[56]),c=f(c,o,s,h,et,10,t[57]),h=f(h,c,o,s,k,15,t[58]),s=f(s,h,c,o,ut,21,t[59]),o=f(o,s,h,c,w,6,t[60]),c=f(c,o,s,h,it,10,t[61]),h=f(h,c,o,s,y,15,t[62]),s=f(s,h,c,o,nt,21,t[63]);l[0]=l[0]+o|0;l[1]=l[1]+s|0;l[2]=l[2]+h|0;l[3]=l[3]+c|0},_doFinalize:function(){var u=this._data,r=u.words,t=8*this._nDataBytes,i=8*u.sigBytes,f;for(r[i>>>5]|=128<<24-i%32,f=n.floor(t/4294967296),r[(i+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,r[(i+64>>>9<<4)+14]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360,u.sigBytes=4*(r.length+1),this._process(),u=this._hash,r=u.words,t=0;4>t;t++)i=r[t],r[t]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;return u},clone:function(){var n=s.clone.call(this);return n._hash=this._hash.clone(),n}});o.MD5=s._createHelper(e);o.HmacMD5=s._createHmacHelper(e)}(Math),function(){var t=CryptoJS,n=t.lib,i=n.Base,r=n.WordArray,n=t.algo,u=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:n.MD5,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,t){for(var i,o,f=this.cfg,u=f.hasher.create(),e=r.create(),h=e.words,s=f.keySize,f=f.iterations;h.length<s;){for(i&&u.update(i),i=u.update(n).finalize(t),u.reset(),o=1;o<f;o++)i=u.finalize(i),u.reset();e.concat(i)}return e.sigBytes=4*s,e}});t.EvpKDF=function(n,t,i){return u.create(i).compute(n,t)}}();CryptoJS.lib.Cipher||function(n){var i=CryptoJS,t=i.lib,f=t.Base,e=t.WordArray,c=t.BufferedBlockAlgorithm,l=i.enc.Base64,y=i.algo.EvpKDF,o=t.Cipher=c.extend({cfg:f.extend(),createEncryptor:function(n,t){return this.create(this._ENC_XFORM_MODE,n,t)},createDecryptor:function(n,t){return this.create(this._DEC_XFORM_MODE,n,t)},init:function(n,t,i){this.cfg=this.cfg.extend(i);this._xformMode=n;this._key=t;this.reset()},reset:function(){c.reset.call(this);this._doReset()},process:function(n){return this._append(n),this._process()},finalize:function(n){return n&&this._append(n),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(t,i,r){return("string"==typeof i?v:u).encrypt(n,t,i,r)},decrypt:function(t,i,r){return("string"==typeof i?v:u).decrypt(n,t,i,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=i.mode={},a=function(t,i,r){var f=this._iv,u;for(f?this._iv=n:f=this._prevBlock,u=0;u<r;u++)t[i+u]^=f[u]},r=(t.BlockCipherMode=f.extend({createEncryptor:function(n,t){return this.Encryptor.create(n,t)},createDecryptor:function(n,t){return this.Decryptor.create(n,t)},init:function(n,t){this._cipher=n;this._iv=t}})).extend();r.Encryptor=r.extend({processBlock:function(n,t){var i=this._cipher,r=i.blockSize;a.call(this,n,t,r);i.encryptBlock(n,t);this._prevBlock=n.slice(t,t+r)}});r.Decryptor=r.extend({processBlock:function(n,t){var i=this._cipher,r=i.blockSize,u=n.slice(t,t+r);i.decryptBlock(n,t);a.call(this,n,t,r);this._prevBlock=u}});s=s.CBC=r;r=(i.pad={}).Pkcs7={pad:function(n,t){for(var i=4*t,i=i-n.sigBytes%i,f=i<<24|i<<16|i<<8|i,r=[],u=0;u<i;u+=4)r.push(f);i=e.create(r,i);n.concat(i)},unpad:function(n){n.sigBytes-=n.words[n.sigBytes-1>>>2]&255}};t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:s,padding:r}),reset:function(){var t;o.reset.call(this);var n=this.cfg,i=n.iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1);this._mode=t.call(n,this,i&&i.words)},_doProcessBlock:function(n,t){this._mode.processBlock(n,t)},_doFinalize:function(){var t=this.cfg.padding,n;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),n=this._process(!0)):(n=this._process(!0),t.unpad(n)),n},blockSize:4});var h=t.CipherParams=f.extend({init:function(n){this.mixIn(n)},toString:function(n){return(n||this.formatter).stringify(this)}}),s=(i.format={}).OpenSSL={stringify:function(n){var t=n.ciphertext;return n=n.salt,(n?e.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(n){var t,i;return n=l.parse(n),t=n.words,1398893684==t[0]&&1701076831==t[1]&&(i=e.create(t.slice(2,4)),t.splice(0,4),n.sigBytes-=16),h.create({ciphertext:n,salt:i})}},u=t.SerializableCipher=f.extend({cfg:f.extend({format:s}),encrypt:function(n,t,i,r){r=this.cfg.extend(r);var u=n.createEncryptor(i,r);return t=u.finalize(t),u=u.cfg,h.create({ciphertext:t,key:i,iv:u.iv,algorithm:n,mode:u.mode,padding:u.padding,blockSize:n.blockSize,formatter:r.format})},decrypt:function(n,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n.createDecryptor(i,r).finalize(t.ciphertext)},_parse:function(n,t){return"string"==typeof n?t.parse(n,this):n}}),i=(i.kdf={}).OpenSSL={execute:function(n,t,i,r){return r||(r=e.random(8)),n=y.create({keySize:t+i}).compute(n,r),i=e.create(n.words.slice(t),4*i),n.sigBytes=4*t,h.create({key:n,iv:i,salt:r})}},v=t.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:i}),encrypt:function(n,t,i,r){return r=this.cfg.extend(r),i=r.kdf.execute(i,n.keySize,n.ivSize),r.iv=i.iv,n=u.encrypt.call(this,n,t,i.key,r),n.mixIn(i),n},decrypt:function(n,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),i=r.kdf.execute(i,n.keySize,n.ivSize,t.salt),r.iv=i.iv,u.decrypt.call(this,n,t,i.key,r)}})}(),function(){for(var i,tt,s=CryptoJS,y=s.lib.BlockCipher,h=s.algo,t=[],p=[],w=[],b=[],k=[],d=[],c=[],l=[],a=[],v=[],u=[],f=0;256>f;f++)u[f]=128>f?f<<1:f<<1^283;for(var r=0,e=0,f=0;256>f;f++){i=e^e<<1^e<<2^e<<3^e<<4;i=i>>>8^i&255^99;t[r]=i;p[i]=r;var o=u[r],g=u[o],nt=u[g],n=257*u[i]^16843008*i;w[r]=n<<24|n>>>8;b[r]=n<<16|n>>>16;k[r]=n<<8|n>>>24;d[r]=n;n=16843009*nt^65537*g^257*o^16843008*r;c[i]=n<<24|n>>>8;l[i]=n<<16|n>>>16;a[i]=n<<8|n>>>24;v[i]=n;r?(r=o^u[u[u[nt^o]]],e^=u[u[e]]):r=e=1}tt=[0,1,2,4,8,16,32,64,128,27,54];h=h.AES=y.extend({_doReset:function(){for(var n,f=this._key,e=f.words,r=f.sigBytes/4,f=4*((this._nRounds=r+6)+1),u=this._keySchedule=[],i=0;i<f;i++)i<r?u[i]=e[i]:(n=u[i-1],i%r?6<r&&4==i%r&&(n=t[n>>>24]<<24|t[n>>>16&255]<<16|t[n>>>8&255]<<8|t[n&255]):(n=n<<8|n>>>24,n=t[n>>>24]<<24|t[n>>>16&255]<<16|t[n>>>8&255]<<8|t[n&255],n^=tt[i/r|0]<<24),u[i]=u[i-r]^n);for(e=this._invKeySchedule=[],r=0;r<f;r++)i=f-r,n=r%4?u[i]:u[i-4],e[r]=4>r||4>=i?n:c[t[n>>>24]]^l[t[n>>>16&255]]^a[t[n>>>8&255]]^v[t[n&255]]},encryptBlock:function(n,i){this._doCryptBlock(n,i,this._keySchedule,w,b,k,d,t)},decryptBlock:function(n,t){var i=n[t+1];n[t+1]=n[t+3];n[t+3]=i;this._doCryptBlock(n,t,this._invKeySchedule,c,l,a,v,p);i=n[t+1];n[t+1]=n[t+3];n[t+3]=i},_doCryptBlock:function(n,t,i,r,u,f,e,o){for(var b=this._nRounds,h=n[t]^i[0],c=n[t+1]^i[1],l=n[t+2]^i[2],s=n[t+3]^i[3],a=4,w=1;w<b;w++)var v=r[h>>>24]^u[c>>>16&255]^f[l>>>8&255]^e[s&255]^i[a++],y=r[c>>>24]^u[l>>>16&255]^f[s>>>8&255]^e[h&255]^i[a++],p=r[l>>>24]^u[s>>>16&255]^f[h>>>8&255]^e[c&255]^i[a++],s=r[s>>>24]^u[h>>>16&255]^f[c>>>8&255]^e[l&255]^i[a++],h=v,c=y,l=p;v=(o[h>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[s&255])^i[a++];y=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[s>>>8&255]<<8|o[h&255])^i[a++];p=(o[l>>>24]<<24|o[s>>>16&255]<<16|o[h>>>8&255]<<8|o[c&255])^i[a++];s=(o[s>>>24]<<24|o[h>>>16&255]<<16|o[c>>>8&255]<<8|o[l&255])^i[a++];n[t]=v;n[t+1]=y;n[t+2]=p;n[t+3]=s},keySize:8});s.AES=y._createHelper(h)}();this.ej=this.ej||{};this.ej.dashboard=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.i=function(n){return n},t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=15)}([function(n,t,i){(function(){var u,r;!(u=[i,t],r=function(n,t){"use strict";function h(n,t){var i=t;return i.unshift(undefined),new(Function.prototype.bind.apply(n,i))}function c(n){var r,u=new Uint16Array(5),f=window.msCrypto||window.crypto,t,i;return f.getRandomValues(u),t="ej2"+ut(u),i=function(i){i.source===window&&typeof i.data=="string"&&i.data.length<=32&&i.data===t&&(n(),r())},window.addEventListener("message",i,!1),window.postMessage(t,"*"),r=function(){window.removeEventListener("message",i)}}function l(n,t){for(var i=t,u=n.split("."),r=0;r<u.length&&!e(i);r++)i=i[u[r]];return i}function a(n,t,i){for(var o=n.split("."),s=i||{},u=s,h=o.length,e,f=0;f<h;f++)e=o[f],f+1===h?u[e]=t===undefined?{}:t:r(u[e])&&(u[e]={}),u=u[e];return s}function v(n,t){delete n[t]}function u(n){return!r(n)&&n.constructor==={}.constructor}function y(n,t){return n[t]}function p(n,t){var i,u,f;if(!r(t)){var e=n,o=t,s=Object.keys(t);for(i=0,u=s;i<u.length;i++)f=u[i],e[f]=o[f]}}function f(n,t,i,r){var e=n||{},s=arguments.length,c,h,o;for(r&&(s=s-1),c=function(n){if(!h[n])return"continue";var t=h[n];Object.keys(t).forEach(function(n){var o=e[n],i=t[n],s;r&&u(i)?(s=u(o)?o:{},e[n]=f({},s,i,!0)):e[n]=i})},h=arguments,o=1;o<s;o++)c(o);return e}function r(n){return n===undefined||n===null}function e(n){return"undefined"==typeof n}function w(n){return n+"_"+s++}function b(n,t){var i;return function(){var r=this,u=arguments,f=function(){return i=null,n.apply(r,u)};clearTimeout(i);i=setTimeout(f,t)}}function k(n){for(var i,r=[],f=Object.keys(n),t=0,u=f;t<u.length;t++)i=u[t],r.push(encodeURIComponent(i)+"="+encodeURIComponent(""+n[i]));return r.join("&")}function d(n){var t=Object.prototype.toString;return t.call(n)==="[object Array]"&&t.call(n[0])==="[object Object]"?!0:!1}function o(n,t){var i=n;return i===t?!0:i!==document&&i?o(i.parentNode,t):!1}function g(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}function nt(n,t){var u=document.createElement("div"),f=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link, style")),e="",i,o,s;for(r(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),u.appendChild(n.cloneNode(!0)),i=0,o=f.length;i<o;i++)e+=f[i].outerHTML;return t.document.write("<!DOCTYPE html> <html><head>"+e+"<\/head><body>"+u.innerHTML+"<script> (function() { window.ready = true; })(); <\/script><\/body><\/html>"),t.document.close(),t.focus(),s=setInterval(function(){t.ready&&(t.print(),t.close(),clearInterval(s))},500),t}function tt(n){var t=n+"";return t==="auto"||t.indexOf("%")!==-1||t.indexOf("px")!==-1?t:t+"px"}function it(n,t){var e=typeof n=="string"?document.querySelector(n):n,r,u,f;if(e[i])for(r=0,u=e[i];r<u.length;r++)if(f=u[r],f instanceof t)return f;return null}function rt(n,t){var r=typeof n=="string"?document.querySelector(n):n;r[i]?r[i].push(t):r[i]=[t]}function ut(n){for(var i="",t=0;t<5;t++)i+=(t?",":"")+n[t];return i}Object.defineProperty(t,"__esModule",{value:!0});var i="ej2_instances",s=0;t.createInstance=h;t.setImmediate=c;t.getValue=l;t.setValue=a;t.deleteObject=v;t.isObject=u;t.getEnumValue=y;t.merge=p;t.extend=f;t.isNullOrUndefined=r;t.isUndefined=e;t.getUniqueID=w;t.debounce=b;t.queryParams=k;t.isObjectArray=d;t.compareElementParent=o;t.throwError=g;t.print=nt;t.formatUnit=tt;t.getInstance=it;t.addInstance=rt}.apply(t,u),r!==undefined&&(n.exports=r))}).call(t,i(18).setImmediate)},function(n,t,i){var u,r;!(u=[i,t,i(0),i(2),i(10)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(n,t){this.isProtectedOnChange=!0;this.properties={};this.changedProperties={};this.oldProperties={};this.refreshing=!1;this.finalUpdate=function(){};this.childChangedProperties={};this.modelObserver=new u.Observer(this);i.isUndefined(t)||(this.element="string"==typeof t?document.querySelector(t):t,i.isNullOrUndefined(this.element)||(this.isProtectedOnChange=!1,this.addInstance()));i.isUndefined(n)||this.setProperties(n,!0);this.isDestroyed=!1}return n.prototype.setProperties=function(n,t){var r=this.isProtectedOnChange;this.isProtectedOnChange=!!t;i.merge(this,n);t!==!0&&(i.merge(this.changedProperties,n),this.dataBind());this.finalUpdate();this.changedProperties={};this.oldProperties={};this.isProtectedOnChange=r},n.callChildDataBind=function(n,t){for(var i,r,f,e,s=Object.keys(n),u=0,o=s;u<o.length;u++)if(i=o[u],t[i]instanceof Array)for(r=0,f=t[i];r<f.length;r++)e=f[r],e.dataBind!==undefined&&e.dataBind();else t[i].dataBind()},n.prototype.clearChanges=function(){this.finalUpdate();this.changedProperties={};this.oldProperties={};this.childChangedProperties={}},n.prototype.dataBind=function(){if(n.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,r=this.oldProperties;this.clearChanges();this.isProtectedOnChange=!0;this.onPropertyChanged(i,r);this.isProtectedOnChange=t}},n.prototype.saveChanges=function(n,t,r){this.isProtectedOnChange||(this.oldProperties[n]=r,this.changedProperties[n]=t,this.finalUpdate(),this.finalUpdate=i.setImmediate(this.dataBind.bind(this)))},n.prototype.addEventListener=function(n,t){this.modelObserver.on(n,t)},n.prototype.removeEventListener=function(n,t){this.modelObserver.off(n,t)},n.prototype.trigger=function(n,t){if(this.isDestroyed!==!0){var i=this.isProtectedOnChange;this.isProtectedOnChange=!1;this.modelObserver.notify(n,t);this.isProtectedOnChange=i}},n.prototype.addInstance=function(){var n="e-"+this.getModuleName().toLowerCase();r.addClass([this.element],["e-control",n]);i.isNullOrUndefined(this.element.ej2_instances)?i.setValue("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},n.prototype.destroy=function(){var n=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(t){return t!==n});r.removeClass([this.element],["e-"+this.getModuleName()]);this.element.ej2_instances.length===0&&r.removeClass([this.element],["e-control"]);this.clearChanges();this.modelObserver.destroy();this.isDestroyed=!0},n}();t.Base=f}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(4),i(0)],r=function(n,t,i,r){"use strict";function h(n,t){var i=document.createElement(n);return typeof t=="undefined"?i:(i.innerHTML=t.innerHTML?t.innerHTML:"",t.className!==undefined&&(i.className=t.className),t.id!==undefined&&(i.id=t.id),t.styles!==undefined&&i.setAttribute("style",t.styles),t.attrs!==undefined&&o(i,t.attrs),i)}function u(n,t){for(var u,i,f,o,h=e(t),r=0,s=n;r<s.length;r++)for(u=s[r],i=0,f=h;i<f.length;i++)o=f[i],u.classList.contains(o)||u.classList.add(o);return n}function f(n,t){for(var u,i,f,s,h=e(t),r=0,o=n;r<o.length;r++)if(u=o[r],u.className!=="")for(i=0,f=h;i<f.length;i++)s=f[i],u.classList.remove(s);return n}function e(n){var t=[];return typeof n=="string"?t.push(n):t=n,t}function c(n){var t=n;return t.style.visibility===""&&t.offsetWidth>0}function l(n,t){for(var f,r=document.createDocumentFragment(),i=0,u=n;i<u.length;i++)f=u[i],r.appendChild(f);return t.insertBefore(r,t.firstElementChild),n}function a(n,t){for(var f,r=document.createDocumentFragment(),i=0,u=n;i<u.length;i++)f=u[i],r.appendChild(f);return t.appendChild(r),n}function v(n){var t=n.parentNode;return t.removeChild(n)}function y(n){var t=n.parentNode;i.EventHandler.clearEvents(n);t.removeChild(n)}function o(n,t){for(var r,e=Object.keys(t),u=n,i=0,f=e;i<f.length;i++)r=f[i],u.setAttribute(r,t[r]);return u}function p(n,t){return t===void 0&&(t=document),t.querySelector(n)}function w(n,t){t===void 0&&(t=document);return t.querySelectorAll(n)}function b(n,t){var i=n;if(typeof i.closest=="function")return i.closest(t);while(i&&i.nodeType===1){if(s(i,t))return i;i=i.parentNode}return null}function k(n){for(var t,r=[],f=Array.prototype.slice.call(n.parentNode.childNodes),i=0,u=f;i<u.length;i++)t=u[i],t.nodeType===Node.ELEMENT_NODE&&n!==t&&r.push(t);return r}function d(n,t,i){var u=n.getAttribute(t);return r.isNullOrUndefined(u)&&(n.setAttribute(t,i.toString()),u=i),u}function g(n,t){t!==undefined&&Object.keys(t).forEach(function(i){n.style[i]=t[i]})}function nt(n,t,i){u([n],t);f([n],i)}function s(n,t){var i=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return i?i.call(n,t):[].indexOf.call(document.querySelectorAll(t),n)!==-1}Object.defineProperty(t,"__esModule",{value:!0});t.createElement=h;t.addClass=u;t.removeClass=f;t.isVisible=c;t.prepend=l;t.append=a;t.detach=v;t.remove=y;t.attributes=o;t.select=p;t.selectAll=w;t.closest=b;t.siblings=k;t.getAttributeOrDefault=d;t.setStyleAttribute=g;t.classList=nt;t.matches=s}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";function f(n,t,r,u){return n.properties.hasOwnProperty(t)||(n.properties[t]=i.createInstance(u,[n,t,r])),n.properties[t]}function r(n,t,r,u,f,e){for(var s,c,h=[],l=r.length,o=0;o<l;o++)s=u,e&&(s=u(r[o])),f?(c=i.createInstance(s,[n,t,{},!0]),c.setProperties(r[o],!0),h.push(c)):h.push(i.createInstance(s,[n,t,r[o],!0]));return h}function e(n,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=n),this.properties[t]}}function h(n,t){return function(i){if(this.properties[t]!==i){var r=this.properties.hasOwnProperty(t)?this.properties[t]:n;this.saveChanges(t,i,r);this.properties[t]=i}}}function c(n,t,i){return function(){return f(this,t,n,i)}}function l(n,t,i){return function(r){f(this,t,n,i).setProperties(r)}}function a(n,t,i){return function(){var r=i({});return f(this,t,n,r)}}function v(n,t,i){return function(r){var u=i(r);f(this,t,n,u).setProperties(r)}}function y(n,t,i){return function(){if(!this.properties.hasOwnProperty(t)){var u=r(this,t,n,i,!1);this.properties[t]=u}return this.properties[t]}}function p(n,t,i){return function(u){var e=r(this,t,n,i,!1),f=r(this,t,u,i,!0);this.saveChanges(t,f,e);this.properties[t]=f}}function w(n,t,i){return function(u){var e=r(this,t,n,i,!1,!0),f=r(this,t,u,i,!0,!0);this.saveChanges(t,f,e);this.properties[t]=f}}function b(n,t,i){return function(){var f=i({}),u;return this.properties.hasOwnProperty(t)||(u=r(this,t,n,f,!1),this.properties[t]=u),this.properties[t]}}function k(n){return function(t,i){var r={set:h(n,i),get:e(n,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);u(t,i,"prop",n)}}function d(n,t){return function(i,r){var f={set:l(n,r,t),get:c(n,r,t),enumerable:!0,configurable:!0};Object.defineProperty(i,r,f);u(i,r,"complexProp",n,t)}}function g(n){return function(t,i){var r={set:v({},i,n),get:a({},i,n),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);u(t,i,"complexProp",{},n)}}function nt(n,t){return function(i,r){var f={set:p(n,r,t),get:y(n,r,t),enumerable:!0,configurable:!0};Object.defineProperty(i,r,f);u(i,r,"colProp",n,t)}}function tt(n){return function(t,i){var r={set:w([],i,n),get:b([],i,n),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);u(t,i,"colProp",{},n)}}function it(){return function(n,t){var r={set:function(n){var u=this.properties[t],r;u!==n&&(r=s(this,t),i.isUndefined(u)===!1&&r.context.removeEventListener(r.prefix,u),r.context.addEventListener(r.prefix,n),this.properties[t]=n)},get:e(undefined,t),enumerable:!0,configurable:!0};Object.defineProperty(n,t,r);u(n,t,"event")}}function rt(){}function u(n,t,r,u,f){i.isUndefined(n.propList)&&(n.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]});n.propList[r+"s"].push({propertyName:t,defaultValue:u,type:f});n.propList[r+"Names"].push(t)}function o(n){var s,t,u,f,h,r,e,c;if(i.isUndefined(n.prototype.builderObject))for(n.prototype.builderObject={properties:{},propCollections:[],add:function(){this.isPropertyArray=!0;this.propCollections.push(i.extend({},this.properties,{}))}},s=/complex/,t=0,u=Object.keys(n.prototype.propList);t<u.length;t++)for(f=u[t],h=function(t){n.prototype.builderObject[t.propertyName]=s.test(f)?function(n){var r={},u;return i.merge(r,o(t.type)),n(r),u=r.isPropertyArray?r.propCollections:i.extend({},r.properties,{}),this.properties[t.propertyName]=u,r.properties={},r.propCollections=[],r.isPropertyArray=!1,this}:function(n){return this.properties[t.propertyName]=n,this}},r=0,e=n.prototype.propList[f];r<e.length;r++)c=e[r],h(c);return n.prototype.builderObject}function ut(n){var t=function(n){return this.element=n,this};return function(r){return t.prototype.hasOwnProperty("create")||(t.prototype=o(n),t.prototype.create=function(){var t=i.extend({},{},this.properties);return this.properties={},new n(t,this.element)}),new t(r)}}function s(n,t){if(n.hasOwnProperty("parentObj")===!1)return{context:n,prefix:t};var r=i.getValue("propName",n);return r&&(t=r+"-"+t),s(i.getValue("parentObj",n),t)}Object.defineProperty(t,"__esModule",{value:!0});t.Property=k;t.Complex=d;t.ComplexFactory=g;t.Collection=nt;t.CollectionFactory=tt;t.Event=it;t.NotifyPropertyChanges=rt;t.CreateBuilder=ut}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.addOrGetEventData=function(n){return"__eventList"in n?n.__eventList.events:(n.__eventList={},n.__eventList.events=[])},n.add=function(t,r,u,f,e){var c=n.addOrGetEventData(t),o,h,s;for(o=e?i.debounce(u,e):u,f&&(o=o.bind(f)),h=r.split(" "),s=0;s<h.length;s++)c.push({name:h[s],listener:u,debounce:o}),t.addEventListener(h[s],o);return o},n.remove=function(t,i,r){for(var u=n.addOrGetEventData(t),f=i.split(" "),o=function(n){var i=-1,e;u&&u.length!==0&&u.some(function(t,u){return t.name===f[n]&&t.listener===r?(i=u,e=t.debounce,!0):!1});i!==-1&&u.splice(i,1);t.removeEventListener(f[n],e)},e=0;e<f.length;e++)o(e)},n.clearEvents=function(t){var f,r,u;for(f=n.addOrGetEventData(t),r=i.extend([],r,f),u=0;u<r.length;u++)t.removeEventListener(r[u].name,r[u].debounce),f.shift()},n.trigger=function(t,i,r){for(var f,o=n.addOrGetEventData(t),u=0,e=o;u<e.length;u++)f=e[u],f.name===i&&f.debounce.call(this,r)},n}();t.EventHandler=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var f=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,e=/msie|trident/i,o=/Trident\/7\./,s=/(ipad|iphone|ipod touch)/i,h=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,c=/android/i,l=/trident|windows phone|edge/i,a=/(version)[ \/]([\w.]+)/i,u={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};window.browserDetails=window.browserDetails||{};r=function(){function n(){}return n.extractBrowserDetail=function(){for(var s,f,t={culture:{}},h=Object.keys(u),i=[],r=0,e=h;r<e.length;r++)if(s=e[r],i=n.userAgent.match(u[s]),i){if(t.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),t.name=i[1].toLowerCase()==="crios"?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,!!n.userAgent.match(o)){t.name="msie";break}f=n.userAgent.match(a);t.name==="safari"&&f&&(t.version=f[2]);break}return t},n.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"}};return n.isPointer?i[t].isPointer:n.isTouch?i[t].isTouch+(n.isDevice?"":" "+i[t].isDevice):i[t].isDevice},n.getTouchStartEvent=function(){return n.getEvent("start")},n.getTouchEndEvent=function(){return n.getEvent("end")},n.getTouchMoveEvent=function(){return n.getEvent("move")},n.getValue=function(t,i){var r=window.browserDetails;return"undefined"==typeof r[t]?r[t]=i.test(n.userAgent):r[t]},Object.defineProperty(n,"userAgent",{get:function(){return n.uA},set:function(t){n.uA=t;window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"info",{get:function(){return i.isUndefined(window.browserDetails.info)?window.browserDetails.info=n.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIE",{get:function(){return n.getValue("isIE",e)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isTouch",{get:function(){return i.isUndefined(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPointer",{get:function(){return i.isUndefined(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isMSPointer",{get:function(){return i.isUndefined(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isDevice",{get:function(){return n.getValue("isDevice",f)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIos",{get:function(){return n.getValue("isIos",s)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIos7",{get:function(){return n.getValue("isIos7",h)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isAndroid",{get:function(){return n.getValue("isAndroid",c)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWebView",{get:function(){return i.isUndefined(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(i.isUndefined(window.cordova)&&i.isUndefined(window.PhoneGap)&&i.isUndefined(window.phonegap)&&window.forge!=="object"),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWindows",{get:function(){return n.getValue("isWindows",l)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchStartEvent",{get:function(){return i.isUndefined(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=n.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchMoveEvent",{get:function(){return i.isUndefined(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=n.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchEndEvent",{get:function(){return i.isUndefined(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=n.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),n}();r.uA=navigator.userAgent;t.Browser=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(7),i(11),i(12)],r=function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e;(function(n){function c(t,r,u){var f,e=u||"date",o,s;return n.basicPatterns.indexOf(t)!==-1?(f=i.getValue(e+"Formats."+t,r),e==="dateTime"&&(o=i.getValue("dateFormats."+t,r),s=i.getValue("timeFormats."+t,r),f=f.replace("{1}",o).replace("{0}",s))):f=i.getValue("dateTimeFormats.availableFormats."+t,r),f}function o(t,u,f){var e={};return e.parserObject=r.ParserBase.getMainObject(t,u)||n.defaultObject,f?e.numericObject=i.getValue("numbers",e.parserObject):e.dateObject=i.getValue("dates.calendars.gregorian",e.parserObject),e}function s(n,t,r,u){return i.getValue(n+"Formats-numberSystem-"+t+(u?".accounting":".standard"),r)||(u?i.getValue(n+"Formats-numberSystem-"+t+".standard",r):"")}function l(t){var r=t.match(n.formatRegex),i={},u=r[1].toUpperCase();return i.isAccount=u==="A",i.type=n.patternMatcher[u],t.length>1&&(i.fractionDigits=parseInt(r[2],10)),i}function a(t,r,u,f){var e=f?{}:{nlead:"",nend:""},o=t.match(n.customRegex),s,c;return o&&(f||(e.nlead=v(o[1],u),e.nend=v(o[10],u),e.groupPattern=o[4]),s=o[7],s&&r&&(c=s.match(h),e.minimumFraction=i.isNullOrUndefined(c)?0:c.length,e.maximumFraction=s.length-1)),e}function v(t,i){return t?t.replace(n.defaultCurrency,i):""}function b(n,t){return i.getValue("currencies."+t+".symbol",n)||"$"}function k(n,t,r){for(var u={},e=n.split(";"),o=["pData","nData","zeroData"],f=0;f<e.length;f++)u[o[f]]=d(e[f],t,r);return i.isNullOrUndefined(u.nData)&&(u.nData=i.extend({},u.pData),u.nData.nlead=i.isNullOrUndefined(t)?"-"+u.nData.nlead:t.minusSymbol+u.nData.nlead),u}function d(r,u,e){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},c=r.match(n.customRegex),h,l,a;return(i.isNullOrUndefined(c)||c[5]==="")&&i.throwError("Given Format is not valid or Cldr data not loaded"),o.nlead=c[1],o.nend=c[10],h=c[6],o.useGrouping=h.indexOf(",")!==-1,h=h.replace(/,/g,""),l=c[7],h.indexOf("0")!==-1&&(o.minimumIntegerDigits=h.length-h.indexOf("0")),i.isNullOrUndefined(l)||(o.minimumFractionDigits=l.lastIndexOf("0"),o.maximumFractionDigits=l.lastIndexOf("#"),o.minimumFractionDigits===-1&&(o.minimumFractionDigits=0),(o.maximumFractionDigits===-1||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),i.isNullOrUndefined(u)?i.extend(o,t([o.nlead,o.nend],"%","%")):(i.extend(o,t([o.nlead,o.nend],"$",u.currencySymbol)),o.isCurrency||i.extend(o,t([o.nlead,o.nend],"%",u.percentSymbol))),i.isNullOrUndefined(e)||(a=s(o.type,u.numberMapper.numberSystem,e,!1),o.useGrouping&&(o.groupSeparator=u.numberMapper.numberSymbols[y[2]],o.groupData=f.NumberFormat.getGroupingDetails(a.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")),o}function t(n,t,i){for(var r,u,f={nlead:n[0],nend:n[1]},o=0;o<2;o++)if(r=n[o],u=r.indexOf(t),u!==-1&&(u<r.indexOf("'")||u>r.lastIndexOf("'"))){f[e[o]]=r.substr(0,u)+i+r.substr(u+1);f[e[t]]=!0;f.type=f.isCurrency?"currency":"percent";break}return f}function g(n){var t=(i.getValue("dateFormats.short",n)||"").match(/[d‏M‏]([^d‏M])[d‏M‏]/i);return t?t[1]:"/"}function nt(n,t,f,e){var a=o(f,n),s=t.format||c(t.skeleton,a.dateObject,t.type);if(e){if(s=s.replace(p,function(n){return w[n]}),s.indexOf("z")!==-1){var b=s.match(/z/g).length,l=void 0,h={timeZone:{}};h.numMapper=r.ParserBase.getNumberMapper(a.parserObject,r.ParserBase.getNumberingSystem(f));h.timeZone=i.getValue("dates.timeZoneNames",a.parserObject);var k=new Date,y=k.getTimezoneOffset(),v=b<4?"+H;-H":h.timeZone.hourFormat;v=v.replace(/:/g,h.numMapper.timeSeparator);y===0?l=h.timeZone.gmtZeroFormat:(l=u.DateFormat.getTimeZoneValue(y,v),l=h.timeZone.gmtFormat.replace(/\{0\}/,l));s=s.replace(/[z]+/,'"'+l+'"')}s=s.replace(/ $/,"")}return s}function tt(t,u,f){var p=o(f,t,!0),h={custom:!0},c,v,w,e,y;return!/(c|a)$/ig.test(u.format)||u.minimumFractionDigits||u.maximumFractionDigits||(v={},v.numberMapper=r.ParserBase.getNumberMapper(p.parserObject,r.ParserBase.getNumberingSystem(f),!0),w=s("currency",v.numberMapper.numberSystem,p.numericObject,/a/i.test(u.format)),c=a(w.split(";")[0],!0,"",!0).minimumFraction),n.formatRegex.test(u.format)||!u.format?(i.extend(h,l(u.format||"N")),h.custom=!1,e="###0",(h.fractionDigits||u.minimumFractionDigits||u.maximumFractionDigits||c)&&(y=0,h.fractionDigits&&(u.minimumFractionDigits=u.maximumFractionDigits=h.fractionDigits),e=it(e,c||h.fractionDigits||u.minimumFractionDigits||y,u.maximumFractionDigits||y)),u.minimumIntegerDigits&&(e=rt(e,u.minimumIntegerDigits)),u.useGrouping&&(e=ut(e)),h.type!=="currency"||h.isAccount?h.type==="currency"&&h.isAccount&&(e="$ "+e+";($ "+e+")"):e="$ "+e,h.type==="percent"&&(e+=" %")):e=u.format.replace(/\'/g,'"'),e}function it(n,t,i){var r,f,u;for(n+=".",r=0;r<t;r++)n+="0";if(t<i)for(f=i-t,u=0;u<f;u++)n+="#";return n}function rt(n,t){for(var r=n.split("."),i="",u=0;u<t;u++)i+="0";return r[1]?i+"."+r[1]:i}function ut(n){var r=n.split("."),t=r[0],u=3-t.length%3,f=u&&u===1?"#":u===2?"##":"",i;for(t=f+t,n="",i=t.length-1;i>0;i=i-3)n=","+t[i-2]+t[i-1]+t[i]+n;return n=n.slice(1),r[1]?n+"."+r[1]:n}var h,e;n.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;n.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;n.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;h=/[0-9]/g;n.defaultCurrency="$";var y=["infinity","nan","group","decimal"],p=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,w={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n.formatRegex=/(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;e={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};n.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi;n.basicPatterns=["short","medium","long","full"];n.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{"1":"Jan","2":"Feb","3":"Mar","4":"Apr","5":"May","6":"Jun","7":"Jul","8":"Aug","9":"Sep","10":"Oct","11":"Nov","12":"Dec"},narrow:{"1":"J","2":"F","3":"M","4":"A","5":"M","6":"J","7":"J","8":"A","9":"S","10":"O","11":"N","12":"D"},wide:{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{"0":"Before Christ","0-alt-variant":"Before Common Era","1":"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{"0":"BC","0-alt-variant":"BCE","1":"AD","1-alt-variant":"CE"},eraNarrow:{"0":"B","0-alt-variant":"BCE","1":"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"€","symbol-alt-narrow":"€"},GBP:{displayName:"British Pound","symbol-alt-narrow":"£"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"×",perMille:"‰",infinity:"∞",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"¤#,##0.00",accounting:"¤#,##0.00;(¤#,##0.00)"}}};n.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"};n.month="months";n.days="days";n.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency"};n.getResultantPattern=c;n.getDependables=o;n.getSymbolPattern=s;n.getProperNumericSkeleton=l;n.getFormatData=a;n.getCurrencySymbol=b;n.customFormat=k;n.isCurrencyPercent=t;n.getDateSeparator=g;n.getActualDateTimeFormat=nt;n.getActualNumberFormat=tt})(e=t.IntlBase||(t.IntlBase={}))}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"∞",nan:"NaN",exponential:"E"},f=[0,1,2,3,4,5,6,7,8,9],r=function(){function n(){}return n.getMainObject=function(n,t){return i.getValue("main."+t,n)},n.getNumberingSystem=function(n){return i.getValue("supplemental.numberingSystems",n)||this.numberingSystems},n.reverseObject=function(n,t){for(var i,e=t||Object.keys(n),r={},u=0,f=e;u<f.length;u++)i=f[u],r.hasOwnProperty(n[i])||(r[n[i]]=i);return r},n.getSymbolRegex=function(n){var t=n.map(function(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(t,"g")},n.getSymbolMatch=function(n){for(var i,e=Object.keys(u),r={},t=0,f=e;t<f.length;t++)i=f[t],r[n[i]]=u[i];return r},n.constructRegex=function(n){for(var i=n.length,r="",t=0;t<i;t++)r+=t!==i-1?n[t]+"|":n[t];return r},n.convertValueParts=function(n,t,i){return n.replace(t,function(n){return i[n]})},n.getDefaultNumberingSystem=function(n){var t={};return t.obj=i.getValue("numbers",n),t.nSystem=i.getValue("defaultNumberingSystem",t.obj),t},n.getCurrentNumericOptions=function(n,t,r){var u={},o=this.getDefaultNumberingSystem(n),e;return i.isUndefined(o.nSystem)||(e=i.getValue(o.nSystem+"._digits",t),i.isUndefined(e)||(u.numericPair=this.reverseObject(e,f),u.numberParseRegex=new RegExp(this.constructRegex(e),"g"),u.numericRegex="["+e[0]+"-"+e[9]+"]",r&&(u.numericRegex=e[0]+"-"+e[9],u.symbolNumberSystem=i.getValue("symbols-numberSystem-"+o.nSystem,o.obj),u.symbolMatch=this.getSymbolMatch(u.symbolNumberSystem),u.numberSystem=o.nSystem))),u},n.getNumberMapper=function(n,t){var r={mapper:{}},u=this.getDefaultNumberingSystem(n),o,e,s,h;if(!i.isUndefined(u.nSystem)&&(r.numberSystem=u.nSystem,r.numberSymbols=i.getValue("symbols-numberSystem-"+u.nSystem,u.obj),r.timeSeparator=i.getValue("timeSeparator",r.numberSymbols),o=i.getValue(u.nSystem+"._digits",t),!i.isUndefined(o)))for(e=0,s=f;e<s.length;e++)h=s[e],r.mapper[h]=o[h];return r},n}();r.nPair="numericPair";r.nRegex="numericRegex";r.numberingSystems={latn:{_digits:"0123456789",_type:"numeric"}};t.ParserBase=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(1)],r=function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t,u,f){this.properties={};this.changedProperties={};this.childChangedProperties={};this.oldProperties={};this.finalUpdate=function(){};this.callChildDataBind=i.getValue("callChildDataBind",r.Base);this.parentObj=n;this.controlParent=this.parentObj.controlParent||this.parentObj;this.propName=t;this.setProperties(u,!0);this.isParentArray=f}return n.prototype.updateChange=function(n,t){n===!0?this.parentObj.childChangedProperties[t]=n:delete this.parentObj.childChangedProperties[t];this.parentObj.updateChange&&this.parentObj.updateChange(n,this.parentObj.propName)},n.prototype.updateTimeOut=function(){this.parentObj.updateTimeOut?(this.parentObj.finalUpdate(),this.parentObj.updateTimeOut()):this.parentObj.finalUpdate=i.setImmediate(this.parentObj.dataBind.bind(this.parentObj))},n.prototype.clearChanges=function(){this.finalUpdate();this.updateChange(!1,this.propName);this.oldProperties={};this.changedProperties={}},n.prototype.setProperties=function(n,t){t===!0?(i.merge(this,n),this.updateChange(!1,this.propName),this.clearChanges()):i.merge(this,n)},n.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var n=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(i.setValue(this.propName+"."+n,this.changedProperties,this.parentObj.changedProperties),i.setValue(this.propName+"."+n,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},n.prototype.saveChanges=function(n,t,i){this.controlParent.isProtectedOnChange||(this.oldProperties[n]=i,this.changedProperties[n]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},n}();t.ChildProperty=u}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(11),i(12),i(26),i(27),i(6),i(0),i(10)],r=function(n,t,i,r,u,f,e,o,s){"use strict";function l(n){t.defaultCulture=n;t.onIntlChange.notify("notifyExternalChange",{locale:t.defaultCulture})}function a(n){t.defaultCurrencyCode=n}function v(){for(var i,r,f,u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];for(i=0,r=u;i<r.length;i++)f=r[i],o.extend(t.cldrData,f,{},!0)}function y(n){n===void 0&&(n=!0);t.rightToLeft=n;t.onIntlChange.notify("notifyExternalChange",{enableRtl:t.rightToLeft})}function p(n,i){var r=e.IntlBase.getDependables(t.cldrData,n,!0)[h[0]],f=e.IntlBase.getDependables(t.cldrData,n)[h[1]],u=o.getValue("defaultNumberingSystem",r),s=o.getValue("symbols-numberSystem-"+u,r),c=e.IntlBase.getSymbolPattern(i||"decimal",u,r,!1);return o.extend(s,e.IntlBase.getFormatData(c,!0,"",!0),{dateSeparator:e.IntlBase.getDateSeparator(f)})}function w(){return e.IntlBase.getDependables(t.cldrData,"",!1)[h[1]]}Object.defineProperty(t,"__esModule",{value:!0});t.onIntlChange=new s.Observer;t.rightToLeft=!1;t.cldrData={};t.defaultCulture="en-US";t.defaultCurrencyCode="USD";var h=["numericObject","dateObject"],c=function(){function n(n){n&&(this.culture=n)}return n.prototype.getDateFormat=function(n){return i.DateFormat.dateFormat(this.getCulture(),n||{type:"date",skeleton:"short"},t.cldrData)},n.prototype.getNumberFormat=function(n){return n&&!n.currency&&(n.currency=t.defaultCurrencyCode),r.NumberFormat.numberFormatter(this.getCulture(),n||{},t.cldrData)},n.prototype.getDateParser=function(n){return u.DateParser.dateParser(this.getCulture(),n||{skeleton:"short",type:"date"},t.cldrData)},n.prototype.getNumberParser=function(n){return f.NumberParser.numberParser(this.getCulture(),n||{format:"N"},t.cldrData)},n.prototype.formatNumber=function(n,t){return this.getNumberFormat(t)(n)},n.prototype.formatNumberThroughSchema=function(n,t){return this.formatNumber(n,{format:t.measureType,currency:t.currencyCode,unit:t.unit,decimal:t.decimalSeparator,group:t.groupSeparator,negative:t.negativeValueFormat,prefix:t.prefix,suffix:t.suffix})},n.prototype.formatDateThroughSchema=function(n,t){var i,r,u;return t.dateTimeComponent=="date"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6)-1,n.toString().substring(6,8)),{format:t.dateTimeFormat}):t.dateTimeComponent=="month"?t.dateTimeFormat=="MMMMM"?this.formatDate(new Date(n.toString()),{format:t.dateTimeFormat}).substring(0,1):this.formatDate(new Date(n.toString()),{format:t.dateTimeFormat}):t.dateTimeComponent=="day"?(i=new Date(2018,2,n),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="quarter"?t.dateTimeFormat=="wide"?"Quarter"+n:t.dateTimeFormat=="abbrivated"?"Q"+n:n:t.dateTimeComponent=="hour"?(i=new Date(2018,2,3,n.toString()),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="minutes"?(i=new Date(2018,2,3,4,n.toString()),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="seconds"?(i=new Date(2018,2,3,4,5,n.toString()),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="quarteryear"?"Quarter "+n.toString().substring(4,5)+" "+n.toString().substring(0,4):t.dateTimeComponent=="monthyear"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6)-1),{format:t.dateTimeFormat}):t.dateTimeComponent=="datehour"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6),n.toString().substring(6,8),n.toString().substring(8,10)),{format:t.dateTimeFormat}):t.dateTimeComponent=="weekyear"?"Week "+n.toString().substring(4,6)+" "+n.toString().substring(0,4):t.dateTimeComponent=="dayofweek"?(r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=["M","T","W","Th","F","Sa","S"],t.dateTimeFormat=="long"?r[n-1]:t.dateTimeFormat=="narrow"?u[n-1]:t.dateTimeFormat=="short"?r[n-1].substring(0,3):n.toString()):t.dateTimeComponent=="weekofyear"?t.dateTimeFormat=="week N"?"Week "+n.toString().substring(1,2):t.dateTimeFormat=="week NN"?"Week "+n:n.toString():t.dateTimeComponent=="daymonthyear"||t.dateTimeComponent=="monthdayyear"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6)-1,n.toString().substring(6,8)),{format:t.dateTimeFormat}):t.dateTimeComponent=="year"?this.formatDate(new Date("1-1-"+n.toString()),{format:t.dateTimeFormat}):this.formatDate(new Date(n.toString()),{format:t.dateTimeFormat})},n.prototype.truncateNumber=function(n){var o=10,i=n,f="",e=Math.pow(o,3),s=Math.pow(o,5),r=Math.pow(o,6),h=Math.pow(o,7),u=Math.pow(o,9),t=n;return this.getCulture()=="en-IN"?t>=e&&t<s||t<=-e&&t>-s?(i=t/e,f="K"):t>=s&&t<r||t<=-s&&t>-r?(i=t/s,f="L"):t>=r&&t<h||t<=-r&&t>-h?(i=t/r,f="M"):t>=h&&t<u||t<=-h&&t>-u?(i=t/h,f="C"):t>=u||t<=-u?(i=t/u,f="B"):i=t:t>=e&&t<r||t<=-e&&t>-r?(i=t/e,f="K"):t>=r&&t<u||t<=-r&&t>-u?(i=t/r,f="M"):t>=u||t<=-u?(i=t/u,f="B"):i=t,{value:i,unit:f}},n.prototype.formatDate=function(n,t){return t.format!=undefined&&(t.format=t.format.replace("dddd","EEEE"),t.format=t.format.replace("ddd","E"),t.format=t.format.replace("tt","a")),this.getDateFormat(t)(n)},n.prototype.parseDate=function(n,t){return this.getDateParser(t)(n)},n.prototype.parseNumber=function(n,t){return this.getNumberParser(t)(n)},n.prototype.getDatePattern=function(n,i){return e.IntlBase.getActualDateTimeFormat(this.getCulture(),n,t.cldrData,i)},n.prototype.getNumberPattern=function(n){return e.IntlBase.getActualNumberFormat(this.getCulture(),n,t.cldrData)},n.prototype.getCulture=function(){return this.culture||t.defaultCulture},n}();t.Internationalization=c;t.setCulture=l;t.setCurrencyCode=a;t.loadCldr=v;t.enableRtl=y;t.getNumericObject=p;t.getDefaultDateObject=w}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){(this.boundedEvents={},i.isNullOrUndefined(n))||(this.context=n)}return n.prototype.on=function(n,t,r){if(!i.isNullOrUndefined(t)){var u=r||this.context;if(this.notExist(n)){this.boundedEvents[n]=[{handler:t,context:u}];return}this.isHandlerPresent(this.boundedEvents[n],t)||this.boundedEvents[n].push({handler:t,context:u})}},n.prototype.off=function(n,t){var u,r;if(!this.notExist(n))if(u=i.getValue(n,this.boundedEvents),t){for(r=0;r<u.length;r++)if(t===u[r].handler){u.splice(r,1);break}}else delete this.boundedEvents[n]},n.prototype.notify=function(n,t){var e,r,u,f;if(!this.notExist(n))for(t&&(t.name=n),e=i.getValue(n,this.boundedEvents).slice(0),r=0,u=e;r<u.length;r++)f=u[r],f.handler.call(f.context,t)},n.prototype.destroy=function(){this.boundedEvents=this.context=undefined},n.prototype.notExist=function(n){return this.boundedEvents.hasOwnProperty(n)===!1},n.prototype.isHandlerPresent=function(n,t){for(var u,i=0,r=n;i<r.length;i++)if(u=r[i],u.handler===t)return!0;return!1},n}();t.Observer=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(7),i(6),i(0)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi,f="stand-alone",o=["sun","mon","tue","wed","thu","fri","sat"];t.basicPatterns=["short","medium","long","full"];var s={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate"},h={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},c="timeSeparator",l=function(){function n(){}return n.dateFormat=function(n,t,o){var d=this,c=r.IntlBase.getDependables(o,n),s={},y=t.format||r.IntlBase.getResultantPattern(t.skeleton,c.dateObject,t.type),w,l,p,g,k;if(s.dateSeperator=r.IntlBase.getDateSeparator(c.dateObject),u.isUndefined(y))u.throwError("Format options or type given must be invalid");else for(s.pattern=y,s.numMapper=i.ParserBase.getNumberMapper(c.parserObject,i.ParserBase.getNumberingSystem(o)),w=y.match(e)||[],l=0,p=w;l<p.length;l++){var b=p[l],a=b.length,v=b[0];v==="K"&&(v="h");g=h[v];switch(v){case"E":case"c":s.weekday=c.dateObject[r.IntlBase.days][f][r.IntlBase.monthIndex[a]];break;case"M":case"L":s.month=c.dateObject[r.IntlBase.month][f][r.IntlBase.monthIndex[a]];break;case"a":s.designator=u.getValue("dayPeriods.format.wide",c.dateObject);break;case"G":k=a<=3?"eraAbbr":a===4?"eraNames":"eraNarrow";s.era=u.getValue("eras."+k,c.dateObject);break;case"z":s.timeZone=u.getValue("dates.timeZoneNames",c.parserObject)}}return function(n){return isNaN(n.getDate())?null:d.intDateFormatter(n,s)}},n.intDateFormatter=function(n,t){for(var d,g,b,y,nt=t.pattern,u="",tt=nt.match(r.IntlBase.dateParseRegex),p=0,k=tt;p<k.length;p++){var h=k[p],a=h.length,l=h[0];l==="K"&&(l="h");var e=void 0,w=void 0,v=void 0,f="";switch(l){case"M":case"L":e=n.getMonth()+1;a>2?u+=t.month[e]:w=!0;break;case"E":case"c":u+=t.weekday[o[n.getDay()]];break;case"H":case"h":case"m":case"s":case"d":w=!0;e=n[s[l]]();l==="h"&&(e=e%12||12);break;case"y":v=!0;f+=n.getFullYear();a===2&&(f=f.substr(f.length-2));break;case"a":d=n.getHours()<12?"am":"pm";u+=t.designator[d];break;case"G":g=n.getFullYear()<0?0:1;u+=t.era[g];break;case"'":u+=h==="''"?"'":h.replace(/\'/g,"");break;case"z":b=n.getTimezoneOffset();y=a<4?"+H;-H":t.timeZone.hourFormat;y=y.replace(/:/g,t.numMapper.timeSeparator);b===0?u+=t.timeZone.gmtZeroFormat:(v=!0,f=this.getTimeZoneValue(b,y));f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":u+=t.numMapper.numberSymbols[c];break;case"/":u+=t.dateSeperator;break;default:u+=h}w&&(v=!0,f=this.checkTwodigitNumber(e,a));v&&(u+=i.ParserBase.convertValueParts(f,r.IntlBase.latnParseRegex,t.numMapper.mapper))}return u},n.checkTwodigitNumber=function(n,t){var i=n+"";return t===2&&i.length!==2?"0"+i:i},n.getTimeZoneValue=function(n,t){var r=this,u=t.split(";"),f=u[n>0?1:0],i=Math.abs(n);return f.replace(/HH?|mm/g,function(n){var t=n.length,u=n.indexOf("H")!==-1;return r.checkTwodigitNumber(Math.floor(u?i/60:i%60),t)})},n}();t.DateFormat=l}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(9),i(6),i(7)],r=function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},s="percentSign",h="minusSign",e=["infinity","nan","group","decimal"],c=function(){function n(){}return n.numberFormatter=function(n,t,o){var nt=this,c=i.extend({},t),a={},l={},y,p=u.IntlBase.getDependables(o,n,!0),w,v,g,k,b,d;return l.numberMapper=f.ParserBase.getNumberMapper(p.parserObject,f.ParserBase.getNumberingSystem(o),!0),l.currencySymbol=u.IntlBase.getCurrencySymbol(p.numericObject,c.currency||r.defaultCurrencyCode),l.percentSymbol=l.numberMapper.numberSymbols[s],l.minusSymbol=l.numberMapper.numberSymbols[h],w=l.numberMapper.numberSymbols,t.format&&!u.IntlBase.formatRegex.test(t.format)?a=u.IntlBase.customFormat(t.format,l,p.numericObject):(i.extend(c,u.IntlBase.getProperNumericSkeleton(t.format||"N")),c.isCurrency=c.type==="currency",c.isPercent=c.type==="percent",y=u.IntlBase.getSymbolPattern(c.type,l.numberMapper.numberSystem,p.numericObject,c.isAccount),c.groupOne=this.checkValueRange(c.maximumSignificantDigits,c.minimumSignificantDigits,!0),this.checkValueRange(c.maximumFractionDigits,c.minimumFractionDigits,!1,!0),i.isUndefined(c.fractionDigits)||(c.minimumFractionDigits=c.maximumFractionDigits=c.fractionDigits),i.isUndefined(c.useGrouping)&&(c.useGrouping=!0),c.isCurrency&&(y=y.replace(/\u00A4/g,u.IntlBase.defaultCurrency)),v=y.split(";"),a.nData=u.IntlBase.getFormatData(v[1]||"-"+v[0],!0,l.currencySymbol),a.pData=u.IntlBase.getFormatData(v[0],!1,l.currencySymbol),c.useGrouping&&(c.groupSeparator=w[e[2]],c.groupData=this.getGroupingDetails(v[0])),g=i.isUndefined(c.minimumFractionDigits),g&&(c.minimumFractionDigits=a.nData.minimumFraction),i.isUndefined(c.maximumFractionDigits)&&(k=a.nData.maximumFraction,c.maximumFractionDigits=i.isUndefined(k)&&c.isPercent?0:k),b=c.minimumFractionDigits,d=c.maximumFractionDigits,i.isUndefined(b)||i.isUndefined(d)||b>d&&(c.maximumFractionDigits=b)),i.extend(a.nData,c),i.extend(a.pData,c),function(n){return isNaN(n)?w[e[1]]:isFinite(n)?nt.intNumberFormatter(n,a,l):w[e[0]]}},n.getGroupingDetails=function(n){var r={},f=n.match(u.IntlBase.negativeDataRegex),i,t,o,e;return f&&f[4]&&(i=f[4],t=i.lastIndexOf(","),t!==-1&&(o=i.split(".")[0],r.primary=o.length-t-1,e=i.lastIndexOf(",",t-1),e!==-1&&(r.secondary=t-1-e))),r},n.checkValueRange=function(n,t,r,u){var s=u?"f":"s",f=0,h=o["l"+s],e=o["m"+s];if(i.isUndefined(n)||(this.checkRange(n,h,u),f++),i.isUndefined(t)||(this.checkRange(t,e,u),f++),f===2)if(n<t)i.throwError(e+"specified must be less than the"+h);else return!0;else r&&f===1&&i.throwError("Both"+e+"and"+e+"must be present");return!1},n.checkRange=function(n,t,r){var u=r?[0,20]:[1,21];(n<u[0]||n>u[1])&&i.throwError(t+"value must be within the range"+u[0]+"to"+u[1])},n.intNumberFormatter=function(n,t,i){var f=n,o="",s=10,l,c,u,h,r;if(t.pData.unit!=undefined)switch(t.pData.unit){case"auto":l=new ej.dashboard.Internationalization;c=l.truncateNumber(n);f=c.value;o=c.unit;break;case"ones":f=n;break;case"thousands":f=n/Math.pow(s,3);o="K";break;case"lakhs":f=n/Math.pow(s,5);o="L";break;case"millions":f=n/Math.pow(s,6);o="M";break;case"crores":f=n/Math.pow(s,7);o="C";case"billions":f=n/Math.pow(s,9);o="B"}if(n=f,h=!1,n<0?(n=n*-1,h=!0,u=t.nData):u=n===0?t.zeroData||t.pData:t.pData,r="",u.isPercent&&(n=n*100),u.groupOne?r=this.processSignificantDigits(n,u.minimumSignificantDigits,u.maximumSignificantDigits):(r=this.processFraction(n,u.minimumFractionDigits,u.maximumFractionDigits),u.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,u.minimumIntegerDigits))),r=r.replace(".",i.numberMapper.numberSymbols[e[3]]),u.useGrouping&&(r=this.groupNumbers(r,u.groupData.primary,u.groupSeparator||",",i.numberMapper.numberSymbols[e[3]]||".",u.groupData.secondary)),t.nData.group!=null&&(r=r.replaceAll(i.numberMapper.numberSymbols.group,t.nData.group)),t.nData.decimal!=null&&(r=r.replaceAll(i.numberMapper.numberSymbols.decimal,t.nData.decimal)),!h||t.nData.isCurrency||t.nData.isPercent)r=h&&t.nData.isCurrency?"("+u.nlead.substring(1,2)+r+u.nend+")":u.nlead+r+u.nend;else switch(t.nData.negative){case 1:r="("+r+")";break;case 2:r=r+"-";break;default:r="-"+r}return(t.pData.prefix!=undefined?t.pData.prefix:"")+r+o+(t.pData.suffix!=undefined?t.pData.suffix:"")},String.prototype.replaceAll=function(n,t){for(var i=this,r=1,u=this.split(n).length-r;u>0;)i=i.replace(n,t),u-=r;return i},n.processSignificantDigits=function(n,t,i){var r=n+"",u,f=r.length;return f<t?n.toPrecision(t):(r=n.toPrecision(i),u=+r,u+"")},n.groupNumbers=function(n,t,r,u,f){for(var c=!i.isNullOrUndefined(f)&&f!==0,s=n.split(u),h=s[0],e=h.length,o="";e>t;)o=h.slice(e-t,e)+(o.length?r+o:""),e-=t,c&&(t=f,c=!1);return s[0]=h.slice(0,e)+(o.length?r:"")+o,s.join(u)},n.processFraction=function(n,t,r){var o=(n+"").split(".")[1],f=o?o.length:0,u,e;if(t&&f<t){if(u="",f===0)u=n.toFixed(t);else{for(u+=n,e=0;e<t-f;e++)u+="0";return u}return n.toFixed(t)}return!i.isNullOrUndefined(r)&&(f>r||r===0)?n.toFixed(r):n+""},n.processMinimumIntegers=function(n,t){var r=n.split("."),i=r[0],f=i.length,u;if(f<t){for(u=0;u<t-f;u++)i="0"+i;r[0]=i}return r.join(".")},n}();t.NumberFormat=c}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="Module",u=function(){function n(n){this.loadedModules=[];this.parent=n}return n.prototype.inject=function(n,t){var l=n.length,u,r,f,s,e,h,a,o,c;if(l===0){this.clean();return}for(this.loadedModules.length&&this.clearUnusedModule(n),u=0;u<l;u++)for(r=n[u],f=0,s=t;f<s.length;f++)e=s[f],h=r.member,e.prototype.getModuleName()!==r.member||this.isModuleLoaded(h)||(a=i.createInstance(e,r.args),o=this.getMemberName(h),r.isProperty?i.setValue(o,e,this.parent):i.setValue(o,a,this.parent),c=r,c.member=o,this.loadedModules.push(c))},n.prototype.clean=function(){for(var r,n=0,t=this.loadedModules;n<t.length;n++)r=t[n],r.isProperty||i.getValue(r.member,this.parent).destroy();this.loadedModules=[]},n.prototype.clearUnusedModule=function(n){for(var t,f=this,e=n.map(function(n){return f.getMemberName(n.member)}),o=this.loadedModules.filter(function(n){return e.indexOf(n.member)===-1}),r=0,u=o;r<u.length;r++)t=u[r],t.isProperty||i.getValue(t.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(t),1),i.deleteObject(this.parent,t.member)},n.prototype.getMemberName=function(n){return n[0].toLowerCase()+n.substring(1)+r},n.prototype.isModuleLoaded=function(n){for(var r,t=0,i=this.loadedModules;t<i.length;t++)if(r=i[t],r.member===this.getMemberName(n))return!0;return!1},n}();t.ModuleLoader=u}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(20),i(21),i(1),i(5),i(22),i(23),i(8),i(24),i(25),i(4),i(9),i(28),i(29),i(13),i(3),i(30),i(33),i(31),i(0),i(2)],r=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){"use strict";function tt(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});tt(i);tt(r);tt(u);tt(f);tt(e);tt(o);tt(s);tt(h);tt(c);tt(l);tt(a);tt(v);tt(y);tt(p);tt(w);tt(b);tt(k);tt(d);tt(g);tt(nt)}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(14)],r=function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i)}.apply(t,u),r!==undefined&&(n.exports=r))},function(n){function h(){throw new Error("setTimeout has not been defined");}function c(){throw new Error("clearTimeout has not been defined");}function l(n){if(i===setTimeout)return setTimeout(n,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(n,0);try{return i(n,0)}catch(t){try{return i.call(null,n,0)}catch(t){return i.call(this,n,0)}}}function y(n){if(r===clearTimeout)return clearTimeout(n);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{return r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}function p(){o&&e&&(o=!1,e.length?u=e.concat(u):s=-1,u.length&&a())}function a(){var t,n;if(!o){for(t=l(p),o=!0,n=u.length;n;){for(e=u,u=[];++s<n;)e&&e[s].run();s=-1;n=u.length}e=null;o=!1;y(t)}}function v(n,t){this.fun=n;this.array=t}function f(){}var t=n.exports={},i,r;(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch(n){i=h}try{r=typeof clearTimeout=="function"?clearTimeout:c}catch(n){r=c}})();var u=[],o=!1,e,s=-1;t.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];u.push(new v(n,i));u.length!==1||o||l(a)};v.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=f;t.addListener=f;t.once=f;t.off=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.prependListener=f;t.prependOnceListener=f;t.listeners=function(){return[]};t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){(function(n,t){(function(n,i){"use strict";function l(n){var i,t,r;for(typeof n!="function"&&(n=new Function(""+n)),i=new Array(arguments.length-1),t=0;t<i.length;t++)i[t]=arguments[t+1];return r={callback:n,args:i},s[o]=r,u(o),o++}function c(n){delete s[n]}function a(n){var r=n.callback,t=n.args;switch(t.length){case 0:r();break;case 1:r(t[0]);break;case 2:r(t[0],t[1]);break;case 3:r(t[0],t[1],t[2]);break;default:r.apply(i,t)}}function f(n){if(h)setTimeout(f,0,n);else{var t=s[n];if(t){h=!0;try{a(t)}finally{c(n);h=!1}}}}function v(){u=function(n){t.nextTick(function(){f(n)})}}function y(){if(n.postMessage&&!n.importScripts){var t=!0,i=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=i,t}}function p(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===n&&typeof i.data=="string"&&i.data.indexOf(t)===0&&f(+i.data.slice(t.length))};n.addEventListener?n.addEventListener("message",i,!1):n.attachEvent("onmessage",i);u=function(i){n.postMessage(t+i,"*")}}function w(){var n=new MessageChannel;n.port1.onmessage=function(n){var t=n.data;f(t)};u=function(t){n.port2.postMessage(t)}}function b(){var n=e.documentElement;u=function(t){var i=e.createElement("script");i.onreadystatechange=function(){f(t);i.onreadystatechange=null;n.removeChild(i);i=null};n.appendChild(i)}}function k(){u=function(n){setTimeout(f,0,n)}}var r;if(!n.setImmediate){var o=1,s={},h=!1,e=n.document,u;r=Object.getPrototypeOf&&Object.getPrototypeOf(n);r=r&&r.setTimeout?r:n,{}.toString.call(n.process)==="[object process]"?v():y()?p():n.MessageChannel?w():e&&"onreadystatechange"in e.createElement("script")?b():k();r.setImmediate=l;r.clearImmediate=c}})(typeof self=="undefined"?typeof n=="undefined"?this:n:self)}).call(t,i(19),i(16))},function(n,t,i){function r(n,t){this._id=n;this._clearFn=t}var u=Function.prototype.apply;t.setTimeout=function(){return new r(u.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new r(u.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(n){n&&n.close()};r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(n,t){clearTimeout(n._idleTimeoutId);n._idleTimeout=t};t.unenroll=function(n){clearTimeout(n._idleTimeoutId);n._idleTimeout=-1};t._unrefActive=t.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))};i(17);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(n){var t=function(){return this}();try{t=t||Function("return this")()||eval("this")}catch(i){typeof window=="object"&&(t=window)}n.exports=t},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(.*?):[ \t]*([^\r\n]*)$/gm,u="GET",f=function(){function n(n,t,r){this.mode=!0;this.options={};typeof n=="string"?(this.url=n,this.type=t?t.toUpperCase():u,this.mode=i.isNullOrUndefined(r)?!0:r):typeof n=="object"&&(this.options=n,i.merge(this,this.options));this.type=this.type?this.type.toUpperCase():u}return n.prototype.send=function(n){var t=this;return this.data=i.isNullOrUndefined(n)?this.data:n,new Promise(function(n,r){t.httpRequest=new XMLHttpRequest;t.httpRequest.onreadystatechange=function(){t.stateChange(n,r)};t.httpRequest.open(t.type,t.url,t.mode);i.isNullOrUndefined(t.data)||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8");t.beforeSend&&t.beforeSend();t.httpRequest.send(i.isNullOrUndefined(t.data)?null:t.data)})},n.prototype.successHandler=function(n){if(this.onSuccess)this.onSuccess(n,this);return n},n.prototype.failureHandler=function(n){if(this.onFailure)this.onFailure(this.httpRequest);return n},n.prototype.stateChange=function(n,t){var i=this.httpRequest.responseText;if(this.dataType&&this.dataType.toLowerCase()==="json")if(i==="")i=undefined;else try{i=JSON.parse(i)}catch(r){}this.httpRequest.readyState===4&&(this.httpRequest.status===200||this.httpRequest.status===304?n(this.successHandler(i)):t(new Error(this.failureHandler(this.httpRequest.statusText))))},n.prototype.getResponseHeader=function(n){for(var f,u={},t=r.exec(this.httpRequest.getAllResponseHeaders());t;)u[t[1].toLowerCase()]=t[2],t=r.exec(this.httpRequest.getAllResponseHeaders());return f=u[n.toLowerCase()],i.isNullOrUndefined(f)?null:f},n}();t.Ajax=f}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(2),i(1),i(5),i(4),i(3)],u=function(n,t,i,u,f,o,s){"use strict";function p(n,i,r){var u=w(i);return u.rippleFlag===!1||u.rippleFlag===undefined&&!t.isRippleEnabled?Function:(n.setAttribute("data-ripple","true"),o.EventHandler.add(n,"mousedown",a,{parent:n,rippleOptions:u}),o.EventHandler.add(n,"mouseup",v,{parent:n,rippleOptions:u,done:r}),o.EventHandler.add(n,"mouseleave",c,{parent:n,rippleOptions:u}),f.Browser.isPointer&&o.EventHandler.add(n,"transitionend",c,{parent:n,rippleOptions:u}),function(){n.removeAttribute("data-ripple");o.EventHandler.remove(n,"mousedown",a);o.EventHandler.remove(n,"mouseup",v);o.EventHandler.remove(n,"mouseleave",c);o.EventHandler.remove(n,"transitionend",c)})}function w(n){return{selector:n&&n.selector?n.selector:null,ignore:n&&n.ignore?n.ignore:null,rippleFlag:n&&n.rippleFlag,isCenterRipple:n&&n.isCenterRipple,duration:n&&n.duration?n.duration:350}}function a(n){var u=n.target,a=this.rippleOptions.selector,t=a?i.closest(u,a):u;if(t&&(!this.rippleOptions||!i.closest(u,this.rippleOptions.ignore))){var r=t.getBoundingClientRect(),f=n.pageX-document.body.scrollLeft,e=n.pageY-document.body.scrollTop,v=Math.max(Math.abs(f-r.left),Math.abs(f-r.right)),y=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom)),s=Math.sqrt(v*v+y*y),h=s*2+"px",p=f-r.left-s,w=e-r.top-s;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(p=0,w=0,h="100%");t.classList.add("e-ripple");var b=this.rippleOptions.duration.toString(),k="width: "+h+";height: "+h+";left: "+p+"px;top: "+w+"px;transition-duration: "+b+"ms;",l=i.createElement("div",{className:"e-ripple-element",styles:k});t.appendChild(l);window.getComputedStyle(l).getPropertyValue("opacity");l.style.transform="scale(1)";t!==this.parent&&o.EventHandler.add(t,"mouseleave",c,{parent:this.parent,rippleOptions:this.rippleOptions})}}function v(n){y(n,this)}function c(n){y(n,this)}function y(n,t){var h=t.rippleOptions.duration,e=n.target,s=t.rippleOptions.selector,r=s?i.closest(e,s):e,f,u;r&&(!r||r.className.indexOf("e-ripple")!==-1)&&(f=i.selectAll(".e-ripple-element",r),u=f[f.length-1],u&&(u.style.opacity="0.5"),t.parent!==r&&o.EventHandler.remove(r,"mouseleave",c),setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u);r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple");t.done&&t.done(n)},h))}function b(n){return t.isRippleEnabled=n,t.isRippleEnabled}var h,l;Object.defineProperty(t,"__esModule",{value:!0});h=l=function(n){function t(t){var i=n.call(this,t,undefined)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}return e(t,n),t.prototype.animate=function(n,t){var r,e,u,f,o;if(t=t?t:{},r=this.getModel(t),typeof n=="string")for(e=Array.prototype.slice.call(i.selectAll(n,document)),u=0,f=e;u<f.length;u++)o=f[u],r.element=o,l.delayAnimation(r);else r.element=n,l.delayAnimation(r)},t.stop=function(n,t){var i,r;n.style.animation="";n.removeAttribute("e-animate");i=n.getAttribute("e-animation-id");i&&(r=parseInt(i,10),cancelAnimationFrame(r),n.removeAttribute("e-animation-id"));t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(n){n.delay?setTimeout(function(){l.applyAnimation(n)},n.delay):l.applyAnimation(n)},t.applyAnimation=function(n){var i=this,f;n.timeStamp=0;var r=0,u=0,o=0,t=0,e=n.duration;n.element.setAttribute("e-animate","true");f=function(s){try{if(s){t=t===0?s:t;n.timeStamp=s+n.timeStamp-t;t=s;!r&&n.begin&&n.begin.call(i,n);r=r+1;var h=n.timeStamp/r;n.timeStamp<e&&n.timeStamp+h<e&&n.element.getAttribute("e-animate")?(n.element.style.animation=n.name+" "+n.duration+"ms "+n.timingFunction,n.progress&&n.progress.call(i,n),requestAnimationFrame(f)):(cancelAnimationFrame(u),n.element.removeAttribute("e-animation-id"),n.element.removeAttribute("e-animate"),n.element.style.animation="",n.end&&n.end.call(i,n))}else o=performance.now(),u=requestAnimationFrame(f),n.element.setAttribute("e-animation-id",u.toString())}catch(c){cancelAnimationFrame(u);n.element.removeAttribute("e-animation-id");n.fail&&n.fail.call(i,c)}};f()},t.prototype.getModel=function(n){return{name:n.name||this.name,delay:n.delay||this.delay,duration:n.duration!==undefined?n.duration:this.duration,begin:n.begin||this.begin,end:n.end||this.end,fail:n.fail||this.fail,progress:n.progress||this.progress,timingFunction:this.easing[n.timingFunction]?this.easing[n.timingFunction]:n.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},t}(u.Base);r([s.Property("FadeIn")],h.prototype,"name",void 0);r([s.Property(400)],h.prototype,"duration",void 0);r([s.Property("ease")],h.prototype,"timingFunction",void 0);r([s.Property(0)],h.prototype,"delay",void 0);r([s.Event()],h.prototype,"progress",void 0);r([s.Event()],h.prototype,"begin",void 0);r([s.Event()],h.prototype,"end",void 0);r([s.Event()],h.prototype,"fail",void 0);h=l=r([s.NotifyPropertyChanges],h);t.Animation=h;t.rippleEffect=p;t.isRippleEnabled=!1;t.enableRipple=b}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this.rootId=n}return n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.createCanvas=function(n){var t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(n.width,n.height),this.canvasObj},n.prototype.setCanvasSize=function(n,t){var r=document.getElementById(this.rootId),u=i.isNullOrUndefined(r)?null:r.getBoundingClientRect();i.isNullOrUndefined(this.width)?this.canvasObj.setAttribute("width",n?n.toString():u.width.toString()):this.canvasObj.setAttribute("width",this.width.toString());i.isNullOrUndefined(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())},n.prototype.setAttributes=function(n){var t,r;this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");t=this.getOptionValue(n,"stroke-dasharray");i.isNullOrUndefined(t)||(r=t.split(","),this.ctx.setLineDash([parseInt(r[0],10),parseInt(r[1],10)]));this.ctx.strokeStyle=this.getOptionValue(n,"stroke")},n.prototype.drawLine=function(n){this.ctx.save();this.ctx.beginPath();this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.moveTo(n.x1,n.y1);this.ctx.lineTo(n.x2,n.y2);this.ctx.stroke();this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawRectangle=function(n){var i=this.ctx,t=n.rx;this.ctx.save();this.ctx.beginPath();this.ctx.globalAlpha=this.getOptionValue(n,"opacity");this.setAttributes(n);this.ctx.rect(n.x,n.y,n.width,n.height);t!==null&&t>=0?this.drawCornerRadius(n):(n.fill==="none"&&(n.fill="transparent"),this.ctx.fillStyle=n.fill,this.ctx.fillRect(n.x,n.y,n.width,n.height),this.ctx.stroke());this.ctx.restore();this.ctx=i;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawCornerRadius=function(n){var t=n.rx,i=n.x,r=n.y,u=n.width,f=n.height;n.fill==="none"&&(n.fill="transparent");this.ctx.fillStyle=n.fill;u<2*t&&(t=u/2);f<2*t&&(t=f/2);this.ctx.beginPath();this.ctx.moveTo(i+u-t,r);this.ctx.arcTo(i+u,r,i+u,r+f,t);this.ctx.arcTo(i+u,r+f,i,r+f,t);this.ctx.arcTo(i,r+f,i,r,t);this.ctx.arcTo(i,r,i+u,r,t);this.ctx.closePath();this.ctx.fill();this.ctx.stroke();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawPath=function(n,t){var o=n.d,r=o.split(" "),s=this.getOptionValue(n,"stroke-width"),h=this.ctx,e=!0,i,u,f;for(this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=n.opacity?n.opacity:this.getOptionValue(n,"fill-opacity"),this.setAttributes(n),i=0;i<r.length;i=i+3){u=parseFloat(r[i+1]);f=parseFloat(r[i+2]);switch(r[i]){case"M":n.innerR||n.cx||this.ctx.moveTo(u,f);break;case"L":n.innerR||this.ctx.lineTo(u,f);break;case"C":var c=parseFloat(r[i+3]),l=parseFloat(r[i+4]),a=parseFloat(r[i+5]),v=parseFloat(r[i+6]);this.ctx.bezierCurveTo(u,f,c,l,a,v);i=i+4;break;case"A":n.innerR?e&&(this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.arc(n.x,n.y,n.innerR,n.end,n.start,!n.counterClockWise),e=!1):n.cx?this.ctx.arc(n.cx,n.cy,n.radius,0,2*Math.PI,n.counterClockWise):(this.ctx.moveTo(n.x,n.y),this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.lineTo(n.x,n.y));i=i+5;break;case"z":this.ctx.closePath()}}n.fill!=="none"&&n.fill!==undefined&&(this.ctx.fillStyle=n.fill,this.ctx.fill());s>0&&this.ctx.stroke();this.ctx.restore();this.ctx=h;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawText=function(n,t){var r=this.getOptionValue(n,"font-weight"),f;i.isNullOrUndefined(r)||r.toLowerCase()!=="regular"||(r="normal");var e=this.getOptionValue(n,"font-size"),o=this.getOptionValue(n,"font-family"),s=this.getOptionValue(n,"font-style").toLowerCase(),h=s+" "+r+" "+e+" "+o,u=this.getOptionValue(n,"text-anchor"),c=n.opacity!==undefined?n.opacity:1;u==="middle"&&(u="center");this.ctx.save();this.ctx.fillStyle=n.fill;this.ctx.font=h;this.ctx.textAlign=u;this.ctx.globalAlpha=c;n.baseline&&(this.ctx.textBaseline=n.baseline);f=0;this.ctx.translate(n.x+f/2,n.y);this.ctx.rotate(n.labelRotation*Math.PI/180);this.ctx.fillText(t,0,0);this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawCircle=function(n){var t=this.ctx;this.ctx.save();this.ctx.beginPath();this.ctx.arc(n.cx,n.cy,n.r,0,2*Math.PI);this.ctx.fillStyle=n.fill;this.ctx.globalAlpha=n.opacity;this.ctx.fill();this.setAttributes(n);this.ctx.stroke();this.ctx.restore();this.ctx=t;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawPolyline=function(n){var i,t;for(this.ctx.save(),this.ctx.beginPath(),i=n.points.split(" "),t=0;t<i.length-1;t++){var r=i[t].split(","),u=parseFloat(r[0]),f=parseFloat(r[1]);t===0?this.ctx.moveTo(u,f):this.ctx.lineTo(u,f)}this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawEllipse=function(n){var i=this.ctx,t=Math.max(n.rx,n.ry),r=n.rx/t,u=n.ry/t;this.ctx.save();this.ctx.beginPath();this.ctx.translate(n.cx,n.cy);this.ctx.save();this.ctx.scale(r,u);this.ctx.arc(0,0,t,0,2*Math.PI,!1);this.ctx.fillStyle=n.fill;this.ctx.fill();this.ctx.restore();this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore();this.ctx=i;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawImage=function(n){this.ctx.save();var t=new Image;i.isNullOrUndefined(n.href)||(t.src=n.href,this.ctx.drawImage(t,n.x,n.y,n.width,n.height));this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.createLinearGradient=function(n){var t;return i.isNullOrUndefined(n[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(n,t)},n.prototype.createRadialGradient=function(n){var t;return i.isNullOrUndefined(n[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(n,t)},n.prototype.setGradientValues=function(n,t){var u,r;if(i.isNullOrUndefined(n[0].colorStop))u=n[0].color.toString();else{for(r=0;r<=n.length-1;r++){var f=n[r].color,e=n[r].colorStop.slice(0,-1),o=parseInt(e,10)/100;t.addColorStop(o,f)}u=t.toString()}return this.dataUrl=this.canvasObj.toDataURL(),u},n.prototype.setElementAttributes=function(n,t){for(var r=Object.keys(n),u=Object.keys(n).map(function(t){return n[t]}),i=0;i<r.length;i++)t.setAttribute(r[i],u[i]);return t},n.prototype.updateCanvasAttributes=function(n){var r,t;this.setElementAttributes(n,this.canvasObj);r=this.ctx;i.isNullOrUndefined(this.dataUrl)||(t=new Image,t.onload=function(){r.drawImage(t,0,0)},t.src=this.dataUrl)},n}();t.CanvasRenderer=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(0),i(13),i(1),i(10),i(8),i(3),i(9)],u=function(n,t,i,u,f,o,s,h,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t,r){var f=n.call(this,t,r)||this;f.needsID=!1;i.isNullOrUndefined(f.enableRtl)&&f.setProperties({enableRtl:c.rightToLeft},!0);i.isNullOrUndefined(f.locale)&&f.setProperties({locale:c.defaultCulture},!0);f.moduleLoader=new u.ModuleLoader(f);f.localObserver=new o.Observer(f);f.detectFunction=new Function("args","var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}");c.onIntlChange.on("notifyExternalChange",f.detectFunction,f);return f.enablePersistence&&window.addEventListener("unload",f.setPersistData.bind(f)),i.isUndefined(r)||f.appendTo(),f}return e(t,n),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.localObserver.destroy(),this.refreshing)||(this.trigger("destroyed",{cancel:!1}),n.prototype.destroy.call(this),this.moduleLoader.clean(),c.onIntlChange.off("notifyExternalChange",this.detectFunction),this.enablePersistence&&this.setPersistData())},t.prototype.refresh=function(){this.refreshing=!0;this.moduleLoader.clean();this.destroy();this.clearChanges();this.localObserver=new o.Observer(this);this.preRender();this.injectModules();this.render();this.refreshing=!1},t.prototype.appendTo=function(t){if(i.isNullOrUndefined(t)||typeof t!="string"?i.isNullOrUndefined(t)||(this.element=t):this.element=document.querySelector(t),!i.isNullOrUndefined(this.element)){this.needsID&&!this.element.id&&(this.element.id=i.getUniqueID(this.getModuleName()));this.isProtectedOnChange=!1;var r=i.getValue("ej2_instances",this.element);r&&r.indexOf(this)!==-1||n.prototype.addInstance.call(this);this.preRender();this.enablePersistence&&this.mergePersistData();this.injectModules();this.render();this.trigger("created")}},t.prototype.dataBind=function(){this.injectModules();n.prototype.dataBind.call(this)},t.prototype.on=function(n,t,i){var r,f,u;if(typeof n=="string")this.localObserver.on(n,t,i);else for(r=0,f=n;r<f.length;r++){u=f[r];this.localObserver.on(u.event,u.handler,u.context)}},t.prototype.off=function(n,t){var i,r,u;if(typeof n=="string")this.localObserver.off(n,t);else for(i=0,r=n;i<r.length;i++)u=r[i],this.localObserver.off(u.event,u.handler)},t.prototype.notify=function(n,t){this.isDestroyed!==!0&&this.localObserver.notify(n,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(this.prototype.injectedModules||(this.prototype.injectedModules=[]),n=0;n<t.length;n++)this.prototype.injectedModules.indexOf(t[n])===-1&&this.prototype.injectedModules.push(t[n])},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.mergePersistData=function(){var n=window.localStorage.getItem(this.getModuleName()+this.element.id);i.isNullOrUndefined(n)||n===""||this.setProperties(JSON.parse(n),!0)},t.prototype.setPersistData=function(){window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.clearTemplate=function(){},t.prototype.addOnPersist=function(n){for(var u,t,o=this,f={},r=0,e=n;r<e.length;r++)u=e[r],t=void 0,t=i.getValue(u,this),i.isUndefined(t)||i.setValue(u,this.getActualProperties(t),f);return JSON.stringify(f,function(n,t){return o.getActualProperties(t)})},t.prototype.getActualProperties=function(n){return n instanceof s.ChildProperty?i.getValue("properties",n):n},t.prototype.ignoreOnPersist=function(n){return JSON.stringify(this.iterateJsonProperties(this.properties,n))},t.prototype.iterateJsonProperties=function(n,t){for(var e,i={},o=function(r){var f,e;t.indexOf(r)===-1&&(f=n[r],typeof f!="object"||f instanceof Array?i[r]=f:(e=t.filter(function(n){return new RegExp(r+".").test(n)}).map(function(n){return n.replace(r+".","")}),i[r]=u.iterateJsonProperties(u.getActualProperties(f),e)))},u=this,r=0,f=Object.keys(n);r<f.length;r++)e=f[r],o(e);return i},t}(f.Base);r([h.Property(!1)],l.prototype,"enablePersistence",void 0);r([h.Property()],l.prototype,"enableRtl",void 0);r([h.Property()],l.prototype,"locale",void 0);l=r([h.NotifyPropertyChanges],l);t.Component=l}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(1),i(5),i(2),i(3),i(4),i(8),i(2),i(0)],u=function(n,t,i,u,f,o,s,h,c,l){"use strict";var a,v;Object.defineProperty(t,"__esModule",{value:!0});var p={left:0,top:0,bottom:0,right:0},y=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return e(t,n),t}(h.ChildProperty);r([o.Property(0)],y.prototype,"left",void 0);r([o.Property(0)],y.prototype,"top",void 0);t.Position=y;a=v=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.dragLimit=v.getDefaultPosition(),r.borderWidth=v.getDefaultPosition(),r.padding=v.getDefaultPosition(),r.diffX=0,r.diffY=0,r.droppables={},r.bind(),r}return e(t,n),t.prototype.bind=function(){this.toggleEvents();u.Browser.isIE&&c.addClass([this.element],"e-block-touch");this.droppables[this.scope]={}},t.getDefaultPosition=function(){return l.extend({},p)},t.prototype.toggleEvents=function(n){var t;l.isUndefined(this.handle)||(t=c.select(this.handle,this.element));n?s.EventHandler.remove(t||this.element,u.Browser.touchStartEvent,this.initialize):s.EventHandler.add(t||this.element,u.Browser.touchStartEvent,this.initialize,this)},t.prototype.initialize=function(n){var t,i;(this.target=n.currentTarget,this.preventDefault&&!l.isUndefined(n.changedTouches)&&n.preventDefault(),!this.abort||l.isNullOrUndefined(c.closest(n.target,this.abort)))&&(this.element.setAttribute("aria-grabbed","true"),t=this.getCoordinates(n),this.initialPosition={x:t.pageX,y:t.pageY},this.clone||(i=this.element.getBoundingClientRect(),this.relativeXPosition=t.pageX-i.left,this.relativeYPosition=t.pageY-i.top),s.EventHandler.add(document,u.Browser.touchMoveEvent,this.intDragStart,this),s.EventHandler.add(document,u.Browser.touchEndEvent,this.intDestroy,this),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),s.EventHandler.trigger(document.documentElement,u.Browser.touchStartEvent,n))},t.prototype.intDragStart=function(n){var b=!l.isUndefined(n.changedTouches),o,h,t,r,a,e,i,w,v;if(!b||n.changedTouches.length===1){o=this.getCoordinates(n);t=getComputedStyle(this.element);this.margin={left:parseInt(t.marginLeft,10),top:parseInt(t.marginTop,10),right:parseInt(t.marginRight,10),bottom:parseInt(t.marginBottom,10)};r=this.element;this.clone&&this.dragTarget&&(a=c.closest(n.target,this.dragTarget),l.isNullOrUndefined(a)||(r=a));this.offset=this.calculateParentPosition(r);this.position=this.getMousePosition(n);var y=this.initialPosition.x-o.pageX,p=this.initialPosition.y-o.pageY,k=Math.sqrt(y*y+p*p);if(k>=this.distance){if(e=this.getHelperElement(n),!e||l.isNullOrUndefined(e))return;i=this.helperElement=e;this.parentClientRect=this.calculateParentPosition(i.offsetParent);this.dragStart&&(w=this.getProperTargetElement(n),this.trigger("dragStart",{event:n,element:r,target:w}));this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0});h={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top};this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top);v=this.getProcessedPositionValue({top:h.top-this.diffY+"px",left:h.left-this.diffX+"px"});c.setStyleAttribute(i,{position:"absolute",top:v.top,left:v.left});s.EventHandler.remove(document,u.Browser.touchMoveEvent,this.intDragStart);s.EventHandler.remove(document,u.Browser.touchEndEvent,this.intDestroy);f.isVisible(i)?(s.EventHandler.add(document,u.Browser.touchMoveEvent,this.intDrag,this),s.EventHandler.add(document,u.Browser.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):document.body.classList.remove("e-prevent-select")}}},t.prototype.getProcessedPositionValue=function(n){return(this.axis&&(this.axis==="x"?n.top="0px":this.axis==="y"&&(n.left="0px")),this.queryPositionInfo)?this.queryPositionInfo(n):n},t.prototype.calculateParentPosition=function(n){if(l.isNullOrUndefined(n))return{left:0,top:0};var t=n.getBoundingClientRect(),i=getComputedStyle(n);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}},t.prototype.intDrag=function(n){var u,f,s,h,y,t,i,r,a,v;if(l.isUndefined(n.changedTouches)||n.changedTouches.length===1){this.position=this.getMousePosition(n);s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);h=this.getDocumentWidthHeight("Width");h<this.position.left&&(this.position.left=h);this.drag&&(y=this.getProperTargetElement(n),this.trigger("drag",{event:n,element:this.element,target:y}));t=this.checkTargetElement(n);t.target&&t.instance?(t.instance.intOver(n,t.target),t.instance.dragData[this.scope]=this.droppables[this.scope],this.hoverObject=t):this.hoverObject&&(this.hoverObject.instance.intOut(n,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null);i=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var d=this.parentClientRect.left,g=this.parentClientRect.top,p=this.getCoordinates(n),w=p.pageX,b=p.pageY,e=this.position.left-this.diffX,o=this.position.top-this.diffY;this.dragArea?(r=getComputedStyle(i),(this.pageX!==w||this.skipDistanceCheck)&&(a=i.offsetWidth+(parseFloat(r.marginLeft)+parseFloat(r.marginRight)),u=this.dragLimit.left>e?this.dragLimit.left:this.dragLimit.right<e+a?this.dragLimit.right-a:e),(this.pageY!==b||this.skipDistanceCheck)&&(v=i.offsetHeight+(parseFloat(r.marginTop)+parseFloat(r.marginBottom)),f=this.dragLimit.top>o?this.dragLimit.top:this.dragLimit.bottom<o+v?this.dragLimit.bottom-v:o)):(u=e,f=o);var nt=g+this.borderWidth.top,tt=d+this.borderWidth.left,k=this.getProcessedPositionValue({top:f-nt+"px",left:u-tt+"px"});c.setStyleAttribute(i,{left:k.left,top:k.top});this.position.left=u;this.position.top=f;this.pageX=w;this.pageY=b}},t.prototype.getDocumentWidthHeight=function(n){var i=document.body,t=document.documentElement;return Math.max(i["scroll"+n],t["scroll"+n],i["offset"+n],t["offset"+n],t["client"+n])},t.prototype.intDragStop=function(n){var i,r,t;(l.isUndefined(n.changedTouches)||n.changedTouches.length===1)&&(i=["touchend","pointerup","mouseup"],i.indexOf(n.type)!==-1?(this.dragStop&&(r=this.getProperTargetElement(n),this.trigger("dragStop",{event:n,element:this.element,target:r,helper:this.helperElement})),this.intDestroy(n)):this.element.setAttribute("aria-grabbed","false"),t=this.checkTargetElement(n),t.target&&t.instance&&(t.instance.dragStopCalled=!0,t.instance.dragData[this.scope]=this.droppables[this.scope],t.instance.intDrop(n,t.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select"))},t.prototype.intDestroy=function(){this.toggleEvents();document.body.classList.remove("e-prevent-select");this.element.setAttribute("aria-grabbed","false");s.EventHandler.remove(document,u.Browser.touchMoveEvent,this.intDragStart);s.EventHandler.remove(document,u.Browser.touchEndEvent,this.intDragStop);s.EventHandler.remove(document,u.Browser.touchEndEvent,this.intDestroy);s.EventHandler.remove(document,u.Browser.touchMoveEvent,this.intDrag)},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.setDragArea=function(){var s,h,r=0,u=0,t,y=typeof this.dragArea,n,f,e,i;if(t=y==="string"?c.select(this.dragArea):this.dragArea,t){for(n=t.getBoundingClientRect(),s=n.width?n.width:n.right-n.left,h=n.height?n.height:n.bottom-n.top,f=["Top","Left","Bottom","Right"],e=getComputedStyle(t),i=0;i<f.length;i++){var o=f[i],l=e["border"+o+"Width"],a=e["padding"+o],v=o.toLowerCase();this.borderWidth[v]=isNaN(parseFloat(l))?0:parseFloat(l);this.padding[v]=isNaN(parseFloat(a))?0:parseFloat(a)}r=n.top;u=n.left;this.dragLimit.left=u+this.borderWidth.left+this.padding.left;this.dragLimit.top=r+this.borderWidth.top+this.padding.top;this.dragLimit.right=u+s-(this.borderWidth.right+this.padding.right);this.dragLimit.bottom=r+h-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(n){var i=this.getCoordinates(n),t,r=this.helperElement.style.display||"";return l.compareElementParent(n.target,this.helperElement)||n.type.indexOf("touch")!==-1?(this.helperElement.style.display="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.display=r):t=n.target,t},t.prototype.getMousePosition=function(n){var t=this.getCoordinates(n),i=this.clone?t.pageX:t.pageX-this.relativeXPosition,r=this.clone?t.pageY:t.pageY-this.relativeYPosition;return{left:i-(this.margin.left+this.cursorAt.left),top:r-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(n){return n.type.indexOf("touch")>-1?n.changedTouches[0]:n},t.prototype.getHelperElement=function(n){var t;return this.clone?this.helper?t=this.helper({sender:n,element:this.target}):(t=c.createElement("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(n,t,i){this.droppables[this.scope]=n?null:{draggable:t,helper:i,draggedElement:this.element}},t.prototype.checkTargetElement=function(n){var t=this.getProperTargetElement(n),i=this.getDropInstance(t),r;return i||!t||l.isNullOrUndefined(t.parentNode)||(r=c.closest(t.parentNode,".e-droppable")||t.parentElement,r&&(i=this.getDropInstance(r))),{target:t,instance:i}},t.prototype.getDropInstance=function(n){var u,f=n&&n.ej2_instances,t,i,r;if(f)for(t=0,i=f;t<i.length;t++)if(r=i[t],r["getModuleName"]()==="droppable"){u=r;break}return u},t.prototype.destroy=function(){this.toggleEvents(!0);n.prototype.destroy.call(this)},t}(i.Base);r([o.Complex({},y)],a.prototype,"cursorAt",void 0);r([o.Property(!0)],a.prototype,"clone",void 0);r([o.Property()],a.prototype,"dragArea",void 0);r([o.Event()],a.prototype,"drag",void 0);r([o.Event()],a.prototype,"dragStart",void 0);r([o.Event()],a.prototype,"dragStop",void 0);r([o.Property(1)],a.prototype,"distance",void 0);r([o.Property()],a.prototype,"handle",void 0);r([o.Property()],a.prototype,"abort",void 0);r([o.Property()],a.prototype,"helper",void 0);r([o.Property("default")],a.prototype,"scope",void 0);r([o.Property("")],a.prototype,"dragTarget",void 0);r([o.Property()],a.prototype,"axis",void 0);r([o.Property()],a.prototype,"queryPositionInfo",void 0);r([o.Property(!1)],a.prototype,"enableTailMode",void 0);r([o.Property(!1)],a.prototype,"skipDistanceCheck",void 0);r([o.Property(!0)],a.prototype,"preventDefault",void 0);a=v=r([o.NotifyPropertyChanges],a);t.Draggable=a}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(1),i(5),i(2),i(3),i(4),i(0)],u=function(n,t,i,u,f,o,s,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.mouseOver=!1,r.dragData={},r.dragStopCalled=!1,r.bind(),r}return e(t,n),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){s.EventHandler.add(this.element,u.Browser.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(n,t){this.mouseOver||(this.trigger("over",{event:n,target:t}),this.mouseOver=!0)},t.prototype.intOut=function(n,t){this.mouseOver&&(this.trigger("out",{evt:n,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(n,t){if(this.dragStopCalled)this.dragStopCalled=!1;else return;var u=!0,i=this.dragData[this.scope],e=i?i.helper&&f.isVisible(i.helper):!1,r;e&&(r=this.isDropArea(n,i.helper,t),this.accept&&(u=f.matches(i.helper,this.accept)));e&&this.drop&&r.canDrop&&u&&this.trigger("drop",{event:n,target:r.target,droppedElement:i.helper,dragData:i})},t.prototype.isDropArea=function(n,t,i){var r={canDrop:!0,target:i||n.target},e=n.type==="touchend",u,f;return(e||r.target===t)&&(t.style.display="none",u=e?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY),r.canDrop=!1,r.canDrop=h.compareElementParent(f,this.element),r.canDrop&&(r.target=f),t.style.display=""),r},t.prototype.destroy=function(){s.EventHandler.remove(this.element,u.Browser.touchEndEvent,this.intDrop);n.prototype.destroy.call(this)},t}(i.Base);r([o.Property()],c.prototype,"accept",void 0);r([o.Property("default")],c.prototype,"scope",void 0);r([o.Event()],c.prototype,"drop",void 0);r([o.Event()],c.prototype,"over",void 0);r([o.Event()],c.prototype,"out",void 0);c=r([o.NotifyPropertyChanges],c);t.Droppable=c}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var u,r;!(u=[i,t,i(6),i(7),i(0)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f="stand-alone",o=/^[0-9]*$/,e={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth"},s="months",h={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},c=function(){function n(){}return n.dateParser=function(n,t,e){var it=this,v=i.IntlBase.getDependables(e,n),rt=r.ParserBase.getCurrentNumericOptions(v.parserObject,r.ParserBase.getNumberingSystem(e)),o={},d=t.format||i.IntlBase.getResultantPattern(t.skeleton,v.dateObject,t.type),c="",g,p,et,ot,st,tt,ht,ct;if(u.isUndefined(d))u.throwError("Format options or type given must be invalid");else{o={pattern:d,evalposition:{}};var ut=d.match(i.IntlBase.dateParseRegex)||[],ft=ut.length,y=rt.numericRegex;for(p=0;p<ft;p++){var k=ut[p],l=k.length,b=k[0]==="K"?"h":k[0],nt=void 0,w=void 0,a=h[b],lt=l===2?"":"?";switch(b){case"E":case"c":et=r.ParserBase.reverseObject(v.dateObject[i.IntlBase.days][f][i.IntlBase.monthIndex[l]]);c+="("+Object.keys(et).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":w=!0;(b==="M"||b==="L")&&l>2?(o[a]=r.ParserBase.reverseObject(v.dateObject[s][f][i.IntlBase.monthIndex[l]]),c+="("+Object.keys(o[a]).join("|")+")"):(nt=!0,c+="("+y+y+lt+")");b==="h"&&(o.hour12=!0);break;case"y":w=nt=!0;c+=l===2?"("+y+y+")":"("+y+"{"+l+",})";break;case"a":w=!0;o[a]=r.ParserBase.reverseObject(u.getValue("dayPeriods.format.wide",v.dateObject));c+="("+Object.keys(o[a]).join("|")+")";break;case"G":w=!0;ot=l<=3?"eraAbbr":l===4?"eraNames":"eraNarrow";o[a]=r.ParserBase.reverseObject(u.getValue("eras."+ot,v.dateObject));c+="("+Object.keys(o[a]).join("|")+"?)";break;case"z":st=(new Date).getTimezoneOffset();w=st!==0;o[a]=u.getValue("dates.timeZoneNames",v.parserObject);tt=o[a];g=l<4;ht=g?"+H;-H":tt.hourFormat;c+="("+this.parseTimeZoneRegx(ht,tt,y)+")?";break;case"'":ct=k.replace(/\'/g,"");c+="("+ct+")?";break;default:c+="(.)?"}w&&(o.evalposition[a]={isNumber:nt,pos:p+1,hourOnly:g});p!==ft-1||u.isNullOrUndefined(c)||(o.parserRegex=new RegExp("^"+c+"$"))}}return function(n){var t=it.internalDateParse(n,o,rt);return u.isNullOrUndefined(t)||!Object.keys(t).length?null:it.getDateObject(t)}},n.getDateObject=function(n,t){var i=t||new Date,w,b,s,c,f,r,l,a,k,h,v;i.setMilliseconds(0);var o=n.year,y=n.designator,p=n.timeZone;for(u.isUndefined(o)||(w=(o+"").length,w<=2&&(b=Math.floor(i.getFullYear()/100)*100,o+=b),i.setFullYear(o)),s=0,c=["hour","minute","second","month","day"];s<c.length;s++)if(f=c[s],r=n[f],!u.isUndefined(r))if(f==="month"){if(r-=1,r<0||r>11)return new Date("invalid");l=i.getDate();i.setDate(1);i[e[f]](r);a=new Date(i.getFullYear(),r+1,0).getDate();i.setDate(l<a?l:a)}else{if(f==="day"&&(k=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),r<1||r>k))return null;i[e[f]](r)}return u.isUndefined(y)||(h=i.getHours(),y==="pm"?i.setHours(h+(h===12?0:12)):h===12&&i.setHours(0)),u.isUndefined(p)||(v=p-i.getTimezoneOffset(),v!==0&&i.setMinutes(i.getMinutes()+v)),i},n.internalDateParse=function(n,t,i){var r=n.match(t.parserRegex),e={hour:0,minute:0,second:0},w=i.numericRegex,p,s,c;if(u.isNullOrUndefined(r))return null;for(p=Object.keys(t.evalposition),s=0,c=p;s<c.length;s++){var f=c[s],h=t.evalposition[f],l=r[h.pos];if(h.isNumber)e[f]=this.internalNumberParser(l,i);else if(f!=="timeZone"||u.isUndefined(l))e[f]=t[f][l];else{var o=h.pos,a=void 0,v=r[o+1],y=!u.isUndefined(v);a=h.hourOnly?this.getZoneValue(y,v,r[o+4],i)*60:this.getZoneValue(y,v,r[o+7],i)*60+this.getZoneValue(y,r[o+4],r[o+10],i);u.isNullOrUndefined(a)||(e[f]=a)}}return t.hour12&&(e.hour12=!0),e},n.internalNumberParser=function(n,t){return(n=r.ParserBase.convertValueParts(n,t.numberParseRegex,t.numericPair),o.test(n))?+n:null},n.parseTimeZoneRegx=function(n,t,i){var e=t.gmtFormat,r,u="("+i+")("+i+")",f;return r=n.replace("+","\\+"),r=n.indexOf("HH")!==-1?r.replace(/HH|mm/g,"("+u+")"):r.replace(/H|m/g,"("+u+"?)"),f=r.split(";").map(function(n){return e.replace("{0}",n)}),f.join("|")+"|"+t.gmtZeroFormat},n.getZoneValue=function(n,t,i,r){var u=this.internalNumberParser(n?t:i,r);return n?-u:u},n}();t.DateParser=c}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(7),i(6)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,e=/,/g,o=["minusSign","infinity"],s=function(){function n(){}return n.numberParser=function(n,t,f){var a=this,l=u.IntlBase.getDependables(f,n,!0),e={custom:!0},s,h,c;return u.IntlBase.formatRegex.test(t.format)||!t.format?(i.extend(e,u.IntlBase.getProperNumericSkeleton(t.format||"N")),e.custom=!1):i.extend(e,u.IntlBase.customFormat(t.format,null,null)),s=r.ParserBase.getCurrentNumericOptions(l.parserObject,r.ParserBase.getNumberingSystem(f),!0),e.symbolRegex=r.ParserBase.getSymbolRegex(Object.keys(s.symbolMatch)),e.infinity=s.symbolNumberSystem[o[1]],h=u.IntlBase.getSymbolPattern(e.type,s.numberSystem,l.numericObject,e.isAccount),h&&(h=h.replace(/\u00A4/g,u.IntlBase.defaultCurrency),c=h.split(";"),e.nData=u.IntlBase.getFormatData(c[1]||"-"+c[0],!0,""),e.pData=u.IntlBase.getFormatData(c[0],!0,"")),function(n){return a.getParsedNumber(n,e,s)}},n.getParsedNumber=function(n,t,u){var c,y,h,l,a,o,s,v;return n.indexOf(t.infinity)!==-1?Infinity:(n=r.ParserBase.convertValueParts(n,t.symbolRegex,u.symbolMatch),n=r.ParserBase.convertValueParts(n,u.numberParseRegex,u.numericPair),n.indexOf(".")===0&&(n="0"+n),s=n.match(f),i.isNullOrUndefined(s))?NaN:(l=s[1],h=s[2],v=s[5],a=s[6],c=t.custom?l===t.nData.nlead&&a===t.nData.nend:l.indexOf(t.nData.nlead)!==-1&&a.indexOf(t.nData.nend)!==-1,y=c?t.nData.isPercent:t.pData.isPercent,h=h.replace(e,""),v&&(h+=v),o=+h,(t.type==="percent"||y)&&(o=o/100),(t.custom||t.fractionDigits)&&(o=parseFloat(o.toFixed(t.custom?c?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),c&&(o*=-1),o)},n}();t.NumberParser=s}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(3),i(1)],u=function(n,t,i,u){"use strict";var s,f,o;Object.defineProperty(t,"__esModule",{value:!0});s={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,"delete":46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};f=o=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.keyPressHandler=function(n){for(var f,h,i,e,c,t,l=n.altKey,a=n.ctrlKey,v=n.shiftKey,y=n.which,p=Object.keys(r.keyConfigs),u=0,s=p;u<s.length;u++)for(f=s[u],h=r.keyConfigs[f].split(","),i=0,e=h;i<e.length;i++)c=e[i],t=o.getKeyConfigData(c.trim()),l===t.altKey&&a===t.ctrlKey&&v===t.shiftKey&&y===t.keyCode&&(n.action=f,r.keyAction&&r.keyAction(n))},r.bind(),r}return e(t,n),t.prototype.destroy=function(){this.unwireEvents();n.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(n){if(n in this.configCache)return this.configCache[n];var t=n.toLowerCase().split("+"),i={altKey:t.indexOf("alt")!==-1?!0:!1,ctrlKey:t.indexOf("ctrl")!==-1?!0:!1,shiftKey:t.indexOf("shift")!==-1?!0:!1,keyCode:null};return i.keyCode=t[t.length-1].length>1&&!!Number(t[t.length-1])?Number(t[t.length-1]):o.getKeyCode(t[t.length-1]),o.configCache[n]=i,i},t.getKeyCode=function(n){return s[n]||n.toUpperCase().charCodeAt(0)},t}(u.Base);f.configCache={};r([i.Property({})],f.prototype,"keyConfigs",void 0);r([i.Property("keyup")],f.prototype,"eventName",void 0);r([i.Event()],f.prototype,"keyAction",void 0);f=o=r([i.NotifyPropertyChanges],f);t.KeyboardEvents=f}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(9)],r=function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t,i){this.controlName=n;this.localeStrings=t;this.setLocale(i||r.defaultCulture)}return n.prototype.setLocale=function(t){var r=this.intGetControlConstant(n.locale,t);r?this.currentLocale=r:t!=="en-US"?i.throwError("The specified locale or controlname not found in the locale object"):this.currentLocale=this.localeStrings},n.load=function(n){this.locale=i.extend(this.locale,n,{},!0)},n.prototype.getConstant=function(n){return this.currentLocale[n]||this.localeStrings[n]||""},n.prototype.intGetControlConstant=function(n,t){return n[t]?n[t][this.controlName]:null},n}();u.locale={};t.L10n=u}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this.svgLink="http://www.w3.org/2000/svg";this.rootId=n}return n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.createSvg=function(n){return i.isNullOrUndefined(n.id)&&(n.id=this.rootId+"_svg"),this.svgObj=document.getElementById(n.id),i.isNullOrUndefined(document.getElementById(n.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(n,this.svgObj),this.setSVGSize(n.width,n.height),this.svgObj},n.prototype.setSVGSize=function(n,t){var r=document.getElementById(this.rootId),u=i.isNullOrUndefined(r)?null:r.getBoundingClientRect();i.isNullOrUndefined(this.width)||this.width<=0?this.svgObj.setAttribute("width",n?n.toString():u.width.toString()):this.svgObj.setAttribute("width",this.width.toString());i.isNullOrUndefined(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},n.prototype.drawPath=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"path")),this.setElementAttributes(n,t)},n.prototype.drawLine=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"line")),this.setElementAttributes(n,t)},n.prototype.drawRectangle=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"rect")),this.setElementAttributes(n,t)},n.prototype.drawCircle=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"circle")),this.setElementAttributes(n,t)},n.prototype.drawPolyline=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"polyline")),this.setElementAttributes(n,t)},n.prototype.drawEllipse=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"ellipse")),this.setElementAttributes(n,t)},n.prototype.drawPolygon=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"polygon")),this.setElementAttributes(n,t)},n.prototype.drawImage=function(n){var t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",n.height.toString()),t.setAttributeNS(null,"width",n.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",n.href),t.setAttributeNS(null,"x",n.x.toString()),t.setAttributeNS(null,"y",n.y.toString()),t.setAttributeNS(null,"id",n.id),t.setAttributeNS(null,"visibility",n.visibility),i.isNullOrUndefined(this.getOptionValue(n,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(n,"clip-path")),i.isNullOrUndefined(n.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",n.preserveAspectRatio),t},n.prototype.createText=function(n,t){var r=document.createElementNS(this.svgLink,"text");return r=this.setElementAttributes(n,r),i.isNullOrUndefined(t)||(r.textContent=t),r},n.prototype.createTSpan=function(n,t){var r=document.createElementNS(this.svgLink,"tspan");return r=this.setElementAttributes(n,r),i.isNullOrUndefined(t)||(r.textContent=t),r},n.prototype.createTitle=function(n){var t=document.createElementNS(this.svgLink,"title");return t.textContent=n,t},n.prototype.createDefs=function(){return document.createElementNS(this.svgLink,"defs")},n.prototype.createClipPath=function(n){var t=document.createElementNS(this.svgLink,"clipPath");return this.setElementAttributes(n,t)},n.prototype.createForeignObject=function(n){var t=document.createElementNS(this.svgLink,"foreignObject");return this.setElementAttributes(n,t)},n.prototype.createGroup=function(n){var t=document.createElementNS(this.svgLink,"g");return this.setElementAttributes(n,t)},n.prototype.createPattern=function(n,t){var i=document.createElementNS(this.svgLink,t);return this.setElementAttributes(n,i)},n.prototype.createRadialGradient=function(n,t,r){var u,f;return i.isNullOrUndefined(n[0].colorStop)?u=n[0].color.toString():(f={id:this.rootId+"_"+t+"radialGradient",cx:r.cx+"%",cy:r.cy+"%",r:r.r+"%",fx:r.fx+"%",fy:r.fy+"%"},this.drawGradient("radialGradient",f,n),u="url(#"+this.rootId+"_"+t+"radialGradient)"),u},n.prototype.createLinearGradient=function(n,t,r){var u,f;return i.isNullOrUndefined(n[0].colorStop)?u=n[0].color.toString():(f={id:this.rootId+"_"+t+"linearGradient",x1:r.x1+"%",y1:r.y1+"%",x2:r.x2+"%",y2:r.y2+"%"},this.drawGradient("linearGradient",f,n),u="url(#"+this.rootId+"_"+t+"linearGradient)"),u},n.prototype.drawGradient=function(n,t,i){for(var e=this.createDefs(),f=document.createElementNS(this.svgLink,n),u,f=this.setElementAttributes(t,f),r=0;r<i.length;r++)u=document.createElementNS(this.svgLink,"stop"),u.setAttribute("offset",i[r].colorStop),u.setAttribute("stop-color",i[r].color),u.setAttribute("stop-opacity","1"),f.appendChild(u);return e.appendChild(f),e},n.prototype.drawClipPath=function(n){var t=this.createDefs(),i=this.createClipPath({id:n.id}),r=this.drawRectangle(n);return i.appendChild(r),t.appendChild(i),t},n.prototype.drawCircularClipPath=function(n){var t=this.createDefs(),i=this.createClipPath({id:n.id}),r=this.drawCircle(n);return i.appendChild(r),t.appendChild(i),t},n.prototype.setElementAttributes=function(n,t){for(var r=Object.keys(n),i=0;i<r.length;i++)t.setAttribute(r[i],n[r[i]]);return t},n}();t.SvgRenderer=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(32),i(2)],r=function(n,t,i,r){"use strict";function o(n,t){var i=u.compile(n,t);return function(n,t,u){var e=i(n,t,u),o;return typeof e=="string"?(o=r.createElement(f.test(e)?"table":"div",{innerHTML:e}),o.childNodes):e}}function s(n){u.compile=n.compile}function h(){return u.compile}var f,e,u;Object.defineProperty(t,"__esModule",{value:!0});f=/^[\n\r.]+\<tr|^\<tr/;t.compile=o;t.setTemplateEngine=s;t.getTemplateEngine=h;e=function(){function n(){}return n.prototype.compile=function(n,t){return t===void 0&&(t={}),i.compile(n,t)},n}();u={compile:(new e).compile}}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t],r=function(n,t){"use strict";function y(n){return n&&(r=n),r}function p(n,t){var i="data",r=w(n,i,t),u='var str="'+r+'"; return str;',f=new Function(i,u);return f.bind(t)}function w(n,t,l){var y=[];return n.replace(e,"").replace(v,"'$1'").replace(r,function(n,r){var v=r.match(c),w,e,b,p;return v?(w=v[1],s.test(r)?r='"; '+r.replace(v[1],w.replace(a,function(n){return n=n.trim(),i(n,!o.test(n)&&y.indexOf(n)===-1,t,y)}))+'{ \n str = str + "':h.test(r)?(e=v[1].split(" of "),r='"; '+r.replace(v[1],function(){return y.push(e[0]),y.push(e[0]+"Index"),"var i=0; i < "+i(e[1],!0,t,y)+".length; i++"})+"{ \n "+e[0]+"= "+i(e[1],!0,t,y)+"[i]; \n var "+e[0]+'Index=i; \n str = str + "'):(b=r.split("("),p=l&&l.hasOwnProperty(b[0])?"this.":"global",p=/\./.test(b[0])?"":p,r='" + '+(p==="global"?"":p)+r.replace(w,i(v[1].replace(",",t+"."),p==="global"?!1:!0,t,y))+'+"')):r=u.test(r)?'"; '+r.replace(u,'} else { \n str = str + "'):r.match(f)?r.replace(f,'"; \n } \n str = str + "'):'"+'+i(r,y.indexOf(r)===-1,t,y)+'+"',r})}function i(n,t,i,r){return t&&!l.test(n)&&r.indexOf(n.split(".")[0])===-1?i+"."+n:n}Object.defineProperty(t,"__esModule",{value:!0});var e=new RegExp("\\n|\\r|\\s\\s+","g"),o=new RegExp(/'|"/g),s=new RegExp("if ?\\("),u=new RegExp("else"),h=new RegExp("for ?\\("),f=new RegExp("(/if|/for)"),c=new RegExp("\\((.*)\\)",""),l=new RegExp("^[0-9]+$","g"),a=new RegExp("[\\w\"'.\\s+]+","g"),v=new RegExp('"(.*?)"',"g"),r=new RegExp("\\${([^}]*)}","g");t.expression=y;t.compile=p}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(0),i(3),i(5),i(1),i(8),i(4)],u=function(n,t,i,u,f,o,s,h){"use strict";var l,a,c;Object.defineProperty(t,"__esModule",{value:!0});l=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return e(t,n),t}(s.ChildProperty);r([u.Property(50)],l.prototype,"swipeThresholdDistance",void 0);t.SwipeSettings=l;a=/(Up|Down)/;c=function(n){function t(t,r){var u=n.call(this,r,t)||this;return u.startEvent=function(n){var t=n.changedTouches?n.changedTouches[0]:n;u.isTouchMoved=!1;u.movedDirection="";u.startPoint=u.lastMovedPoint={clientX:t.clientX,clientY:t.clientY};u.startEventData=t;u.hScrollLocked=u.vScrollLocked=!1;u.tStampStart=Date.now();u.timeOutTapHold=setTimeout(function(){u.tapHoldEvent(n)},u.tapHoldThreshold);h.EventHandler.add(u.element,f.Browser.touchMoveEvent,u.moveEvent,u);h.EventHandler.add(u.element,f.Browser.touchEndEvent,u.endEvent,u)},u.moveEvent=function(n){var t=n.changedTouches?n.changedTouches[0]:n,r,f;u.movedPoint=t;u.isTouchMoved=!(t.clientX===u.startPoint.clientX&&t.clientY===u.startPoint.clientY);r={};u.isTouchMoved&&(clearTimeout(u.timeOutTapHold),u.calcScrollPoints(n),f={startEvents:u.startEventData,originalEvent:n,startX:u.startPoint.clientX,startY:u.startPoint.clientY,distanceX:u.distanceX,distanceY:u.distanceY,scrollDirection:u.scrollDirection,velocity:u.getVelocity(t)},r=i.extend(r,{},f),u.trigger("scroll",r),u.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},u.endEvent=function(n){var t,r,e,o,s,c,v;if(clearTimeout(u.timeOutTapHold),t=n,n.changedTouches&&(t=n.changedTouches[0]),u.isTouchMoved=!(t.clientX===u.startPoint.clientX&&t.clientY===u.startPoint.clientY),u.endPoint=t,r=!1,c=u.swipeSettings.swipeThresholdDistance,u.calcPoints(n),v={originalEvent:n,startEvents:u.startEventData,startX:u.startPoint.clientX,startY:u.startPoint.clientY,distanceX:u.distanceX,distanceY:u.distanceY,swipeDirection:u.movedDirection,velocity:u.getVelocity(t)},u.isTouchMoved){s=i.extend(s,u.defaultArgs,v);var y=!1,p=u.element,w=u.isScrollable(p),l=a.test(u.movedDirection);(c<u.distanceX&&!l||c<u.distanceY&&l)&&(y=w?u.checkSwipe(p,l):!0);y&&u.trigger("swipe",s)}else e=i.extend(e,u.defaultArgs,{}),!i.isNullOrUndefined(u.lastTapTime)&&(new Date).getTime()-u.lastTapTime<u.doubleTapThreshold&&(clearTimeout(u.timeOutTap),r=!0,u.trigger("doubleTap",e)),r||(o=i.extend(o,u.defaultArgs,{}),u.timeOutTap=setTimeout(function(){u.trigger("tap",o)},typeof u.doubleTap!="function"?0:u.doubleTapThreshold));u.lastTapTime=(new Date).getTime();h.EventHandler.remove(u.element,f.Browser.touchMoveEvent,u.moveEvent);h.EventHandler.remove(u.element,f.Browser.touchEndEvent,u.endEvent)},u.bind(),u}return e(t,n),t.prototype.onPropertyChanged=function(){},t.prototype.bind=function(){this.wireEvents();f.Browser.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents();n.prototype.destroy.call(this)},t.prototype.wireEvents=function(){h.EventHandler.add(this.element,f.Browser.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){h.EventHandler.remove(this.element,f.Browser.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(n){var t=getComputedStyle(n),i=t.overflow+t.overflowX+t.overflowY;return/(auto|scroll)/.test(i)?!0:!1},t.prototype.tapHoldEvent=function(n){var t;h.EventHandler.remove(this.element,f.Browser.touchMoveEvent,this.moveEvent);h.EventHandler.remove(this.element,f.Browser.touchEndEvent,this.endEvent);t={originalEvent:n};this.trigger("tapHold",t)},t.prototype.calcPoints=function(n){var t=n.changedTouches?n.changedTouches[0]:n;this.defaultArgs={originalEvent:n};this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX));this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY));this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(n){var t=n.changedTouches?n.changedTouches[0]:n;this.defaultArgs={originalEvent:n};this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX));this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY));(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(n){var r=n.clientX,u=n.clientY,f=Date.now(),t=r-this.startPoint.clientX,i=u-this.startPoint.clientX,e=f-this.tStampStart;return Math.sqrt(t*t+i*i)/e},t.prototype.checkSwipe=function(n,t){var i=["scroll","offset"],r=t?["Height","Top"]:["Width","Left"];return n[i[0]+r[0]]<=n[i[1]+r[0]]?!0:n[i[0]+r[1]]===0||n[i[1]+r[0]]+n[i[0]+r[1]]>=n[i[0]+r[0]]},t}(o.Base);r([u.Event()],c.prototype,"tap",void 0);r([u.Event()],c.prototype,"doubleTap",void 0);r([u.Event()],c.prototype,"tapHold",void 0);r([u.Event()],c.prototype,"swipe",void 0);r([u.Event()],c.prototype,"scroll",void 0);r([u.Property(500)],c.prototype,"doubleTapThreshold",void 0);r([u.Property(750)],c.prototype,"tapHoldThreshold",void 0);r([u.Complex({},l)],c.prototype,"swipeSettings",void 0);c=r([u.NotifyPropertyChanges],c);t.Touch=c}.apply(t,f),u!==undefined&&(n.exports=u))}]);window.ej=window.Syncfusion=window.Syncfusion||window.ej||{},function(n){var t={},r,i;if(t.registeredWidgets={},t.registerWidget=function(n){for(var i,r=Object.keys(this.registeredWidgets),t=0;t<r.length;t++)if(r[t]==n.guid)return;i=function(){};i.prototype=n;this.registeredWidgets[n.guid]={proto:i}},t.getWidgetInstance=function(n){try{return n.plugindata}catch(t){throw t.message+"\n"+t.stack;}},t.selectedFilterInfo=function(){this.UniqueColumnName="";this.ReportName="";this.DateFilterInfo={Action:"Include",DateFilterList:[],DateFilterType:"Basic"};this.DimensionFilterInfo={Conditions:0,IsBoolean:!1,ClearAllSelection:!1,Text:[],SelectedBoolValues:[],SelectedIndex:0};this.MeasureFilterInfo={Conditions:"IsBetween",Values:[]}},t.selectedColumnInfo=function(){this.uniqueColumnName="";this.condition="";this.values=[]},t.setProperty=function(t,i){var r={},u=n.dashboard.getWidgetInstance(t),f;r[i.name]=i.value;f=n.dashboard.parseProperty(r);i.value=f[i.name];u.model.properties[i.name]=i.value;u.update({type:"propertyChange",property:i})},t.parseProperty=function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)try{n[i[t]]=JSON.parse(n[i[t]])}catch(r){n[i[t]]=n[i[t]]}return n},t.createWidgetWithInIFrame=function(t){var i=JSON.parse(t).data;window.addEventListener?window.addEventListener("message",n.dashboard.postMessageToIFrame,!1):window.attachEvent("onmessage",n.dashboard.postMessageToIFrame);n.dashboard.createWidgetInstance(i.guid,document.getElementById("container"),{dashboardId:i.dashboardId,widgetId:i.widgetId,baseURL:i.baseURL});n.dashboard.postMessageToViewer({action:"initialized",dashboardId:i.dashboardId,widgetId:i.widgetId})},t.createWidgetInstance=function(t,i,r){var f=n.dashboard.registeredWidgets[t].proto,u=new f;u.element=i;u.model=r;i.classList.add("dbrd-widget");i.plugindata=u},t.postMessageToIFrame=function(t){var i,r,f,u;try{if(i=JSON.parse(t.data),r=n.dashboard.getWidgetInstance(document.getElementById("container")),i.type==="refresh")r.model.dataSource=i.data,r.update({type:"refresh",data:i.data});else if(i.type==="resize")r.update(i),document.body.style.width=i.size.width+"px",document.body.style.height=i.size.height+"px";else if(i.type==="initialize"){for(n.dashboard.postMessageToViewer({action:"destroyindicator",dashboardId:r.model.dashboardId,widgetId:r.model.widgetId,initMode:r.model.initMode}),f=Object.keys(i.data),u=0;u<f.length;u++)r.model[f[u]]=i.data[f[u]];r.init()}}catch(e){}},t.postMessageToViewer=function(n){window.parent.postMessage(JSON.stringify(n),"*")},t.filterData=function(t,i){var r=n.dashboard.formatSelectedColumn(t,i),u;t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"interaction",selectedData:r,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId}):n.isNullOrUndefined(t.model.dashboardId)||(u=$("#"+t.model.dashboardId).data("ejDashboardViewer"),u._loadWidgetSlaves(t.model.widgetId,r))},t.addCulture=function(t,i){for(var u=Object.keys(i),r=0;r<u.length;r++)n.dashboard.loadCldr(i[u[r]])},t.navigateThroughLinking=function(t,i,r){for(var o,f=[],e=[],u=0;u<i.length;u++)e.push({Column:i[u].uniqueColumnName,Value:i[u].values});f.push({Items:e});t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"linking",selectedData:f,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId,url:r}):n.isNullOrUndefined(t.model.dashboardId)||(o=$("#"+t.model.dashboardId).data("ejDashboardViewer"),o._navigationThroughLinking(f,r,t.model.widgetId))},t.viewData=function(t,i){var r=n.dashboard.formatSelectedColumn(t,i),u;t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"viewData",selectedData:r,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId}):n.isNullOrUndefined(t.model.dashboardId)||(u=$("#"+t.model.dashboardId).data("ejDashboardViewer"),u._getViewData(t.model.widgetId,r))},t.getFilterInfo=function(t,i){var r=new n.dashboard.selectedFilterInfo,u,f,o,e;for(r.ReportName=t.model.widgetId,r.uniqueColumnName=i.uniqueColumnName,u=0;u<Object.keys(t.model.boundColumns).length;u++)for(f=0;f<t.model.boundColumns[Object.keys(t.model.boundColumns)[u]].length;f++)if(t.model.boundColumns[Object.keys(t.model.boundColumns)[u]][f].uniqueColumnName===i.uniqueColumnName){o=t.model.boundColumns[Object.keys(t.model.boundColumns)[u]][f];e=o.valueType;e==="dimension"&&o.dataType==="datetime"&&(e="datetime");switch(e){case"dimension":switch(i.condition){case"startswith":r.DimensionFilterInfo.Conditions="StartsWith";break;case"contains":r.DimensionFilterInfo.Conditions="Contains";break;case"endswith":r.DimensionFilterInfo.Conditions="EndsWith";break;case"notcontains":r.DimensionFilterInfo.Conditions="NotContains";break;case"include":r.DimensionFilterInfo.Conditions="Include";break;case"exclude":r.DimensionFilterInfo.Conditions="Exclude"}r.DimensionFilterInfo.Text=i.values;break;case"measure":r.MeasureFilterInfo.Conditions=i.condition;r.MeasureFilterInfo.Values=i.values;break;case"datetime":switch(i.condition){case"range":r.DateFilterInfo.Action="Range";r.DateFilterInfo.DateFilterType="Exact";r.DateFilterInfo.DateFilterList=i.values;break;case"include":r.DateFilterInfo.Action="Include";r.DateFilterInfo.DateFilterType="Basic";r.DateFilterInfo.DateFilterList=i.values;break;case"exclude":r.DateFilterInfo.Action="Exclude";r.DateFilterInfo.DateFilterType="Basic";r.DateFilterInfo.DateFilterList=i.values;break;case"relative":r.DateFilterInfo.DateFilterType="Relative";r.DateFilterInfo.DateFilterList=i.values}}}return r},t.formatSelectedColumn=function(t,i){for(var u=[],r=0;r<i.length;r++)u.push(n.dashboard.getFilterInfo(t,i[r]));return u},n.dashboard!==undefined)for(r=Object.keys(t),i=0;i<r.length;i++)n.dashboard[r[i]]=t[r[i]];else n.dashboard=t}(window.ej),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dropdownlist={_renderFDropDownList:function(r){var l=0,d=-1,ft=1,st=30,vt=200,ii=300,f=r.configInfo,e=r,w=r.getCurrentPageData(),nt=null,tt=null,ht=!0,ct=!0,a=this,b=[],y=[],o=null,yt=JSON.parse(JSON.stringify(this.dashboardParameters)),h,g,ot,pt,wt,bt,kt,dt,rt,p,gt,ni,ti,ut;if(o=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),w.isError){o.find(".e-dbrd-control").attr({"data-controlId":f.Id});o.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+f.Id});this._showControlError(w.pagedata,o.find(".e-dbrd-control"),f);return}if(o.find(".e-dbrd-control").attr({id:""}),this._hideControlError(o.find(".e-dbrd-control")),h=w.pagedata,f.ShowAsListBox){this._renderListBox(r,!0);return}var c=null,it=[],k=[],v=null,u=0,s=0,et=0,lt=e.SelectedFilterInfo.length;if(e.SelectedFilterInfo&&lt!==l&&!t.isNullOrUndefined(f.HiddenColumnName)){for(k=[],g=[],ot=[],u=0;u<lt;u++){if(e.SelectedFilterInfo[u].DateFilterInfo!==null&&e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>l)for(pt=e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length,s=0;s<pt;s++)e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase()!==f.HiddenColumnName.toLowerCase()?g.push({column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[s]}):ot.push({hiddenColumn:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[s]}),v=this._getItemIndex(h,e.SelectedFilterInfo[u].DateFilterInfo.DisplayDateFilterList[s]),v!==d&&k.push(v);if(e.SelectedFilterInfo[u].DimensionFilterInfo!==null&&e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>l)for(wt=e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length,s=0;s<wt;s++)e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase()!==f.HiddenColumnName.toLowerCase()?g.push({column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DimensionFilterInfo.Text[s]}):ot.push({hiddenColumn:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DimensionFilterInfo.Text[s]}),v=this._getItemIndex(h,e.SelectedFilterInfo[u].DimensionFilterInfo.Text[s]),v!==d&&k.push(v)}for(bt=g.length,u=0;u<bt;u++)b.push(g[u].value),y.push({Column:g[u].column,Value:g[u].value,HiddenColumnName:ot[u].hiddenColumn,HiddenValue:ot[u].value})}else if(e.SelectedFilterInfo&&lt!==l)for(k=[],u=0;u<lt;u++){if(e.SelectedFilterInfo[u].DateFilterInfo!==null&&e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>l)for(kt=e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length,s=0;s<kt;s++)y.push({Column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),Value:e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[s]}),v=this._getItemIndex(h,e.SelectedFilterInfo[u].DateFilterInfo.DisplayDateFilterList[s]),v!==d?(k.push(v),b.push(h[v].text)):v===d&&b.push(y[0].Value);if(e.SelectedFilterInfo[u].DimensionFilterInfo!==null&&e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>l)for(dt=e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length,s=0;s<dt;s++)y.push({Column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),Value:e.SelectedFilterInfo[u].DimensionFilterInfo.Text[s]}),v=this._getItemIndex(h,e.SelectedFilterInfo[u].DimensionFilterInfo.Text[s]),v!==d?(k.push(v),b.push(h[v].text)):v===d&&b.push(y[0].Value)}if(!t.isNullOrUndefined(n("#"+this._id+t.DashboardConstants.Widget+f.Id).data("ejDashboardDropDownList"))){for(nt=this._id+t.DashboardConstants.Widget+f.Id,et=0;et<this.target.length;et++)this.target[et].indexOf(f.Id)!==d&&this.target.splice(et,ft);if(c=n("#"+this._id+t.DashboardConstants.Widget+f.Id),rt=null,rt=t.isNullOrUndefined(r.configInfo)||t.isNullOrUndefined(r.configInfo.ColumnName)||r.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?c.parents(".e-dbrd-layout-cell"):c.parents(".e-dbrd-filter-wrapper"),!t.isNullOrUndefined(rt.find(".e-dbrd-control"))&&rt.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(h.length,rt.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(h.length,rt.find(".e-dbrd-control")))return;if(o=c.parents("td"),tt=c.parent(),c.data("ejDashboardDropDownList")){p=c.data("ejDashboardDropDownList");p.option("watermarkText",b.length===l?t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:b.toString());p.model.query=null;p.option("actionBegin",null);p.option("beforePopupShown",null);p.option("beforePopupShown",function(){n("#"+a._id+"_popup").css({"max-width":n(window).width()-n("#"+a._id).parent().offset().left+"px"});ct=a._dropDownBeforePopupShown(this,c,ct,k)});p.option("actionBegin",function(n){ht=a._dropDownActionBegin(this,n,ht,w.rowCount,h,f,y)});gt=this.dashboardControls.getAllControlsMasterData();p.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(gt)).addParams("controlRowCount",JSON.stringify(w.rowCount)).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("searchCount",l).addParams("selectedItems",JSON.stringify("")).addParams("searchSelectedCount",l).addParams("hasNull","false").addParams("hasEmpty","false").addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(yt))));p.option("text",!f.MultiSelect&&it.length===ft?h[it[0]].text:it.length===l?h.length===ft?h[0].text:t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:"");p._refreshScroller();n("#"+n(c).attr("id")+"_wrapper").addClass("center_align");y===null||y.length===l?(n("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):y.length!==l&&(n("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));return}}if(nt===null){c=n("<input>").attr({id:this._id+t.DashboardConstants.Widget+f.Id}).addClass("e-FilterBox").css({"margin-left":"auto","margin-right":"auto"});tt=n("<div>").css({height:"100%",width:"100%"}).attr({tabindex:"0"});tt.append(c);tt.css({display:"table-cell","vertical-align":"middle"});o.find(".e-dbrd-control").removeAttr("tabindex").append(tt).css({display:"table"}).attr({"data-controlId":f.Id});o.find(".e-remove-control-filter").attr({id:c.attr("id")+"_removeControlFilter"});ni=o.children().width()===l?Number(o.attr("colspan"))*55:o.children().width();o.attr({"data-controlId":f.Id,"data-controltype":"FilterComboBox","data-controlLinkData":JSON.stringify(f.IsLinked?f.ControlLinkData:""),"data-isMaster":f.IsMasterFilter});e.SelectedFilterInfo.length!==l&&(o.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),o.find(".e-dbrd-control-container").data({IsFilterApplied:!0}));ti=(new t.UrlAdaptor).extend({dropdownId:this._id+t.DashboardConstants.Widget+f.Id,beforeSend:function(n,i){var f,r,u;if(!t.isNullOrUndefined(a.requestHeaders)&&a.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(f=a.requestHeaders.customHeaders.length,r=t.DashboardConstants.Zero;r<f;r++)u=a.requestHeaders.customHeaders[r],i.setRequestHeader(u.Key,u.Value);i.setRequestHeader("X-Sync-Header",JSON.stringify(a.requestHeaders.customHeaders))}},processResponse:function(t,i,r,u,f,e){var s=JSON.parse(f.data).controlId,o=n("#"+this.dropdownId).data("ejDashboardDropDownList");return t.d[0].Key===s&&t.d[0].Value[0].key==="Data"&&(t.d=JSON.parse(t.d[0].Value[0].value),o._totalCount=t.d.result.length<vt?o._rawList.length+t.d.result.length:o._rawList.length+ii),r._requiresCount=!0,this.base.processResponse.apply(this,[t,i,r,u,f,e])}});o.find(".e-dbrd-control").addClass("e-dropDown");var ri=this.model.enableVirtualLoading?t.DataManager({url:this.serviceUrl()+"/GetControlDataOnDemand",adaptor:new ti}):h,ui=b.length>l?b.toString():t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All,fi=ni-st+"px",ei=tt.height()<st?"19":"",oi=n.proxy(this._dropDownCreate,this,a,c),si=(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",JSON.stringify(w.rowCount)).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("searchCount",l).addParams("selectedItems",JSON.stringify("")).addParams("searchSelectedCount",l).addParams("hasNull","false").addParams("hasEmpty","false").addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("dashboardName",this.dashboardName).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(yt))),hi=n.proxy(this._onGlobalFilterChange,this,!1,f.MultiSelect,!1,f.Id,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,f.ColumnName,f.HiddenColumnName,f.HiddenDateTimeColumns,f.DateTimeColumns),at=f.MultiSelect,ci=!f.MultiSelect&&it.length===ft?h[it[0]].text:it.length===l?h.length===ft?h[0].text:t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:"",li=at?"286px":"240px",ai=!f.IsRelativeDate,vi=n.proxy(this._showPopup,this,f.Id),yi=at?n.proxy(this._hidePopup,this,f,w,a):"";if(c.ejDashboardDropDownList({virtualScrollMode:"continuous",watermarkText:ui,width:fi,height:ei,create:oi,itemsCount:vt,query:si,dataSource:ri,fields:{text:"text",id:"id",value:"value",htmlAttributes:"title"},change:hi,showCheckbox:at,text:ci,checkAll:!1,popupHeight:li,allowVirtualScrolling:ai,enableFilterSearch:at,cssClass:"e-dbrd-canvas",popupShown:vi,popupHide:yi,beforePopupShown:function(){n("#"+this._id+"_popup_list_wrapper").css({"max-width":o.offset().left+o.children().width()>n(window).width()-o.offset().left?o.offset().left+o.children().width()-st+"px":n(window).width()-o.offset().left-st+"px"});ct=a._dropDownBeforePopupShown(this,c,ct,k)},search:function(n){a.model.enableVirtualLoading&&a._dropDownSearch(this,n,a,f,w)},actionBegin:function(n){ht=a._dropDownActionBegin(this,n,ht,w.rowCount,h,f,y)}}),n("#"+n(c).attr("id")+"_wrapper").css("margin-top","-3px"),n("#"+n(c).attr("id")+"_wrapper").addClass("center_align"),n("#"+n(c).attr("id")+"_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control"),ut=null,ut=t.isNullOrUndefined(r.configInfo)||t.isNullOrUndefined(r.configInfo.ColumnName)||r.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?c.parents(".e-dbrd-layout-cell"):c.parents(".e-dbrd-filter-wrapper"),!t.isNullOrUndefined(ut.find(".e-dbrd-control"))&&ut.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(h.length,ut.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(h.length,ut.find(".e-dbrd-control")))return}},_setComboBoxConfigInfo:function(n){return n},_dropDownCreate:function(t,i){var r=n(i).data("ejDashboardDropDownList");r._updateSelectedValueOnSearch=r._updateSelectedIndexByValue;r._updateSelectedIndexByValue=function(){}},_dropDownBeforePopupShown:function(t,i,r,u){var f=n(i).data("ejDashboardDropDownList"),e;f._isChanged=!1;r&&!f._isFilterCleared&&(e=f.model.change,f.model.change=null,f.option("selectedItems",u),f.model.change=e)},_dropDownActionBegin:function(n,i,r,u,f,e,o){var b=200,s=0,it=JSON.parse(JSON.stringify(this.dashboardParameters)),l,c,h,d,v,y,g,p,w,nt,tt;if(r){l=[];n._searchListSelectedItems=[];n._isChanged=!1;n._searchSelectedItems=[];var a=[],rt=o.length,k=f.length;for(s=0;s<rt;s++)for(c=0;c<k;c++)if(t.isNullOrUndefined(f[c].hiddenColumnName)){if(f[c].id===o[s].Value){a.push(o[s]);break}}else if(f[c].text===o[s].Value&&f[c].value===o[s].HiddenValue){a.push(o[s]);break}for(n._totalSelectedItems=a,n._isFilterCleared=!1,n._totalCount=f.length+(f.length<100?t.DashboardConstants.Zero:b),n._listItem(f),n._removeLoadingClass(),n._renderPopupList(),n._finalize(),i.cancel=!0,h=0,d=n._totalSelectedItems.length,h=0;h<d;h++)l.push(n._totalSelectedItems[h].Value);for(v="false",y="false",h=0;h<k;h++)f[h].id==="(Null)"?v="true":f[h].id==="(Blanks)"&&(y="true");for(g=n.model.query._params.length,s=0;s<g;s++)n.model.query._params[s].key==="selectedItems"?n.model.query._params[s].value=JSON.stringify(l):n.model.query._params[s].key==="hasNull"?n.model.query._params[s].value=v:n.model.query._params[s].key==="hasEmpty"&&(n.model.query._params[s].value=y);return!1}if(n.inputSearch&&n.inputSearch.val()!==""){for(p=[],p.push({field:n.getListData()[0].column,value:n.inputSearch.val()}),i.cancel=!0,w=null,nt=n.model.query._params.length,s=0;s<nt;s++)n.model.query._params[s].key==="searchCount"&&(w=n.model.query._params[s].value);n._getLi().length<w&&this.model.enableVirtualLoading?(tt={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:JSON.stringify({inlinecount:"allpages",skip:n._getLi().length,take:b,dashboardPath:this.dashboardPath(),controlId:e.Id,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:JSON.stringify(n._totalCount),modifiedConnectionStrings:this.modifiedConnectionStrings,allowFilterData:JSON.stringify(p),currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(it)}),onSuccess:this._appendItemForSearchVirtualScroll,needRequestParameter:!1,additionalParameter:n},this.doAjaxPost(tt)):n._removeLoadingClass()}},_dropDownSearch:function(i,r,u,f,e){var l=null,o=n("#"+i._id).data("ejDashboardDropDownList"),h,p,w,c,a,v;o._addLoadingClass();var s=0,b=JSON.parse(JSON.stringify(u.dashboardParameters)),y=o.model.query._params.length;if(o.inputSearch.val()===""){for(r.cancel=!0,s=0;s<y;s++)o.model.query._params[s].key==="searchCount"?o.model.query._params[s].value=0:o.model.query._params[s].key==="allowFilterdata"&&(o.model.query._params[s].value=JSON.stringify(""));o._updateSelectedValueOnSearch(o.model.value);o._removeLoadingClass()}else{for(h=[],h.push({field:r.items[0].column,value:r.searchString.trimRight()}),s=0;s<y;s++)o.model.query._params[s].key==="allowFilterdata"&&(o.model.query._params[s].value=JSON.stringify(h));for(r.cancel=!0,p=[],w=i._totalSelectedItems.length,c=0;c<w;c++)p.push(i._totalSelectedItems[c].Value);this.currentTabContentElement.hasClass("e-dashboardfilterpanel")?(a=n("#"+this.dashboardElement).data("ejDashboardViewer"),l=a.dashboardControls.getAllControlsMasterData(),u.modifiedConnectionStrings=a.modifiedConnectionStrings):l=this.dashboardControls.getAllControlsMasterData();this.model.enableVirtualLoading&&(v={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:JSON.stringify({dashboardPath:u.dashboardPath(),inlinecount:"allpages",skip:0,take:200,controlId:f.Id,controlRowCount:JSON.stringify(e.rowCount),modifiedConnectionStrings:u.modifiedConnectionStrings,allowFilterData:JSON.stringify(h),masterData:JSON.stringify(l),currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(b)}),onSuccess:u._fillDropDownAllowFilterData,needRequestParameter:!1,additionalParameter:[i,r]},t.isNullOrUndefined(this._dashboardId)?this._searchDropDownList(v):this.doAjaxPost(v))}},_appendSelectedItemOnSearch:function(n,t){for(var f,i,u=!1,e=n._rawList.length,r=0;r<e;r++)if(n._rawList[r].id===t.id){u=!0;break}for(u||(n.addItem(t),n.ultag.children().last().remove(),n._searchSelectedItems.push(t.id)),f=n.model.query._params.length,i=0;i<f;i++)n.model.query._params[i].key==="searchSelectedCount"&&(n.model.query._params[i].value=n._searchSelectedItems.length)},_appendItemForSearchVirtualScroll:function(t,i,r){for(var e,h,o=0,f=JSON.parse(r.d[0].Value[0].value),s=o,c=i.model.query._params.length,u=0;u<c;u++)i.model.query._params[u].key==="searchCount"&&(i.model.query._params[u].value=f.result.length<200?i._getLi().length+f.result.length:i._getLi().length+300,s=i.model.query._params[u].value);if(r=f.result,i._getLi().length<s){if(!r||(i._mapFields(),e=n.isArray(r)?r:[r],e.length<1))return!1;i._generateLi(e,i.mapFld);i.ultag.append(i.dummyUl);i.model.showCheckbox&&i._appendCheckbox(i.dummyUl);i._isPopupShown()&&(h=i.scrollerObj?i.scrollerObj.scrollTop():o,i._refreshScroller(),i.scrollerObj&&i.scrollerObj.option("scrollTop",h))}i._removeLoadingClass()},_fillDropDownAllowFilterData:function(n,i,r){var u=i[1],e=[],o=200,s,f;for(t.isNullOrUndefined(r.d[0].Value)||t.isNullOrUndefined(r.d[0].Value[0].value)||(e=JSON.parse(r.d[0].Value[0].value)),u.result=e.result,s=u.model.query._params.length,f=0;f<s;f++)u.model.query._params[f].key==="searchCount"&&(u.model.query._params[f].value=e.result.length<o?o+e.result.length:o+300);i[0]._filterSearch(null,u);i[0]._removeLoadingClass()},_hidePopup:function(i,r,u,f){var y=0,o,h,c,l,a,w,s,v;u=this;var p=n("#"+this._id+t.DashboardConstants.Widget+i.Id),b=JSON.parse(JSON.stringify(this.dashboardParameters)),e=p.data("ejDashboardDropDownList");if(e._isChanged){if(t.isNullOrUndefined(this._dashboardId)||this._createControlWaitingIndicator(p.closest(".e-dbrd-control-container"),!0),o=0,h=e.model.query._params.length,e.inputSearch.val()!=="")for(e.model.query._params[5].value=JSON.stringify(""),o=0;o<h;o++)e.model.query._params[o].key==="searchCount"&&(e.model.query._params[o].value=0);for(c="false",l="false",e._searchSelectedItems=[],o=0;o<h;o++)e.model.query._params[o].key==="searchSelectedCount"?e.model.query._params[o].value=e._searchSelectedItems.length:e.model.query._params[o].key==="hasNull"?c=e.model.query._params[o].value:e.model.query._params[o].key==="hasEmpty"&&(l=e.model.query._params[o].value);for(a=[],w=e._totalSelectedItems.length,s=0;s<w;s++)a.push(e._totalSelectedItems[s].Value);this.model.enableVirtualLoading&&(v={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:JSON.stringify({dashboardPath:this.dashboardPath(),inlinecount:"allpages",skip:y,take:200,controlId:i.Id,controlRowCount:JSON.stringify(r.rowCount),modifiedConnectionStrings:this.modifiedConnectionStrings,allowFilterData:JSON.stringify(""),masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),selectedItems:JSON.stringify(a),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,searchSelectedCount:y,hasNull:c,hasEmpty:l,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(b)}),onSuccess:this._reorderOnPopupOnHide,needRequestParameter:!1,additionalParameter:[e,f,i]},t.isNullOrUndefined(this._dashboardId)?this._reorderOnPopupHide(v):this.doAjaxPost(v))}},_reorderOnPopupOnHide:function(i,r,u){var v=0,p=-1,et=1,w=!0,b=!0,h=[],o=r[0],c=r[2],k,e,nt,a,ft;u.d[0].Key===c.Id&&u.d[0].Value[0].key==="Data"&&(h=JSON.parse(u.d[0].Value[0].value));k=JSON.parse(JSON.stringify(this.dashboardParameters));e=o._totalSelectedItems;e.sort(function(n,t){return n.Value<t.Value?p:n.Value>t.Value?et:p});for(var l=[],d=[],y=[],f=0,g=e.length,f=0;f<g;f++)t.isNullOrUndefined(e[f].HiddenColumnName)?l.push({column:e[f].Column,id:e[f].Value,text:e[f].Value}):l.push({column:e[f].Column,hiddenColumnName:e[f].HiddenColumnName,id:e[f].Value,text:e[f].Value,value:e[f].HiddenValue}),d.push(f),y.push(e[f].Value);for(nt=h.result.length,f=0;f<nt;f++)l.push(h.result[f]);var tt=h.count,it=[],s=this,rt="false",ut="false",ot=o.model.query._params.length;for(f=0;f<ot;f++)o.model.query._params[f].key==="hasNull"?rt=o.model.query._params[f].value:o.model.query._params[f].key==="hasEmpty"&&(ut=o.model.query._params[f].value);for(o.model.query=null,o.option("actionBegin",null),o.option("beforePopupShown",null),o.option("beforePopupShown",function(){n("#"+s._id+"_popup_list_wrapper").css({"max-width":n(window).width()-n("#"+s._id).parent().offset().left+"px"});b=s._dropDownBeforePopupShown(s,"#"+r[0]._id,b,d)}),o.option("actionBegin",function(n){w=s._dropDownActionBegin(this,n,w,tt,l,c,e)}),a=0;a<g;a++)it.push(e[a].Value);o.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",c.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",tt).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterData",JSON.stringify("")).addParams("searchCount",v).addParams("selectedItems",JSON.stringify(it)).addParams("searchSelectedCount",v).addParams("hasNull",rt).addParams("hasEmpty",ut).addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("dashboardName",this.dashboardName).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(k))));o.option("watermarkText",y.length===v?t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:y.toString());ft=n("#"+this._id+t.DashboardConstants.Widget+c.Id);ft.closest(".e-dbrd-control-container").find(".e-dbrd-controlWaiting").remove()},_listItemsReordering:function(t,i){for(var u,o=1,f=[],s=[],e=t.getListData(),h=i.length,r=0;r<h;r++)s.push(r),n(t._virtualUl.children("li")[i[r]]).insertBefore(t._virtualUl.children("li").eq(r));for(u=h-o;u>=0;u--)f.push(e[i[u]]),e.splice(i[u],o);f.reverse();t._listItem(f.concat(e));t.model.selectedIndices=t.model.selectedItems=t._selectedIndices=s},_showComboboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"visible"})},_hideComboboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"hidden"})},_showComboboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"visible"})},_hideComboboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"hidden"})},_getItemIndex:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].id===t)return i;return-1},_clearDropdownRequest:function(){this.requestTimer!==null&&clearTimeout(this.requestTimer)},_fetchingDropdownData:function(r,u,f,e,o,s,h,c){var it=0,w=0,d=0,st=1,p=-1,ht=-1,tt=!1,ut=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDashboardDropDownList"),pt=this,b=[],g=[],ct=[],ft=[],l,a,lt,at,ot,vt,v,k,yt,nt;if(typeof u=="undefined"||typeof u.itemId!="undefined"||datePicker){var rt=n("#"+this._id+t.DashboardConstants.Widget+r),et=rt.data("ejDashboardDropDownList").getListData(),y=this.dashboardControls.getControlByReport(r);if(!f){if(e&&u.model.selectedItems.length===u.model.itemsCount&&rt.data("ejDashboardDropDownList").option("watermarkText",t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All),e&&!f&&u!==i){if(rt.data("ejDashboardDropDownList").model.selectedItems.sort(function(n,t){return n-t}),l=rt.data("ejDashboardDropDownList"),t.isNullOrUndefined(l._totalSelectedItems)&&(l._totalSelectedItems=[]),a=0,t.isNullOrUndefined(s)){if(u.isChecked){for(tt=!1,at=l._totalSelectedItems.length,a=0;a<at;a++)if(u.selectedValue===l._totalSelectedItems[a].Value){tt=!0;break}tt||l._totalSelectedItems.push({Column:l.popupListItems[0].column,Value:u.selectedValue,Text:u.selectedText})}else for(a=0;a<l._totalSelectedItems.length;a++)if(u.selectedValue===l._totalSelectedItems[a].Value){l._totalSelectedItems.splice(a,st);break}}else if(u.isChecked){for(tt=!1,lt=l._totalSelectedItems.length,a=0;a<lt;a++)if(u.selectedText===l._totalSelectedItems[a].Value&&u.selectedValue===l._totalSelectedItems[a].HiddenValue){tt=!0;break}tt||l._totalSelectedItems.push({Column:l.popupListItems[0].column,Value:u.selectedText,HiddenColumnName:l.popupListItems[0].hiddenColumnName,HiddenValue:u.selectedValue})}else for(a=0;a<l._totalSelectedItems.length;a++)if(u.selectedText===l._totalSelectedItems[a].Value&&u.selectedValue===l._totalSelectedItems[a].HiddenValue){l._totalSelectedItems.splice(a,st);break}l._totalSelectedItems.length>it&&(b=l._totalSelectedItems)}else t.isNullOrUndefined(u)||(t.isNullOrUndefined(s)?b.push({Column:et[0].column,Value:u.selectedValue,Text:u.selectedText}):b.push({Column:et[0].column,Value:u.selectedText,HiddenColumnName:et[0].hiddenColumnName,HiddenValue:u.selectedValue}));for(ot=b.length,d=0;d<ot;d++)g.push(b[d].Value),ft.push(b[d].Text),t.isNullOrUndefined(b[d].HiddenValue)||ct.push(b[d].HiddenValue);for(vt=ut.model.query._params.length,w=0;w<vt;w++)ut.model.query._params[w].key==="selectedItems"&&(ut.model.query._params[w].value=JSON.stringify(g));ot===it&&(u.model.watermarkText=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All)}if(v=null,b.length>it)if(t.isNullOrUndefined(s))p=this._checkFilterInfo(b[0].Column,y.SelectedFilterInfo),t.isNullOrUndefined(p)||p===ht?(v=new selectedFilterInfo,v.UniqueColumnName=b[0].Column,t.isNullOrUndefined(c)||c!==b[0].Column.toUpperCase()?(v.DimensionFilterInfo.Text=g,v.DimensionFilterInfo.Conditions="Include"):(v.DateFilterInfo.DateFilterList=g,v.DateFilterInfo.DisplayDateFilterList=ft,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),v.ReportName=y.reportName,y.SelectedFilterInfo.push(v)):t.isNullOrUndefined(c)||c!==b[0].Column.toUpperCase()?(y.SelectedFilterInfo[p].DimensionFilterInfo.Text=g,y.SelectedFilterInfo[p].DimensionFilterInfo.Conditions="Include",y.SelectedFilterInfo[p].ReportName=y.reportName):(y.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=g,y.SelectedFilterInfo[p].DateFilterInfo.DisplayDateFilterList=ft);else for(k=[],k.push(b[0].Column),k.push(b[0].HiddenColumnName),yt=k.length,w=0;w<yt;w++)p=this._checkFilterInfo(k[w],y.SelectedFilterInfo),nt=w>it?ct:g,t.isNullOrUndefined(p)||p===ht?(v=new selectedFilterInfo,v.UniqueColumnName=k[w],t.isNullOrUndefined(c)||c!==k[w].toUpperCase()?t.isNullOrUndefined(h)||h!==k[w].toUpperCase()?(v.DimensionFilterInfo.Text=nt,v.DimensionFilterInfo.Conditions="Include"):(v.DateFilterInfo.DateFilterList=nt,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(v.DateFilterInfo.DateFilterList=nt,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),v.ReportName=y.reportName,y.SelectedFilterInfo.push(v)):t.isNullOrUndefined(c)||c!==k[w].toUpperCase()?t.isNullOrUndefined(h)||h!==k[w].toUpperCase()?(y.SelectedFilterInfo[p].DimensionFilterInfo.Text=nt,y.SelectedFilterInfo[p].DimensionFilterInfo.Conditions="Include",y.SelectedFilterInfo[p].ReportName=y.reportName):y.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=nt:y.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=nt;else y.SelectedFilterInfo=[];if(t.isNullOrUndefined(o)||o===""||(this._controlNavigate(o,[]),isMaster))return v}},_sendDropdownListRequest:function(r,u,f,e,o){var c=0,y=-1,p=this.dashboardControls.getControlByReport(r).configInfo;t.isNullOrUndefined(p)||(this.dashboardControls.getControlByReport(r).configInfo.SelectFirstItem=!1);var a=n("#"+this._id+t.DashboardConstants.Widget+r),s=this,l=[],h=[],v=null;this.requestTimer=setTimeout(function(){for(var p,w,b=s.controlRelations.length,f=0;f<b;f++)if(s.controlRelations[f].Master.lastIndexOf("_"+r)!==y){if(h=s.controlRelations[f].Master,l=s.controlRelations[f].Slaves,s.model.enableVirtualLoading&&(l===null||l.length===c)){v=s._checkFilterOverviewData(r);s._addFilterDataToTitle(v);return}p=null;u&&!e&&o!==i&&(p=a.data("ejDashboardDropDownList"),a.data("ejDashboardDropDownList").model.selectedItems.sort(function(n,t){return n-t}));w={master:r,slaves:l,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};s._makeSlaveDataRequest(w);t.isNullOrUndefined(o)||(!u||p._totalSelectedItems.length===c)&&u?u&&!t.isNullOrUndefined(p)&&p._totalSelectedItems.length===c&&(n("#"+h+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+h).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+h+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+h).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));break}s.requestTimer=null},o===null||!u?c:1500)},_onGlobalFilterChange:function(i,r,u,f,e,o,s,h,c,l,a){var v=n("#"+this._id+t.DashboardConstants.Widget+f).data("ejDashboardDropDownList"),p,y;(v._isChanged=!0,p=this,!t.isNullOrUndefined(v.inputSearch)&&v.inputSearch&&v.inputSearch.val()!==""&&(y={},a.isChecked&&(y.id=a.selectedValue,y.text=a.selectedText,y.column=s,this._appendSelectedItemOnSearch(v,y))),this.flag)&&(p._fetchingDropdownData(f,a,u,r,e,h,c,l),p._clearDropdownRequest(),p._sendDropdownListRequest(f,r,i,u,a))}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.filters={_renderDatePicker:function(r){var o=0,g=-1,a=1,ot=2,st=30,ut=st,u=r.configInfo,f=r,k=r.getCurrentPageData(),e=null,c,v,y,it,l,ft,et,ht,nt,tt,ct,lt,d;if(e=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),c=e.find(".e-dbrd-control"),k.isError){e.attr({"data-controlId":u.Id});e.find(".e-dbrd-control").attr({"data-controlId":u.Id});e.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(k.pagedata,c,u);return}this._hideControlError(c);v=null;y=null;t.isNullOrUndefined(u.Data)?t.isNullOrUndefined(f.maxMinData)||(v=f.maxMinData[o].text,y=f.maxMinData[a].text):(v=u.Data[o].text,y=u.Data[a].text);var p=null,w=null,s=null,at=this.target.length;for(it=0;it<at;it++)if(this.target[it].indexOf(u.Id)!==g){if(w=this._id+t.DashboardConstants.Widget+u.Id,p=n("#"+w),e=p.parents(".e-dbrd-layout-cell"),!t.isNullOrUndefined(e.find(".e-dbrd-control"))&&e.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(v.length===o&&y.length===o?o:a,e.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(v.length===o&&y.length===o?o:a,e.find(".e-dbrd-control")))return;if(l=p.data("ejDashboardDashboardDatePicker"),l){if(l.model.dataSource=k.pagedata,l.model.startDate=v,l.model.endDate=y,l.model.value=u!==null&&!t.isNullOrUndefined(u.SelectedDates)?{range:u.SelectedDates.Range,start:u.SelectedDates.StartValue,end:u.SelectedDates.EndValue}:null,k.pagedata.length===a&&l.model.datePickerType==="single"&&(l.model.value={range:!1,start:k.pagedata[0],end:null}),f.SelectedFilterInfo!==null&&f.SelectedFilterInfo.length>o)if(f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===ot||u.IsRangeDate){if(ft=f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],u.Ranges)for(et=Object.values(JSON.parse(u.Ranges)),ht=et.length,nt=0;nt<ht;nt++)if(JSON.stringify(f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)===JSON.stringify(et[nt])){ft=Object.keys(JSON.parse(u.Ranges))[nt];break}s={Range:u.Ranges?ft:null,StartValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1],Format:u.DateFormat}}else f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===a&&(s={Range:null,StartValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:null,Format:u.DateFormat});l.model.value=t.isNullOrUndefined(s)?null:{range:s.Range,start:s.StartValue,end:s.EndValue};c.css({display:"table"});l.redraw()}else{w=null;break}t.isNullOrUndefined(s)?(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));return}if(w===null||w===i){p=n("<input>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}).css({"min-height":"19px"}).addClass("e-FilterBox");e.find(".e-remove-control-filter").attr("id",p.attr("id")+"_removeControlFilter");e.find(".e-dbrd-control").attr({"data-controlId":u.Id});f.SelectedFilterInfo&&f.SelectedFilterInfo.length>o&&(u.IsRangeDate?(tt=u.Ranges?this._getIndexofRangeValues(u.Ranges,f.SelectedFilterInfo[0].DateFilterInfo):g,s={Range:tt!==g?Object.keys(JSON.parse(u.Ranges))[tt]:null,StartValue:tt===g?f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:null,EndValue:tt===g?f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:null,Format:u.DateFormat}):f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===a&&(s={Range:null,StartValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:null,Format:u.DateFormat}));t.isNullOrUndefined(s)||(e.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));ct=e.children().width()===o?Number(e.attr("colspan"))*55:e.children().width();c.height()<32&&(ut=c.height()-4,lt=ut/ot,c.css({"font-size":lt+"px"}));e.attr({"data-controlId":u.Id,"data-controltype":"DatePicker"});c.css({display:"table"});c.find("#"+this._id+"_GlobalFilterDiv_"+u.Id).length===o&&c.append(n("<div>").css({width:"100%","margin-top":"20px",display:"table-cell","vertical-align":"middle"}).attr({id:this._id+"_GlobalFilterDiv_"+u.Id}).append(p));e.prop({column:u.ColumnName,datePickerType:u.IsRangeDate?"range":"single"});var vt=ct-st,yt=n.parseJSON(u.Ranges),pt=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.SelectDate:this.locale.utils.SelectDate,wt=k.pagedata,bt=u.IsRangeDate?"range":"single",kt=u.Highlight,dt=u.limitdate,gt=u.ShowCustom,ni=n.proxy(this._onDatePickerChange,this,u.Id,u.IsLinked?u.ControlLinkData:i),ti=t.isNullOrUndefined(s)?null:{range:s.Range,start:s.StartValue,end:s.EndValue},ii=u.DateFormat,rt=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants:this.locale.utils,ri=rt.Apply,ui=rt.Cancel,fi=rt.From,ei=rt.To,b=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.DaysOfWeek:this.locale.DaysOfWeek,oi=b.DaysOfWeekSu,si=b.DaysOfWeekMo,hi=b.DaysOfWeekTu,ci=b.DaysOfWeekWe,li=b.DaysOfWeekTh,ai=b.DaysOfWeekFr,vi=b.DaysOfWeekSa,h=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.MonthNames:this.locale.MonthNames,yi=h.MonthJan,pi=h.MonthFeb,wi=h.MonthMar,bi=h.MonthApr,ki=h.MonthMay,di=h.MonthJun,gi=h.MonthJul,nr=h.MonthAug,tr=h.MonthSep,ir=h.MonthOct,rr=h.MonthNov,ur=h.MonthDec;p.ejDashboardDashboardDatePicker({cssClass:"e-dbrd-control",startDate:v,endDate:y,width:vt,height:ut,ranges:yt,watermarkText:pt,dataSource:wt,datePickerType:bt,highlightAvailableDates:kt,enableRTL:!1,limitDate:dt,showCustomDatePicker:gt,selected:ni,locale:{format:ii,applyLabel:ri,cancelLabel:ui,fromLabel:fi,toLabel:ei,daysOfWeek:[oi,si,hi,ci,li,ai,vi],monthNames:[yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur]},value:ti});d=null;d=t.isNullOrUndefined(r.configInfo)||t.isNullOrUndefined(r.configInfo.ColumnName)||r.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?p.parents(".e-dbrd-layout-cell"):p.parents(".e-dbrd-filter-wrapper");!t.isNullOrUndefined(d.find(".e-dbrd-control"))&&d.find(".e-dbrd-control").height()>60?this._applyOrRemoveNoDataAvailable(v.length===o&&y.length===o?o:a,d.find(".e-dbrd-control")):this._applyOrRemoveNoDataAvailableForFilters(v.length===o&&y.length===o?o:a,d.find(".e-dbrd-control"))}},_getIndexofRangeValues:function(n,t){var r=-1,u=-1,i;if(Object.keys(JSON.parse(n)).indexOf(t.DateFilterList[0])!==r)return Object.keys(JSON.parse(n)).indexOf(t.DateFilterList[0]);for(i=0;i<this._objectValues(JSON.parse(n)).length;i++)this._objectValues(JSON.parse(n))[i][0].indexOf(t.DateFilterList[0])!==r&&this._objectValues(JSON.parse(n))[i][1].indexOf(t.DateFilterList[1])!==r&&(u=i);return u},_setDatePickerConfigInfo:function(n){n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ShowCustom=t.isNullOrUndefined(n.configInfo.ShowCustom)||n.configInfo.ShowCustom;n.configInfo.LimitDate=t.isNullOrUndefined(n.configInfo.LimitDate)||n.configInfo.LimitDate;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.Highlight=!t.isNullOrUndefined(n.configInfo.Highlight)&&n.configInfo.Highlight;n.configInfo.IsRangeDate=!t.isNullOrUndefined(n.configInfo.IsRangeDate)&&n.configInfo.IsRangeDate;n.configInfo.Ranges=t.isNullOrUndefined(n.configInfo.Ranges)?"":n.configInfo.Ranges;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.DateFormat=t.isNullOrUndefined(n.configInfo.DateFormat)?"":n.configInfo.DateFormat},_renderRangeSlider:function(i){var s=0,d=1,ft=5,et=55,ot=120,u=i.configInfo,r=i,o=i.getCurrentPageData(),h,v,l,k,st,ht,ct,it,rt,w,b,ut,wt,bt;this._initializeSlider(u.dateformat);var c=null,f=null,e=null;if(e=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),h=null,o.isError){e.attr({"data-controlId":o.Id});e.find(".e-dbrd-control").attr({"data-controlId":u.Id});e.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(o.pagedata,e.find(".e-dbrd-control"),u);return}if(this._hideControlError(e.find(".e-dbrd-control")),v=null,l=null,n("#"+this._id+t.DashboardConstants.Widget+u.Id).length===s||n("#"+this._id+t.DashboardConstants.Widget+u.Id).children().length===s){k=n("<div>").css({display:"table-cell","vertical-align":"middle"});h=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardRangeSliderControl").addClass("e-FilterBox");k.append(h);v=n("<div>").attr({id:"leftcontainer_"+u.Id}).css({height:"15px",display:"block",position:"absolute"});v.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}).html(o.pagedata.RangeStart));l=n("<div>").attr({id:"rightcontainer_"+u.Id}).css({height:"15px",width:"50px",position:"absolute",display:"block"});st=t.browserInfo();st.name==="msie"?l.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block","vertical-align":"middle",position:u.orientation==="horizontal"?"absolute":"relative",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}).html(o.pagedata.RangeEnd)):l.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block","vertical-align":"middle","white-space":"pre",overflow:"hidden","text-overflow":"ellipsis"}).html(o.pagedata.RangeEnd));u.orientation==="HORIZONTAL"?(v.css({width:"50%",left:"2%"}),v.children("label").css({"text-align":"left",margin:"0px 0px 0px 10px"}),l.css({width:"50%",right:"2%"}),l.children("label").css({"text-align":"right",margin:"0px 10px 0px 0px"})):(v.css({width:"100%","padding-top":"8px"}),v.children("label").css({"text-align":"center"}),l.css({width:"100%",top:"30px"}),l.children("label").css({"text-align":"center"}));e.find(".e-dbrd-control").height()>40&&(u.sliderType==="RANGE"&&k.append(v),k.append(l));e.addClass("e-dbrd-slider-control").css({"background-color":"transparent"}).attr({"data-controlId":u.Id});e.find(".e-dbrd-control").append(k).css({display:"table"});e.find(".e-dbrd-control").attr({"data-controlId":u.Id});e.find(".e-remove-control-filter").attr("id",h.attr("id")+"_removeControlFilter");e.attr({"data-controlId":o.Id,"data-controltype":"RangeSlider"});ht=e.width()===s?Number(e.attr("colspan"))*et:e.width()*Number(e.attr("colspan"));ct=e.height()===s?Number(e.attr("rowspan"))*et:e.height()*Number(e.attr("rowspan"));r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].MeasureFilterInfo)&&r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>s?r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>d?(c=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0],f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]):f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0]:r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo)&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>s?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>d?(c=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],f=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]):f=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:(c=o.pagedata.RangeStart,f=o.pagedata.RangeEnd);var tt=u.sliderType,g=u.orientation,nt=o.pagedata,kt=parseInt(nt.RangeStart),dt=parseInt(nt.RangeEnd),lt=g==="HORIZONTAL"?ft:ct-ot,gt=[parseInt(c),parseInt(f)],ni=parseInt(f),at=g==="HORIZONTAL"?ht-ot:ft,vt=u.FormattedColumn,yt=n.proxy(this._onSlideChange,this,vt,u.Id),pt=[];if(u.isDate&&(pt=tt==="RANGE"?[new Date(c.replace("-"," ","g")),new Date(f.replace("-"," ","g"))]:new Date(f.replace("-"," ","g"))),it=n.proxy(this._onRangeSliderChange,this,u.Id,u.ColumnName,u.IsLinked?u.ControlLinkData:null,u.FormattedColumn,o.pagedata,u.DateTimeColumns,u),u.isDate?h.ejDashboardSlider({sliderType:tt.toLowerCase(),orientation:g.toLowerCase(),minDate:new Date(nt.RangeStart.replace("-"," ","g")),maxDate:new Date(nt.RangeEnd.replace("-"," ","g")),height:lt,cssClass:" e-dbrd-canvas",dateValue:pt,width:at,change:it,slide:yt}):h.ejDashboardSlider({sliderType:tt.toLowerCase(),orientation:g.toLowerCase(),minValue:kt,maxValue:dt,height:lt,cssClass:" e-dbrd-canvas",values:gt,value:ni,width:at,change:it,slide:yt,formatColumn:vt}),rt=!t.isNullOrUndefined(o.pagedata.RangeStart&&o.pagedata.RangeEnd)&&o.pagedata.RangeStart!==""&&o.pagedata.RangeEnd!==""?t.DashboardConstants.One:t.DashboardConstants.Zero,w=null,w=t.isNullOrUndefined(i.configInfo)||t.isNullOrUndefined(i.configInfo.ColumnName)||i.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?h.parents(".e-dbrd-layout-cell"):h.parents(".e-dbrd-filter-wrapper"),!t.isNullOrUndefined(w.find(".e-dbrd-control"))&&w.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(rt,w.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(rt,w.find(".e-dbrd-control")))return;!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>s&&(e.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.find(".e-dbrd-control-container").data({IsFilterApplied:!0}))}else{if(h=n("#"+this._id+t.DashboardConstants.Widget+u.Id),b=null,b=t.isNullOrUndefined(i.configInfo)||t.isNullOrUndefined(i.configInfo.ColumnName)||i.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?h.parents(".e-dbrd-layout-cell"):h.parents(".e-dbrd-filter-wrapper"),ut=!t.isNullOrUndefined(o.pagedata.RangeStart&&o.pagedata.RangeEnd)&&o.pagedata.RangeStart!==""&&o.pagedata.RangeEnd!==""?t.DashboardConstants.One:t.DashboardConstants.Zero,!t.isNullOrUndefined(b.find(".e-dbrd-control"))&&b.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(ut,b.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(ut,b.find(".e-dbrd-control")))return;var y=h.data("ejDashboardSlider"),p=o.pagedata.RangeStart,a=o.pagedata.RangeEnd;r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].MeasureFilterInfo)&&r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>s?r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>d?(c=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0]<p?p:r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0],f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]<a?r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]:a):f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]<a?r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]:a:r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo)&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>s?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>d?(c=new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0].toString())<new Date(p)?p:r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],f=new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1].toString())<new Date(a)?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:a):f=new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1].toString())<new Date(a)?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:a:(c=!t.isNullOrUndefined(r.SelectedItems.Included)&&r.SelectedItems.Included.length!==s?r.SelectedItems.Included[0]:p,f=!t.isNullOrUndefined(r.SelectedItems.Included)&&r.SelectedItems.Included.length!==s?r.SelectedItems.Included[1]:a);u.isDate?(y.option("minDate",new Date(p.replace("-"," ","g"))),y.option("maxDate",new Date(a.replace("-"," ","g"))),y.option("dateValue",u.sliderType==="RANGE"?[new Date(c.replace("-"," ","g")),new Date(f.replace("-"," ","g"))]:new Date(f.replace("-"," ","g")))):(y.option("minValue",parseInt(p)),y.option("maxValue",parseInt(a)),u.sliderType==="RANGE"?y.option("values",[parseInt(c),parseInt(f)]):y.option("value",parseInt(f)));wt=h.attr("id");bt=r.SelectedFilterInfo.length===t.DashboardConstants.Zero;this._isSliderHasFilter(wt,bt)}n("#"+h.attr("id")+"_wrapper").addClass("rangeslider_wrapper");v=n("#leftcontainer_"+u.Id);l=n("#rightcontainer_"+u.Id);u.sliderType==="RANGE"?(v.children("label").html(u.FormattedColumn!==null?this._applyFormattingForSlider(u.FormattedColumn,c):c),l.children("label").html(u.FormattedColumn!==null?this._applyFormattingForSlider(u.FormattedColumn,f):f)):l.children("label").html(u.FormattedColumn!==null?this._applyFormattingForSlider(u.FormattedColumn,f):f)},_setRangeSliderConfigInfo:function(n){n.configInfo.sliderType=t.isNullOrUndefined(n.configInfo.sliderType)?"RANGE":n.configInfo.sliderType;n.configInfo.orientation=t.isNullOrUndefined(n.configInfo.orientation)?"HORIZONTAL":n.configInfo.orientation;n.configInfo.isDate=!t.isNullOrUndefined(n.configInfo.isDate)&&n.configInfo.isDate;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.FormattedColumn=t.isNullOrUndefined(n.configInfo.FormattedColumn)?null:n.configInfo.FormattedColumn;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;!t.isNullOrUndefined(n.configInfo.FormattedColumn)&&t.isNullOrUndefined(n.configInfo.FormattedColumn.unit)&&(n.configInfo.FormattedColumn.unit=t.DashboardConstants.Zero);n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.dateformat=t.isNullOrUndefined(n.configInfo.dateformat)?"":n.configInfo.dateformat;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns},_applyFormattingForSlider:function(n,i){var r,u;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(r="",t.preferredCulture(n.culture),u=t.globalize.parseFloat(i.toString(),n.culture),isNaN(u))return i;if(u<0){u=Math.abs(u);u=n.unit===t.DashboardConstants.Zero?this._truncateNumber(u):this._applyNumberUnit(n.unit,u);r=this._adjustZeros(u,n.unit,n.format,n.culture);t.isNullOrUndefined(n.decimalSeparator)||t.isNullOrUndefined(n.groupSeparator)||(r=r.replaceAll(n.decimalSeparator.CurrentValue,n.decimalSeparator.AliasValue),r=r.replaceAll(n.groupSeparator.CurrentValue,n.groupSeparator.AliasValue));switch(n.negativeValueFormat){case"Default":r="-"+r;break;case"NoNegativeSignWithBracket":r="("+r+")";break;case"NegativeSignInSuffix":r+="-"}}else u=n.unit===t.DashboardConstants.Zero?this._truncateNumber(u):this._applyNumberUnit(n.unit,u),r=this._adjustZeros(u,n.unit,n.format,n.culture),t.isNullOrUndefined(n.decimalSeparator)||t.isNullOrUndefined(n.groupSeparator)||(r=r.replaceAll(n.decimalSeparator.CurrentValue,n.decimalSeparator.AliasValue),r=r.replaceAll(n.groupSeparator.CurrentValue,n.groupSeparator.AliasValue));return n.prefix+r+n.suffix}return null},_initializeSlider:function(i){var u=24,r=60,f=1e3,e=t.Slider.prototype._init,o=t.Slider.prototype._setModel;n.extend(!0,t.Slider.prototype,{defaults:{minDate:null,maxDate:null,dateValue:null},_init:function(){if(this._isDate=this.model.minDate&&this.model.maxDate,this._isDate){this.model.incrementStep=u*r*r*f;this.model.minValue=Number(this.model.minDate);this.model.maxValue=Number(this.model.maxDate);var n=this.model.dateValue;n&&(this.model.sliderType==="range"?this.values([Number(n[0]),Number(n[1])]):this.value(Number(n)))}e.call(this)},_setModel:function(n){o.call(this,n);for(var t in n)if({}.hasOwnProperty.call(n,t))switch(t){case"minDate":this.option("minValue",Number(n[t]));break;case"maxDate":this.option("maxValue",Number(n[t]));break;case"dateValue":this._setDateValue(n[t])}},setValue:function(n,t){var i=n?Number(n):Number(this.model.minValue),r=t?Number(t):Number(this.model.minValue);this.model.sliderType==="range"?this._validateRangeValue([i,r]):this._validateValue(i)},_setDateValue:function(n){n&&(this.model.sliderType==="range"&&this.setValue(n[0],n[1]),this.setValue(n))},_updateModelValue:function(){var n=this._getHandleValue(!0);this.model.sliderType==="range"?this.values(n):this.value(n);this._hidden.val(this._getHandleValue())},_getHandleValue:function(n){return this.model.sliderType==="range"?[this._convertToDate(this.handleVal2,n),this._convertToDate(this.handleVal,n)]:this._convertToDate(this.handleVal,n)},_convertToDate:function(n,r){var u=null;return r||!this._isDate?n:(u=new Date(n),t.globalize.format(u,i))}})},_renderPage:function(t,i,r,u,f){for(var o,l,s,h,e=this._calculateCheckBoxSize(i,r,t),a=n("<table style='height: initial;'>").attr({cellspacing:3,cellpadding:3}),v=e.RowCount,y=e.ColumnCount,c=0;c<v;c++){for(o=n("<tr>"),l=v*(u-1)+c,o.attr({id:f+"_child_row_"+l}),s=0;s<y;s++)h=n("<td style='height:29px;padding-left:3px;padding-right:3px;padding-top:0px;padding-bottom:0px'>"),h.attr({id:f+"_child_column_"+(l*y+s)}),o.append(h),h.attr({align:"left"});a.append(o)}return{table:a,rowCount:e.RowCount,colCount:e.ColumnCount}},_addCheckbox:function(i,r,u,f,e){var o=0,v=1,d=i.find("td"),rt=i.find("tr"),l=u.currentPage,ot=u.getPageDataBypage(l),st=ot.pagedata,y=[],p=null,ut=e,w=!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>o&&(!t.isNullOrUndefined(u.SelectedFilterInfo[0].DimensionFilterInfo)||!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)),ft,b,a,h,s,nt,k,tt,it;for(w?(this.currentTabContentElement.find("#"+f+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),this.currentTabContentElement.find("#"+f).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(this.currentTabContentElement.find("#"+f+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),this.currentTabContentElement.find("#"+f).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})),!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>o&&(t.isNullOrUndefined(u.SelectedFilterInfo[0].DimensionFilterInfo)||u.SelectedFilterInfo[0].DimensionFilterInfo.Text.length===o?t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)||u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===o||(y=u.SelectedFilterInfo[0].DateFilterInfo.DisplayDateFilterList,p=u.SelectedFilterInfo[0].DateFilterInfo.Action):(y=u.SelectedFilterInfo[0].DimensionFilterInfo.Text,p=u.SelectedFilterInfo[0].DimensionFilterInfo.Conditions)),!r.ShowAll||w||r.ShowAsRadioButton||(ft=i.find("#"+f+"_child_column_0"),b=ft.find("#"+f+"_0_chkbx"),b.length>o&&!t.isNullOrUndefined(b.attr("userunchecked"))&&(ut=b.attr("userunchecked")==="false")),a=u.scrollSetting.controlPerPage,h=0;h<a;h++)if(s=st[h],s){var et=n("<div>").addClass(r.ShowAsRadioButton?"e-dbrd-radiobtn-container":"e-dbrd-checkbox-container").css({"margin-left":"5px"}),g=f+"_"+((l-v)*a+h)+"_chkbx",c=null;c=r.ShowAsRadioButton?n("<input type='radio'>").attr({id:g,name:r.Id}):n("<input type='checkbox'>").attr({id:g,name:r.Id});nt=n("<label>").attr({"for":g}).html(s.text);k=d.eq(h).width();k<=o&&(k=170);nt.css({"max-width":k-30+"px","padding-left":"5px",color:"#5b5b5b","font-weight":"normal","font-size":"14px","vertical-align":"text-top"});et.append(c,nt);i.find("#"+f+"_child_column_"+((l-v)*a+h)).html("");i.find("#"+f+"_child_column_"+((l-v)*a+h)).append(et);r.ShowAsRadioButton?c.ejDashboardRadioButton({checked:w?this._getCheckBoxSelectionState(y,s.value,p,r.ShowAsRadioButton,f,l,r.DateTimeColumns):u.totalCount===v?!0:s.text===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All),size:"medium",value:s.value,change:r.IsMasterFilter||r.IsLinked?n.proxy(this._loadCheckBoxSlaves,this,r.Id,!0,f,r.IsLinked?r.ControlLinkData:null,r.IsMasterFilter,r.DateTimeColumns):null}):c.ejDashboardCheckBox({checked:w?this._getCheckBoxSelectionState(y,s.value,p,r.ShowAsRadioButton,r.DateTimeColumns):ut,value:s.value,size:"small",change:r.IsMasterFilter||r.IsLinked?n.proxy(this._loadCheckBoxSlaves,this,r.Id,!1,f,r.IsLinked?r.ControlLinkData:null,r.IsMasterFilter,r.DateTimeColumns):null});c.parent().attr("tabindex","-1").addClass("e-multiple-series");!r.ShowAsRadioButton&&s.text===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.SelectAll:this.locale.utils.SelectAll)&&u.SelectedItems.Included.length>o&&c.attr("userunchecked",!0)}return tt=0,it=0,d.length!==o&&(it=d.eq(o).width()),rt.length!==o&&(tt=rt.eq(o).height()),{widthOfColumn:it,heightOfColumn:tt}},_renderCheckBoxandRadioButton:function(i,r){var y=0,k=-1,d=100,f=i.configInfo,h=null,o=i.getCurrentPageData(),e=null,c=null,u,w,a,nt,b,tt,it,rt,ut,ft,et,ot,v,s;if(this.sfType==="ej.DashboardViewer"&&this._isFilterPanelWidget(i.configInfo.Id)?(e=this.currentTabContentElement.find("#"+this._id+"_filter_panel_cell_"+f.Row+"_"+f.Column),c=this._id+"_filter_panel"):(c=this._id,e=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column)),u=e.find(".e-dbrd-control"),o.isError){u.attr({"data-controlId":f.Id});e.find(".e-dbrd-control").attr({id:c+t.DashboardConstants.Widget+f.Id});this._showControlError(o.pagedata,u,f);return}if(e.find(".e-dbrd-control").attr({id:""}),this._hideControlError(u),t.isNullOrUndefined(r)?(h=c+t.DashboardConstants.Widget+f.Id,u.attr({id:h}).addClass("e-dbrd-canvas").css({"overflow-y":"hidden","overflow-x":"hidden"}),e.find(".e-remove-control-filter").attr({id:h+"_removeControlFilter"}),e.attr({"data-controlType":"CheckBox","data-controlId":f.Id}),u.attr({"data-controlId":f.Id}).addClass("e-multiple-parent"),u.addClass(f.ShowAsRadioButton?"e-dbrd-control-radiobtn":"e-dbrd-control-checkbox").prop({"data-column":f.ColumnName})):u=r.cardDiv,!t.isNullOrUndefined(u)&&u.height()>60){if(!this._applyOrRemoveNoDataAvailable(o.pagedata.length,u))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(o.pagedata.length,u))return;var p=u.attr("id"),l=null,g=!0;if(i.loadedPages.length===y){if(u.find(".e-radiobutton.e-js.e-input")||u.find(".e-checkbox.e-js.e-input"))try{f.ShowAsRadioButton?t.widget.destroyAll(u.find(".e-radiobutton.e-js.e-input")):(w=u.find(".e-checkbox.e-js.e-input"),g=t.isNullOrUndefined(n(w[0]).attr("userunchecked"))||n(w[0]).attr("userunchecked")==="false",t.widget.destroyAll(u.find(".e-checkbox.e-js.e-input")))}catch(st){console.info("An error occured while clearing check box items")}u.html("");i.loadedPages.indexOf(i.currentPage)===k&&i.loadedPages.push(i.currentPage);a=this._renderPage(u,i.totalCount,o.pagedata,i.currentPage,p,i);l=a.table;i.scrollSetting.rowPerPage=a.rowCount;i.scrollSetting.colPerPage=a.colCount;i.totalCount>d?(i.scrollSetting.controlPerPage=d,i.totalPages=Math.ceil(i.totalCount/i.scrollSetting.controlPerPage),o.pagedata.length=i.scrollSetting.controlPerPage):(i.scrollSetting.controlPerPage=i.totalCount,i.totalPages=1);nt=n("<div>").width(u.width()-10);u.append(nt.append(l));u.data("ejDashboardScroller")&&u.ejDashboardScroller("destroy");b=u.parents(".e-dbrd-control-container").height()-u.parents(".e-dbrd-control-container").find(".e-control-heading").height();u.ejDashboardScroller({height:b-5,scrollerSize:13});i.scrollSetting.visibleHeight=b;u.data("ejDashboardScroller").option("scrollTop",i.scrollSetting.scrollTop)}else tt=0,it=0,i.currentPage===i.totalPages&&u.data("ejDashboardScroller").refresh(),i.loadedPages.indexOf(i.currentPage)===k&&(i.loadedPages.push(i.currentPage),rt={controlId:p,previousPage:tt,nextPage:it,data:i,heightofColumn:"29"},this._renderRowsOndemand(rt));if(l=u.find("table"),ut=this._addCheckbox(l,f,i,p,g),i.scrollSetting.widthOfColumn=ut.widthOfColumn,ft=i.getPageDataBypage(i.currentPage),ft.pagedata.length>1&&(u.data("ejDashboardScroller").refresh(),u.data("ejDashboardScroller").option("scrollTop",i.scrollSetting.scrollTop)),i.currentPage===i.totalPages){for(et=Math.ceil(i.totalCount/i.scrollSetting.colPerPage),ot=i.scrollSetting.rowPerPage*i.totalPages,v=et;v<ot;v++)s=n("#"+h+"_child_row_"+v),t.isNullOrUndefined(s)||s.find(".e-dbrd-checkbox-container").length!==y&&s.find(".e-dbrd-radiobtn-container").length!==y||s.remove();u.data("ejDashboardScroller").refresh();u.data("ejDashboardScroller").option("scrollTop",i.scrollSetting.scrollTop)}},_setChkboxConfigInfo:function(n){n.configInfo.ShowAsRadioButton=!t.isNullOrUndefined(n.configInfo.ShowAsRadioButton)&&n.configInfo.ShowAsRadioButton;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.ShowAll=t.isNullOrUndefined(n.configInfo.ShowAll)||n.configInfo.ShowAll;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns},_renderListBox:function(i,r){var w=0,pt=-1,ot=1,h=null,u=null,a=null,st=null,f=null,y=null,g=null,s=0,o=0,l=0,nt=!0,v=this,tt=null,b=null,k=!1,e,wt,bt,gt,rt,ht,ut,ni,ct,lt,at,vt,et,p;if(u=i.configInfo,st=i.getCurrentPageData(),e=this.dashboardControls.getControlByReport(u.Id),wt=JSON.parse(JSON.stringify(this.dashboardParameters)),h=st.pagedata,st.isError){bt=this._id+t.DashboardConstants.Widget+u.Id;g=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).find(".e-dbrd-control");g.attr({"data-controlId":u.Id,id:bt});this._showControlError("",g,u);return}g=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).find(".e-dbrd-control");this._hideControlError(g);var c=[],kt=!1,d=200,ti=400,ii=(new t.UrlAdaptor).extend({beforeSend:function(i,r){var e,u,f;if(v.sfType==="ejDashboard.DashboardFilterPanel"&&(v=n("#"+v.dashboardElement).data("ejDashboardViewer")),v.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(e=v.requestHeaders.customHeaders.length,u=t.DashboardConstants.Zero;u<e;u++)f=v.requestHeaders.customHeaders[u],r.setRequestHeader(f.Key,f.Value);r.setRequestHeader("X-Sync-Header",JSON.stringify(v.requestHeaders.customHeaders))}},listboxId:this._id+t.DashboardConstants.Widget+u.Id,processResponse:function(t,i,r,u,f,e){var o=n("#"+this.listboxId+"_lstbx").data("ejDashboardListBox"),s;return t.d=JSON.parse(t.d[0].Value[0].value),s=o.model.showCheckbox?o._listitems:o.listitem,t.d.length<d?o.model.totalItemsCount=s.length+t.d.length:(o.model.totalItemsCount=s.length+ti,o._oldStartValue=s.length+d),this.base.processResponse.apply(this,[t,i,r,u,f,e])}}),dt=this.model.enableVirtualLoading?t.DataManager({url:this.serviceUrl()+"/GetControlDataOnDemand",adaptor:new ii}):h,it=(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",u.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("listboxRowCount",JSON.stringify(e.totalCount)).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("filterParameters",this.initialFilters!==null?JSON.stringify(this.initialFilters):null).addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("dashboardName",this.dashboardName).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(wt)));if(!t.isNullOrUndefined(this.masterData))for(gt=this.masterData.length,l=0;l<gt;l++)this.masterData[l].Key===u.Id&&(tt=this.masterData[l].Filter,kt=!0);if(kt||(tt="Exclude"),rt=n("#"+this._id+t.DashboardConstants.Widget+u.Id+"_lstbx"),ht=!1,!t.isNullOrUndefined(rt)&&rt.length>t.DashboardConstants.Zero&&(ht=n(rt).attr("data-isuserunselect")==="true"),ut=h.length,e.SelectedFilterInfo.length!==w||ht){for(ni=e.SelectedFilterInfo.length,s=0;s<ni;s++)if(e.SelectedFilterInfo[s].DateFilterInfo!==null&&e.SelectedFilterInfo[s].DateFilterInfo.DateFilterList.length!==0){if(ct=e.SelectedFilterInfo[s].DateFilterInfo.DateFilterList.length,e.SelectedFilterInfo[s].DateFilterInfo.Action===w)for(o=0;o<ct;o++)b=this._getItemIndex(h,e.SelectedFilterInfo[s].DateFilterInfo.DisplayDateFilterList[o]),b!==pt&&c.push(b);else if(e.SelectedFilterInfo[s].DateFilterInfo.Action===ot)for(o=1;o<ut;o++){for(k=!1,l=0;l<ct;l++)if(e.SelectedFilterInfo[s].DateFilterInfo.DisplayDateFilterList[l]===h[o].id){c.includes(o)&&c.splice(c.indexOf(o),ot);k=!0;break}k||c.push(o)}}else if(e.SelectedFilterInfo[s].DimensionFilterInfo)if(lt=e.SelectedFilterInfo[s].DimensionFilterInfo.Text.length,e.SelectedFilterInfo[s].DimensionFilterInfo.Conditions===4)for(o=0;o<lt;o++)b=this._getItemIndex(h,e.SelectedFilterInfo[s].DimensionFilterInfo.Text[o]),b!==pt&&c.push(b);else if(e.SelectedFilterInfo[s].DimensionFilterInfo.Conditions===5)for(o=1;o<ut;o++){for(k=!1,l=0;l<lt;l++)if(e.SelectedFilterInfo[s].DimensionFilterInfo.Text[l]===h[o].id){c.includes(o)&&c.splice(c.indexOf(o),ot);k=!0;break}k||c.push(o)}}else for(s=0;s<ut;s++)c.push(s);if(at=100,n("#"+this._id+t.DashboardConstants.Widget+u.Id+"_lstbx").data("ejDashboardListBox")){if(a=this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+u.Id+"_lstbx"),f=a.closest(".e-dbrd-control-listbox"),y=f.parents("td"),vt=a.data("ejDashboardListBox"),!t.isNullOrUndefined(f)&&f.height()>60){if(!this._applyOrRemoveNoDataAvailable(h.length,f))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(h.length,f))return;if(vt){vt.destroy();var yt=u.MultiSelect,ft=this.model.enableVirtualLoading,ri=ft?[]:c,ui=h.length+(h.length<at?t.DashboardConstants.Zero:d),fi=ft?n.proxy(this.listBoxActionBeforeSuccess,this,f.find("ul"),u.Id):null,ei=ft?n.proxy(this.listBoxActionComplete,this,f.find("ul"),u.Id):null,oi=u.Id,si=f.width().toString()+"px",hi=f.height().toString(),ci=!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>w&&!u.MultiSelect?c[0]:null,li=yt?n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,a[0].id,u.ColumnName,u.MultiSelect,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id):null,ai=yt?null:n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,a[0].id,u.ColumnName,!1,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id);f.find("ul").ejDashboardListBox({dataSource:dt,showCheckbox:yt,allowVirtualScrolling:!0,fields:{id:"id",value:"value",text:"text"},checkedIndices:ri,totalItemsCount:ui,virtualScrollMode:"continuous",itemRequestCount:d,query:it,actionBegin:ft?function(n){nt=v._listBoxActionBegin(this,n,nt,e.totalCount,f.find("ul"),h,it,c,tt)}:null,actionBeforeSuccess:fi,actionComplete:ei,name:oi,width:si,height:hi,checkChange:li,selected:ai,selectedItemIndex:ci})}else a=null;!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>w?(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));return}if(a===null&&(a=this._id+t.DashboardConstants.Widget+u.Id,y=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=y.find(".e-dbrd-control").removeAttr("tabindex"),f.attr({id:a}).addClass("e-dbrd-canvas").css({"overflow-y":"hidden","overflow-x":"hidden"}),y.find(".e-remove-control-filter").attr({id:a+"_removeControlFilter"}),y.attr({"data-controlType":r?"FilterComboBox":"ListBox","data-controlId":u.Id}),f.attr({"data-controlId":u.Id}),f.addClass("e-dbrd-control-listbox").prop({"data-column":u.ColumnName})),et=a+"_lstbx",p=n("<ul>").attr({id:et}).addClass("dashboardListBox").css({width:"100%"}),f.append(p),!t.isNullOrUndefined(f)&&f.height()>60){if(!this._applyOrRemoveNoDataAvailable(h.length,f))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(h.length,f))return;!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>w&&(y.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),y.find(".e-dbrd-control-container").data({IsFilterApplied:!0}));t.support.stableSort=!1;p.ejDashboardListBox({dataSource:dt,showCheckbox:u.MultiSelect,allowVirtualScrolling:!0,fields:{id:"id",value:"value",text:"text"},checkedIndices:this.model.enableVirtualLoading?[]:c,totalItemsCount:h.length+(h.length<at?t.DashboardConstants.Zero:d),virtualScrollMode:"continuous",itemRequestCount:d,query:it,actionBegin:this.model.enableVirtualLoading?function(n){nt=v._listBoxActionBegin(this,n,nt,e.totalCount,p,h,it,c,tt)}:null,actionBeforeSuccess:this.model.enableVirtualLoading?n.proxy(this.listBoxActionBeforeSuccess,this,p,u.Id):null,actionComplete:this.model.enableVirtualLoading?n.proxy(this.listBoxActionComplete,this,p,u.Id):null,name:u.Id,width:f.width().toString()+"px",height:f.height().toString(),checkChange:u.MultiSelect?n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,et,u.ColumnName,u.MultiSelect,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id):null,selected:u.MultiSelect?null:n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,et,u.ColumnName,!1,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id),selectedItemIndex:!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>w&&!u.MultiSelect?c[0]:null});p.find(".e-ddl-popup").attr("tabindex","-1")},_setListBoxConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.HiddenColumnName=t.isNullOrUndefined(n.configInfo.HiddenColumnName)?null:n.configInfo.HiddenColumnName;n.configInfo.MultiSelect=!t.isNullOrUndefined(n.configInfo.MultiSelect)&&n.configInfo.MultiSelect;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.dd_master)||n.configInfo.IsMasterFilter;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.HiddenDateTimeColumns=t.isNullOrUndefined(n.configInfo.HiddenDateTimeColumns)?[]:n.configInfo.HiddenDateTimeColumns;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.Fieldscount=t.isNullOrUndefined(n.configInfo.Fieldscount)?t.DashboardConstants.One:n.configInfo.Fieldscount;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName},_getItemIndex:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].id===t)return i;return-1},_listBoxActionBegin:function(i,r,u,f,e,o,s,h,c){for(var l=0,a=r.model.query._params.length,l=0;l<a;l++)r.model.query._params[l].key==="masterData"?r.model.query._params[l].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData()):r.model.query._params[l].key==="currentUser"?r.model.query._params[l].value=JSON.stringify(this.currentUser):r.model.query._params[l].key==="filterParameters"&&(r.model.query._params[l].value=this.initialFilters!==null?JSON.stringify(this.initialFilters):null);return u?(r.cancel=!0,i.model.query=s,i.mergeData(o,!0),i._changeEvent=t.isNullOrUndefined(i.model)?"":i.model.checkChange,e.ejDashboardListBox({checkedIndices:h}),n(e).attr("data-isuserunselect",c==="Include"),!1):!1},listBoxActionComplete:function(t){var i=n(t).data("ejDashboardListBox");i.model.checkChange=i._changeEvent},listBoxActionBeforeSuccess:function(i,r,u){var h=n(i).data("ejDashboardListBox"),f=0,e=0,o,a,s,c,l,v;if(h._changeEvent=h.model.checkChange,h.model.checkChange=null,o=null,!t.isNullOrUndefined(this.masterData))for(a=this.masterData.length,s=0;s<a;s++)this.masterData[s].Key===r&&(o=this.masterData[s].Value[0].Items);if(c=u.result.length,n(i).attr("data-isuserunselect")==="true"){for(f=0;f<c;f++)if(o!==null){for(v=o.length,e=0;e<v;e++)if(u.result[f].text===o[e].Value){u.result[f].checkBy=!0;break}u.result[f].checkBy=!1}}else for(f=0;f<c;f++)if(o!==null){if(l=o.length,l>0)for(e=0;e<l;e++)if(u.result[f].text===o[e].Value){u.result[f].checkBy=!1;break}else u.result[f].checkBy=!0}else u.result[f].checkBy=!0},_selectGivenDates:function(n,i,r){var f,u;if(!t.isNullOrUndefined(r))for(f=n.length,u=0;u<f;u++)if(this.getDateInFormat(r.date)===n[u]){r.element.addClass("e-available-date").removeClass("e-disable");r.element.css({color:i?"white":"black"});break}else r.element.removeClass("e-disable").addClass("e-unavailable-date")},getDateInFormat:function(n){var u=10,r=new Date(n),t=r.getDate(),i=r.getMonth()+1,f=r.getFullYear();return t<u&&(t="0"+t),i<u&&(i="0"+i),t+"/"+i+"/"+f},_calculateCheckBoxSize:function(n,i,r){for(var c,s=0,l=190,u=1,f=0,o=i.length,e=0,h=0;h<o;h++)c=t.EjSvgRender.utils._measureText(i[h],100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+23,c>e&&(e=c);return e+=r.attr("data-controlid").indexOf("RadioButton")!==-1?15:10,e>l&&(e=l),u=Math.floor((r.width()-17)/e),u<=s&&(u=1),o<u&&(u=o),f=Math.ceil(o/u),f<=s&&(f=1),f<=s&&(f=1),{ColumnCount:Math.round(u),RowCount:Math.round(f)}},_getCheckBoxSelectionState:function(n,i,r,u,f){var c=0,e=0,o=r,s,l,h,a,v;if((o===c||o===4)&&(o="Include"),!u){if(typeof n!="undefined"&&n.length>c){if(i===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.SelectAll:this.locale.utils.SelectAll)||(s=n.length>c,l=!s,l))return!1;for(h=s?n:[],a=h.length,e=0;e<a;e++)if(f!==null){if(s=o!=="Include",h[e]===i)return o==="Include"}else if(s=o!=="Include",h[e]===i)return o==="Include";return s===!0}return!0}for(v=n.length,e=0;e<v;e++)if(n[e]===i)return!0;return!1},_checkSelection:function(t){var i=0,u=n("#"+t),r=n("#"+t+"_popup").find(".e-content .e-ul .e-checkbox").eq(i).data("ejDashboardCheckBox");r.model.checkState==="check"&&u.data("ejDashboardDropDownList").model.selectedItems[0]===i&&r.option("enableTriState",!1)},_onDatePickerChange:function(i,r,u){for(var f,a,c,e,w,v=0,y=-1,o=[],h=null,l=null,p=null,b=this.controlRelations.length,s=0;s<b;s++)if(this.controlRelations[s].Master.lastIndexOf("_"+i)!==y){l=this.controlRelations[s].Master;h=this.controlRelations[s].Slaves;break}if(f=this.dashboardControls.getControlByReport(i),f.SelectedItems.Included=[],f.SelectedFilterInfo=[],!t.isNullOrUndefined(u)&&(u.datePickerType==="single"?o.push(u.value):(o.push(u.selectedValues.start),o.push(u.selectedValues.end)),!t.isNullOrUndefined(r))){this._controlNavigate(r,[]);return}if(this.model.enableVirtualLoading&&(h===null||h.length===v)){p=this._checkFilterOverviewData(i);this._addFilterDataToTitle(p);return}a=f.configInfo.ColumnName;o.length>v&&(c=this._checkFilterInfo(a,f.SelectedFilterInfo),t.isNullOrUndefined(c)||c===y?(e=new selectedFilterInfo,e.UniqueColumnName=a,e.DateFilterInfo.DateFilterList=o,e.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange,e.DateFilterInfo.DateFilterType="Exact",e.ReportName=f.reportName,f.SelectedFilterInfo.push(e)):f.SelectedFilterInfo[c].DateFilterInfo.DateFilterList=o);w={master:i,masterData:this.masterData,slaves:h,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(w);t.isNullOrUndefined(u)||(n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+l).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},_onRangeSliderChange:function(n,i,r,u,f,e,o,s){var k=0,v=-1,d=!1,g=this.controlRelations.length,a,w,tt,b,y,l,it,rt;if(g!==k&&(t.isNullOrUndefined(s)||s.isInteraction)){var p=null,nt=null,h=[],c=null;if(!t.isNullOrUndefined(s)&&(s.model.sliderType==="minrange"?(h.push(s.model.minDate!==null?f.RangeStart:s.model.minValue),h.push(s.value)):(h.push(s.value[0]),h.push(s.value[1])),this.updateValues(u,n,s),c=this.dashboardControls.getControlByReport(n),c.SelectedItems.Included=h,!t.isNullOrUndefined(r))){this._controlNavigate(r,[]);return}for(a=0;a<g;a++)if(!t.isNullOrUndefined(n)&&this.controlRelations[a].Master.indexOf("RangeSlider")!==v&&this.controlRelations[a].Master.lastIndexOf("_"+n)!==v){if(p=this.controlRelations[a].Slaves,this.model.enableVirtualLoading&&(p===null||p.length===k)){nt=this._checkFilterOverviewData(n);this._addFilterDataToTitle(nt);return}if(w=this.model.enableVirtualLoading?this._checkMasterData(n):null,w!==null){if(tt=this.masterData[w],b=tt.Value[0].Items,s.model.sliderType==="minrange"){if(b[0].Value===s.value)return}else if(b[0].Value===s.value[0]&&b[1].Value===s.value[1])return;this.masterData.splice(w,1)}t.isNullOrUndefined(s)||(s.model.sliderType!=="minrange"&&s.model.minValue===s.value[0]&&s.model.maxValue===s.value[1]||s.model.sliderType!=="minrange"&&t.globalize.format(s.model.minDate,o.dateformat)===s.value[0]&&t.globalize.format(s.model.maxDate,o.dateformat)===s.value[1]||s.model.sliderType==="minrange"&&s.model.maxValue===s.value||s.model.sliderType==="minrange"&&t.globalize.format(s.model.maxDate,o.dateformat)===s.value)&&(d=!0,c.SelectedFilterInfo.push(new selectedFilterInfo),c.SelectedFilterInfo=[],h=[]);h.length>k&&!(s.model.minValue===s.value[0]&&s.model.maxValue===s.value[1])&&(y=this._checkFilterInfo(i,c.SelectedFilterInfo),t.isNullOrUndefined(y)||y===v?(l=new selectedFilterInfo,l.UniqueColumnName=i,l.ReportName=c.reportName,t.isNullOrUndefined(e)||e.indexOf(i.toUpperCase())===v?(l.MeasureFilterInfo.Conditions="IsBetween",l.MeasureFilterInfo.Values=h):(l.DateFilterInfo.DateFilterList=h,l.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange),c.SelectedFilterInfo.push(l)):t.isNullOrUndefined(e)||e.indexOf(i.toUpperCase())===v?c.SelectedFilterInfo[y].MeasureFilterInfo.Values=h:c.SelectedFilterInfo[y].DateFilterInfo.DateFilterList=h);it={master:n,masterData:this.masterData,slaves:p,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(it);t.isNullOrUndefined(s)||(rt=this._id+t.DashboardConstants.Widget+n,this._isSliderHasFilter(rt,d));break}}},_isSliderHasFilter:function(t,i){i?(n("#"+t+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+t).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+t+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+t).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},_onSlideChange:function(n,t,i){this.updateValues(n,t,i)},updateValues:function(i,r,u){t.isNullOrUndefined(u)||(u.model.sliderType==="range"&&u.value.length===2?(n("#leftcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value[0]):u.value[0]),n("#rightcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value[1]):u.value[1])):u.model.sliderType!=="minrange"||t.isNullOrUndefined(u.value)||n("#rightcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value):u.value))},_loadListBoxSlaves:function(i,r,u,f,o,s,h,c,l,a,v,y){var w=0,lt=-1,ut=1,at=4,vt=5,ot,st,bt,kt,d,ht,ct;if(this.controlRelations.length!==w||!t.isNullOrUndefined(c)){var b=n("#"+o).ejDashboardListBox("instance"),et=t.isNullOrUndefined(b.model)?"":b.model.checkChange,g=[],tt=[],yt=[],k="",rt="",it=null,ft=0,nt=0,p=this.dashboardControls.getControlByReport(f);if(h){if(!t.isNullOrUndefined(y))if(y.text===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All))y.event.isChecked?(b.model.checkChange=null,b.checkAll(),b.model.checkChange=et,n("#"+o).attr("data-isuserunselect",!1)):(b.model.checkChange=null,b.unCheckAll(),b.model.checkChange=et,n("#"+o).attr("data-isuserunselect",!0));else{var dt=n("#"+o).children().eq(w).children().attr("aria-checked")==="true",pt=n("#"+o).find(".e-chkbox-wrap.e-widget[aria-checked=true]").length,wt=n("#"+o).find(".e-chkbox-wrap.e-widget[aria-checked=false]").length;dt?pt-=ut:wt-=ut;wt>w?(b.model.checkChange=null,b.uncheckItemByIndex(w),b.model.checkChange=et):(b.model.checkChange=null,b.checkItemByIndex(w),b.model.checkChange=et);pt===w&&n("#"+o).attr("data-isuserunselect",!0)}if(ot=this.currentTabContentElement.find("#"+o+" .e-chkbox-wrap.e-widget[aria-checked=true]"),st=this.currentTabContentElement.find("#"+o+" .e-chkbox-wrap.e-widget[aria-checked=false]"),n("#"+o).attr("data-isuserunselect")==="true"){for(p.SelectedItems.Included.length=0,p.SelectedItems.Excluded.length=0,bt=ot.length,nt=0;nt<bt;nt++)k=ot.eq(nt).parent().attr("id"),t.isNullOrUndefined(k)||(rt=ot.eq(nt).parent()[0].textContent),k!=="All"&&(g.push(k),tt.push(rt));it="Include"}else{for(p.SelectedItems.Included.length=0,p.SelectedItems.Excluded.length=0,kt=st.length,nt=0;nt<kt;nt++)k=st.eq(nt).parent().attr("id"),t.isNullOrUndefined(k)||(rt=st.eq(nt).parent()[0].textContent),k!=="All"&&(g.push(k),tt.push(rt));it="Exclude"}}else k=this.currentTabContentElement.find("#"+o+" .e-select").attr("id"),t.isNullOrUndefined(k)&&!t.isNullOrUndefined(y)&&(k=y.data.id),t.isNullOrUndefined(k)||(rt=this.currentTabContentElement.find("#"+o+" .e-select")[0].textContent,g.push(k),tt.push(rt)),typeof e!="undefined"&&(p.SelectedItems.Included=g),it="Include";(yt.push({Items:g}),t.isNullOrUndefined(c)||(this._controlNavigate(c,yt),l))&&(d=this,this.requestTimer!==null&&clearTimeout(this.requestTimer),ht=null,ct=null,this.requestTimer=setTimeout(function(){var rt=d.controlRelations.length,b,e,k,l,c,h,nt;for(ft=0;ft<rt;ft++)if(d.controlRelations[ft].Master.lastIndexOf("_"+f)!==lt){if(ht=d.controlRelations[ft].Slaves,d.model.enableVirtualLoading&&ht.length===w){ct=d._checkFilterOverviewData(o);d._addFilterDataToTitle(ct);return}if(b=d.model.enableVirtualLoading?d._checkMasterData(f):null,b!==null&&d.masterData.splice(b,ut),y!==null&&g.length!==w)if(p.SelectedFilterInfo.length>w)for(e=null,k=p.SelectedFilterInfo.length,l=0;l<k;l++)(p.SelectedFilterInfo[l].UniqueColumnName.toUpperCase()===s.toUpperCase()||p.SelectedFilterInfo[l].UniqueColumnName.toUpperCase()===u)&&(e=l),t.isNullOrUndefined(e)||e===lt||(!t.isNullOrUndefined(p.SelectedFilterInfo[e].DateFilterInfo)&&p.SelectedFilterInfo[e].DateFilterInfo.DateFilterList.length>w?(p.SelectedFilterInfo[e].DateFilterInfo.DateFilterList=!t.isNullOrUndefined(u)&&e===w?tt:g,p.SelectedFilterInfo[e].DateFilterInfo.DisplayDateFilterList=tt,p.SelectedFilterInfo[e].DateFilterInfo.Action=it==="Include"?w:ut):t.isNullOrUndefined(p.SelectedFilterInfo[e].DimensionFilterInfo)||(p.SelectedFilterInfo[e].DimensionFilterInfo.Text=!t.isNullOrUndefined(u)&&e===w?tt:g),t.isNullOrUndefined(p.SelectedFilterInfo[e].DimensionFilterInfo)||(p.SelectedFilterInfo[e].DimensionFilterInfo.Conditions=it==="Include"?at:vt,p.SelectedFilterInfo[e].ReportName=p.reportName));else for(c=0;c<r;c++)h=new selectedFilterInfo,h.UniqueColumnName=c===w?s:u,nt=c===w?!t.isNullOrUndefined(a)&&a===s.toUpperCase():!t.isNullOrUndefined(i)&&i===u.toUpperCase(),nt?(h.DateFilterInfo.DateFilterList=!t.isNullOrUndefined(u)&&c===w?tt:g,h.DateFilterInfo.DisplayDateFilterList=tt,h.DateFilterInfo.Action=it==="Include"?w:ut):h.DimensionFilterInfo.Text=!t.isNullOrUndefined(u)&&c===w?tt:g,h.DimensionFilterInfo.Conditions=it==="Include"?at:vt,h.ReportName=p.reportName,p.SelectedFilterInfo.push(h);else p.SelectedFilterInfo=[];d._makeSlaveDataRequest({master:f,slaves:ht,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}t.isNullOrUndefined(y)||p.SelectedFilterInfo===null||p.SelectedFilterInfo.length===w?(n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));d.requestTimer=null},y===null||!h?w:d.model.interactionSettings.multiSelectionInterval))}},_showListboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"visible"})},_hideListboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"hidden"})},_showListboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"visible"})},_hideListboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"hidden"})},_checkFilterInfo:function(n,i){var u,r;if(i!==null&&!t.isNullOrUndefined(n))for(u=i.length,r=0;r<u;r++)if(i[r].UniqueColumnName.toUpperCase()===n.toUpperCase())return r;return null},_checkFilterInfos:function(n,i,r){var f,u;if(!t.isNullOrUndefined(n))for(f=r.length,u=0;u<f;u++)if(r[u].UniqueColumnName.toUpperCase()===n.toUpperCase()||r[u].UniqueColumnName.toUpperCase()===i)return u;return null},_loadCheckBoxSlaves:function(i,r,u,f,e,o,s){var tt,p,it,et,w,h;t.isNullOrUndefined(s&&s.event)||s.event.stopPropagation();var b=0,rt=-1,k=null,ut=1;if((this.controlRelations.length!==b||!t.isNullOrUndefined(f))&&this.flag){var c=this.dashboardControls.getControlByReport(i),g=n("#dashboard").data("ejDashboardViewer"),ft=t.isNullOrUndefined(c.configInfo.ShowAll)?c.configInfo.ShowSelectAll:c.configInfo.ShowAll,d=t.isNullOrUndefined(g)?t.DashboardConstants.SelectAll:g.locale.utils.SelectAll,nt=n("#"+u+" .e-checkbox.e-js.e-input"),v=null,a=0,l=0,y=null;if(!t.isNullOrUndefined(s)&&!r&&ft)if(s.model.value===d)if(tt=nt.length,s.isChecked)for(n("#"+s.model.id).attr({userunchecked:!1}),a=0;a<tt;a++)v=nt.eq(a).ejDashboardCheckBox("instance"),k=t.isNullOrUndefined(v.model)?"":v.model.change,v.model.change=null,v.option("checked",!0),v.model.change=k;else for(n("#"+s.model.id).attr({userunchecked:!0}),a=0;a<tt;a++)v=nt.eq(a).ejDashboardCheckBox("instance"),k=t.isNullOrUndefined(v.model)?"":v.model.change,v.model.change=null,v.option("checked",!1),v.model.change=k;else p=n("#"+u+" .e-checkbox.e-js.e-input[value='"+d+"']"),!t.isNullOrUndefined(p)&&p.length>t.DashboardConstants.Zero&&(it=n("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]").length,et=n("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=true]").length,p.ejDashboardCheckBox("instance").isChecked()?et-=ut:it-=ut,it>b?(k=p.ejDashboardCheckBox("instance").model.change,p.ejDashboardCheckBox("instance").model.change=null,p.ejDashboardCheckBox("instance").option("checked",!1),p.ejDashboardCheckBox("instance").model.change=k):p.ejDashboardCheckBox("instance").option("checked",!0));w=null;h=this;this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var it=null,ot=null,yt=h.controlRelations.length,e,ht,ct,lt,at,p,v,vt,nt;for(a=0;a<yt;a++)if(h.controlRelations[a].Master.lastIndexOf(i)!==rt){if(it=h.controlRelations[a].Slaves,h.model.enableVirtualLoading&&it.length===b){ot=h._checkFilterOverviewData(u);h._addFilterDataToTitle(ot);return}var f=[],tt=h.currentTabContentElement.find("#"+u).prop("data-column"),k=[];if(r)t.isNullOrUndefined(s)||s.model.value===(t.isNullOrUndefined(g)?t.DashboardConstants.All:g.locale.utils.All)||(f.push(s.model.value),at=h.currentTabContentElement.find("#"+u+" .e-radiobtn-wrap.e-widget[aria-checked=true]"),k.push(at.eq(b).siblings("label").html()),w=t.DashboardConstants.DateFilterInfoInclude);else if(e=null,ft){var st=!1,ut=n("#"+u+" .e-checkbox.e-js.e-input[value='"+d+"']"),et=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=true]");if(e=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]"),ut&&ut.attr(t.DashboardConstants.UserUnchecked)&&ut.attr(t.DashboardConstants.UserUnchecked)==="true"&&(st=!0),st){for(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,ht=et.length,l=0;l<ht;l++)y=n(et.eq(l)).find(".e-checkbox").attr("value"),y!==d&&(f.push(y),k.push(et.eq(l).siblings("label").html()));w=t.DashboardConstants.DateFilterInfoInclude}else{if(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,e.length!==c.totalCount)for(ct=e.length,l=0;l<ct;l++)y=n(e.eq(l)).find(".e-checkbox").attr("value"),y!==d&&(f.push(y),k.push(e.eq(l).siblings("label").html()));w=t.DashboardConstants.DateFilterInfoExclude}}else{for(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,e=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]"),lt=e.length,l=0;l<lt;l++)y=n(e.eq(l)).find(".e-checkbox").attr("value"),y!==d&&f.push(y);w=t.DashboardConstants.DateFilterInfoExclude}f.length>b?(p=h._checkFilterInfo(tt,c.SelectedFilterInfo),t.isNullOrUndefined(p)||p===rt?(v=new selectedFilterInfo,v.UniqueColumnName=tt,t.isNullOrUndefined(o)||o!==tt.toUpperCase()?(v.DimensionFilterInfo.Text=f,v.DimensionFilterInfo.Conditions=w):(v.DateFilterInfo.DateFilterList=f,v.DateFilterInfo.Action=w,v.DateFilterInfo.DisplayDateFilterList=k),v.ReportName=c.reportName,c.SelectedFilterInfo.push(v)):t.isNullOrUndefined(o)||o!==tt.toUpperCase()?(c.SelectedFilterInfo[p].DimensionFilterInfo.Text=f,c.SelectedFilterInfo[p].DimensionFilterInfo.Conditions=w):(c.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=f,c.SelectedFilterInfo[p].DateFilterInfo.Action=w,c.SelectedFilterInfo[p].DateFilterInfo.DisplayDateFilterList=k)):c.SelectedFilterInfo=[];vt={master:i,masterData:h.masterData,slaves:it,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};h._makeSlaveDataRequest(vt);break}nt=h._id+t.DashboardConstants.Widget+i;t.isNullOrUndefined(c.SelectedFilterInfo)||c.SelectedFilterInfo.length===b?(h.currentTabContentElement.find("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),h.currentTabContentElement.find("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(h.currentTabContentElement.find("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),h.currentTabContentElement.find("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));h.requestTimer=null},s===null?b:h.model.interactionSettings.multiSelectionInterval)}}}}(jQuery,SyncfusionDashboard);"use strict";var dbrdcontrolData=function(){this.pageNumber=0;this.pagedata=[];this.LastUpdateTime="";this.isError=!1;this.scrollTop=0},dbrdsortSetting=function(){this.column="";this.sortDirection=""},dbrdfilterSetting=function(){this.column="";this.value=""},selectedFilterInfo=function(){this.UniqueColumnName="";this.ReportName="";this.DateFilterInfo={Action:"Include",DateFilterList:[],DateFilterType:"Basic",DisplayDateFilterList:[]};this.DimensionFilterInfo={Conditions:"Include",IsBoolean:!1,ClearAllSelection:!1,Text:[],SelectedBoolValues:[],SelectedIndex:0};this.MeasureFilterInfo={Conditions:"IsBetween",Values:[]};this.PointIndex=-1;this.SeriesIndex=-1;this.IsStdDateTime=!1;this.Value=null},expandedNodesInfo=function(){this.UniqueColumnName="";this.expandedNodes=[]},minifyEnum={UniqueColumnName:"ucn",ReportName:"rn",DateFilterInfo:"dfi",DimensionFilterInfo:"dimfi",MeasureFilterInfo:"mfi",PointIndex:"pi",SeriesIndex:"si",IsStdDateTime:"isdt",Value:"v",Action:"a",DateFilterList:"dfl",DateFilterType:"dft",DisplayDateFilterList:"ddfl",DimensionFilterInfoConditions:"c",MeasureFilterInfoConditions:"c",IsBoolean:"ib",ClearAllSelection:"cas",Text:"t",SelectedBoolValues:"sbv",SelectedIndex:"si",Values:"vs"},unMinifyEnum={UniqueColumnName:"UniqueColumnName",ReportName:"ReportName",DateFilterInfo:"DateFilterInfo",DimensionFilterInfo:"DimensionFilterInfo",MeasureFilterInfo:"MeasureFilterInfo",PointIndex:"PointIndex",SeriesIndex:"SeriesIndex",IsStdDateTime:"IsStdDateTime",Value:"Value",Action:"Action",DateFilterList:"DateFilterList",DateFilterType:"DateFilterType",DisplayDateFilterList:"DisplayDateFilterList",DimensionFilterInfoConditions:"Conditions",MeasureFilterInfoConditions:"Conditions",IsBoolean:"IsBoolean",ClearAllSelection:"ClearAllSelection",Text:"Text",SelectedBoolValues:"SelectedBoolValues",SelectedIndex:"SelectedIndex",Values:"Values"},chartsettings={palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],dataLabelColor:"#565656",xAxisLineColor:"#bdbdbd",yAxisLineColor:"#bdbdbd",axisLineColor:"#bdbdbd",primaryXAxismajorGridLines:"#dfdfdf",primaryYAxismajorGridLines:"#dfdfdf",legendfontcolor:"#636363",majorTickColor:"#191919",primaryXAxisfontcolor:"#636363",primaryYAxisfontcolor:"#636363",primaryXAxistitlecolor:"#636363",primaryYAxistitlecolor:"#636363",titletextcolor:"#636363"},bubblemapsettings={highlightColor:"#AFAFAF",highlightBorderColor:"white",fillColor:"#E0E0E0",borderColor:"#FFFFFF",bubbleColor:"#77A7FB"},choroplethmapsettings={highlightColor:"#AFAFAF",highlightBorderColor:"white",fillColor:"#E0E0E0",borderColor:"#FFFFFF",rangecolor:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"]},treemapsettings={drillDownHeaderColor:"#B2B2B2",drillDownSelectionColor:"#FFFFFF",highlightColor:"#666666",palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],rangeColorMap:["#77A7FB","#E57368","#FBCB43"],desaturationColorMap:"#77A7FB"},rangenavigatorsettings={toolTipData:"white",toolTipBackground:"gray",backgroundColor:"#F9F9F9",unSelectedRegionColor:"#F9F9F9",borderColor:"black"},gaugesettings={rangeColor1:"#e8e8e8",border1:"#e8e8e8",rangeColor2:"#77A7FB",border2:"#77A7FB",statusData:"#34B67A"},Dbrdcontrol=function(){this.data=[];this.customTheme={};this.theme={};this.errorOccured=!1;this.totalCount=0;this.configInfo=[];this.sortSettings=[];this.filterSetting=[];this.scrollSetting={scrollTop:0,rowPerPage:0,colPerPage:0,heightOfColumn:0,visibleHeight:0,controlPerPage:0,currentScrollTop:0,emptyCellsCount:0};this.heightPerPage=0;this.heightOfRow=0;this.SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};this.SelectedFilterInfo=[];this.controlType="";this.reportName="";this.loadedPages=[];this.totalPages=0;this.lastUpdateTime="";this.isExpanded=!1;this.currentPage=0;this.maxMinData=[];this.drillLevelInfo=[];this.drillLevels=[];this.SeriesList=[];this.ComparisonChartProp={Type:[],Field:[]};this.drillLevelData=[];this.isExportFromMaximizedView=!1;this.PivotReport=[];this.PivotJSONData=[];this.controlThemeName="";this.staticFiles={};this.isControlFilter=!1;this.controlRelations=[];this.appliedFilterData=[];this.expandedNodes=[];this.initialExpandedNodes=[];this.widgetSettings="";this.Guid="";this.isFilterPanelControl=!1};Dbrdcontrol.prototype.clone=function(n){return this.data=n.data,this.totalCount=n.totalCount,this.configInfo=n.configInfo,this.sortSettings=n.sortSettings,this.filterSetting=n.filterSetting,this.scrollSetting=n.scrollSetting,this.heightPerPage=n.heightPerPage,this.heightOfRow=n.heightOfRow,this.SelectedItems=n.SelectedItems,this.controlType=n.controlType,this.reportName=n.reportName,this.loadedPages=n.loadedPages,this.totalPages=n.totalPages,this.lastUpdateTime=n.lastUpdateTime,this.isExpanded=n.isExpanded,this.currentPage=n.currentPage,this.drillLevelInfo=n.drillLevelInfo,this.drillLevels=n.drillLevels,this.SeriesList=n.SeriesList,this.ComparisonChartProp=n.ComparisonChartProp,this.drillLevelData=n.drillLevelData,this.isExportFromMaximizedView=n.isExportFromMaximizedView,this.PivotReport=n.PivotReport,this.PivotJSONData=n.PivotJSONData,this.SelectedFilterInfo=n.SelectedFilterInfo,this.customTheme=n.customTheme,this.staticFiles=n.staticFiles,this.isControlFilter=n.isControlFilter,this.controlRelations=n.controlRelations,this.appliedFilterData=n.appliedFilterData,this.maxMinData=n.maxMinData,this.expandedNodes=n.expandedNodes,this.initialExpandedNodes=n.initialExpandedNodes,this.widgetSettings=n.widgetSettings,this.Guid=n.Guid,this.isFilterPanelControl=n.isFilterPanelControl,this};Dbrdcontrol.prototype.getCurrentPageData=function(){for(var t,i=this.data.length,n=0;n<i;n++)if(t=this.data[n],t.pageNumber===this.currentPage)return t;return i===1?this.data[0]:null};Dbrdcontrol.prototype.hasPageData=function(n){for(var i,r=this.data.length,t=0;t<r;t++)if(i=this.data[t],i.pageNumber===n)return!0;return!1};Dbrdcontrol.prototype.getPageDataBypage=function(n){for(var i,r=this.data.length,t=0;t<r;t++)if(i=this.data[t],i.pageNumber===n)return i;return null};Dbrdcontrol.prototype.getControlPagesforRefresh=function(n){for(var h,c,f=0,i=1,u=[],l=n.data.length,s=0;s<l-i;s++){var t=n.data[s].pageNumber,r=n.scrollSetting.currentScrollTop,e=0,o=0;if(n.scrollSetting.currentScrollTop>=n.getPageDataBypage(t).scrollTop&&n.getPageDataBypage(t+i).scrollTop!==f&&n.scrollSetting.currentScrollTop<=n.getPageDataBypage(t+i).scrollTop)if(h=t===i?f:n.getPageDataBypage(t-i).scrollTop-n.scrollSetting.visibleHeight,c=t===i?f:n.getPageDataBypage(t-i).scrollTop+n.scrollSetting.visibleHeight,e=n.getPageDataBypage(t).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(t).scrollTop+n.scrollSetting.visibleHeight,r>=h&&r<=c)t!==i&&u.push(t-i),u.push(t);else if(r>=e&&r<=o)u.push(t),r>n.getPageDataBypage(t).scrollTop&&u.push(t+i);else{u.push(t+i);break}else n.getPageDataBypage(t+i).scrollTop===f&&n.scrollSetting.currentScrollTop>=n.getPageDataBypage(t).scrollTop?(e=n.getPageDataBypage(t).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(t).scrollTop+n.scrollSetting.visibleHeight,r>=e&&r<=o&&t!==n.currentPage?(u.push(t),u.push(n.currentPage)):u.push(n.currentPage)):n.getPageDataBypage(i).scrollTop!==f&&r<=n.getPageDataBypage(i).scrollTop&&r>f&&(e=n.getPageDataBypage(i).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(i).scrollTop+n.scrollSetting.visibleHeight,r>=e&&r<=o&&t!==n.currentPage&&(u.push(i),r>n.getPageDataBypage(i).scrollTop&&u.push(2)))}return u};dbrddashboardControls=function(){this.controls=[]};dbrddashboardControls.prototype.addControl=function(n){for(var i,r=null,u=this.controls.length,t=0;t<u;t++)if(i=this.controls[t],i.reportName!==""&&i.WidgetType!=="NoData"&&i.reportName===n.reportName){r=t;break}ejDashboard.isNullOrUndefined(r)?this.controls.push(n):this.controls[r]=n};dbrddashboardControls.prototype.getControlByReport=function(n){for(var i,r=this.controls.length,t=0;t<r;t++)if(i=this.controls[t],i.reportName===n)return i;return null};dbrddashboardControls.prototype.updateCurrentReport=function(n){for(var i=this.controls.length,t=0;t<i;t++)if(this.controls[t].reportName===n.reportName){this.controls[t]=n;break}return!1};dbrddashboardControls.prototype.getAllControls=function(){return this.controls};dbrddashboardControls.prototype.getAllControlsForImageExport=function(n){for(var r,u=n,i=[],f=this.controls.length,t=0;t<f;t++)this.controls[t].isControlFilter===!1&&(r=JSON.parse(JSON.stringify(this.controls[t])),r.loadedPages=[],i.push(r));return i.push({controlType:"Title",reportName:u}),i};dbrddashboardControls.prototype.getControlsForCurrentPage=function(n){for(var t,i=[],u=-1,f=0,e=this.controls.length,r=0;r<e;r++)t=this.controls[r],t.controlType!==ejDashboard.dashboardViewer.Controls.Label||ejDashboard.isNullOrUndefined(t.data[f].pagedata)||n.indexOf(t.data[f].pagedata.Page)===u?t.controlType===ejDashboard.DashboardConstants.Title?i.push(t):(n.indexOf(t.configInfo.Page)!==u||t.controlType==="parameterColumnData")&&i.push(t):i.push(t);return i};dbrddashboardControls.prototype.getAllControlsMasterData=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||ejDashboard.isNullOrUndefined(this.controls[n].SelectedFilterInfo)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(this.controls[n].SelectedFilterInfo.ReportName=this.controls[n].reportName,t=t.concat(this.controls[n].SelectedFilterInfo));return t};dbrddashboardControls.prototype.getAllControlsIsDefaultProperty=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||ejDashboard.isNullOrUndefined(this.controls[n].configInfo.SelectFirstItem)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||t.push({ReportName:this.controls[n].reportName,IsFirstItemByDefault:this.controls[n].configInfo.SelectFirstItem});return t};dbrddashboardControls.prototype.getAllcontrolsSelectedItems=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)t=null,ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||ejDashboard.isNullOrUndefined(this.controls[n].SelectedItems)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(t={ReportName:this.controls[n].reportName,SelectedItems:this.controls[n].SelectedItems}),ejDashboard.isNullOrUndefined(t)||i.push(t);return i};dbrddashboardControls.prototype.removeSelectedControlsMasterData=function(n){for(var i=this.controls.length,t=0;t<i;t++)if(this.controls[t].configInfo.IsMasterFilter&&this.controls[t].SelectedFilterInfo.length>0&&this.controls[t].SelectedFilterInfo[0].ReportName===n){this.controls[t].SelectedFilterInfo=[];break}};dbrddashboardControls.prototype.getAllControlsForRefresh=function(){for(var n,t,e,u,f=[],i=0,o=this.controls.length,r=0;r<o;r++)if(n=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[r]))),t=null,n.controlType===ejDashboard.dashboardViewer.Controls.CheckBox&&n.data.length>1)for(i=n.getControlPagesforRefresh(n),e=i.length,u=0;u<e;u++)t={currentPage:i[u],reportName:n.reportName,controlPerPage:n.scrollSetting.controlPerPage},f.push(t),this.controls[r].loadedPages=i;else t={currentPage:n.currentPage,reportName:n.reportName,controlPerPage:ejDashboard.isNullOrUndefined(n.scrollSetting)?null:n.scrollSetting.controlPerPage},f.push(t);return f};dbrddashboardControls.prototype.getAllControlsId=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)t=this.controls[n].reportName,t!==""&&i.push(t);return i};dbrddashboardControls.prototype.getAllDashboardControlsId=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)t=this.controls[n].reportName,t===""||this.controls[n].isFilterPanelControl||i.push(t);return i};dbrddashboardControls.prototype.getControlForImageExport=function(n){for(var i,r=[],u=this.controls.length,t=0;t<u;t++)this.controls[t].reportName===n&&(i=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[t]))),i.loadedPages=[],r.push(i));return r};dbrddashboardControls.prototype.isControlExists=function(n){for(var i=this.getAllDashboardControlsId(),t=0;t<i.length;t++)if(i[t]===n)return!0;return!1};dbrddashboardControls.prototype.minifySelectedFilterInfo=function(n){for(var t,i,u=[],f=n.length,r=0;r<f;r++)t=n[r],i={},i[minifyEnum.UniqueColumnName]=t.UniqueColumnName,i[minifyEnum.ReportName]=t.ReportName,this.isDefaultValue(t,"PointIndex",-1)||(i[minifyEnum.PointIndex]=t.PointIndex),this.isDefaultValue(t,"SeriesIndex",-1)||(i[minifyEnum.SeriesIndex]=t.SeriesIndex),this.isDefaultValue(t,"IsStdDateTime",!1)||(i[minifyEnum.IsStdDateTime]=t.IsStdDateTime),this.isDefaultValue(t,"Value",null)||(i[minifyEnum.Value]=t.Value),ejDashboard.isNullOrUndefined(t.DateFilterInfo)||ejDashboard.isNullOrUndefined(t.DateFilterInfo.DateFilterList)||t.DateFilterInfo.DateFilterList.length===0||(i[minifyEnum.DateFilterInfo]={},i[minifyEnum.DateFilterInfo][minifyEnum.DateFilterList]=t.DateFilterInfo.DateFilterList,this.isDefaultValue(t.DateFilterInfo,"Action","Include")||(i[minifyEnum.DateFilterInfo][minifyEnum.Action]=t.DateFilterInfo.Action),this.isDefaultValue(t.DateFilterInfo,"DateFilterType","Basic")||(i[minifyEnum.DateFilterInfo][minifyEnum.DateFilterType]=t.DateFilterInfo.DateFilterType),this.isDefaultValue(t.DateFilterInfo,"DisplayDateFilterList",0,!0)||(i[minifyEnum.DateFilterInfo][minifyEnum.DisplayDateFilterList]=t.DateFilterInfo.DisplayDateFilterList)),ejDashboard.isNullOrUndefined(t.DimensionFilterInfo)||(ejDashboard.isNullOrUndefined(t.DimensionFilterInfo.Text)||t.DimensionFilterInfo.Text.length===0)&&(ejDashboard.isNullOrUndefined(t.DimensionFilterInfo.SelectedBoolValues)||t.DimensionFilterInfo.SelectedBoolValues.length===0)||(i[minifyEnum.DimensionFilterInfo]={},this.isDefaultValue(t.DimensionFilterInfo,"Conditions",0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.DimensionFilterInfoConditions]=t.DimensionFilterInfo.Conditions),this.isDefaultValue(t.DimensionFilterInfo,"IsBoolean",!1)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.IsBoolean]=t.DimensionFilterInfo.IsBoolean),this.isDefaultValue(t.DimensionFilterInfo,"ClearAllSelection",!1)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.ClearAllSelection]=t.DimensionFilterInfo.ClearAllSelection),this.isDefaultValue(t.DimensionFilterInfo,"Text",0,!0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.Text]=t.DimensionFilterInfo.Text),this.isDefaultValue(t.DimensionFilterInfo,"SelectedBoolValues",0,!0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedBoolValues]=t.DimensionFilterInfo.SelectedBoolValues),this.isDefaultValue(t.DimensionFilterInfo,"SelectedIndex",0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedIndex]=t.DimensionFilterInfo.SelectedIndex)),ejDashboard.isNullOrUndefined(t.MeasureFilterInfo)||ejDashboard.isNullOrUndefined(t.MeasureFilterInfo.Values)||t.MeasureFilterInfo.Values.length===0||(i[minifyEnum.MeasureFilterInfo]={},this.isDefaultValue(t.MeasureFilterInfo,"Conditions","IsBetween")||(i[minifyEnum.MeasureFilterInfo][minifyEnum.MeasureFilterInfoConditions]=t.MeasureFilterInfo.Conditions),this.isDefaultValue(t.MeasureFilterInfo,"Values",0,!0)||(i[minifyEnum.MeasureFilterInfo][minifyEnum.Values]=t.MeasureFilterInfo.Values)),ejDashboard.isNullOrUndefined(i[minifyEnum.UniqueColumnName])||ejDashboard.isNullOrUndefined(i[minifyEnum.ReportName])||u.push(i);return u};dbrddashboardControls.prototype.unMinifySelectedFilterInfo=function(n){for(var i,t,u=[],f=[],e=n.length,r=0;r<e;r++)i=new selectedFilterInfo,t=n[r],this.hasValue(t,"dprmn")?f.push(t):(this.hasValue(t,minifyEnum.UniqueColumnName)&&(i[unMinifyEnum.UniqueColumnName]=t[minifyEnum.UniqueColumnName]),this.hasValue(t,minifyEnum.ReportName)&&(i[unMinifyEnum.ReportName]=t[minifyEnum.ReportName]),this.hasValue(t,minifyEnum.PointIndex)&&(i[unMinifyEnum.PointIndex]=t[minifyEnum.PointIndex]),this.hasValue(t,minifyEnum.IsStdDateTime)&&(i[unMinifyEnum.IsStdDateTime]=t[minifyEnum.IsStdDateTime]),this.hasValue(t,minifyEnum.SeriesIndex)&&(i[unMinifyEnum.SeriesIndex]=t[minifyEnum.SeriesIndex]),this.hasValue(t,minifyEnum.Value)&&(i[unMinifyEnum.Value]=t[minifyEnum.Value]),this.hasValue(t,minifyEnum.DateFilterInfo)&&(this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.Action)&&(i.DateFilterInfo[unMinifyEnum.Action]=t[minifyEnum.DateFilterInfo][minifyEnum.Action]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DateFilterList)&&(i.DateFilterInfo[unMinifyEnum.DateFilterList]=t[minifyEnum.DateFilterInfo][minifyEnum.DateFilterList]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DateFilterType)&&(i.DateFilterInfo[unMinifyEnum.DateFilterType]=t[minifyEnum.DateFilterInfo][minifyEnum.DateFilterType]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DisplayDateFilterList)&&(i.DateFilterInfo[unMinifyEnum.DisplayDateFilterList]=t[minifyEnum.DateFilterInfo][minifyEnum.DisplayDateFilterList])),this.hasValue(t,minifyEnum.DimensionFilterInfo)&&(this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.DimensionFilterInfoConditions)&&(i.DimensionFilterInfo[unMinifyEnum.DimensionFilterInfoConditions]=t[minifyEnum.DimensionFilterInfo][minifyEnum.DimensionFilterInfoConditions]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.IsBoolean)&&(i.DimensionFilterInfo[unMinifyEnum.IsBoolean]=t[minifyEnum.DimensionFilterInfo][minifyEnum.IsBoolean]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.ClearAllSelection)&&(i.DimensionFilterInfo[unMinifyEnum.ClearAllSelection]=t[minifyEnum.DimensionFilterInfo][minifyEnum.ClearAllSelection]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.Text)&&(i.DimensionFilterInfo[unMinifyEnum.Text]=t[minifyEnum.DimensionFilterInfo][minifyEnum.Text]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.SelectedBoolValues)&&(i.DimensionFilterInfo[unMinifyEnum.SelectedBoolValues]=t[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedBoolValues]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.SelectedIndex)&&(i.DimensionFilterInfo[unMinifyEnum.SelectedIndex]=t[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedIndex])),this.hasValue(t,minifyEnum.MeasureFilterInfo)&&(this.hasValue(t[minifyEnum.MeasureFilterInfo],minifyEnum.MeasureFilterInfoConditions)&&(i.MeasureFilterInfo[unMinifyEnum.MeasureFilterInfoConditions]=t[minifyEnum.MeasureFilterInfo][minifyEnum.MeasureFilterInfoConditions]),this.hasValue(t[minifyEnum.MeasureFilterInfo],minifyEnum.Values)&&(i.MeasureFilterInfo[unMinifyEnum.Values]=t[minifyEnum.MeasureFilterInfo][minifyEnum.Values])),this.hasValue(i,unMinifyEnum.UniqueColumnName)&&this.hasValue(i,unMinifyEnum.ReportName)&&u.push(i));return{masterData:u,dashboardParams:f}};dbrddashboardControls.prototype.hasValue=function(n,t){return!ejDashboard.isNullOrUndefined(n[t])};dbrddashboardControls.prototype.isDefaultValue=function(n,t,i,r){return r?ejDashboard.isNullOrUndefined(n[t])?!1:n[t].length===i:n[t]===i};RequestHeaders=function(){this.customHeaders=[]};RequestHeaders.prototype.setRequestHeader=function(n,t){if(!ejDashboard.isNullOrUndefined(n)&&n!==""&&!ejDashboard.isNullOrUndefined(t)&&t!==""){var i=this.isheaderPresent(n);i===-1?this.customHeaders.push({Key:n,Value:t}):this.customHeaders[i].Value=t}};RequestHeaders.prototype.isheaderPresent=function(n){for(var i=this.customHeaders.length,t=0;t<i;t++)if(this.customHeaders[t].Key===n)return t;return-1};widgetDetails=function(){return{widgetTitle:null,widgetSubTitle:null,widgetDescription:null,widgetId:null,widgetGuid:null,widgetType:null}};dashboardInfo=function(){return{isMultiTabbedDashboard:null,currentDashboard:{dashboardTabIndex:null,dashboardDescription:null,dashboardGuid:null,dashboardTitle:null,widgets:[]}}},function(n,t){t.widget("ejDashboardrectangularSelector","ejDashboard.rectangularSelector",{_rootCSS:"ejDashboardrectangularSelector",element:null,model:null,defaults:{selector:""},_init:function(){this._initPrivateProperties();this._wireEvents()},selector:t.util.valueFunction("selector"),_setModel:function(n){for(var t in n)if({}.hasOwnProperty.call(n,t))switch(t){case"selector":this._init()}},dataTypes:{selector:"string"},_initPrivateProperties:function(){this.rectangularSelectionPosition={x1:0,y1:0,x2:0,y2:0};this.ctrlKeyPressed=!1;this.scrollTop=0},_wireEvents:function(){this._on(this.element,"mousedown",this._onMouseDown);this._on(this.element.parents("body"),"mousemove",this._onMouseMove);this._on(this.element.parents("body"),"mouseup",this._onMouseUp);this._on(this.element.parent(),"scroll",this._onWheelMove)},_unWireEvents:function(){this._off(this.element,"mousedown",this._onMouseDown);this._off(this.element.parents("body"),"mousemove",this._onMouseMove);this._off(this.element.parents("body"),"mouseup",this._onMouseUp);this._off(this.element.parent(),"scroll",this._onWheelMove)},_wireSnippingEvents:function(){this.isReadyState=!0},_UnwireSnippingEvents:function(){this.isReadyState=!1},_onMouseDown:function(t){var i,r;t.stopPropagation();this.isReadyState=!1;this.ctrlKeyPressed=t.ctrlKey;i=this.element;i.parent().find(".e-dbrd-rectangularSelector").length===0&&i.parent().append(n("<div>").addClass("e-dbrd-rectangularSelector")).css({position:"relative"});r=i.parent().find(".e-dbrd-rectangularSelector");this.rectangularSelectionPosition.x1=t.clientX-i.parent().offset().left;this.rectangularSelectionPosition.y1=t.clientY-i.parent().offset().top+i.parent().scrollTop();this.scrollTop=i.parent().scrollTop();this._rectangularSelectionReCalc();r.hide();this._wireSnippingEvents()},_onMouseMove:function(n){var t,i;(this.ctrlKeyPressed=n.ctrlKey,this.isReadyState!==!1&&this.element!==null)&&(t=this.element,i=t.parent().find(".e-dbrd-rectangularSelector"),i.length!==0)&&(n.stopPropagation(),this.rectangularSelectionPosition.x2=n.clientX-t.parent().offset().left,this.rectangularSelectionPosition.y2=n.clientY-t.parent().offset().top+t.parent().scrollTop(),this.scrollTop=t.parent().scrollTop(),i.show(),this._rectangularSelectionReCalc())},_onMouseUp:function(t){var o=0,s=10,e,i,u,f,r;if(this.ctrlKeyPressed=t.ctrlKey,e=this.element,i=e.parent().find(".e-dbrd-rectangularSelector"),this.isReadyState===!1||i.css("display")==="none"||i.length===o||i.height()<s||i.width()<s){i.remove();return}for(u=e.find(this.selector()),f=[],r=0;r<u.length;r++){var h=!0,c=n(u[r]).offset().left,l=n(u[r]).offset().top,y=n(u[r]).outerHeight(!0),p=n(u[r]).outerWidth(!0),w=l+y,b=c+p,a=i.offset().left,v=i.offset().top,k=i.outerHeight(!0),d=i.outerWidth(!0),g=v+k,nt=a+d;h=w<v||l>g||b<a||c>nt?!1:!0;h&&f.push(n(u[r]))}f.length>o&&this._trigger("selected",{children:f,ctrlKey:this.ctrlKeyPressed});i.remove();this._UnwireSnippingEvents()},_onWheelMove:function(){var n=this.element;(this.rectangularSelectionPosition.y2=this.rectangularSelectionPosition.y2-this.scrollTop+n.parent().scrollTop(),this.scrollTop=n.parent().scrollTop(),this.isReadyState!==!1)&&this._rectangularSelectionReCalc()},_rectangularSelectionReCalc:function(){var e=this.element,o=e.parent().find(".e-dbrd-rectangularSelector"),n=this.rectangularSelectionPosition.x1,t=this.rectangularSelectionPosition.x2,i=this.rectangularSelectionPosition.y1,r=this.rectangularSelectionPosition.y2,u=Math.min(n,t),s=Math.max(n,t),f=Math.min(i,r),h=Math.max(i,r),c=s-u,l=h-f;o.css({top:f,left:u,height:l,width:c})},remove:function(t){n(t.currentTarget).parent().remove()},_destroy:function(){this._unWireEvents()}})}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardFilterPanel=t.dashboardFilterPanel||{};t.widget("ejDashboardDashboardFilterPanel","ejDashboard.DashboardFilterPanel",{_rootCSS:"e-dashboardviewer e-dashboardfilterpanel",element:null,model:null,validTags:["div"],defaults:{size:{height:"",width:""},dataSource:[],value:[],localeSettings:{heading:"Filters",closeButtonText:"Close",backButtonText:"Back",clearFilterText:"Clear Master Filter",knowMore:"Know More...",reloadButtonText:"Reload",NoData:"There is no data to be displayed.",comment:"Comment"},viewerLocale:{},serviceUrl:"",dashboardPath:"",allowComment:!1,commentSettings:{isWidgetCommented:!1,widgets:[]},responsiveSettings:{showMaximize:!1,showExport:!1},interactionSettings:{multiSelectionInterval:500},dashboardParameterSettings:{showIcon:!0,data:[]},enableCustomTheming:!1,customThemeSettings:"",showHeader:!0,currentMasterReport:null,showCloseIcon:!0,selectedData:null,enableVirtualLoading:!0,currentUser:null,controlRelations:null,beforeFilterApplied:null,beforeFilterPanelOpen:null,filterPanelOpen:null,beforeFilterPanelClose:null,filterPanelClose:null,beforeWidgetRender:null,afterWidgetRender:null,onWidgetCommented:null,onDropDownSearch:null,loaded:null,dashboardElement:null},_init:function(){this._unWireEvents();this.initPrivateProperties();this.loadFilterLayout();this._wireEvents();var n=this,i=this.dashboardControls.controls;setTimeout(function(){n._trigger("filterPanelOpen",{dataSource:n.model.dataSource,element:n.element,controls:i})},t.DashboardConstants.Zero);this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&this._applyCustomTheme()},serviceUrl:function(){return this.model.serviceUrl},dashboardPath:function(){return this.model.dashboardPath},initPrivateProperties:function(){var n,i;for(this.currentMasterWidget=null,this.target=[],this.locale=this.model.viewerLocale,this.currentTabContentElement=this.element,this.controlRelations=t.isNullOrUndefined(this.model.controlRelations)?[]:this.model.controlRelations,this.dashboardControls=new dbrddashboardControls,n=0;n<this.model.value.length;n++)i=this.model.value[n],i.isFilterPanelControl=!0,this.dashboardControls.addControl(i);this.modifiedConnectionStrings=null;this.externalFilterPanel=this.model.externalFilterPanel;this.currentUser=null;this.flag=!0;this.enableVirtualLoading=!1;this.dashboardName=this.model.dashboardName;this.target=[];this.isPublicDashboard=this.model._isPublic||!1;this.itemId=this.model._itemId||"";this.currentUser=this.model.currentUser;this.filterpanelWrapper=null;this.dashboardParameters=this.model.dashboardParameterSettings;this.dashboardElement=t.isNullOrUndefined(this.model.dashboardElement)?null:this.model.dashboardElement},_wireEvents:function(){this._on(this.element,"click",".e-dbrd-filter-back ,.e-dbrd-filter-icon-container",this._hideFilterPanel);this._on(this.element,"click",".e-remove-control-filter-enable",this._removeControlFilter);this._on(this.element,"click",".e-dbrd-filterPanel-widget-withoutcomments",this._openCommentDialog);this._on(this.element,"click",".e-dbrd-filterPanel-widget-withcomments",this._openCommentDialog);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-filter-hoverable",this._showFilterToolTip);this._on(this.element,"mouseout",".e-dbrd-filter-hoverable",this._hideFilterToolTip);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseOver);this._on(this.element,"mouseleave",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseLeave);this.enableVirtualLoading||(this._on(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseMove),this._on(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseLeave))},_unWireEvents:function(){this._off(this.element,"click",".e-dbrd-filter-back ,.e-dbrd-filter-icon-container",this._hideFilterPanel);this._off(this.element,"click",".e-remove-control-filter-enable",this._removeControlFilter);this._off(this.element,"click",".e-dbrd-filterPanel-widget-withoutcomments",this._openCommentDialog);this._off(this.element,"click",".e-dbrd-filterPanel-widget-withcomments",this._openCommentDialog);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-filter-hoverable",this._showFilterToolTip);this._off(this.element,"mouseout",".e-dbrd-filter-hoverable",this._hideFilterToolTip);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseOver);this._off(this.element,"mouseleave",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseLeave);this.enableVirtualLoading||(this._off(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseMove),this._off(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseLeave))},_onFilterControlTitleMouseOver:function(i){var r,f,u,e;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),i.bubbles=!1,r=this,f=t.DashboardConstants.Zero,this.longPress!==null&&i.type==="touchend"){clearTimeout(this.longPress);return}if(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,e=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY,i.type==="touchstart")f=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mouseover"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.longPress=setTimeout(function(){var o=n(i.currentTarget),s=null,h=null,c,f;if(o.length>t.DashboardConstants.Zero?(s=o.innerWidth(),h=o[0].scrollWidth):(s=n(i.currentTarget).innerWidth(),h=n(i.currentTarget)[0].scrollWidth),h<=s){r._onFilterControlTitleMouseLeave(i);return}c=r.element.offset().top===t.DashboardConstants.Zero?15:r.externalFilterPanel?r.element.offset().top+10:15;f=r.element.find(".e-dbrd-tooltip").css({width:""});f.html(n(i.currentTarget).html());f.css({top:e-r.element.offset().top+c,left:r.externalFilterPanel?u:u-r.element.offset().left,display:"block",width:u-r.element.offset().left+f.width()>r.element.width()?r.element.width()-(u-r.element.offset().left):u})},f)}},_onFilterControlTitleMouseLeave:function(n){n.bubbles=!1;this.element.find(".e-dbrd-tooltip").remove()},_setAjaxDashboardParameterValue:function(n){var r=null,i;if(!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero){for(i=0;i<n.data.length;i++)n.data[i].data=null;r=JSON.parse(JSON.stringify(n))}else r=JSON.parse(JSON.stringify(n));return r},_showFilterToolTip:function(i){var r,u,f,e;if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),r=this,u=t.DashboardConstants.Zero,!t.isNullOrUndefined(this.tooltip)&&i.type==="touchend"){clearTimeout(this.tooltip);return}if(f=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,e=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY,i.type==="touchstart")u=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mousemove"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.tooltip=setTimeout(function(){var s,u;if(n(i.currentTarget).hasClass("e-dbrd-filter-hoverable")&&(i.bubbles=!1,n.isFunction(i.stopPropogation)&&i.stopPropagation(),n(i.currentTarget).parents(".e-dbrd-banner").siblings(".e-dbrd-fzone").length>t.DashboardConstants.Zero?r.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}):r.element.find(".e-dbrd-tooltip").css({"box-shadow":""}),s=n(i.currentTarget).attr("data-tooltip"),s!=="")){if(n(i.currentTarget).hasClass("e-remove-control-filter-disable")){r.element.find(".e-dbrd-tooltip").hide();return}if(n(i.currentTarget).css("cursor")==="default"){r.element.find(".e-dbrd-tooltip").hide();return}var h=r.element.offset().top===t.DashboardConstants.Zero?15:r.externalFilterPanel?r.element.offset().top+10:15,o=t.EjSvgRender.utils._measureText(s,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12;o=o<300?o:300;r.element.find(".e-dbrd-tooltip").html(s).css({"z-index":"100001",left:r.externalFilterPanel?f-r.element.offset().left-o:f-r.element.offset().left-o,top:r.externalFilterPanel?e-r.element.offset().top+10:e-r.element.offset().top+h,width:""}).stop(!0,!0).show();u=r.element.find(".e-dbrd-tooltip");u.length&&u.offset().top+u.height()+10>n("body").height()&&u.css({top:u.offset().top-u.height()});r.model.enableCustomTheming&&r._customTheme(["tooltip"])}},u)},_hideFilterToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);var i=this;this.tooltipTimer=setTimeout(function(){i.element.find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},500)},_searchDropDownList:function(n){t.isNullOrUndefined(this.model.onDropDownSearch)||this._trigger("onDropDownSearch",{data:n})},_reorderOnPopupHide:function(n){this._trigger("OnPopupHide",{data:n})},loadFilterLayout:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});t.isNullOrUndefined(this.model.size.height)?this.element.css({height:"100%"}):this.element.css({height:this.model.size.height});t.isNullOrUndefined(this.model.size.width)?this.element.css({width:"100%"}):this.element.css({width:this.model.size.width+"px"});this._drawFilterBanner();this._drawFilterLayout();var n=this,i=this.element.find(".e-dbrd-filter-banner").height();this.filterpanelWrapper.ejDashboardScroller({height:this.element.height()-i+"px",width:this.element.width()-2+"px"});setTimeout(function(){n.element.find("#"+n._id+"_layout_wrapper").data("ejDashboardScroller")&&n.element.find("#"+n._id+"_layout_wrapper").data("ejDashboardScroller").refresh();n._trigger("loaded",{dataSource:n.model.dataSource,element:n.element,controls:n.dashboardControls,instance:n})},1e3)},_openCommentDialog:function(i){var u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked"),f,r;u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");r=this.currentTabContentElement.find(".e-dbrd-filterPanel-widget-withcomments-menuClicked");r.length>t.DashboardConstants.Zero?r.removeClass("e-dbrd-filterPanel-widget-withcomments-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-filterPanel-widget-withcomments-menuClicked");t.isNullOrUndefined(i)||(f=n(i.target).attr("data-widget-id"));this._trigger("onWidgetCommented",{event:i,reportGuid:f,tabId:this.dashboardName})},_drawFilterBanner:function(){var n='<div class = "e-dbrd-filter-banner"><div class= "e-dbrd-filter-back" style = "position: absolute";> <\/div><div class= "e-dbrd-filter-title-container"><p class="e-dbrd-filter-title"> '+this.model.localeSettings.heading+' <\/p> <\/div><div class = "e-dbrd-filter-icon-container"><div class = "e-dbrd-filter-close e-dbrd-filter-hoverable" style = "position: absolute; margin-left: 20px;" data-tooltip="'+this.model.localeSettings.closeButtonText+'"><\/div><\/div><\/div>';this.element.append(n);this._setFilterHeader();this._setFilterCloseIcon()},_setFilterHeader:function(){this.model.showHeader?this.element.find(".e-dbrd-filter-banner").css({display:"block"}):this.element.find(".e-dbrd-filter-banner").css({display:"none"})},_setFilterCloseIcon:function(){this.model.showHeader&&this.model.showCloseIcon?this.element.find(".e-dbrd-filter-banner .e-dbrd-filter-icon-container").css({display:"block"}):this.element.find(".e-dbrd-filter-banner .e-dbrd-filter-icon-container").css({display:"none"})},_drawFilterLayout:function(){this.filterpanelWrapper=n("<div>").addClass("e-dbrd-filterpanel-wrapper e-dbrd-control").css({position:"absolute",width:"100%",height:"98%"}).attr({id:this._id+"_layout_wrapper"});this.filterpanelContentWrapper=n("<div>").addClass("e-dbrd-filterPanel-content");this.filterpanelWrapper.append(this.filterpanelContentWrapper);this.element.append(this.filterpanelWrapper);this._createControlLoader(this.element);this._createWidgetContainers();this._renderWidgets(null);n(window).width()<t.DashboardConstants.MobileWidth?(this.element.find(".e-dbrd-filter-back").css({display:"block"}),this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"20px","padding-right":"20px"}),this.element.find(".e-control-heading").css({"padding-left":"0px"}),this.element.find(".e-dbrd-filter-title").css({"text-transform":"none"})):(this.element.find(".e-dbrd-filter-back").css({display:"none"}),this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"8px","padding-right":"8px"}),this.element.find(".e-dbrd-filter-title").css({"text-transform":"uppercase"}))},_onFilterScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"#ff000000"});r.find(".e-vup").css({"font-size":"6px"});r.find(".e-vdown").css({"font-size":"6px",top:"-5px"});r.find(".e-vhandle").css({width:"5px"});r.find(".e-hup").css({"font-size":"7px"});r.find(".e-hdown").css({"font-size":"7px"});r.find(".e-hhandle").css({height:"8px","margin-top":"2px",bottom:"3px"})}},_onFilterScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vup").css({"font-size":"0"});r.find(".e-vdown").css({"font-size":"0"});r.find(".e-vhandle").css({width:"5px",left:"0"});r.find(".e-hup").css({"font-size":"0"});r.find(".e-hdown").css({"font-size":"0"});r.find(".e-hhandle").css({height:"5px"})}},_adjustZeros:function(n,i,r,u){if(!t.isNullOrUndefined(u&&r&&i&&n)){t.preferredCulture(u);var e=r,f=n,o=parseInt(r.replace(/^\D+/g,""));return i===t.DashboardConstants.Zero?(f.fraction===t.DashboardConstants.Zero?(f={fraction:t.DashboardConstants.Zero,symbol:""},e=r.replace(o,"0")):(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.symbol):i===""?f.fraction:(f.fraction===t.DashboardConstants.Zero&&(f={fraction:t.DashboardConstants.Zero,postFixLabel:""},e=r.replace(o,"0")),(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.postFixLabel)}return null},_truncateNumber:function(n){var f=Math.pow(10,3),i=Math.pow(10,6),r=Math.pow(10,9),u=Math.pow(10,12),t=n;return t>=f&&t<i||t<=-f&&t>-i?{fraction:this._calculateFraction(t,f),symbol:"K"}:t>=i&&t<r||t<=-i&&t>-r?{fraction:this._calculateFraction(t,i),symbol:"M"}:t>=r&&t<u||t<=-r&&t>-u?{fraction:this._calculateFraction(t,r),symbol:"B"}:t>=u||t<=-u?{fraction:this._calculateFraction(t,u),symbol:"T"}:{fraction:t,symbol:""}},_calculateFraction:function(n,i){return!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)?n/i:null},_applyNumberUnit:function(n,i){var r=t.DashboardConstants.One,u=Math.pow(10,3),f=Math.pow(10,6),e=Math.pow(10,9),o=Math.pow(10,12);switch(n){case t.DashboardConstants.One:return{fraction:i/r,postFixLabel:""};case 2:return{fraction:i/u,postFixLabel:"K"};case 3:return{fraction:i/f,postFixLabel:"M"};case 4:return{fraction:i/e,postFixLabel:"B"};case 5:return{fraction:i/o,postFixLabel:"T"};default:return{fraction:i,postFixLabel:""}}},_callFunction:function(n,t){var i=this;setTimeout(function(){i._trigger("beforeWidgetRender",{data:t});t?n.call(i,t):n.call(i);i._trigger("afterWidgetRender",{data:t})},4)},refreshData:function(n){var a=100,o={},s,h,r,f,v,l;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){var u="",c=0,i=null,e=null;if(t.isNullOrUndefined(n))return;if(this.flag=!1,t.isNullOrUndefined(this.model.dataSource)||this.model.dataSource.length!==t.DashboardConstants.Zero){if(!t.isNullOrUndefined(n))for(s=0;s<n.length;s++)for(h=0;h<this.model.dataSource.length;h++)n[s].filterId===this.model.dataSource[h].filterId&&(this.model.dataSource[h]=n[s])}else{this.model.dataSource=n;this.loadFilterLayout();return}for(this.target=[],c=0;c<this.model.dataSource.length;c++)if(r=this.model.dataSource[c],i=new Dbrdcontrol,f=new dbrdcontrolData,i.isControlFilter=!0,u=r.filterId.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.filterId:r.filterId.substr(t.DashboardConstants.Zero,r.filterId.indexOf("_")),u=u.toLowerCase(),i.reportName=r.filterId,v=this.element.find(".e-dbrd-control .e-dbrd-filter-wrapper[data-controlid="+r.filterId+"]"),v.length===t.DashboardConstants.One&&(l=v.find(".e-js").attr("id"),t.isNullOrUndefined(l)||l===""||this.target.push(l)),u===t.dashboardFilterPanel.controls.DatePicker.toLowerCase()||u===t.dashboardFilterPanel.controls.CheckBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RadioButton.toLowerCase()||u===t.dashboardFilterPanel.controls.FilterComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.ComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RangeSlider.toLowerCase()||u===t.dashboardFilterPanel.controls.ListBox.toLowerCase()){i.currentPage=1;!t.isNullOrUndefined(r.filterInfo.data)&&r.filterInfo.data.length>0&&(f.pagedata=JSON.parse(r.filterInfo.data),i.errorOccured=!1,f.pageNumber=1,f.LastUpdateTime="");t.isNullOrUndefined(r.filterInfo.error)||(f.pagedata=r.filterInfo.error,i.errorOccured=!0,f.isError=!0);t.isNullOrUndefined(r.filterInfo.configInfo)||(i.configInfo=JSON.parse(r.filterInfo.configInfo));t.isNullOrUndefined(r.filterInfo.dynamicData)||(i.dynamicData=JSON.parse(r.filterInfo.dynamicData));t.isNullOrUndefined(r.filterInfo.layout)||(i.layout=JSON.parse(r.filterInfo.layout));i.data.push(f);e=this.dashboardControls.getControlByReport(i.reportName);e!==null&&(e.customTheme!==null&&(i.customTheme=e.customTheme),!f.isError&&e.errorOccured&&(e.configInfo=i.configInfo,e.errorOccured=!1),i.SelectedFilterInfo=e.SelectedFilterInfo,i.SelectedItems=e.SelectedItems);switch(u){case"datepicker":i.controlType=t.dashboardFilterPanel.controls.DatePicker;i.maxMinData=i.dynamicData.Data;break;case"checkbox":case"radiobutton":i.controlType=u==="checkbox"?t.dashboardFilterPanel.controls.CheckBox:t.dashboardFilterPanel.controls.RadioButton;i.scrollSetting.controlPerPage=100;o={controldata:f,widgetType:i.controlType};this._updateVirtualScrollSettings(o,i,a);break;case"rangeslider":i.controlType=t.dashboardFilterPanel.controls.RangeSlider;break;case"combobox":case"filtercombobox":i.controlType=t.dashboardViewer.Controls.FilterComboBox;i.data[0].selectedValues=i.dynamicData.SelectedValues;i.scrollSetting.controlPerPage=100;o={controldata:f,widgetType:i.controlType};this._updateVirtualScrollSettings(o,i,a);!t.isNullOrUndefined(i.dynamicData)&&i.dynamicData.SelectedValues!==null&&i.configInfo.SelectFirstItem&&(i.SelectedFilterInfo=t.isNullOrUndefined(i.dynamicData.SelectedValues)?[]:i.dynamicData.SelectedValues);break;case"listbox":i.controlType=t.dashboardViewer.Controls.ListBox;i.scrollSetting.controlPerPage=100;o={controldata:f,widgetType:i.controlType};this._updateVirtualScrollSettings(o,i,a)}i.loadedPages=[];this.dashboardControls.updateCurrentReport(i)}this._renderWidgets(n)}else t.isNullOrUndefined(this.currentMasterWidget)||this._destoryAllLoaders()},_updateVirtualScrollSettings:function(n,t,i){var r=0;Array.isArray(n.controldata.pagedata)?r=n.controldata.pagedata.length:typeof n.controldata.pagedata=="string"&&(r=0);r<i?t.totalCount+=r:t.totalCount=r+i},_removeAllControlSelectedValues:function(n){var i=[],r;for(t.isNullOrUndefined(n)?i=this.dashboardControls.getAllControls():i.push(this.dashboardControls.getControlByReport(n)),r=0;r<i.length;r++)switch(i[r].controlType){case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardFilterPanel.controls.ComboBox:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.ListBox:i[r].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.RangeSlider:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[]}},resizeFilterPanel:function(){for(var c=n(this.element).find(".e-dashboarddatepicker"),i=null,r=0,u,e,f,l,h,v,a,o,s,y,r=0;r<c.length;r++)i=c.eq(r).parents(".e-dbrd-filter-wrapper"),i.width()!==t.DashboardConstants.Zero&&c.eq(r).ejDashboardDashboardDatePicker({width:i.width()-(i.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.Zero:30)+"px"});for(u=n(this.element).find(".e-dropdownlist"),r=0;r<u.length;r++)i=u.eq(r).parents(".e-dbrd-filter-wrapper"),i.width()!==t.DashboardConstants.Zero&&(u.eq(r).ejDashboardDropDownList({width:i.width()-(i.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.IndexLowerBound:30)+"px"}),t.isNullOrUndefined(u)||n("#"+n(u).attr("id")+"_popup_list_wrapper").css({"max-width":this.element.width()-this.currentTabContentElement.find("#"+n(u).attr("id")).offset().left+"px"})),i.height()!==t.DashboardConstants.Zero&&u.eq(r).ejDashboardDropDownList({height:"31px"});for(e=n(this.element).find(".e-slider"),f=0;f<e.length;f++)i=e.eq(f).parents(".e-dbrd-filter-wrapper"),l=this.dashboardControls.getControlByReport(i.attr("data-controlid")),i.width()!==t.DashboardConstants.Zero&&l&&(l.configInfo.orientation==="vertical"?e.eq(f).ejDashboardSlider({height:i.height()-120+"px"}):e.eq(f).ejDashboardSlider({width:i.width()-120+"px"}));for(h=n(this.element).find(".e-listbox"),v=n(this.element).find(".e-dbrd-control-listbox"),r=h.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--)i=h.eq(r).parents(".e-dbrd-filter-wrapper"),a=h.eq(r).attr("id"),o=n("#"+a).data("ejDashboardListBox"),!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero&&(o.option("height",i.height()-37+"px"),o.option("width",i.width()-15+"px")),v.eq(r).css({height:"100%",width:"100%"}),n("#"+a+"_container").css({width:"100%",height:"100%"});n(window).width()<t.DashboardConstants.MobileWidth?this.element.find(".e-dbrd-filter-title").css({"text-transform":"none"}):this.element.find(".e-dbrd-filter-title").css({"text-transform":"uppercase"});s=this;y=this.element.find(".e-dbrd-filter-banner").height();n(window).width()<t.DashboardConstants.MobileWidth?this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"20px","padding-right":"20px"}):(this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"8px","padding-right":"8px"}),this.filterpanelWrapper.ejDashboardScroller({height:this.element.height()-y+"px",width:this.element.width()-2+"px"}));setTimeout(function(){s.element.find("#"+s._id+"_layout_wrapper").data("ejDashboardScroller")&&s.element.find("#"+s._id+"_layout_wrapper").data("ejDashboardScroller").refresh()},1e3)},_createWidgetContainers:function(){var n,i;if(this.dashboardControls.controls.length!==t.DashboardConstants.Zero)for(n=0;n<this.dashboardControls.controls.length;n++)this._createWidgetContainer(this.dashboardControls.controls[n],n===this.dashboardControls.controls.length-t.DashboardConstants.One),n===t.DashboardConstants.Zero&&(i=this.element.find(".e-dbrd-loader-outer-circle"),i.css({"box-shadow":"0px 1px 3px 0px rgba(0,0,0,0.26)"}))},_createWidgetContainer:function(i,r){var e='<div class="e-dbrd-filter-wrapper" id="'+this._id+"_cell_"+i.configInfo.Row+"_"+i.configInfo.Column+'" data-controlId="'+i.configInfo.Id+'" controlType="'+i.controlType+'"><div class="e-dbrd-control-container" style="position:relative" id="'+(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)+'"><div class="e-control-heading"><div class="e-dbrd-filterwidget-title-container"><div class="e-dbrd-filterwidget-title">'+(t.isNullOrUndefined(i.layout)?i.configInfo.Id:t.isNullOrUndefined(i.layout.DisplayName)?i.layout.ReportName:i.layout.DisplayName)+'<\/div><div class= "e-dbrd-filterwidget-icon-container"><div class="e-remove-control-filter e-dbrd-filter-hoverable e-remove-control-filter-disable e-dbrd-filterpanel-icon" data-tooltip="'+this.model.localeSettings.clearFilterText+'"><\/div><div class="e-dbrd-filterPanel-widget-withoutcomments e-dbrd-filter-hoverable e-dbrd-filterpanel-icon" data-widget-id="'+(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)+'" data-tooltip="'+this.model.localeSettings.comment+'"><\/div><\/div><\/div><\/div><div class ="e-dbrd-filter-control-wrapper"><div class = "e-dbrd-control"> <\/div><\/div>'+(r?"":'<div class = "e-dbrd-control-separater" ><hr  style = "margin: 0!important"/><\/div>')+"<\/div>",u=n(e),f;i.controlType===t.dashboardFilterPanel.controls.ListBox?n(u).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:""+i.configInfo.VisibleItemCount*32+"px"}):i.controlType===t.dashboardFilterPanel.controls.CheckBox||i.controlType===t.dashboardFilterPanel.controls.RadioButton?n(u).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:"96px"}):n(u).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:"50px"});this.model.allowComment?(f=n(u).find(".e-dbrd-filterPanel-widget-withoutcomments"),this._isWidgetCommented(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)&&f.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-filterPanel-widget-withcomments"),f.show()):n(u).find(".e-dbrd-filterPanel-widget-withoutcomments").hide();this.filterpanelContentWrapper.append(u)},_isWidgetCommented:function(n){for(var t=0;t<this.model.commentSettings.widgets.length;t++)if(this.model.commentSettings.widgets[t]===n)return!0;return!1},_renderWidgets:function(n){var e,i,o,s,c,u,f;if(this.dashboardControls.controls.length===t.DashboardConstants.Zero){this._destoryAllLoaders();return}var h={},r=null;for(t.isNullOrUndefined(this.model.selectedData)||(r=this.model.selectedData),e=t.DashboardConstants.Zero;e<this.model.dataSource.length;e++){if(i=this.dashboardControls.getControlByReport(this.model.dataSource[e].filterId),o=!1,t.isNullOrUndefined(n))o=!0;else for(s=0;s<n.length;s++)if(n[s].filterId===i.reportName){o=!0;break}if(!t.isNullOrUndefined(i)&&i.reportName!==this.currentMasterWidget&&o){if(c=i.controlType,!t.isNullOrUndefined(r))for(u=0;u<r.length;u++)if(r[u].ReportName===i.reportName){i.SelectedFilterInfo.push(r[u]);break}switch(c){case"ComboBox":case"FilterComboBox":this._callFunction(this._renderFDropDownList,i);break;case"DatePicker":this._callFunction(this._renderDatePicker,i);break;case"RangeSlider":this._callFunction(this._renderRangeSlider,i);break;case"CheckBox":case"RadioButton":i.scrollSetting.controlPerPage=100;h.controldata=i.data[i.currentPage-1];this._updateVirtualScrollSettings(h,i,100);this._callFunction(this._renderCheckBoxandRadioButton,i);break;case"ListBox":this._callFunction(this._renderListBox,i)}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.widgetCustomThemeValues)&&this.applyCustomThemeForWidgets()}}f=this;this.currentMasterWidget=null;this._callFunction(function(){f.model.enableVirtualLoading||f._initializeRelationships();f._destoryAllLoaders()});setTimeout(function(){f.flag=!0},500)},_destroyLoader:function(){var i=this.element.find(".e-dbrd-loader"),n,r;if(i.length!==t.DashboardConstants.Zero)for(n=t.DashboardConstants.Zero;n<i.length;n++)r=i.eq(n),r.remove()},_makeSlaveDataRequest:function(n){if(this.target=[],this.currentMasterWidget=n.master,!t.isNullOrUndefined(this.model.beforeFilterApplied)){var i=this.dashboardControls.getControlByReport(n.master);this._trigger("beforeFilterApplied",{data:n,selectedValue:i.SelectedFilterInfo,filterControls:this.dashboardControls,master:n.master})}},_removeControlFilter:function(i){var r=n(i.currentTarget),u;if(this.clearFilter=!0,!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero))r.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}),r.parents(".e-dbrd-control-container").find(".e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");else{if(n(i.currentTarget).hasClass("e-remove-control-filter-disable"))return;n(r).addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");n(r).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}u=this.element.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&u.remove();var e=!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?n(r).attr("id").substr(t.DashboardConstants.Zero,n(r).attr("id").indexOf("_removeControlFilter")):n(r).attr("id").substr(t.DashboardConstants.Zero,n(r).attr("id").indexOf("_removeControlFilter")),f=!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?r.parents(".e-dbrd-filter-wrapper"):r.parents(".e-dbrd-filter-wrapper"),o=n(f).attr("data-controltype");this.CurrentMaster=n(f).attr("data-controlId");this._removeAppliedFilter(e,o,i)},_removeAppliedFilter:function(i,r){var c,l,h,w,o;this.CurrentMaster===""||t.isNullOrUndefined(this.CurrentMaster)||this._removeAllControlSelectedValues(this.CurrentMaster);var b=i+"_removeControlFilter",a=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All,s=this.element.find("#"+b);t.isNullOrUndefined(s)&&s.length!==t.DashboardConstants.Zero||(s.addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));var f=t.DashboardConstants.Zero,u=null,e=!1;switch(r){case"CheckBox":if(c=!n("#"+i).hasClass("e-dbrd-control-checkbox"),c)l=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+a+"]"),l.length!==t.DashboardConstants.Zero&&l.ejDashboardRadioButton("instance").option("checked",!0);else if(h=n("#"+i+" .e-checkbox.e-js.e-input"),h.length!==t.DashboardConstants.Zero)for(f=0;f<h.length;f++)h.eq(f).ejDashboardCheckBox("instance").option("checked",!0);this._loadCheckBoxSlaves(this.CurrentMaster,c);break;case"RangeSlider":u=n("#"+i).data("ejDashboardSlider");t.isNullOrUndefined(u._isDate)?(u.option("values",[u.model.minValue,u.model.maxValue]),u.option("value",u.model.maxValue)):u.model.sliderType==="range"?u.option("dateValue",[u.model.minDate,u.model.maxDate]):u.option("dateValue",u.model.maxDate);u.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.Zero]:this._applyFormattingForSlider(u.model.formatColumn,u.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.One]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.One]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue));this._onRangeSliderChange(this.CurrentMaster,"",null);break;case"DatePicker":u=n("#"+i).ejDashboardDashboardDatePicker("instance");u&&(u.model.value=null,u.redraw());this._onDatePickerChange(this.CurrentMaster,null);break;case"FilterComboBox":case"ComboBox":u=n("#"+i).data("ejDashboardDropDownList");var k=JSON.parse(JSON.stringify(this.dashboardParameters)),v="false",y="false",p=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;if(t.isNullOrUndefined(u))u=n("#"+i+"_lstbx").data("ejDashboardListBox"),e=!1,t.isNullOrUndefined(u)||(e=u.model.showCheckbox,e?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(u.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0))),this._loadListBoxSlaves(this.CurrentMaster,i+"_lstbx","",e,null);else{for(w=u.model.change,u.model.change=null,u._isFilterCleared=!0,u._totalSelectedItems=[],p.SelectFirstItem=!1,o=t.DashboardConstants.Zero;o<u.model.query._params.length;o++)switch(u.model.query._params[o].key){case"masterData":u.model.query._params[o].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":u.model.query._params[o].value=JSON.stringify([]);break;case"searchSelectedCount":u.model.query._params[o].value=0}for(f=t.DashboardConstants.Zero;f<u.model.query._params.length;f++)u.model.query._params[f].key==="hasNull"?v=u.model.query._params[f].value:u.model.query._params[f].key==="hasEmpty"&&(y=u.model.query._params[f].value);u.model.showCheckbox?u.option("checkAll",!1):u.unselectItemsByIndices(u.model.selectedItems);u.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",p.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",u._totalCount).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("selectedItems",JSON.stringify([])).addParams("searchSelectedCount",t.DashboardConstants.Zero).addParams("hasNull",v).addParams("hasEmpty",y).addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("dashboardName",this.dashboardName).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(k))));u.clearText();u.option("watermarkText",a);this._onGlobalFilterChange(!1,u.model.showCheckbox,!0,this.CurrentMaster,null);u.model.change=w}break;case"ListBox":u=n("#"+i+"_lstbx").data("ejDashboardListBox");e=!1;t.isNullOrUndefined(u)||(e=u.model.showCheckbox,e?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):u.unSelectAll());this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",e,null)}},_hideFilterPanel:function(){this.close()},_destroy:function(){this._unWireEvents();this._destroySlaveControls();this.element.empty().removeClass("e-dashboardfilterpanel"+this.model.cssClass);this._clearTimers()},_destroySlaveControls:function(){try{t.widget.destroyAll(n(this.element).find(".e-js").off())}catch(i){console(i.message)}},_destoryAllLoaders:function(){for(var i,r=this.element.find(".e-dbrd-loader"),n=0;n<r.length;n++)r.eq(n).remove();i=this.element.find(".e-dbrd-filterpanel-wrapper");t.isNullOrUndefined(i)||i.css({opacity:"1"})},_createControlLoader:function(i,r){var u,o,f,e;i.length!==t.DashboardConstants.Zero&&(t.isNullOrUndefined(r)&&(r=.5),u=i.find(".e-dbrd-loader"),u.length!==t.DashboardConstants.Zero?(u.show(),u.find("e-dbrd-loader-circle").css({zoom:r})):(o='<div class="e-dbrd-loader"><div class="e-dbrd-loader-outer-circle"><svg class="e-dbrd-loader-circle"><circle class="path" cx="24" cy="24" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div><\/div>',f=this.element.find(".e-dbrd-filterpanel-wrapper"),t.isNullOrUndefined(f)||f.css({opacity:"0.26"}),e=n(o),e.css({fill:"#FFFFFF",opacity:"1"}),i.append(e)))},_hideControlLoader:function(n){var i=n.find(".e-dbrd-loader");i.length!==t.DashboardConstants.Zero&&i.remove()},_checkMasterData:function(n){if(!t.isNullOrUndefined(this.masterData))for(var i=0;i<this.masterData.length;i++)if(this.masterData[i].Key===n)return i;return null},_showControlError:function(i,r,u){var f,e;t.isNullOrUndefined(i&&r&&u)||(f=r,f.hasClass("e-dbrd-layout-cell")&&(f=f.children()),e=f.siblings(".e-dbrd-control-error")||f.children(".e-dbrd-control-error"),f.children().hide(),e.length===t.DashboardConstants.Zero?(e=n("<div>").addClass("e-dbrd-control-error align-center"),e.append(n("<div>").addClass("widget-error-icon").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable"),n("<div>").addClass("e-dbrd-controlError-msg").html(i),n("<div class='e-dbrd-link-btn'>").html(this.model.localeSettings.knowMore).data({"error-msg":u.msg})),f.css({display:"table"}),e.css({"border-radius":f.parent().css("border-radius")}),e.append(n("<button type='button' class='reload-retrievalerror-icon reload-button'>   Reload<\/button>").addClass("e-dbrd-refresh-link-btn").data({control:f})),f.append(e),e.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single")):e.show().html(i),f.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"none"}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]))},_hideControlError:function(n){var i,r;t.isNullOrUndefined(n)||(i=n.find(".e-dbrd-control-error")||n.siblings(".e-dbrd-control-error"),i.length!==t.DashboardConstants.Zero&&(r=n.find(".e-control-heading"),r.length!==t.DashboardConstants.Zero&&r.css({display:"block"}),n.css({width:"100%"}),n.children().show(),i.hide(),n.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"block"})))},_applyOrRemoveNoDataAvailableForFilters:function(i,r){return t.isNullOrUndefined(i,r)?null:i===t.DashboardConstants.Zero?(n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-nodata").length===t.DashboardConstants.Zero&&n(r).closest(".e-dbrd-filter-control-wrapper").css({display:"table"}).append(n('<div style="margin-top:12px;" >').html(this.model.localeSettings.NoData).addClass("e-nodata")),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide(),!1):(n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-nodata").remove(),n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-dbrd-control").show(),!0)},_applyOrRemoveNoDataAvailable:function(i,r){var u=r,f,e,s,o;return(u&&u.find(".e-dbrd-control-nodatainfo").remove(),u.hasClass("e-dbrd-layout-cell")&&(u=u.children()),f=u.siblings(".e-dbrd-control-nodatainfo")||u.children(".e-dbrd-control-nodatainfo"),e=n("<div>").addClass("e-dbrd-control-nodatainfo align-center").css({display:"inline-block"}),i===t.DashboardConstants.Zero)?(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}),f.length===t.DashboardConstants.Zero?(u.children().hide(),f=n('<div style="height:auto; width:100%; display:table">').addClass("e-dbrd-control-nodatainfo"),e.append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.model.localeSettings.NoData).addClass("e-nodata")),u.css({display:"table"}),f.append(e),u.append(f)):(u.children().hide(),f.show().html(this.model.localeSettings.NoData).addClass("e-nodata")),s=u.height()-e.height(),e.css({"margin-top":s/2}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]),!1):(u.children().show(),o=u.parents(".e-dbrd-filter-wrapper").attr("controltype"),o===t.dashboardFilterPanel.controls.ComboBox||o===t.dashboardFilterPanel.controls.FilterComboBox||o===t.dashboardFilterPanel.controls.RangeSlider?u.css({display:"table"}):u.css({display:"block"}),this._hideControlError(u),f.remove(),this.model.responsiveSettings.showMaximize?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}):n(window).width()<786?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),this.model.responsiveSettings.showExport?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}):n(window).width()<786?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),!0)},clearAppliedFilters:function(){var o=this.model.dataSource,e=null,f=null,u=null,r,i;if(o.length>t.DashboardConstants.Zero)for(r=this.element.find(".e-remove-control-filter-enable"),i=0;i<r.length;i++)r.eq(i).removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable"),f=n(r[i]).attr("id"),e=f.substring(t.DashboardConstants.Zero,f.lastIndexOf("_")),u=n(r[i]).parents(".e-dbrd-filter-wrapper").attr("controlType"),u==="ComboBox"&&(u="FilterComboBox"),this._removeAppliedFilter(e,u)},_initializeRelationships:function(){for(var u=this.element.find(".e-dbrd-filter-control-wrapper").find(".e-dbrd-control"),r,u=u.add(n("#"+this._id+" input.e-FilterBox,div.e-FilterBox")).add(n("#"+this._id+" td.e-dbrd-slider-control div.e-slider")),i=0;i<this.controlRelations.length;i++)if(this.element.find("#"+this.controlRelations[i].Master).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master).length===t.DashboardConstants.One&&(this.controlRelations[i].Master=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master),this.controlRelations[i].Slaves.length>t.DashboardConstants.Zero)for(r=0;r<this.controlRelations[i].Slaves.length;r++)this.element.find("#"+this.controlRelations[i].Slaves[r]).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[r]).length===t.DashboardConstants.One&&(this.controlRelations[i].Slaves[r]=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[r])},_applyCustomTheme:function(){!t.isNullOrUndefined(this.model.customThemeSettings.filterPanel["background-color"])&&this.model.customThemeSettings.filterPanel["background-color"].length>t.DashboardConstants.Zero&&n(".e-dashboardfilterpanel").css({"background-color":this.model.customThemeSettings.filterPanel["background-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.filterPanel["separator-color"])&&this.model.customThemeSettings.filterPanel["separator-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-filter-banner").css({"border-bottom-color":this.model.customThemeSettings.filterPanel["separator-color"]}),this.element.find(".e-dbrd-control-separater hr").css({color:this.model.customThemeSettings.filterPanel["separator-color"]}));this._customThemeFontSettings();this._customThemeBannerSettings();this._customThemeForContainer()},_customThemeFontSettings:function(){var i,r;!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.css("font-family",this.model.customThemeSettings.fontSettings["font-family"]),this.element.find(".e-dbrd-filter-title").css("font-family",this.model.customThemeSettings.fontSettings["font-family"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(i=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(i["font-family"])&&i["font-family"].length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.src)&&i.src.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.format)&&i.format.length>t.DashboardConstants.Zero&&(n("head").prepend('<style type= "text/css"> @font-face {\n font-family: "'+i["font-family"]+'" ;\n  src: url(  "'+i.src+'" )format( "'+i.format+'");\n } \n  <\/style>'),r=this.element[0],r.style.setProperty("font-family",i["font-family"],"important"),this.element.find(".e-dbrd-filter-title").css("font-family",i["font-family"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-filter-title").css("font-size",this.model.customThemeSettings.fontSettings["font-size"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}))},_customThemeBannerSettings:function(){!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["background-color"])&&this.model.customThemeSettings.bannerSettings["background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filter-banner").css({"background-color":this.model.customThemeSettings.bannerSettings["background-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["title-color"])&&this.model.customThemeSettings.bannerSettings["title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filter-title").css({color:this.model.customThemeSettings.bannerSettings["title-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["icons-color"])&&this.model.customThemeSettings.bannerSettings["icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-filter-close").css({color:this.model.customThemeSettings.bannerSettings["icons-color"]}),this.element.find(".e-dbrd-filter-back").css({color:this.model.customThemeSettings.bannerSettings["icons-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["font-size"])&&this.model.customThemeSettings.bannerSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.css({"font-size":this.model.customThemeSettings.bannerSettings["font-size"]})},_customThemeForContainer:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.container)){var i=this.model.customThemeSettings.container,r="";!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(r=r+"background-color:"+i["background-color"]+" !important;");!t.isNullOrUndefined(i["border-radius"])&&i["border-radius"].length>t.DashboardConstants.Zero&&(r=r+"border-radius:"+i["border-radius"]+" !important;");!t.isNullOrUndefined(i["box-shadow"])&&i["box-shadow"].length>t.DashboardConstants.Zero&&(r=r+"box-shadow:"+i["box-shadow"]+"!important");n(".e-dbrd-control-container").each(function(){this.style.cssText=r});r="";!t.isNullOrUndefined(i["header-background-color"])&&i["header-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-control-heading").css({"background-color":i["header-background-color"]});!t.isNullOrUndefined(i["title-color"])&&i["title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterwidget-title").css({color:i["title-color"]});!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterwidget-title").css({"font-size":i["font-size"]});!t.isNullOrUndefined(i["icons-color"])&&i["icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterpanel-icon").css({color:i["icons-color"]})}},applyCustomThemeForWidgets:function(){var r,i,f;if(!t.isNullOrUndefined(this.model.customThemeSettings.widgetThemeSettings)&&n(this.model.customThemeSettings.widgetThemeSettings).length>t.DashboardConstants.Zero){var s=this.model.customThemeSettings.widgetThemeSettings,e=this.dashboardControls.controls,u=null,o=null;for(r=t.DashboardConstants.Zero;r<e.length;r++){if(u=e[r],!t.isNullOrUndefined(this.model.customThemeSettings.widgetCustomThemeValues))for(i=t.DashboardConstants.Zero;i<this.model.customThemeSettings.widgetCustomThemeValues.length;i++)f=u.controlType.toLocaleLowerCase(),this.model.customThemeSettings.widgetCustomThemeValues[i].control===f&&(t.isNullOrUndefined(s[f])||(o=this.model.customThemeSettings.widgetCustomThemeValues[i].customThemeValue));this.customThemeForFiltersInPanel(u,o)}}},customThemeForFiltersInPanel:function(i,r){var h,l,c;if(this.model.enableCustomTheming&&!t.isNullOrUndefined(r)&&r!=="")for(var f=null,u=null,s=this.dashboardControls.controls,f=t.DashboardConstants.Zero;f<s.length;f++)if(s[f].controlType===i.controlType&&s[f].reportName===i.reportName&&(h=i.isMaximize?i.Id:this._id+"_"+i.controlType+"_"+i.reportName,s[f].controlThemeName=r,this.model.customThemeSettings.widgetThemeSettings!==null&&(l=n("<style>").attr("id",h+"_style"),c=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLowerCase()],c!==null&&c[r]!==null))){var a=c[r],e=Object.keys(a),o=null;for(u=t.DashboardConstants.Zero;u<e.length;u++)t.isNullOrUndefined(o)?o=this._generateCSSFromJson(h,i.controlType,e[u],a[e[u]]):o+=" "+this._generateCSSFromJson(h,i.controlType,e[u],a[e[u]]);t.isNullOrUndefined(o)||(l.append(o),n("head").append(l))}},_generateCSSFromJson:function(n,i,r,u){var f=t.DashboardConstants.Zero,s=null,o=null,e=Object.keys(u),c,h;for(i==="PivotGrid"&&(n=n+"_div"),f=t.DashboardConstants.Zero;f<e.length;f++)if(c=this._getControlClassName(r,e[f],i,n),!t.isNullOrUndefined(c))for(h=c.split(","),o=t.DashboardConstants.Zero;o<h.length;o++)t.isNullOrUndefined(s)?s="#"+n+h[o]+" { "+this._getPropertyName(e[f])+" : "+u[e[f]]+" !important}":s+=" #"+n+h[o]+" { "+this._getPropertyName(e[f])+" : "+u[e[f]]+" !important}";return s},_getControlClassName:function(n,i,r,u){switch(r){case"FilterComboBox":switch(n){case"combobox":return"_container .e-input,_container ::-webkit-input-placeholder,_container ::-moz-placeholder,_container :-ms-input-placeholder,_container :-moz-placeholder";case"button":return"_container .e-select";case"dropdownlist":return"_popup_wrapper .e-dbrd-canvas.e-ddl-popup";case"icon":return i==="tick-color"?"_popup_wrapper .e-ddl-popup .e-check-act:before":i==="search-icon-color"?"_popup_wrapper .e-atc.e-search .e-isearch:before, .e-atc.e-search .e-iclose:before":"_popup_wrapper .e-ddl-popup .e-checkwrap";case"hover":return"_popup_wrapper li.e-hover";case"searchbox":return"_popup_wrapper .e-atc .e-input";case"selection":return"_popup_wrapper.e-drbd-cntrl-combobox .e-active"}break;case"CheckBox":if(u.indexOf("RadioButton")!==t.DashboardConstants.IndexLowerBound)switch(n){case"label":return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-rad-active:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-spanicon"}else switch(n){case"label":return".e-dbrd-control-checkbox .e-dbrd-checkbox-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-image:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-act"}break;case"RangeSlider":switch(n){case"container":return"_wrapper.rangeslider_wrapper";case"range":return i==="range-color"?".e-slider .e-range":".e-slider.e-widget";case"handle":return" .e-handle.e-select";case"label":return"leftcontainer_"+u+" label","rightcontainer_"+u+" label"}break;case"ListBox":switch(n){case"listbox":return" .e-content";case"icon":return i==="tick-color"?" .e-chkbox-wrap .e-chk-image:before":" .e-chkbox-wrap .e-chk-act";case"hover":return" .e-listbox .e-hover"}break;case"DatePicker":switch(n){case"textbox":return".e-FilterBox.e-dashboarddatepicker.e-js.e-input-main";case"calendar":return i==="currentmonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-current-month":i==="week-header-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-week-header th":i==="days-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td":i==="othermonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .other-month":i==="next-arrow-color"?"_wrapper .e-dashboarddatepicker-icon i:before":"_popup_wrapper.e-dashboarddatepicker-popup-wrapper";case"selection":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td.selected";case"hover":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td:hover";case"icon":if(i==="calendar-color")return"_wrapper .e-dashboarddatepicker-icon:before";if(i==="arrow-color")return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-arrow-enabled  i:before"}}},_getPropertyName:function(n){switch(n){case"font-color":case"filter-icon-color":case"sort-icon-color":case"expand-icon-color":case"collapse-icon-color":case"symbol-color":case"tick-color":case"box-color":case"currentmonth-font-color":case"week-header-color":case"days-color":case"arrow-color":case"calendar-color":case"search-icon-color":return"color";case"othermonth-font-color":case"range-color":return"background-color";case"highlight-color":return"border-color"}return n},open:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});this.element.show();this._trigger("filterPanelOpen",{dataSource:this.model.dataSource,element:this.element,controls:this.dashboardControls})},close:function(){this._trigger("beforeFilterPanelClose",{dataSource:this.model.dataSource,element:this.element});this.element.hide();this._trigger("filterPanelClose",{dataSource:this.model.dataSource,element:this.element})},getState:function(){return this.element.css("display")==="block"?t.dashboardFilterPanel.state.Open:t.dashboardFilterPanel.state.Closed},showLoader:function(){this._createControlLoader(this.element)},hideLoader:function(){this._hideControlLoader(this.element)}});t.isNullOrUndefined(t.dashboardViewer.filters)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.filters);t.isNullOrUndefined(t.dashboardViewer.dropdownlist)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.dropdownlist);t.isNullOrUndefined(t.dashboardViewer.core)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.core);t.dashboardFilterPanel.controls={RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",ComboBox:"ComboBox",CheckBox:"CheckBox",RadioButton:"RadioButton",ListBox:"ListBox"};t.dashboardFilterPanel.state={Open:"opened",Closed:"closed"};t.DashboardConstants={All:"All",SelectAll:"(Select All)",SelectDate:"Select Date",Apply:"Apply",From:"From",To:"To",DaysOfWeek:{DaysOfWeekSu:"Su",DaysOfWeekMo:"Mo",DaysOfWeekTu:"Tu",DaysOfWeekWe:"We",DaysOfWeekTh:"Th",DaysOfWeekFr:"Fr",DaysOfWeekSa:"Sa"},MonthNames:{MonthJan:"January",MonthFeb:"February",MonthMar:"March",MonthApr:"April",MonthMay:"May",MonthNov:"November",MonthOct:"October",MonthSep:"September"},MultipleValues:"(Multiple Values)",UrlLink:"Url",DashboardLink:"Dashboard",Culture:"Culture",LoadedVersion:"LoadedVersion",WrongExcel:"WrongExcel",UserUnchecked:"userunchecked",RequireAuthentication:"RequireAuthentication",Authenticate:"Authenticate",Title:"Title",Desc:"Desc",TimeSpan:"TimeSpan",TimeSpanMinutes:"TimeSpanMinutes",TimeSpanHours:"TimeSpanHours",TimeSpanDays:"TimeSpanDays",TimeSpanWeeks:"TimeSpanWeeks",TimeSpanMonths:"TimeSpanMonths",TimeSpanYears:"TimeSpanYears",DateFilterInfoRange:"Range",DateFilterInfoInclude:"Include",ClearAllFilters:"CLEAR ALL",FilterOverview:"Filters Overview",AppliedFilters:"Applied Filters",DateFilterInfoExclude:"Exclude",HasFilterPanel:"HasFilterPanel",EnableComments:"EnableComment",Subtitle:"Subtitle",IndexLowerBound:-1,Zero:0,One:1,MinimumWidth:650,MobileWidth:769,Resolution:96,Window:window,Widget:"_Widget_"};t.dashboardViewer.Controls={Grid:"Grid",Chart:"Chart",Card:"Card",TreeMap:"TreeMap",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",DrillDownChart:"DrillDownChart",ComparisonChart:"ComparisonChart",ProportionChart:"ProportionChart",RangeNavigator:"RangeNavigator",RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",CheckBox:"CheckBox",ListBox:"ListBox",Image:"Image",Label:"Label",Gauge:"Gauge",PivotGrid:"PivotGrid",CustomWidget:"CustomWidget"}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.layoutEngine={_renderAuthPromptDialog:function(i){var r,f;if(!t.isNullOrUndefined(i)){var h='<div class="e-dbrd-dialog-content"><p class="e-datasource-name"><\/p><p class="e-error">'+this.locale.utils.InvalidCredentials+'<\/p><div class="e-input-container"><span><input type="text" name="username" class="e-text-box" placeholder="'+this.locale.utils.UserName+'"/><\/span><span><input type="password" name="password" class="e-text-box" placeholder="'+this.locale.utils.Password+'" /><\/span><\/div><\/div>',c='<div class="e-dbrd-dialog"><div class="e-dbrd-dialog-heading"><span class="e-dbrd-dialog-icon e-dbrd-popup-icon"><\/span><strong class="e-dbrd-dialog-title">'+this.locale.utils.AuthenticationRequired+'<\/strong><span class="e-dbrd-dialog-header-error">'+this.locale.utils.FixIssues+'<\/span><\/div><div class="e-dbrd-dialog-content-wrapper e-dbrd-control" id="'+this._id+'_authWindowWrapper"><div><\/div><\/div><div class="e-dbrd-dialog-footer"><input type="button" value="'+this.locale.utils.Open+'" class="e-dbrd-btn e-success" /><\/div><\/div>',u=n(c),l=i.AuthData.length;for(r=0;r<l;r++){var e=i.AuthData[r],o=n(h),s=o.find(".e-datasource-name");s.html(e.DataSourceName);s.attr({"data-name":e.DataSourceName});u.find(".e-dbrd-dialog-content-wrapper>div").append(o)}this.currentTabContentElement.append(u);n(this.currentTabContentElement).find(".e-dbrd-dialog .e-dbrd-control input:first").focus();f=this;this._on(this.currentTabContentElement,"keypress",function(i){i.keyCode===13&&n(f.currentTabContentElement).find(".e-dbrd-dialog").find(".e-dbrd-controlWaiting").length===t.DashboardConstants.Zero&&f._validateCredentials()});i.AuthData.length>t.DashboardConstants.One&&u.find("#"+this._id+"_authWindowWrapper").ejDashboardScroller({height:"135",orientation:"vertical"});this.model.enableCustomTheming&&this._customTheme(["popup"])}return null},_renderErrorMsgDialog:function(){var t='<div class="e-dbrd-dialog e-dbrd-alert" id="'+this._id+'_error_dialog"><div class="e-dbrd-dialog-heading"><span class="e-dbrd-dialog-warning-icon e-dbrd-popup-icon"><\/span><span class ="e-dbrd-error-text-close e-dbrd-popup-icon"><\/span><strong class="e-dbrd-dialog-title">'+this.locale.utils.Error+'<\/strong><span class="e-dbrd-dialog-close-icon e-dbrd-popup-icon e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Close+'"><\/span><\/div><div class="e-dbrd-dialog-content-wrapper" id="'+this._id+'_error_dialog_content"><div class="e-dbrd-content"><button class="e-dbrd-showDetails">'+this.locale.utils.ShowDetails+'<\/button><div class="e-dbrd-stacktrace  e-dbrd-control" id="'+this._id+'_error_dialog_show_content"><\/div><\/div><\/div><div class="e-dbrd-dialog-footer"><input type="button" class="e-dbrd-btn-support" value="'+this.locale.utils.Clipboard+'" /><input type="button" value="'+this.locale.utils.Ok+'" class="e-dbrd-btn-ok e-success"/><\/div><\/div>',i=n(t);this.currentTabContentElement.append(i,n("<div class='e-dbrd-dialog-bgrnd'>"))},_renderGetLinkDialog:function(){var i='<div class="e-dbrd-dialog e-dbrd-alert e-dbrd-getlink" id="'+this._id+'_get_link_dialog"><div class="e-dbrd-dialog-heading"><strong class="e-dbrd-dialog-title">'+this.locale.utils.GetLink+'<\/strong><span class="e-dbrd-dialog-close-icon e-dbrd-popup-icon e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Close+'"><\/span><\/div><div class="e-dbrd-dialog-share-content-wrapper e-dbrd-control" id="'+this._id+'_get_link_dialog_content"><div class="e-share-default">'+this.locale.utils.GetLinkContent+'<\/div><div style="padding-top:15px;display:flex;float:left;width:100%;"> <input class="e-share-text" onClick="this.select()" type="text" value="'+this.getCurrentViewUrl()+'"><button class="e-share-copy-btn e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Clipboard+'"><\/button><\/div><\/div>',t=n(i);this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove();this.currentTabContentElement.append(t,n("<div class='e-dbrd-dialog-bgrnd'>"));t.find("#"+this._id+"_get_link_dialog_content").ejDashboardScroller({height:"130",orientation:"vertical"})},_renderDashboardLayout:function(i,r){var u=0,a,e,v,f,o,s,y,h,c,p,l,w;if(this.multiTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveHiddenTabData(i.tabId,{data:r,type:"layout"});return}if(t.isNullOrUndefined(this.dashboardParameters.data))for(a=r.d.length,e=0;e<a;e++)r.d[e].Key==="DashboardParameters"&&(this.dashboardParameters=JSON.parse(r.d[e].Value),this._loadDashboardParamData(this.dashboardControls.initialDashboardParameters));if(!t.isNullOrUndefined(r)){if(this.multiTabs===!1){for(v=r.d.length,u=0;u<v;u++)r.d[u].Key==="TabInformation"?this.dashboardDetails=JSON.parse(r.d[u].Value):r.d[u].Key==="Culture"?this.model.dashboardCulture=r.d[u].Value:r.d[u].Key==="ExportSettings"&&(f=JSON.parse(r.d[u].Value),o=!1,this.model._exportSettings.canExportImage=this.model._exportSettings.canExportImage&&f.CanExportImage?f.CanExportImage:o,this.model._exportSettings.canExportPdf=this.model._exportSettings.canExportPdf&&f.CanExportPdf?f.CanExportPdf:o,this.model._exportSettings.canExportExcel=this.model._exportSettings.canExportExcel&&f.CanExportExcel?f.CanExportExcel:o,this.model._exportSettings.canExportCsv=this.model._exportSettings.canExportCsv&&f.CanExportCsv?f.CanExportCsv:o);t.isNullOrUndefined(this.dashboardDetails)||(s=this.dashboardDetails.length,s>t.DashboardConstants.One?this._createDashboardTabs(r):t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||s!==t.DashboardConstants.One||this.model._selectedTabGuid===this.dashboardDetails[t.DashboardConstants.Zero].DashboardId?t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||s!==t.DashboardConstants.Zero||this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:null}):(this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this.dashboardDetails[t.DashboardConstants.One].DashboardId}),this.model._selectedTabGuid=this.dashboardDetails[t.DashboardConstants.One].DashboardId))}if(this.stopRendering)return;for(this.locale=jQuery.extend(!0,{},t.dashboardViewer.localization["en-US"]),r.d[0].Key===t.DashboardConstants.LoadedVersion&&r.d[0].Value!==null&&(this._errorOnHigherVersionReport(r.d[0].Value),this._destroyWaitingPopup()),u=0;u<r.d.length;u++)if(!t.isNullOrUndefined(r.d[u])&&!t.isNullOrUndefined(r.d[u].Value)&&r.d[u].Value.length>t.DashboardConstants.Zero&&r.d[u].Key==="Resources"){y=JSON.parse(r.d[u].Value);this._updateViewerResources(y);break}if(r.d.length>t.DashboardConstants.Zero&&r.d[1].Key===t.DashboardConstants.RequireAuthentication&&r.d[1].Value!==null){this._renderAuthPromptDialog(JSON.parse(r.d[1].Value));this._destroyWaitingPopup();return}if(this.isWidget=r.d[6].Value,h=JSON.parse(r.d[1].Value),this.currentReport={layout:r.d,data:[]},this.multiTabs)for(c=this._privateFilterData,p=this.dashboardDetails.length,u=t.DashboardConstants.Zero;u<p;u++)if(this.dashboardDetails[u].DashboardId===this.model._selectedTabGuid&&this._hasPrivateFilterData&&!t.isNullOrUndefined(c[this.model._selectedTabGuid].masterData)){l=this.dashboardControls.unMinifySelectedFilterInfo(n.parseJSON(c[this.model._selectedTabGuid].masterData));this.model.currentMasterReport=l.masterData;this.dashboardControls.initialDashboardParameters=l.dashboardParams;break}w=24;this.isExtendedLayout=h.ColumnCount===w;this.isWidget||this._drawBanner(r.d);this._setDashboardSize();this._trigger("beforeLayoutRender",{layoutData:this.currentReport.layout,tabId:this.dashboardName,dashboardParameters:this.dashboardParameters});this._drawLayout(h,r.d);this._renderErrorMsgDialog();this._trigger("afterLayoutRender",{layoutData:this.currentReport.layout,wrapperElement:this.currentTabContentElement.find("#"+this._id+"layout_wrapper"),tabId:this.dashboardName});this.multiTabs&&this.currentTabContentElement.data({rendered:"true"})}return null},_setDashboardSize:function(){var i,r;this.model.size&&(this.model.size.height?(this.dashboardHeight=this.model.size.height,this.containerHeight=n(this.currentTabContentElement).parent().height(),this.dashboardHeight=typeof this.dashboardHeight=="string"&&this.dashboardHeight.indexOf("%")>t.DashboardConstants.IndexLowerBound?this.containerHeight/100*parseInt(this.dashboardHeight):parseFloat(this.dashboardHeight)):(i=null,this.multiTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&this.model.showTab?(i=this.element.height()-this.element.find(".e-tab .e-header").height(),this.element.find(".e-tab>.e-content").css({height:i+"px"}),this.dashboardHeight=this.element.find(".e-content").height()):this.dashboardHeight=this.element.height()));this.model.size&&(this.model.size.width?(this.dashboardWidth=this.model.size.width,this.containerWidth=n(this.currentTabContentElement).parent().width(),this.dashboardWidth=typeof this.dashboardWidth=="string"&&this.dashboardWidth.indexOf("%")>t.DashboardConstants.IndexLowerBound?this.containerWidth/100*parseInt(this.dashboardWidth):parseFloat(this.dashboardWidth)):this.multiTabs?(r=this.element.width(),this.element.find(".e-tab.e-js>.e-content").css({width:r}),this.dashboardWidth=this.element.find(".e-content").width()):this.dashboardWidth=this.currentTabContentElement.width())},_updateViewerResources:function(n){if(!t.isNullOrUndefined(n))for(var i in n)n.hasOwnProperty(i)&&(t.isNullOrUndefined(this.locale.utils[i])?t.isNullOrUndefined(this.locale.errorMessages[i])||(this.locale.errorMessages[i]=n[i].replace(/[""]/g,"")):this.locale.utils[i]=n[i].replace(/[""]/g,""));return null},_errorOnHigherVersionReport:function(i){var r,u,o,f,h,e;if(n(window).width()<t.DashboardConstants.MobileWidth)this._errorOnHigherVersionReportForMobile(i);else{if(this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.currentTabContentElement.css({position:"relative"})),r=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px","z-index":"100000"}),u=this.isWidget?this.locale.utils.ErrorOnHigherVersionForWidget:this.locale.utils.ErrorOnHigherVersion,o=":",u.match(o)){f=u.substr(t.DashboardConstants.Zero,u.indexOf(":"));f=f.toLowerCase();var s=u.substr(u.indexOf(":")+t.DashboardConstants.One),c=this.errorHyperLink.replace("#errorCode","#"+f),l="<a href = "+c+" target= _blank>"+f+"<\/a>";r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable").html(l+":"+s+i+")").attr({"data-tooltip":s+i+")"}),n("<div>").addClass("e-close-notification"))}else r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable").html(u+i+")").attr({"data-tooltip":u+i+")"}),n("<div>").addClass("e-close-notification"));this.element.append(r);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);r.css({left:-(r.width()/2)});this.isWidget?n("#"+this._id+"_errorShown").css({"max-width":"90%",left:this.dashboardWidth/20,right:"0"}):n("#"+this._id+"_errorShown").css({"margin-left":"50%"});this.currentTabContentElement.css({position:"relative"});h=r.html();e={errorDialog:h};this._trigger("beforePassiveErrorRender",e);r.html(e.errorDialog)}},_errorOnHigherVersionReportForMobile:function(i){var e,h,u,l,a,v,o;this.currentTabContentElement.find(".e-error-notification-mobile")&&(this.currentTabContentElement.find(".e-error-notification-mobile").remove(),this.currentTabContentElement.css({position:"relative"}));var f=n("<div>").addClass("e-errorDiv").css({width:"100%",height:"100%"}),s=n("<div>").attr({id:this._id+"_errorShown_mobile"}).addClass("e-error-notification-mobile").css({"z-index":"10001"}),r;if(r=this.isWidget?this.locale.utils.ErrorOnHigherVersionForWidget:this.locale.utils.ErrorOnHigherVersion,e=null,h=":",r.match(h)){u=r.substr(t.DashboardConstants.Zero,r.indexOf(":"));u=u.toLowerCase();var c=r.substr(r.indexOf(":")+t.DashboardConstants.One),y=this.errorHyperLink.replace("#errorCode","#"+u),p="<a href = "+y+" target= _blank>"+u+"<\/a>";e='<div class = "e-error-msg-mobile e-dbrd-hoverable" data-tooltip = "'+c+i+')">'+p+":"+c+i+")<\/div>"}else e='<div class = "e-error-msg-mobile e-dbrd-hoverable" data-tooltip = "'+r+i+')">'+r+i+")<\/div>";l='<button class = "reload-button-mobile">RELOAD<\/button>';a='<div class = "e-error-icon"><\/div>'+e+l;s.append(a);f.append(s);this.currentTabContentElement.append(f);this._calculateErrorDialogSize();this.model.enableCustomTheming&&this._customTheme(["passiveError"]);this.currentTabContentElement.css({position:"relative"});v=f.html();o={errorDialog:v};this._trigger("beforePassiveErrorRender",o);f.html(o.errorDialog)},_reloadDashboard:function(){this.loadLayout(null,!0)},_calculateErrorDialogSize:function(){var t=this.currentTabContentElement.find(".e-error-notification-mobile");t.css({"margin-left":-n(".e-error-notification-mobile").width()/2,"margin-top":-n(".e-error-notification-mobile").height()/2})},_noWidgetConfiguredMessage:function(){var t=n("<div>").attr({id:this._id+"_noWidgetConfigured"}).addClass("e-higher-popup"),i=n("<div>").attr({id:this._id+"_noWidgetCenterDiv"}).css({position:"absolute"});i.append(n("<div>").addClass("widget-error-icon"),n("<div>").addClass("e-higher-error-message").html(this.locale.utils.NoWidgetConfigured));t.append(i);this.currentTabContentElement.append(t);this._nowidgetPreviewAlign()},_nowidgetPreviewAlign:function(){var t=2,n=this.currentTabContentElement.find("#"+this._id+"_noWidgetCenterDiv");n.css({top:"0px",left:"0px"});n.css("top",this.element.height()/t-n.height()/t);n.css("left",this.element.width()/t-n.width()/t)},_showOrHideBannerIcons:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-icon-container");n(window).width()<t.DashboardConstants.MobileWidth?(i.find(".e-dbrd-banner-smallMenu").css({display:"block"}),i.find(".e-dbrd-banner-menu").css({display:"none"}),i.find(".e-dbrd-banner-refresh").css({display:"none"}),i.find(".e-dbrd-banner-link").css({display:"none"}),i.find(".e-dbrd-banner-params").css({display:"none"}),i.find(".e-dbrd-dashboardunfavIcon").css({display:"none"}),i.find(".e-dynamic-title-container").css({display:"none"})):(i.find(".e-dbrd-banner-menu").css({display:"block"}),i.find(".e-dbrd-banner-refresh").css({display:"block"}),i.find(".e-dbrd-banner-link").css({display:"block"}),i.find(".e-dbrd-banner-params").css({display:"block"}),i.find(".e-dbrd-dashboardunfavIcon").css({display:"block"}),i.find(".e-dynamic-title-container").css({display:"block"}),i.find(".e-dbrd-banner-smallMenu").css({display:"none"}))},_drawFilterOverviewBanner:function(){var i=this.currentTabContentElement.find(".e-dbrd-overview-banner"),f=this.currentTabContentElement.find(".e-dbrd-banner-icon-container"),u=this.currentTabContentElement.find(".e-dbrd-layout-wrapper"),r=null,e=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");n(window).width()<t.DashboardConstants.MobileWidth?(this.element.css({"overflow-y":"hidden"}),r=f.find(".e-dbrd-filterListMenu"),u.css({"overflow-y":this.model.enableWidgetMode||this.isWidget?"hidden":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()}),r.css("display")==="block"?(i.append(r),i.css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 0px 0px 0px"}),u.css({height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-i.height()})):i.css("display")==="block"?(i.css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 0px 0px 0px"})):(i.append(r),i.css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}))):(e.css({display:"none"}),r=i.find(".e-dbrd-filterListMenu"),f.append(r),i.css({display:"none"}),n("#"+this._id+"controlDescriptionDiv").remove(),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),this._dashboardData().isExportImage?u.css({overflow:"hidden",height:this.currentTabContentElement.height()-n(".e-dbrd-banner").height()}):u.css({"overflow-y":"hidden",height:this.currentTabContentElement.height()-n(".e-dbrd-banner").height()}));this._dashboardData().isWidgetSpecific&&u.css({height:"auto","overflow-y":"hidden"})},_validateDashboardParameterProperty:function(){var i=!1,n;if(!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data))for(n=0;n<this.dashboardParameters.data.length;n++)if(this.dashboardParameters.data[n].showInParameterDialog){i=!0;break}return i},_drawBanner:function(i){var o,f,h,p,w,b,e,a,v,g;if(!t.isNullOrUndefined(i)){for(var y=!1,u=0,nt=i.length,u=nt-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--)o=i[u],o.Key===t.DashboardConstants.HasFilterPanel?this.hasFilterPanel=o.Value:o.Key===t.DashboardConstants.EnableComments?y=o.Value:o.Key===t.DashboardConstants.HasDashboardParameter&&this._validateDashboardParameterProperty()&&(this.HasDashboardParameter=o.Value);f=n("<div>").addClass("e-dbrd-banner");this.multiTabs&&this.model.showTab&&f.addClass("e-dbrd-multitab-banner");var s=n("<div>").addClass("e-dbrd-banner-icon-container"),r=[],c=n("<div>").attr({id:this._id+"_filter",tabindex:"0",name:this.locale.utils.FilterOverview}).addClass("e-dbrd-filterListMenu");for(this.model.favoriteSettings.enabled&&(this.model.favoriteSettings.isFavorite?f.append(n("<div>").addClass("e-dbrd-dashboardfavIcon e-dbrd-hoverable  e-dbrd-bannerIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite})):f.append(n("<div>").addClass("e-dbrd-dashboardunfavIcon e-dbrd-hoverable  e-dbrd-bannerIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite}))),r.push({classname:"e-dbrd-banner-smallMenu e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons e-dbrd-hoverable",tabindex:"0",name:"menu",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datahtml2canvasignore:"true",display:"none"}),this.model.filterPanelSettings.showIcon&&this.hasFilterPanel&&r.push({classname:"e-dbrd-filter-icon e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",name:"filterPanel",tabindex:"0",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datatooltip:this.locale.utils.ToggleFilterPanel,datahtml2canvasignore:"true"}),h=n("<div>").addClass("e-dynamic-title-container").append(n("<span>").addClass("e-dynamic-title"),n("<div>").addClass("e-dbrd-banner-description  e-dbrd-bannerIcon").attr({role:"button","aria-label":"description","data-tooltip":this.locale.utils.DashboardDescription,"data-html2canvas-ignore":"true",tabindex:"0"})),(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel)&&r.push({classname:"e-dbrd-banner-menu e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"menu",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datatooltip:this.locale.utils.Export,datahtml2canvasignore:"true"}),r.push({classname:"e-dbrd-banner-refresh e-dbrd-hoverable e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"refresh",role:"button",oncontextmenu:"return false",arialhaspopup:"true",arialabel:"Update Dashboard",datatooltip:this.locale.utils.UpdateDashboard,datahtml2canvasignore:"true"}),this.model.showGetLinkIcon&&r.push({classname:"e-dbrd-banner-link e-dbrd-hoverable e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"Share",role:"button",oncontextmenu:"return false",arialhaspopup:"true",arialabel:"Share",datatooltip:this.locale.utils.GetLink,datahtml2canvasignore:"true"}),this.dashboardParameters.showIcon&&!this.multiTabs&&this.HasDashboardParameter&&r.push({classname:"e-dbrd-banner-params  e-dbrd-hoverable e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"dashboardParameters",role:"button",oncontextmenu:"return false",arialhaspopup:"true",arialabel:this.locale.utils.DashboardParameters,datatooltip:this.locale.utils.DashboardParameters,datahtml2canvasignore:"true"}),this.model.allowComment&&y&&(this.model.commentSettings.isDashboardCommented?r.push({classname:"e-dbrd-banner-dashboardwithcomment",float:"right",name:"comment",removeClass:"e-dbrd-banner-icons",tabindex:"0",role:"menu",ariahaspopup:"true",datatooltip:this.locale.utils.Comment,arialabel:"Dashboard Options",datahtml2canvasignore:"true"}):r.push({classname:"e-dbrd-banner-dashboardwithoutcomment e-dbrd-hoverable",name:"comment",float:"right",removeClass:"e-dbrd-banner-icons",tabindex:"0",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datatooltip:this.locale.utils.Comment,datahtml2canvasignore:"true"})),p=this.model._selectedTabGuid?this.model._selectedTabGuid:null,w=t.isNullOrUndefined(this.model.dashboardPath)?null:this.model.dashboardPath,this._trigger("beforeDashboardIconRendered",{iconsinformation:r,tabId:p,dashboardPath:w,tabName:this.dashboardName}),b=r.length,u=0;u<b;u++)s.append(n("<div>").addClass(r[u].classname+" e-dbrd-banner-icons e-dbrd-hoverable").removeClass(r[u].removeClass).attr({tabindex:r[u].tabindex,name:r[u].name,"data-tooltip":r[u].datatooltip,"aria-haspopup":r[u].ariahaspopup,"aria-label":r[u].arialabel,oncontextmenu:r[u].oncontextmenu,"data-html2canvasignore":r[u].datahtml2canvasignore}).css({float:r[u].float,"margin-top":r[u].margintop,"margin-right":r[u].marginright,display:r[u].display}));s.append(n("<div>").addClass("e-banner-verticalsplitline  e-dbrd-bannerIcon ").css({display:"none"}),c.append(n("<span>").addClass("e-dynamic-title-moreFilter").attr({name:this.locale.utils.FilterOverview}),n("<span>").html(this.locale.utils.FilterOverview).addClass("e-dynamic-title-display").attr({name:this.locale.utils.FilterOverview}),n("<span>").addClass("e-dynamic-filterdroparrow")).attr({"aria-label":"Filters Applied",name:this.locale.utils.FilterOverview}));var k=n.parseJSON(i[3].Value),l=n("<span>"),d=t.EjSvgRender.utils._measureText(l[0].innerText,100,{size:"14",fontStyle:"Normal",fontFamily:"Roboto"}).width;this._appendControlTitle(k.Title,k.Parameters,l);e=n("<div>").attr({role:"heading","aria-label":"Dashboard Title",oncontextmenu:"return false"}).addClass("e-dbrd-banner-title").html(l).css({"line-height":"35px"});d>50?e.css({"min-width":"50px"}):e.css({"min-width":d});f.append(e,s,h,n("<div>").addClass("e-dbrd-banner-filters e-dbrd-banner-filter").addClass("e-dbrd-banner-filter"));this.currentTabContentElement.append(f);this.isExtendedLayout&&f.css({position:"relative"});a=n("<div>").addClass("e-dbrd-overview-banner");n(window).width()<t.DashboardConstants.MobileWidth&&c.length!==t.DashboardConstants.Zero?(a.append(c),this.currentTabContentElement.append(a)):this.currentTabContentElement.append(a);this.model.enableCustomTheming&&this._customTheme(["banner"]);this._dashboardData().loadFromData&&this._dashboardData().isExportImage&&s.remove();this._showOrHideBannerIcons();c.css({visibility:"visible"}).hide();this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth?(v=null,v=this.model.favoriteSettings.isFavorite?this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon").outerWidth():this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon").outerWidth(),g=f.width()-s.width()-h.width()-v-parseInt(e.css("margin-left"))-10+"px",e.css({"white-space":"pre","max-width":g,width:"auto"})):n(window).width()<t.DashboardConstants.MobileWidth&&this.multiTabs?e.css({"white-space":"pre","max-width":f.width()-s.width()-h.width()-this.element.find(".e-dbrd-tab-res-icon-container").width()-10+"px",width:"auto"}):e.css({"white-space":"pre","max-width":f.width()-s.width()-h.width()-12+"px",width:"auto"});this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth&&e.css({"margin-left":"0px"});this._adjustParameterColumn(l)}return null},_toolBarManipulation:function(i){var f,e,l,o,a,v,u;if(!t.isNullOrUndefined(i)){var s=null,h=null,c=null,r=[];if(!i[0].layoutInformation.IsMaster||this.isWidget||this.model.enableWidgetMode||r.push({role:"button",removeClass:"e-dbrd-widget-icons",ariadisabled:"false",name:"filter",id:this._id+i[0].layoutInformation.ReportName+"_filter",classname:"e-remove-control-filter-disable e-remove-control-filter",arialabel:this.locale.utils.ClearMasterFilter,datatooltip:this.locale.utils.ClearMasterFilter}),i[0].layoutInformation.Label.EnableComment&&this.model.allowComment){if(f={tabindex:"0",role:"button",removeClass:"e-dbrd-widget-icons",name:"comment",id:this._id+i[0].layoutInformation.ReportName+"_comment",classname:"e-dbrd-banner-widget-withoutcomments",arialabel:"maximize",datatooltip:this.locale.utils.Comment,type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datawidgetid:i[0].layoutInformation.Guid},e=this.model.commentSettings.widgets,!t.isNullOrUndefined(e))for(l=e.length,o=t.DashboardConstants.Zero;o<l;o++)if(i[0].layoutInformation.Guid===e[o]){f.classname="e-dbrd-banner-widget-withcomments";break}else f.classname="e-dbrd-banner-widget-withoutcomments";this.isWidget&&this.model.commentSettings.isWidgetCommented&&(f.classname="e-dbrd-banner-widget-withcomments");r.push(f)}for(this._widgetIconInformation(i,r),a=i[0].layoutInformation,s=this.currentTabContentElement.find(".e-dbrd-containerWrapper").width(),c=parseInt(i[0].controlTitle.css("min-width")),h=Math.round((s-c)/21),this._trigger("beforeWidgetIconRendered",{iconsinformation:r,widgetInformation:a,isFilterWidget:this.isFilterWidget,visibleIconsCount:h,tabId:this.model._selectedTabGuid,tabName:this.dashboardName}),v=r.length,u=0;u<v;u++)i[0].controlProp.append(n("<div>").attr({tabindex:r[u].tabindex,name:r[u].name,id:r[u].id,"aria-disabled":r[u].ariadisabled,"aria-haspopup":r[u].ariahaspopup,role:r[u].role}).addClass(r[u].classname).addClass(r[u].menuIcon).addClass("e-dbrd-hoverable e-dbrd-border e-dbrd-containerIcon e-dbrd-widget-icons").removeClass(r[u].removeClass).css({"margin-top":r[u].margintop,display:r[u].display,"margin-right":r[u].marginright}).attr({"aria-label":r[u].arialabel,"data-tooltip":r[u].datatooltip,type:r[u].type,value:r[u].value,"data-widget-id":r[u].datawidgetid}).html(r[u].html))}},_triggerCustomEvent:function(t){this._trigger("customIconCliked",{event:t,reportGuid:n(t.target).attr("data-widget-id"),iconName:n(t.target).attr("icon-name")})},_setRefreshSettings:function(n){var e,r;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){this.model._isLiveData=!1;var f=[],i=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero;if(n=this._replaceRefreshSettingAPIValues(n),!t.isNullOrUndefined(n))if(this.multiTabs)for(this.model.autoRefreshSettings=[],e=n.length,u=i;u<e;u++)r=n[u],!t.isNullOrUndefined(n[u].widgets)&&n[u].widgets.length>i&&!t.isNullOrUndefined(n[u].widgets[i].id)&&(f=this._getAutoRefreshIntervalCollection(r.widgets)),t.isNullOrUndefined(r.autoRefresh)&&this.model.autoRefreshSettings.push(n[u]),!t.isNullOrUndefined(r.autoRefresh)&&r.autoRefresh&&(this.model.enableAutoRefresh=!0,this.model.autoRefreshSettings.push({tabName:r.tabName,tabIndex:r.tabIndex,intervalSettings:this._getAutoRefreshIntervalCollection(r.intervalSettings),showWaitingIndicator:!1,isWidgetSpecific:r.isWidgetSpecific,widgets:f.length>t.DashboardConstants.Zero?f:t.isNullOrUndefined(r.widget)?null:r.widget,trackData:r.trackData}));else t.isNullOrUndefined(this.model.autoRefreshSettings[i].intervalSettings)||t.isNullOrUndefined(n[i].autoRefresh)||!n[i].autoRefresh||(this.model.enableAutoRefresh=!0,!t.isNullOrUndefined(n[u].widgets)&&n[u].widgets.length>i&&!t.isNullOrUndefined(n[u].widgets[i].id)&&(f=this._getAutoRefreshIntervalCollection(n[i].widgets)),this.model.autoRefreshSettings[i].intervalSettings=this._getAutoRefreshIntervalCollection(n[i].intervalSettings),this.model.autoRefreshSettings[i].widgets=f.length>t.DashboardConstants.Zero?f:n[i].widget,this.model.autoRefreshSettings[i].isWidgetSpecific=n[i].isWidgetSpecific,this.model.autoRefreshSettings[i].trackData=n[i].trackData,this.model.autoRefreshSettings[i].showWaitingIndicator=!1)}return null},_replaceRefreshSettingAPIValues:function(n){for(var f,r,e,u=!1,o=this.model.autoRefreshSettings.length,i=t.DashboardConstants.Zero;i<o;i++)if(this.model.enableAutoRefresh){for(f=n.length,r=t.DashboardConstants.Zero;r<f;r++)if(this.multiTabs&&t.isNullOrUndefined(this.model.autoRefreshSettings[i].tabName)&&(this.model.autoRefreshSettings[i].tabName=this.dashboardDetails[t.DashboardConstants.Zero].DashboardDisplayName,this.model.autoRefreshSettings[i].tabIndex=t.DashboardConstants.Zero),this.model.autoRefreshSettings[i].isWidgetSpecific||this.model.autoRefreshSettings[i].widgets.length!==t.DashboardConstants.Zero||(this.model.autoRefreshSettings[i].widgets=n[r].widget),this.model.autoRefreshSettings[i].tabName===n[r].tabName){this.model.autoRefreshSettings[i].widgets.length===t.DashboardConstants.Zero&&(e=n[r].widget.length>t.DashboardConstants.Zero?n[r].widget:n[r].widgets.length>t.DashboardConstants.Zero?n[r].widgets:[],this.model.autoRefreshSettings[i].widgets=e);n[r]=this.model.autoRefreshSettings[i];u=!0;break}else if(!this.multiTabs){n[r]=this.model.autoRefreshSettings[i];u=!0;break}u||n.push(this.model.autoRefreshSettings[i]);!t.isNullOrUndefined(this.model.autoRefreshSettings[i].widgets)&&this.model.autoRefreshSettings[i].widgets.length>t.DashboardConstants.Zero&&this._replaceAutoRefreshWidgetGuid()}return n},_replaceAutoRefreshWidgetGuid:function(){for(var u,i,r=[],n=0;n<this.model.autoRefreshSettings.length;n++)for(u=this.model.autoRefreshSettings[n].widgets.length,i=0;i<u;i++)t.isNullOrUndefined(this.model.autoRefreshSettings[n].widgets[i].id)?(r=this.currentTabContentElement.find("#"+this.model.autoRefreshSettings[n].widgets[i].id).attr("data-widget-id"),this.model.autoRefreshSettings[n].widgets[i]=t.isNullOrUndefined(r)?this.model.autoRefreshSettings[n].widgets[i]:r):(r=this.currentTabContentElement.find("#"+this.model.autoRefreshSettings[n].widgets[i].id).attr("data-widget-id"),this.model.autoRefreshSettings[n].widgets[i].id=t.isNullOrUndefined(r)?this.model.autoRefreshSettings[n].widgets[i].id:r)},_getAutoRefreshIntervalCollection:function(n){var r,f;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){var u={},i=[],s=n.length;for(r=t.DashboardConstants.Zero;r<s;r++){if(i=t.isNullOrUndefined(n[r].mode)?n[r].intervalSettings:n[r],!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.mode))switch(i.mode){case t.dashboardViewer.refreshTimer.mode.hourly:u={mode:i.mode,hourlySchedule:i.hourlySchedule};break;case t.dashboardViewer.refreshTimer.mode.daily:u={mode:i.mode,dailySchedule:i.dailySchedule};break;case t.dashboardViewer.refreshTimer.mode.weekly:var e=i.weeklySchedule.weekDay,o=[],h=e.length;for(f=0;f<h;f++)t.isNullOrUndefined(e[f].weekDay)?o.push(parseInt(e[f])):o.push(parseInt(e[f].weekDay));i.weeklySchedule.weekDay=o;u={mode:i.mode,weeklySchedule:i.weeklySchedule};break;case t.dashboardViewer.refreshTimer.mode.monthly:u={mode:i.mode,monthlySchedule:i.monthlySchedule};break;case t.dashboardViewer.refreshTimer.mode.yearly:u={mode:i.mode,yearlySchedule:i.yearlySchedule}}t.isNullOrUndefined(n[r].id)?n=u:n[r].intervalSettings=u}}return n},_appendControlTitle:function(i,r,u){var o=i,h,f,s,e;if(!t.isNullOrUndefined(r)){for(h=r.length,f=0;f<h;f++){if(s=o.split(r[f].ParameterText),s.length!==t.DashboardConstants.Zero&&(s[0]!==""&&u.append(n("<span>").html(s[0]).addClass("e-spanned-header")),s.splice(t.DashboardConstants.Zero,t.DashboardConstants.One)),r[f].ParameterText==="{{:UpdatedTime}}")u.append(n("<span>").html("").addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}));else if(r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpan)!==t.DashboardConstants.IndexLowerBound){e=null;switch(!0){case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanMinutes+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Minutes;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanHours+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Hours;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanDays+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Days;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanWeeks+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Weeks;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanMonths+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Months;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanYears+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Years;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpan+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Minutes;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;default:u.append(n("<span>").html(r[f].ParameterText).addClass("e-dbrd-param-column").css({"font-weight":"normal"}).attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}))}}else i.indexOf(r[f].ParameterText)===t.DashboardConstants.Zero?u.append(n("<span>").html(t.DashboardConstants.All).addClass("e-dbrd-param-column e-initial").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource})):u.append(n("<span>").html(t.DashboardConstants.All).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}));o=s.join(" "+r[f].ParameterText+" ")}o!==""&&o!=="."&&o!==":"&&r.length>t.DashboardConstants.Zero?u.append(n("<span>").html(o).addClass("e-spanned-header")):u.append(o)}return null},_getControlTitleAlignment:function(n){switch(n){case 0:return"e-textalign-left";case 1:return"e-textalign-center";case 2:return"e-textalign-right";case 3:return"e-textalign-center"}return"e-textalign-center"},_inactiveFooterWidth:function(){var t=null,i=null;t=n("#"+this._id+"_InActiveDiv").width();i=this.currentTabContentElement.find(".e-dbrd-inactive-footer").width(t*80/100);this.currentTabContentElement.find(".e-dbrd-inactive-footer-description").width(i.width())},_showFilterPanel:function(i){var o,s,c,u,h,a;this.filterPanelId=this._id+"_filter_panel";this.filterPanelDiv=null;this.externalFilterPanel=!1;o=null;t.isNullOrUndefined(i)||n(i.target).hasClass("e-dbrd-icons")?t.isNullOrUndefined(i)||n(i.target).removeClass("e-dbrd-icons"):n(i.target).addClass("e-dbrd-icons");t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(o=this.model.filterPanelSettings.filterPanelId,this.externalFilterPanel=!0);this.externalFilterPanel&&n("#"+o).length!==t.DashboardConstants.Zero?(this.filterPanelDiv=n("<div>").attr({id:this.filterPanelId}),n("#"+o).append(this.filterPanelDiv)):t.isNullOrUndefined(this.filterPanelObj)?(this.filterPanelDiv=n("<div>").attr({id:this.filterPanelId}),this.currentTabContentElement.append(this.filterPanelDiv)):this.filterPanelDiv=n("#"+this.filterPanelId);s=this.model.showTab?this.element.find(".e-tab>.e-header").height():null;t.isNullOrUndefined(s)&&(s=0);c=null;u=null;this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.filterPanelSettings)&&(c=this.model.enableCustomTheming,u=this.model.customThemeSettings.filterPanelSettings,t.isNullOrUndefined(this.model.customThemeSettings.widgetThemeSettings)||(u.widgetThemeSettings=this.model.customThemeSettings.widgetThemeSettings,u.widgetCustomThemeValues=this.filterPanelCustomThemeCol));var v=[],l=this.dashboardControls.getAllControls(),y=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length;for(h=0;h<y;h++)a=l[h],this._isFilterPanelWidget(a.reportName)&&v.push(a);if(t.isNullOrUndefined(this.filterPanelObj)){this.externalFilterPanel||this.filterPanelDiv.css({overflow:"hidden",float:"right",height:"99%","min-width":"250px",width:"20%",position:"absolute",top:s+"px",right:"0px"});var r=this,f=this.currentTabContentElement.width()-250,e=this.currentTabContentElement.width()*.2<250;this.filterPanelObj=this.filterPanelDiv.ejDashboardDashboardFilterPanel({showHeader:this.model.filterPanelSettings.showHeader,showCloseIcon:this.model.filterPanelSettings.showCloseIcon,dataSource:this.tempDataForFilter,controlRelations:this.controlRelations,externalFilterPanel:this.externalFilterPanel,currentMasterReport:this.model.currentMasterReport,allowComment:this.model.allowComment,currentUser:this.currentUser,dashboardElement:this.multiTabs?this._dashboardId:this._id,commentSettings:this.model.commentSettings,viewerLocale:this.locale,enableCustomTheming:c,customThemeSettings:u,enableVirtualLoading:t.isNullOrUndefined(this.model.enableVirtualLoading)?null:this.model.enableVirtualLoading,_isPublic:this.isPublicDashboard,_itemId:this.itemId,dashboardName:this.dashboardName,serviceUrl:this.serviceUrl(),dashboardPath:this.dashboardPath(),dashboardParameterSettings:this.dashboardParameters,interactionSettings:this.model.interactionSettings,value:v,size:{height:"99%"},beforeWidgetRender:n.proxy(function(n){r._trigger("beforeWidgetRender",{data:n.data,tabId:r.dashboardName})},this),onWidgetCommented:n.proxy(function(n){r._trigger("onWidgetCommented",{event:n.event,reportGuid:n.reportGuid,tabId:r.dashboardName})},this),filterPanelOpen:n.proxy(function(n){r._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterPanelOpen,source:{element:r.filterPanelDiv,data:r.filterPanelObj}});r.isFilterPanelOpen=!0;r.preventFilterPanelEvents||r._trigger("filterPanelOpen",n);r.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.expand;r._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterPanelOpen,source:{element:r.filterPanelDiv,data:r.filterPanelObj}})},this),afterWidgetRender:n.proxy(function(n){r._trigger("afterWidgetRender",{data:n.data,tabId:r.dashboardName})},this),onDropDownSearch:n.proxy(function(n){r.doAjaxPost(n.data)},this),OnPopupHide:n.proxy(function(n){r.doAjaxPost(n.data)},this),beforeFilterApplied:n.proxy(function(n){r._updateDashboardControls(!0);r._makeSlaveDataRequest(n.data)},this),beforeFilterPanelOpen:n.proxy(function(i){n(window).width()<t.DashboardConstants.MobileWidth?r.filterPanelDiv.css({left:"0","z-index":"1000",width:"100%"}):r.externalFilterPanel||(r.isExtendedLayout?(r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:e?""+f+"px":"80%"}),r.currentTabContentElement.find("#"+r._id+"_layout").css({width:e?""+(f-10)+"px":"99%"}),r.currentTabContentElement.find(".e-dbrd-banner").css({width:e?""+f+"px":"80%"})):(r.currentTabContentElement.find("#"+r._id+"_layout").css({width:e?""+(f-10)+"px":"79%"}),r.currentTabContentElement.find(".e-dbrd-banner").css({width:e?""+f+"px":"80%"})));r.preventFilterPanelEvents||r._trigger("beforeFilterPanelOpen",i);t.isNullOrUndefined(r.model.filterPanelSettings.filterPanelId)||r.model.filterPanelSettings.state!==t.dashboardViewer.filterPanelSettings.state.expand||n("#"+r.model.filterPanelSettings.filterPanelId).show()},this),beforeFilterPanelClose:n.proxy(function(n){r.preventFilterPanelEvents||r._trigger("beforeFilterPanelClose",n)},this),filterPanelClose:n.proxy(function(i){r._closeFilterPanel(i);r.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.collapse;!t.isNullOrUndefined(r.model.filterPanelSettings.filterPanelId)&&r.model.filterPanelSettings.state===t.dashboardViewer.filterPanelSettings.state.expand&&r.model.filterPanelSettings.showIcon&&n("#"+r.model.filterPanelSettings.filterPanelId).hide()},this),loaded:n.proxy(function(n){for(var i=n.controls.length,t=0;t<i;t++)r.dashboardControls.addControl(n.controls[t]);r._initializeRelationships();n.model.controlRelations=n.instance.controlRelations=r.controlRelations;n.model.dashboardName=n.instance.dashboardName=r.dashboardName;n.instance._initializeRelationships()},this)}).data("ejDashboardDashboardFilterPanel");this._resizeFilterWidgetTitle();setTimeout(function(){var i,n,u;if(r._initializeRelationships(),!t.isNullOrUndefined(r.filterPanelObj))for(i=r.filterPanelObj.dashboardControls.controls.length,n=0;n<i;n++)u=r.dashboardControls.getControlByReport(r.filterPanelObj.dashboardControls.controls[n].reportName),u===null&&r.dashboardControls.addControl(r.filterPanelObj.dashboardControls.controls[n])},this.tempDataForFilter?this.tempDataForFilter.length:10)}else this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open?this.filterPanelObj.close():(this.filterPanelObj.refreshData(this.tempDataForFilter),this.filterPanelObj.open(),this.filterPanelObj.resizeFilterPanel());this.externalFilterPanel&&this._on(this.filterPanelDiv,"click",this._closeCommentDialog);n(window).width()>=t.DashboardConstants.MobileWidth?this._resizeDashboard():this.externalFilterPanel||(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").data("ejDashboardScroller")&&(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").ejDashboardScroller("destroy"),this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").css({position:""})),this.filterPanelDiv.css({left:"0px",top:"0px","z-index":"1000",position:"absolute","overflow-y":"auto",width:"100%",height:"100%","max-height":this.element.height()}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"20px"}));this.filterPanelObj.resizeFilterPanel()},_closeFilterPanel:function(i){(!t.isNullOrUndefined(this.filterPanelObj)&&this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open||this.isFilterPanelOpen)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterPanelClose,source:{element:this.filterPanelDiv,data:this.filterPanelObj}}),this.isFilterPanelOpen=!1,n("#"+this._id).find(".e-dbrd-filter-icon").hasClass("e-dbrd-icons")&&n("#"+this._id).find(".e-dbrd-filter-icon").removeClass("e-dbrd-icons"),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:""}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),n(window).width()>=t.DashboardConstants.MobileWidth&&this._resizeDashboard(),this.preventFilterPanelEvents||this._trigger("filterPanelClose",i),this.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.collapse,this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterPanelClose,source:{element:this.filterPanelDiv,data:this.filterPanelObj}}))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.layoutEngine.render={_resizeDashboard:function(i){var ht,c,h,u,w,b,y,ut,lt,d,at,vt,f,s,yt,e,ft,g,pt,nt,wt,bt,l,a,kt,et,ot,st,tt,it,dt,gt,ni;this._clearTimers();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.resize,source:{element:i,data:null}});this._trigger("resizeDashboard",{event:i});this._destroyContextMenu();this._destroyDashboardMenu();this._destroyControlMenu();this._destroyInteractionMenu();(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(event);ht=t.isNullOrUndefined(this.previousDashboardSize.width)||this.previousDashboardSize.width<t.DashboardConstants.MobileWidth&&n(window).width()>t.DashboardConstants.MobileWidth||this.previousDashboardSize.width>t.DashboardConstants.MobileWidth&&n(window).width()<t.DashboardConstants.MobileWidth;this._setDashboardSize();this._calculateExportDialogSize();this._mobileKeyBoardScroll();this._calculateErrorDialogSize();c=null;h=null;n(window).width()>t.DashboardConstants.MobileWidth&&this.multiTabs&&this._hideResPopup();this.multiTabs&&this._resizeContentPadding();var r=0,p=0,o=0,rt=null;for(!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&!window.isExportPdf&&this.isExtendedLayout&&(this.dashboardHeight=this.exportImageHeightForExtendedLayout),this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth?(o=50,rt=Math.max(o,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/12)):(o=80,rt=Math.max(o,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount"))),u=this.currentTabContentElement.find(".e-dbrd-control"),w=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,b=0;b<w;b++){var k=this.element.find(".e-dbrd-widget-menu"),ti=t.isNullOrUndefined(k)?t.DashboardConstants.Zero:k.length,v=n(u[b]).parent(".e-dbrd-control-container");for(y=0;y<ti;y++)if(!t.isNullOrUndefined(v.attr("type"))&&v.attr("type")===n(k[y]).attr("type")){ut=n(k[y]);n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment?ut.css({display:"block"}):ut.css({display:"none"});var ct=v.children(),ii=ct.find(".e-control-title"),ri=ct.find(".e-control-subtitle");v.attr("type")===t.dashboardViewer.Controls.RangeSlider&&(lt=10,v.find(".e-dbrd-control").css({height:"100%"-(ii.height()+ri.height()+lt)+"px"}))}}if(n(window).width()>=t.DashboardConstants.MobileWidth)for(d=this.currentTabContentElement.find(".e-dbrd-layout-cell"),at=t.isNullOrUndefined(d)?t.DashboardConstants.Zero:d.length,r;r<at;r++)vt=d.eq(r),vt.css({height:rt});for(this.model.size.width&&this.element.css({width:this.dashboardWidth}),this.model.size.height&&this.element.css({height:this.dashboardHeight}),f=null,r=0,w=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<w;r++)f=u.eq(r),n(window).width()<t.DashboardConstants.MobileWidth?f.parents(".e-dbrd-containerWrapper").eq(0).css({height:"100%",width:"100%"}):f.parents(".e-dbrd-containerWrapper").eq(0).css({height:f.parents(".e-dbrd-layout-cell").eq(0).attr("rowspan")+"00%",width:f.parents(".e-dbrd-layout-cell").eq(0).attr("colspan")+"00%"});if(n(window).width()<t.DashboardConstants.MobileWidth){for(s=null,yt=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<yt;r++)f=u.eq(r),c=f.parents(".e-dbrd-control-container"),o=this._defaultLayoutCellHeight(c),s=this.isWidget||this.model.enableWidgetMode?Math.max(o,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount")):Math.max(o,this.dashboardHeight/this.totalColumn),s===o&&this.element.css({"overflow-y":"auto"}),e=f.parents(".e-dbrd-layout-cell"),e.attr("IsStandardSize")!=="true"||this.model.enableWidgetMode||this.isWidget?this.model.enableWidgetMode||this.isWidget?e.css({height:e.attr("rowspan")*s}):(ft=this._heightOfCell(f.parents().eq(0).attr("type"),s),e.css({height:e.attr("rowspan")*s>ft?e.attr("rowspan")*s:ft})):(p=e.width(),e.width()>n(window).height()&&(p=n(window).height()),e.css({height:p}));if(this.model.enableWidgetMode){for(h=n(".e-bottom-line"),g=0;g<h.length;g++)h.eq(g).css({display:"none"});pt=this.currentTabContentElement.find(".e-dbrd-layout-cell");pt.css({height:s})}}if(this.model.enableWidgetMode)for(h=n(".e-bottom-line"),nt=0;nt<h.length;nt++)h.eq(nt).css({display:"none"});if(this.currentTabContentElement.find(".e-dbrd-banner-description").length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),this.currentTabContentElement.find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active")),wt=this.currentTabContentElement.find("#"+this._id+"_filter_overview_dialog"),wt.css("display")==="block"&&(bt=this.currentTabContentElement.find(".e-dbrd-filterListMenu"),this._filterDlgPosition(bt)),l=this.currentTabContentElement.find(".e-dbrd-control-nodatainfo"),a=0,l)for(kt=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length,a;a<kt;a++)l.eq(a).css({height:"100%"}),l.eq(a).find(".align-center").css({display:"table-cell"});if(et=this.currentTabContentElement.find(".e-dbrd-filter-view-loader-wrapper"),et.length!==t.DashboardConstants.Zero&&(ot=et.find(".e-dbrd-filter-view-loader"),st=this.currentTabContentElement.find("#"+this._id+"_filter"),st.length===t.DashboardConstants.Zero?ot.css({left:"85%"}):ot.css({left:st.offset().left-25+"px"})),!this.isPrintTriggered){if(t.isNullOrUndefined(this.previousDashboardSize)){if(this.previousDashboardSize.width===this.dashboardWidth&&this.previousDashboardSize.height===this.dashboardHeight)return;this.previousDashboardSize.width=this.dashboardWidth;this.previousDashboardSize.height=this.dashboardHeight}else this.previousDashboardSize={height:this.dashboardHeight,width:this.dashboardWidth};this.flag=!1;p=t.DashboardConstants.Zero;c=this.currentTabContentElement.find(".e-dbrd-control-container");(this.isWidget||this.model.enableWidgetMode)&&(c.css({width:this.model.size.width?this.dashboardWidth:"100%"}),c.css({height:this.model.size.height?this.dashboardHeight:"100%"}));tt=!1;it=null;this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length!==t.DashboardConstants.Zero&&(dt=n(this.element).height(),gt=n(this.element).width(),n("#"+this._id+"_InActiveDiv").css({width:gt,height:dt}),tt=!0,n(window).width()>t.DashboardConstants.MobileWidth&&this._inactiveFooterWidth(),it=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),it.css({height:this.dashboardHeight*.9-120}));this._resizemMaximizedControlTitle();ni=this;this._resizeRangeSlider();this._resizeMaximizedComboChart(tt);this._resizeChart();this._showOrHideIcons();this._resizeWidgetTitle();this._resizeHalfSizeWidget();this._showOrHideBannerIcons();this._drawFilterOverviewBanner();this._resizeLayout();this._filterPanelResize();this._resizeFilterWidgetTitle();this._resizeWidget(tt,it);this._resizeMaximizedGrid();this._resizeLabel();this._resizeRangeNavigator();this._resizeCustomWidget();this._resizePivotGrid();this._resizeDropDown();this._resizeMaximizeControl(ht);this._resizeListBox();this._resizeDatePicker();this._resizeImage();this._resizeTreeMap();this._callFunction(this._mapResponsive);this._callFunction(function(){ni.flag=!0});this._resizeTitle();this._resizeErrorDialog();this._mobileExportDropdownResize();this._nowidgetPreviewAlign();this._showGetLinkIcon();this._resizeGetLinkDialog();this._resizeDashboardParametersDialog();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.resizeComplete,source:{element:i,data:null}})}},_defaultLayoutCellHeight:function(n){var i=n.find(".e-control-subtitleHeading").find(".e-control-subtitle");return i.length!==t.DashboardConstants.Zero?105:this.isExtendedLayout?40:80},_resizemMaximizedControlTitle:function(){var i=this.currentTabContentElement.find(".e-dbrd-inactive-header"),r=i.find(".e-dbrd-maxControl-title"),u=i.find(".e-dbrd-maximize-controlprop");i&&r&&u&&(r.width()>=i.width()-u.width()?r.css({"max-width":i.width()-u.width()-20+"px",width:"auto"}):r.css({"max-width":i.width()-u.width()-20+"px",width:"auto"}),n(window).width()<t.DashboardConstants.MobileWidth&&r.css({"max-width":"100%",width:"100%"}))},_resizeRangeSlider:function(){var i=this;this.timers.push(setTimeout(function(){for(var f,e,r=n(i.currentTabContentElement).find(".e-slider"),o=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<o;u++)f=r.eq(u).parents(".e-dbrd-containerWrapper"),e=i.dashboardControls.getControlByReport(f.attr("data-controlid")),f.width()!==t.DashboardConstants.Zero&&e&&(e.configInfo.orientation==="vertical"?r.eq(u).ejDashboardSlider({height:f.height()-120+"px"}):r.eq(u).ejDashboardSlider({width:f.width()-120+"px"}))},0))},_resizeMaximizedComboChart:function(i){var u=null,r;i&&(r=n(this.currentTabContentElement).find(".e-dbrd-MaximizedControl"),r.attr("data-controlid").indexOf("ComboChart")!==t.DashboardConstants.IndexLowerBound&&(u=r.data("ejDashboardScroller"),r.hasClass("e-chartseries")&&u&&(u.option("height",r.height()),u.refresh())))},_resizeChart:function(){var i=this;this.timers.push(setTimeout(function(){for(var u,s,f,h,c,r=null,e=n(i.currentTabContentElement).find(".e-dbrd-control.dashboardChartControl"),l=t.isNullOrUndefined(e)?t.DashboardConstants.Zero:e.length,o=0;o<l;o++)r=e.eq(o),u=r.data("ejDashboardChart"),t.isNullOrUndefined(u)||u.redraw(),s=i.dashboardControls.getControlByReport(r.attr("data-controlid")),f=r.data("ejDashboardScroller"),s&&s.controlType===t.dashboardViewer.Controls.ComparisonChart&&r.hasClass("e-chartseries")&&(f?(h=r.closest(".e-dbrd-control-container"),f.option("height",h.height()-h.find(".e-control-heading").height()),f.refresh()):t.isNullOrUndefined(r.find(".e-datavisualization-chart"))||r.find(".e-datavisualization-chart").length!==1||(c=r.find(".e-datavisualization-chart"),c.height(r.height()),u=c.data("ejDashboardChart"),t.isNullOrUndefined(u)||u.redraw()))},0))},_resizeLayout:function(){var i=0,r=80,s=12,u=3,h,c,l,e,f,o;this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth?(r=50,i=Math.max(r,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/s),this.heightOfCell=i,this.pageHeight=i*s):i=Math.max(r,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount"));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth?i!==r||this.isExtendedLayout?i===r&&this.isExtendedLayout?(h=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(h)&&this.actualPages.length===t.DashboardConstants.One&&this.currentTabContentElement.find(".e-dbrd-layout-wrapper").ejDashboardScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u),orientation:"vertical",scrollerSize:7,buttonSize:0,scrollOneStepBy:30})):(this.element.find(".e-dbrd-tab-wrapper").css({height:this.element.height()}),c=this.model.showTab?this.element.find(".e-dbrd-tab-menu-container").height():t.DashboardConstants.Zero,l=this.element.find(".e-dbrd-banner").height(),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.element.height()-(l+c),"overflow-y":"hidden"})):this.multiTabs&&!this.model.showTab?(this.element.find(".e-dbrd-layout-wrapper").css({height:this.element.height()-this.element.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto"})):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto"})):this.model.enableWidgetMode&&this.isWidget?(this.element.find(".e-dbrd-tab-wrapper").css({height:this.element.height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.element.height(),"overflow-y":"hidden"})):(e=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(e)||this.actualPages.length!==t.DashboardConstants.One||e.destroy(),this.element.find(".e-dbrd-tab-wrapper").css({height:this.element.height()}),this.multiTabs&&this.currentTabContentElement.css({height:this.element.height()}));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth?(this.multiTabs&&!this.model.showTab&&this.currentTabContentElement.css({height:this.element.height()}),this.currentTabContentElement.css({"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"})):(this.currentTabContentElement.css({"max-width":"",overflow:"hidden"}),this.multiTabs&&this.currentTabContentElement.css({height:"auto"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth&&(n(window).height()!==this.previousDashboardSize.height&&Math.max.apply(Math,this.pageInfo)!==t.DashboardConstants.One&&this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0),f=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(f)?this.actualPages.length!==t.DashboardConstants.One&&(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").ejDashboardScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u),orientation:"vertical",scrollerSize:7,buttonSize:0,scrollOneStepBy:30}),this.layoutWrapperHeight=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!1),this._initializeDashboardScroller(this.currentTabContentElement.find(".e-dbrd-layout-wrapper")),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"})):(f.option("height",this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u)),f.refresh(),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"}),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!1),this.layoutWrapperHeight=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height()))):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.multiTabs&&this.currentTabContentElement.css({height:"auto"}),this.isExtendedLayout&&(o=this.currentTabContentElement.find(".e-dbrd-layout-wrapper.e-scroller").data("ejDashboardScroller"),t.isNullOrUndefined(o)||(o.destroy(),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u)}),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0))))},_resizeWidget:function(n,i){for(var f,r=this.dashboardControls.getAllControls(),e=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<e;u++)f=r[u],this._isFilterPanelWidget(f.reportName)||this._resizeControls(n,i,f)},_resizeMaximizedGrid:function(){var r=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length!==t.DashboardConstants.Zero,n=null,i=this;r?this.timers.push(setTimeout(function(){var r=i.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),u;n=r.data("ejDashboardGrid");n&&(u=n.model.allowFiltering?r.parent().height()-77:r.parent().height()-49,n.setModel({scrollSettings:{height:u}}),n.element.find(".e-table").width("100%"));i._resizeGrid()},0)):this.timers.push(setTimeout(function(){i._resizeGrid()},0))},_resizeLabel:function(){var r=this.currentTabContentElement.find(".dashboardLabelControl"),i,h,u;if(r.length!==t.DashboardConstants.Zero)for(i=0;i<r.length;i++){var e=r[i],o=n(e).find(".e-dbrd-control"),f=r.eq(i).find(".e-dbrd-control-container"),s=r.eq(i).find(".e-dbrd-control-container p");s.css({width:f.width()});h=n(e).find(".e-dbrd-containerWrapper");u=o.data("ejDashboardScroller");u&&(u.option("height",f.height()),u.option("width",f.width()),u.refresh())}},_resizeRangeNavigator:function(){var i=this;this.timers.push(setTimeout(function(){for(var u=n(i.currentTabContentElement).find(".e-datavisualization-rangenavigator"),e=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<e;f++){var r=u.eq(f).parents(".e-dbrd-control-container"),o=r.children().eq(t.DashboardConstants.Zero).hasClass("e-control-heading"),s=o?r.height()-50:r.height()-20;u.eq(f).ejDashboardRangeNavigator({sizeSettings:{height:s<t.DashboardConstants.Zero?t.DashboardConstants.One:r.height()>120?120:r.height()-15,width:r.width()}})}},0))},_resizeCustomWidget:function(){var i=this;this.timers.push(setTimeout(function(){for(var s,h,f,o,r=n("#"+i._id).find(".dashboardCustomWidget"),l=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<l;u++)s=i.dashboardControls.getControlByReport(n(r[u]).attr("data-controlid")),h=n(r[u]).hasClass("e-dbrd-MaximizedControl"),h||i._renderWidget(s,null,{type:"resize",size:{width:n(r[u]).width(),height:n(r[u]).height()}});if(f=i.currentTabContentElement.find(".e-dbrd-inactive"),o=f.attr("type"),f.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(o)&&o===t.dashboardViewer.Controls.CustomWidget){var e=f.find(".e-dbrd-MaximizedControl"),c=e.attr("data-controlid"),a=i.dashboardControls.getControlByReport(c),v=n(window).width()*.8;e.css("width",v);i._renderWidget(a,{id:c,Div:e,isMaximize:!0},{type:"resize",size:{width:"100%",height:e.height()}})}},0))},_resizePivotGrid:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,e,u=n(i.currentTabContentElement).find(".dashboardPivotGridControl"),o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<o;f++)r=n(u[f]),r.css({width:r.parent().width(),"margin-left":"1px",height:r.parent().height()-25}),e=r.find("#"+r.attr("id")+"_div"),e.css({height:r.height(),width:r.parent().width()}),i._pivotGridRenderSuccess(r,{action:"resizeWindow"})},0))},_resizeDropDown:function(){var i=this;this.timers.push(setTimeout(function(){for(var e,u,r=n(i.currentTabContentElement).find(".e-dropdownlist"),o=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,f=0;f<o;f++)r.eq(f).parents(".e-dbrd-inactive-export").length===t.DashboardConstants.Zero&&(e=r.eq(f).attr("id"),i._isFilterPanelWidget(e)||(u=r.eq(f).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(u.width())||u.width()===t.DashboardConstants.Zero||(r.eq(f).ejDashboardDropDownList({width:u.width()-(u.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.IndexLowerBound:30)+"px"}),t.isNullOrUndefined(r)||n("#"+n(r).attr("id")+"_popup_list_wrapper").css({"max-width":i.currentTabContentElement.width()-i.currentTabContentElement.find("#"+n(r).attr("id")).offset().left+"px"})),t.isNullOrUndefined(u.height())||u.height()===t.DashboardConstants.Zero||r.eq(f).ejDashboardDropDownList({height:u.height()<50?"18px":"30px"})))},0))},_resizeMaximizeControl:function(i){var r=this;this.timers.push(setTimeout(function(){var u=r.currentTabContentElement.find("#"+r._id+"_InActiveDiv");if(u.length!==t.DashboardConstants.Zero&&i){var o=u.find(".e-dbrd-MaximizedControl"),s=n(o).attr("data-controlid"),h=r._id+s+"_Maximize",c=u.find(".e-dbrd-control-container"),f=u.find(".e-dbrd-mobileExport").detach(),e=u.find(".e-dbrd-dialog-bgrnd-export").detach();t.widget.destroyAll(c.find(".e-js"));u.remove();r._maximizeControl(h);f.length!==t.DashboardConstants.Zero?r.currentTabContentElement.find("#"+r._id+"_InActiveDiv").append(f):e.length!==t.DashboardConstants.Zero&&r.currentTabContentElement.find("#"+r._id+"_InActiveDiv").append(e)}else u.length!==t.DashboardConstants.Zero&&u.find(".e-dbrd-MaximizedControl").css({width:"100%",height:"100%"})},0))},_resizeListBox:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,s,f,e,o=n(i.currentTabContentElement).find(".e-listbox"),h=n(i.currentTabContentElement).find(".e-dbrd-control-listbox"),u=o.length-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--)r=o.eq(u).parents(".e-dbrd-containerWrapper"),s=r.find(".e-control-heading").length>t.DashboardConstants.Zero&&r.find(".e-control-subtitleHeading").length>t.DashboardConstants.Zero?r.find(".e-control-heading").height()+r.find(".e-control-subtitleHeading").height():r.find(".e-control-heading").height(),t.isNullOrUndefined(r)||(f=o.eq(u).attr("id"),i._isFilterPanelWidget(f)||(e=n("#"+f).data("ejDashboardListBox"),t.isNullOrUndefined(e)||(e.option("height",r.height()-s+"px"),e.option("width",r.width()-15+"px")),h.eq(u).css({width:"100%"}),n("#"+f+"_container").css({width:"100%",height:"100%"})))},0))},_resizeDatePicker:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,e,o,u=n(i.currentTabContentElement).find(".e-dashboarddatepicker"),s=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<s;f++)r=u.eq(f).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(r.height())||r.height()===t.DashboardConstants.Zero||t.isNullOrUndefined(r.width())||r.width()===t.DashboardConstants.Zero||(e=r.find(".e-dashboarddatepicker"),e.css({height:"100%",width:"100%"}),o=e.data("ejDashboardDashboardDatePicker"),o.option("height",r.height()<50?"18px":"25px"),o.option("width",r.width()-(r.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.Zero:30)+"px"))},t.DashboardConstants.Zero))},_resizeImage:function(){for(var u,f,i=n(this.currentTabContentElement).find("."+this._id+"ImageControl"),e=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<e;r++)u=i.eq(r).find(".e-dbrd-containerWrapper"),f=i.eq(r).find(".e-dbrd-control"),u.height()!==t.DashboardConstants.Zero&&f.css({height:"100%",width:"100%"})},_resizeTreeMap:function(){var i=this;this.timers.push(setTimeout(function(){for(var f,r=n(i.currentTabContentElement).find(".e-dbrd-control.e-datavisualization-treemap"),e=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<e;u++)f=r.eq(u).data("ejTreeMap"),t.isNullOrUndefined(f)||f.refresh()},0))},_resizeErrorDialog:function(){var n=this.currentTabContentElement.find("#"+this._id+"_error_dialog"),u=n.find(".e-dbrd-dialog-content-wrapper"),i=0,r=this._getErrorSwitchDetails(n);r==="mobile"?(i=this.currentTabContentElement.height()-(n.find(".e-dbrd-dialog-heading").outerHeight()+n.find(".e-info-msg").outerHeight()+n.find(".e-dbrd-content .e-dbrd-hideDetails").outerHeight()+n.find(".e-dbrd-content .e-dbrd-showDetails").outerHeight()+40),n.find(".e-info-msg").length===t.DashboardConstants.Zero&&(u.css("max-height",this.currentTabContentElement.height()),i=this.currentTabContentElement.height()-n.find(".e-dbrd-dialog-heading").height()-50),this._refreshErrorScroller(i)):r==="Desktop"&&(i=100,n.find(".e-info-msg").length===t.DashboardConstants.Zero&&(i=130),this._refreshErrorScroller(i))},_resizeGetLinkDialog:function(){var n=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog");!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero&&(n.remove(),this.openGetLinkDialog())},_resizeGrid:function(){for(var u=0,e=0,i=null,r=null,f=n(this.currentTabContentElement).find(".dashboardGridControl"),s=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,o,u=0;u<s;u++)i=f.eq(u),i.css({width:i.parent().width()-20,overflow:"hidden",height:i.parent().height()}),r=i.data("ejDashboardGrid"),r&&(i.ejDashboardGrid({allowScrolling:!0,scrollSettings:{width:i.parents(".e-dbrd-containerWrapper").width(),height:r.model.allowFiltering?i.parents(".e-dbrd-containerWrapper").height()-100:i.parents(".e-dbrd-containerWrapper").height()-65}}),r.model.allowPaging&&(o=36,e=r.model.scrollSettings.height-o,r.setModel({scrollSettings:{height:e,width:r.model.scrollSettings.width}})),i.find(".e-gridheader").find("table").css({width:i.width()}),i.find(".e-scrollbar").hide())},_mapResponsive:function(){for(var i,r=n(this.currentTabContentElement).find(".dashboardMapControl"),f=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<f;u++)for(i=0;i<f;i++)this.mapControlsData[i].key===r[u].id&&this._callFunction(this._setMapResponsiveProperties,this.mapControlsData[i].key,this.mapControlsData[i].value)},_resizeDrilledChart:function(i){for(var e,u=n(this.currentTabContentElement).find(".e-datavisualization-chart"),o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<o;f++){var r=u.eq(f),s=r.attr("id"),h=s.substr(r.attr("id").length-14).split("_")[0];r.attr("data-controlid")===i&&(e=r.data("ejDashboardChart"),e.model.size.height=r.height()+"px",h.indexOf("Drilled")!==t.DashboardConstants.IndexLowerBound&&r.css({width:r.parent().width()}),e.model.size.width=r.width()+"px")}},_drawLayout:function(i,r){var s=12,k=null,h=80,p=0,d=!1,w=0,g=null,f,l,c,a,nt,tt,v,y;!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&i.RowCount>s&&(this.exportImageHeightForExtendedLayout=this.dashboardHeight,this.currentTabContentElement.css({height:"auto"}));var o=Math.max(h,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/i.RowCount),e=null,b=null,u=0;if(this.isWidget||this.model.enableWidgetMode?(i.RowCount=1,i.ColumnCount=1,o=Math.max(h,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/i.RowCount)):i.ColumnCount===24&&(this.isExtendedLayout=!0,h=50,o=Math.max(h,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/12),w=(this.currentTabContentElement.find(".e-dbrd-banner").height()+7.5)/s),this.filterHeight>t.DashboardConstants.Zero){var it=this.isExtendedLayout?s:i.RowCount;o=Math.max(h,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15+this.filterHeight))/it);w=(this.currentTabContentElement.find(".e-dbrd-banner").height()+22.5+this.filterHeight)/s}for(f=n('<div id="'+this._id+'layout_wrapper" class = "e-dbrd-layout-wrapper e-dbrd-scroller"><\/div>'),f.attr({rowCount:i.RowCount,columnCount:i.ColumnCount}),this._on(f,"scroll",this._layoutScroll),this.multiTabs&&f.addClass("e-dbrd-res-layout-wrapper"),l=null,l=n(window).width()<t.DashboardConstants.MobileWidth&&!this.model.enableWidgetMode&&!this.isWidget?n('<div id="'+this._id+'_layout"><\/div>').css({margin:"15px 10px"}):this.isExtendedLayout||this.model.enableWidgetMode&&this.isWidget?n('<div id="'+this._id+'_layout"><\/div>').css({margin:"0px"}):n('<div id="'+this._id+'_layout"><\/div>').css({margin:"5px"}),c=0,a=null,this.currentTabContentElement.append(f),f.append(l),this._addCellStyle(i.ColumnCount),this.isExtendedLayout&&(p=i.RowCount,i.RowCount=this._calculateRowCount(i.RowCount),this.availableRowCount=this._getAvailabelRowCount(p),this.heightOfCell=o),this._addLayoutCell(i.RowCount,i.ColumnCount,o,l,w),u=0;u<r.length;u++)r[u].Key==="LayoutInformation"&&(e=JSON.parse(r[u].Value)),r[u].Key==="RefreshSettings"&&(b=JSON.parse(r[u].Value)),r[u].Key==="Title"&&(this.model.reportName=n.parseJSON(r[u].Value).Title),r[u].Key==="WidgetCultures"&&this._fetchCultureFiles(JSON.parse(r[u].Value)),r[u].Key==="CustomWidgetCultures"&&this._fetchCultureFilesForCustomWidget(JSON.parse(r[u].Value)),r[u].Key==="CustomWidgetSettings"&&(k=JSON.parse(r[u].Value)),r[u].Key==="IsDashboardParameter"&&(d=r[u].Value),r[u].Key==="Description"&&(this.reportDescription=r[u].Value,(t.isNullOrUndefined(r[u].Value)||r[u].Value.length===t.DashboardConstants.Zero)&&this.currentTabContentElement.find(".e-dbrd-banner-description").remove());if(e=this._addPageNumer(e),e=this._addWidgetSettings(e,k),this.layoutControls=e,this._widgetModeLayoutCreation(e),this.totalColumn=0,this._createLayout(e,null),this._dashboardData().isWidgetSpecific)for(g=i.RowCount,u=0;u<g;u++)for(nt=i.ColumnCount,c=0;c<nt;c++)a=this.currentTabContentElement.find("#"+this._id+"_cell_"+u+"_"+c),!t.isNullOrUndefined(a[0])&&t.isNullOrUndefined(a[0].childNodes[0])&&this.currentTabContentElement.find("#"+this._id+"_cell_"+u+"_"+c).remove();this._dashboardData().isWidgetSpecific&&(tt=0,v=this.currentTabContentElement.find(".e-dbrd-layout-cell").eq(tt),v.find(".e-dbrd-control-container").attr("type")!=="Grid"&&v.css({height:v.height()-n(".e-dbrd-banner").height()-10}));this._controlSizeCalculationForMobile(e,i);n(window).width()<t.DashboardConstants.MobileWidth&&this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0);t.isNullOrUndefined(b)||this._dashboardData().isTestCase||this._setRefreshSettings(b);!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero?this._showPromptDialogPopup(this.dashboardParameters.data,d):this._dashboardData().loadFromData||this.loadDashboard();this._showOrHideIcons();this._drawFilterOverviewBanner();this._resizeWidgetTitle();this.model.enableCustomTheming&&(this._customTheme(["dashboard","container"]),t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(y=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(y["font-family"])&&y["font-family"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.css("font-family")!==y["font-family"]&&this._customTheme(["font"])));this.model._dashboardData.loadFromData&&this.model._dashboardData.isExportImage&&(this.currentTabContentElement.find(".e-control-prop").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-banner-description").css({display:"none"}),this.currentTabContentElement.find(".e-control-description").css({display:"none"}));n(window).width()>t.DashboardConstants.MobileWidth&&this.isExtendedLayout&&(p>s||o===h)&&(this._dashboardData().isExportImage||(this.pageHeight=o*s,f.ejDashboardScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+3),orientation:"vertical",scrollerSize:7,buttonSize:0,scrollOneStepBy:30}),f.css({width:"100%"}),this.layoutWrapperHeight=f.height(),this._initializeDashboardScroller(f),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"})));this._layoutSizeCalculation(o)},_addWidgetSettings:function(n,i){var u,r;if(t.isNullOrUndefined(i))return n;var f=null,o=n.length,e=Object.keys(i);for(u=0;u<e.length;u++)for(r=0;r<o;r++)f=n[r],n[r].ReportName===e[u]&&(f.configuration=i[n[r].ReportName]);return n},_addPageNumer:function(n){for(var r=0,e=null,u=0,o=[],h=n.length,i,s,f,r=0;r<h;r++)e=n[r],u=Math.floor(e.Row/12)+t.DashboardConstants.One,this.actualPages.indexOf(u)===t.DashboardConstants.IndexLowerBound&&this.actualPages.push(u),e.Page=u;for(i=t.DashboardConstants.One;i<this.actualPages.length;i++)if(s=this.actualPages[i]-this.actualPages[i-t.DashboardConstants.One],s!==t.DashboardConstants.One)for(f=t.DashboardConstants.One;f<s;f++)o.push(this.actualPages[i]-f);return this.actualPages=o.concat(this.actualPages.filter(function(n){return o.indexOf(n)<t.DashboardConstants.Zero})),n},_addLayoutCell:function(n,i,r,u,f){var c=12,e=0,o=0,l=null,a="",v=0,s=this.pageInfo.length===t.DashboardConstants.One&&this.pageInfo[0]===t.DashboardConstants.One?t.DashboardConstants.Zero:Math.max.apply(Math,this.pageInfo)*c,h;for(!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&(s=t.DashboardConstants.Zero),e=s;e<s+n;e++)for(o=0;o<i;o++)l=this.isWidget||this.model.enableWidgetMode||this._dashboardData().isWidgetSpecific?"e-dbrd-mobile-cell":"e-dbrd-cell",h=Math.floor(e/c)+t.DashboardConstants.One,v=h>=2&&!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&window.isExportPdf?r+f:r,a+='<div class = "e-dbrd-layout-cell '+l+' e-dbrd-cell-block e-dbrd" id = "'+this._id+"_cell_"+e+"_"+o+'" style = "height :'+v+'px" data-Page = "'+h+'"><\/div>';u.append(a)},_calculateRowCount:function(n){var i=12,r=24;return!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage?n:this.availableRowCount===t.DashboardConstants.Zero?n>=r?r:n:n>=i?i:n},_getAvailabelRowCount:function(n){var i=12,r=24;if(this.availableRowCount===t.DashboardConstants.Zero){if(n>=r)return n-r;if(n>=i)return this.isRowsAvailable=!1,n-i}else if(n>=i)return n-i;return t.DashboardConstants.Zero},_hideShowPageForMobile:function(i,r){var u=0,e;r&&(r=this._isNeedToBeHided(i));var o=i+t.DashboardConstants.One,f=n("#"+this._id+"layout_wrapper").find(".e-dbrd-layout-cell"),s=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length;for(u=0;u<s;u++)e=f.eq(u).attr("data-Page"),parseInt(e)===o&&r?f.eq(u).css({display:"none"}):f.eq(u).css({display:"block"})},_isNeedToBeHided:function(i){var r=0,f=!0,e=0,u,o;if(i===t.DashboardConstants.One){for(u=n("#"+this._id+"layout_wrapper").find(".e-dbrd-control").parents(".e-dbrd-layout-cell[data-page="+i+"]"),o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<o;r++)e+=u.eq(r).height();e<=n(window).height()&&(f=!1,this.pageInfo.push(i+t.DashboardConstants.One))}return f},_initializeDashboardScroller:function(i){var r=this,u=0;i.ejDashboardScroller({thumbMove:function(i){if(n(i.originalEvent.currentTarget.activeElement).hasClass("e-dbrd-tab-container")||n(i.originalEvent.currentTarget.activeElement).is("body")){if(i.direction===t.DashboardConstants.IndexLowerBound){r._getCurrentScrollObjects(i.model.scrollTop,i.scrollData.scrollable);r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();r.isRefreshClicked&&r._refreshPageOnDemand();return}r._getCurrentScrollObjects(i.model.scrollTop,i.scrollData.scrollable);u=r.layoutWrapperHeight+i.model.scrollTop>=r.pageHeight?i.model.scrollTop>=i.scrollData.scrollable?Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One:Math.max.apply(Math,r._getPageForCurrentView()):t.DashboardConstants.One;r.actualPages.indexOf(u)!==t.DashboardConstants.IndexLowerBound&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(u)===t.DashboardConstants.IndexLowerBound?r._dashboardScroll(u,i.model.scrollTop,i.scrollData.scrollable):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages(),r.isRefreshClicked&&r._refreshPageOnDemand())}},wheelMove:function(n){if(n.direction===t.DashboardConstants.IndexLowerBound){r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();r.isRefreshClicked&&r._refreshPageOnDemand();return}r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);u=r.layoutWrapperHeight+n.model.scrollTop>=r.pageHeight?n.model.scrollTop>=n.scrollData.scrollable?Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One:Math.max.apply(Math,r._getPageForCurrentView()):t.DashboardConstants.One;r.actualPages.indexOf(u)!==t.DashboardConstants.IndexLowerBound&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(u)===t.DashboardConstants.IndexLowerBound?r._dashboardScroll(u):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages(),r.isRefreshClicked&&r._refreshPageOnDemand())}})},_getCurrentScrollObjects:function(n,t){this._destroyContextMenu();this._destroyControlMenu();this.currentScrollTop=n;this.currentScrollHeight=t},_getPageForCurrentView:function(){if(this.isExtendedLayout){var r=[],i=0,u=10,h=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),o=this.currentTabContentElement.find(".e-dbrd-banner").height(),f=n(window).width()<t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-dbrd-overview-banner"):[],c=f.length>t.DashboardConstants.Zero&&f.css("display")!=="none"?f.height():t.DashboardConstants.Zero;if(this._destroyDashboardMenu(),n(window).width()<t.DashboardConstants.MobileWidth){if(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").scrollTop()===t.DashboardConstants.Zero)return r.push(t.DashboardConstants.One),r;var l=document.elementFromPoint(u,o+c+u),a=document.elementFromPoint(u,h),e=parseInt(n(l).parents(".e-dbrd-layout-cell").attr("data-page")),s=parseInt(n(a).parents(".e-dbrd-layout-cell").attr("data-page"));return e===s?[e]:[e,s]}return this.pageHeight=this.heightOfCell===50?this.dashboardHeight-o:this.pageHeight,this.currentScrollTop===t.DashboardConstants.Zero?(i=t.DashboardConstants.One,r.push(i)):this.currentScrollTop<this.pageHeight?(i=t.DashboardConstants.One,r.push(i),r.push(i+t.DashboardConstants.One)):this.currentScrollTop%this.pageHeight!==t.DashboardConstants.Zero?(i=Math.floor(this.currentScrollTop/this.pageHeight)+t.DashboardConstants.One,r.push(i),r.push(i+t.DashboardConstants.One)):(i=Math.floor(this.currentScrollTop/this.pageHeight)+t.DashboardConstants.One,r.push(i)),r}return this.pageInfo},_onLayoutWrapperMouseMove:function(){this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").stop(!0).fadeIn()},_onLayoutWrapperMouseLeave:function(i){t.isNullOrUndefined(n(i))||n(i.target).hasClass("e-scrollbar")||this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").stop(!0).fadeOut()},_refreshPageOnDemand:function(){var i,n;for(this.pagesToRefresh=[],i=this._getPageForCurrentView(),n=0;n<i.length;n++)this.refreshedPages.indexOf(i[n])===t.DashboardConstants.IndexLowerBound&&this.pagesToRefresh.push(i[n]);this.pagesToRefresh.length>t.DashboardConstants.Zero&&this.refreshDashboard(null,!1);this.refreshedPages.length===this.actualPages.length&&(this.isRefreshClicked=!1)},_showPromptDialogPopup:function(n,i){var u=!1,f=[],e=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r;if(n.length>t.DashboardConstants.Zero&&i){for(r=0;r<e;r++)n[r].showInPromptDialog&&(f.push(n[r]),u=!0);f.length>t.DashboardConstants.Zero&&this._openDashboardParametersDialog(f,u)}this._dashboardData().loadFromData||u||this.loadDashboard()},_widgetModeLayoutCreation:function(i,r){var u;if(i.length===t.DashboardConstants.Zero)if(this.model.enableWidgetMode){this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({overflow:"hidden"});var s=this.currentTabContentElement.find("#"+this._id+"_cell_"+t.DashboardConstants.Zero+"_"+t.DashboardConstants.Zero),h=n("<div>").addClass("e-dbrd-control-container"),e=n("<div>").css({height:"100%",width:"100%",padding:"0px"}).css({position:"relative"}).addClass("e-dbrd-containerWrapper").append(h);this.model.size.height&&e.css({height:parseInt(this.model.size.height)-15+"px",width:"100%"});this.model.size.width&&e.css({height:"100%",width:this.model.size.width});this.model.size.width&&this.element.css({width:this.dashboardWidth});this.model.size.height&&this.element.css({height:this.dashboardHeight});s.append(e).removeClass("e-dbrd-cell-block").addClass("e-dbrd-cell");n(window).width()<t.DashboardConstants.MobileWidth&&s.find("div").eq(0).css({height:"100%",width:"100%"});var c=n("<div>").addClass("e-control-prop").attr({"data-html2canvas-ignore":"true",float:"right"}),f=[];for(this._trigger("beforeWidgetIconRendered",{iconsinformation:f,widgetInformation:{Name:"widget Not Configured"}}),u=0;u<f.length;u++)c.append(n("<div>").attr({"tab-index":f[u].tabindex,role:f[u].role,name:f[u].name,"aria-label":f[u].arialabel,"data-tooltip":f[u].datatooltip,type:f[u].type,value:f[u].value,"data-widget-id":f[u].datawidgetid}).addClass(f[u].classname+" e-dbrd-hoverable e-dbrd-border").removeClass(f[u].removeClass).css({float:f[u].float,"margin-right":f[u].marginright,"margin-top":f[u].margintop}));var o=n("<div>"),l=n("<div>").addClass("e-control-heading").css({"line-height":"20px",height:"20px","background-color":"white"}),a=n("<span/>").addClass("e-control-title").css({display:"block",float:"left"}).html(t.isNullOrUndefined(this.widgetModeSettings.title)?"":this.widgetModeSettings.title);o.addClass("e-textalign-left");o.append(a);l.append(o);h.prepend(l,c,r)}else this._noWidgetConfiguredMessage()},_createLayout:function(i){for(var r,nt,w,e,a,b,o,it,y,g,p,f=null,s=null,h=null,l=null,rt=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<rt;u++)if(r=i[u],(this.isWidget||this.model.enableWidgetMode)&&(r.RowSpan=1,r.ColumnSpan=1,r.Row=0,r.Column=0),nt=2,w=this.pageInfo.length===t.DashboardConstants.One&&this.pageInfo[0]===t.DashboardConstants.One?r.Page===t.DashboardConstants.One||r.Page===nt:r.Page===Math.max.apply(Math,this.pageInfo)+t.DashboardConstants.One,!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&(w=!0),w){f=this.currentTabContentElement.find("#"+this._id+"_cell_"+r.Row+"_"+r.Column);f.attr({IsStandardSize:r.IsStandardSize});this.totalColumn=this.totalColumn+r.RowSpan;e=n("<div>").addClass("e-dbrd-control-container").attr({"data-widget-id":r.ReportName,id:r.Guid,type:r.Name,oncontextmenu:"return false"}).data({IsMaster:r.isMaster,ExportImage:t.isNullOrUndefined(r.Label)?null:r.Label.EnableImageExport,ExportPdf:t.isNullOrUndefined(r.Label)?null:r.Label.EnablePdfExport,ExportCSV:t.isNullOrUndefined(r.Label)?null:r.Label.EnableCsvExport,ExportExcel:t.isNullOrUndefined(r.Label)?null:r.Label.EnableExcelExport,EnableMaximize:t.isNullOrUndefined(r.Label)?null:r.Label.ShowMaximize}).css({border:!t.isNullOrUndefined(r.Label)&&r.Label.ShowBorder?"1px solid #b7b7b7":"none","border-top-left-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-top-right-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-bottom-left-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-bottom-right-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px"});this._containerWrapperSizeCalculation(r,e,f);n(window).width()<t.DashboardConstants.MobileWidth&&f.find("div").eq(0).css({height:"100%",width:"100%"});a=n("<div>").css({width:"100%"}).addClass("e-dbrd-control").attr({tabindex:"0","data-controlid":r.ReportName});e.append(a);b=50;i[u].Name==="CustomWidget"&&(o=new Dbrdcontrol,o.reportName=i[u].ReportName,o.controlType=i[u].Name,o.widgetSettings=i[u].configuration,o.isFilterPanelControl=this._isFilterPanelWidget(o.reportName),this.dashboardControls.addControl(o),o.Guid=i[u].Guid,this._createCustomWidgetInstance(o,a,!1));l=n(window).width()<t.DashboardConstants.MobileWidth?n("<div>").addClass("e-control-heading").css({"line-height":!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"25px":"0px",height:!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"25px":"0px"}):n("<div>").addClass("e-control-heading").css({"line-height":b>=e.parents(".e-dbrd-containerWrapper").height()&&!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"15px":!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"25px":"0px",height:b>=e.parents(".e-dbrd-containerWrapper").height()&&!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"15px":!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"25px":"0px"});var c=n("<div>"),k=1,ut=f.width(),tt=!0,d=null,v=f.height();!this._dashboardData().isExportImage||t.isNullOrUndefined(r.Label)||r.Label.ShowHeader||l.addClass("e-export-control-heading");!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?(s=n("<span/>").addClass("e-control-title").css({display:"block",float:"left","margin-right":"2px",color:"#"+r.Label.HeaderLabelForeground.substr(3)}).attr({oncontextmenu:"return false"}),this._appendControlTitle(t.isNullOrUndefined(this.widgetModeSettings.title)?r.Label.HeaderText:this.widgetModeSettings.title,t.isNullOrUndefined(this.widgetModeSettings.title)?r.ParameterColumns[t.DashboardConstants.Title]:[],s),l.css({"border-top-left-radius":r.Label.CornerRadius+"px","border-top-right-radius":r.Label.CornerRadius+"px","background-color":t.isNullOrUndefined(r.Label.HeaderLabelBackground)?"#f9f9f9":"#"+r.Label.HeaderLabelBackground.substr(3)}),r.Label.IsBold&&s.css({"font-weight":"bold"}),r.Label.IsItalic&&s.css({"font-style":"italic"}),c.addClass(this._getControlTitleAlignment(r.Label.LabelAlignment)),c.append(s),l.append(c),d=n("<div>").addClass("e-control-prop").attr({"data-html2canvas-ignore":"true"}),it=[{layoutControls:i,layoutInformation:r,width:a.width(),controlProp:d,controlTitle:s}],this._toolBarManipulation(it),r.Label.ShowDescription&&(y=n("<span>").addClass("e-control-description e-dbrd-containerIcon"),y.css({"margin-left":"2px","margin-top":"0px","margin-right":"5px"}),g=n("<div>").css({display:"none"}),p=n("<p>"),this._appendControlTitle(r.Label.Description,r.ParameterColumns[t.DashboardConstants.Desc],p),g.append(p),y.append(g),c.append(y),this._adjustParameterColumn(p)),t.isNullOrUndefined(r.Label)||(r.IsLink&&r.Label.ShowLinkIcon?(h=n("<span/>").addClass("e-dbrd-link-enable e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.LinkingEnabled}).css({display:"block","padding-left":"5px","padding-right":"10px"}),this._dashboardData().isExportImage&&h.addClass("e-dbrd-drill-export"),c.append(h)):r.IsDrillThrough&&r.Label.ShowDrillThroughIcon&&(h=n("<span/>").addClass("e-dbrd-drill-enable e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.DrillThrough}).css({display:"block","padding-left":"5px","padding-right":"10px","font-size":"10px"}),this._dashboardData().isExportImage&&h.addClass("e-dbrd-drill-export"),c.append(h))),t.isNullOrUndefined(r.Label.BorderThickness)||(k=r.Label.BorderThickness===t.DashboardConstants.Zero?t.DashboardConstants.One:r.Label.BorderThickness,ut-=2*k,v-=2*k)):(tt=!1,s=null);this._createSubtitleLayoutCreation(r,e,s,l,tt,d);e.height()<100&&n(window).width()>this._mobileWidth&&e.find(".e-control-subtitleHeading").hide();this._dashboardData().isExportImage||this._createControlWaitingIndicator(e,!1);this._dashboardData().isWidgetSpecific&&((i[u].Name==="FilterComboBox"||i[u].Name==="IMAGE"||i[u].Name==="DatePicker"||i[u].Name==="CheckBox"||i[u].Name==="RangeNavigator"||i[u].Name==="RangeSlider"||i[u].Name==="RadioButton"||i[u].Name==="ListBox"||i[u].Name==="Label")&&this.currentTabContentElement.find("#"+this._id+"_cell_"+r.Row+"_"+r.Column).remove(),i[u].Name==="Grid"?f.css({height:"auto"}):(v=n(window).height(),f.css({height:v}),i[u].Name==="Card"&&f.css({height:v-5+"px"})),f.css({"page-break-inside":"avoid",position:"relative"}),n("body").css({height:"auto"}),this.element.css({"overflow-y":"hidden"}))}},_createCustomWidgetInstance:function(i,r,u){var f=0,e=0,o=0,s,l,a,d,v,y,p;if(!t.isNullOrUndefined(i.widgetSettings)&&i.widgetSettings.capabilities.EnableIFrame){r.addClass("dependenciesLoadStarted");var w=this._id+"_Widget_"+i.reportName+"_iframe"+(u?"_maximized":""),b=n("<iframe>").attr({id:w,frameBorder:"0",marginwidth:"0",marginheight:"0",scrolling:"no"}).css({width:"100%",height:"100%"}),h="",k="",c={JS:[this.serviceUrl()+"//GetCustomWidgetCoreFiles/formatting.min.js",this.serviceUrl()+"//GetCustomWidgetCoreFiles/customwidgetcore.min.js"]};for(s=o;s<this.reportCultures.length;s++)if(this.reportCultures[s].reportName===i.reportName&&this.reportCultures[s].Cultures.length>o){for(l=o;l<this.reportCultures[s].Cultures.length;l++)c.JS.push(this.serviceUrl()+"//GetCultureScriptForCustomWidget?culture="+this.reportCultures[s].Cultures[l]);break}for(a=o;a<c.JS.length;a++)h=h+" <script src='"+c.JS[a]+"' type='text/javascript'> <\/script> ";if(i.widgetSettings.capabilities.Dependencies.Scripts!==null)for(e=o;e<i.widgetSettings.capabilities.Dependencies.Scripts.length;e++)h+=this._validURL(i.widgetSettings.capabilities.Dependencies.Scripts[e])?" <script src='"+i.widgetSettings.capabilities.Dependencies.Scripts[e]+"' type='text/javascript'> <\/script> ":" <script src='"+this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Scripts[e])+"' type='text/javascript'> <\/script> ";if(i.widgetSettings.capabilities.Dependencies.Styles!==null)for(f=o;f<i.widgetSettings.capabilities.Dependencies.Styles.length;f++)k+=this._validURL(i.widgetSettings.capabilities.Dependencies.Styles[f])?' <link rel="stylesheet" href="'+i.widgetSettings.capabilities.Dependencies.Styles[f]+'" type="text/css" > <\/link>':' <link rel="stylesheet" href="'+this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Styles[f])+'" type="text/css" > <\/link>';var g={coreDependencies:c,guid:i.widgetSettings.capabilities.Guid,dashboardId:this._dashboardId,widgetId:i.reportName,isIFrameEnable:i.widgetSettings.capabilities.EnableIFrame,baseURL:this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.widgetSettings.extractedPath+"/")},nt=JSON.stringify({action:"dependenciesLoad",data:g});b.src="data:text/html;charset=utf-8,"+encodeURI("<html><head><\/head><body><\/body><\/html>");r.append(b);d="<html> <head> <script> window.isdependenciesLoaded = false; if (window.addEventListener) { window.addEventListener('message', function (e) { if (!window.isdependenciesLoaded) { try { var parsedData = JSON.parse(e.data); if (parsedData.action !== undefined  || parsedData.action !== null) { window.widgetData = e.data;  }  } catch {}    } }, false); } else { window.attachEvent('onmessage', function (e) { if (!window.isdependenciesLoaded) { try { var parsedData = JSON.parse(e.data); if (parsedData.action !== undefined  || parsedData.action !== null) { window.widgetData = e.data;  }  } catch {}               } });}<\/script>                                                    <style> html,body { margin:0px; padding:0px; width:100%; height:100%; border : 0px solid;} <\/style> "+h+" "+k+" <script> window.onload = function (e) { window.isdependenciesLoaded = true; ej.dashboard.createWidgetWithInIFrame('"+nt+"'); if (window.widgetData != null || window.widgetData != undefined) { var evt = {}; evt.data = window.widgetData; ej.dashboard.postMessageToIFrame(evt);  }     }; <\/script>  <\/head> <body> <div id ='container' style = 'width: 100%; height: 100%;' > <\/div><\/body><\/html>";v=document.getElementById(w).contentWindow;v.document.open();v.document.write(d);v.document.close()}else if(!t.isNullOrUndefined(i.widgetSettings)&&!i.widgetSettings.capabilities.EnableIFrame){if(i.widgetSettings.capabilities.Dependencies.Scripts!==null){for(y=[],e=o;e<i.widgetSettings.capabilities.Dependencies.Scripts.length;e++)this._validURL(i.widgetSettings.capabilities.Dependencies.Scripts[e])?y.push(i.widgetSettings.capabilities.Dependencies.Scripts[e]):y.push(this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Scripts[e]));p=null;p=u?n("#"+this._id+"_maximized")[0]:(this._dashboardData().isExportImage||this._dashboardData().isExportPdf)&&this._dashboardData().isControl?this.element.find(".e-dbrd-control")[0]:r[0];n(p).addClass("dependenciesLoadStarted");this._getScripts(y,this._renderWidget,i,p)}if(i.widgetSettings.capabilities.Dependencies.Styles!==null)for(f=o;f<i.widgetSettings.capabilities.Dependencies.Styles.length;f++)this._validURL(i.widgetSettings.capabilities.Dependencies.Styles[f])?n("head").append('<link rel="stylesheet" href="'+i.widgetSettings.capabilities.Dependencies.Styles[f]+'" type="text/css" />'):n("head").append('<link rel="stylesheet" href="'+this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Styles[f])+'" type="text/css" />')}},_createSubtitleLayoutCreation:function(i,r,u,f,e,o){var c=n("<div>"),h=null,s=null,l=0;h=t.isNullOrUndefined(i.Label)||!i.Label.ShowHeader||t.isNullOrUndefined(i.Label.SubTitle)?n("<div>").addClass("e-control-subtitleHeading").css({"line-height":"0px",height:"0px","margin-top":"0px"}):n("<div>").addClass("e-control-subtitleHeading").css({"line-height":i.Label.SubTitle!==""?"15px":"0px",height:i.Label.SubTitle!==""?"15px":"0px"});t.isNullOrUndefined(i.Label)||!i.Label.ShowHeader||t.isNullOrUndefined(i.Label.SubTitle)||i.Label.SubTitle!==""&&(s=n("<span/>").addClass("e-control-subtitle").attr({oncontextmenu:"return false"}),this._appendControlTitle(t.isNullOrUndefined(this.widgetModeSettings.title)?i.Label.SubTitle:this.widgetModeSettings.title,i.ParameterColumns[t.DashboardConstants.Subtitle].length>t.DashboardConstants.Zero?i.ParameterColumns[t.DashboardConstants.Subtitle]:[],s),h.css({"border-top-left-radius":i.Label.CornerRadius+"px","border-top-right-radius":i.Label.CornerRadius+"px","background-color":t.isNullOrUndefined(i.Label.HeaderLabelBackground)?"#f9f9f9":"#"+i.Label.HeaderLabelBackground.substr(3)}),this._dashboardData().isExportImage&&s.addClass("e-export-control-subtitle"),i.Label.IsBold&&s.css({"font-weight":"bold"}),i.Label.IsItalic&&s.css({"font-style":"italic"}),c.addClass(this._getControlTitleAlignment(i.Label.LabelAlignment)),c.append(s),h.append(c));this._singleCardIcon(i,u,r,f,e,o,h);this._controlTiltleSizeCalculation(u,s,r);this.currentTabContentElement.find(".e-control-singleCard").length>t.DashboardConstants.Zero&&(l=this.currentTabContentElement.find(".e-control-singleCard").width());t.isNullOrUndefined(i.Label)||i.Label.ShowHeader||!this.model.enableWidgetMode||f.css({position:"absolute","white-space":"pre",overflow:"hidden","background-color":"transparent","line-height":"",height:"20px","max-width":r.width()-l-10+"px","text-overflow":"ellipsis",width:r.width()-l})},_containerWrapperSizeCalculation:function(t,i,r){var u=n("<div>").css({height:t.RowSpan*100+"%",width:t.ColumnSpan*100+"%"}).css({position:"relative"}).addClass("e-dbrd-containerWrapper").append(i);(this.isWidget||this.model.enableWidgetMode)&&(u.css({padding:"0"}),this.model.size.height&&u.css({height:parseInt(this.model.size.height)-15+"px",width:t.ColumnSpan*100+"%"}),this.model.size.width&&u.css({height:t.RowSpan*100+"%",width:this.model.size.width}));this._dashboardData().isWidgetSpecific&&u.css({height:"100%",width:"100%"});this.model.size.width&&this.element.css({width:this.dashboardWidth});this.model.size.height&&this.element.css({height:this.dashboardHeight});r.append(u).removeClass("e-dbrd-cell-block").addClass("e-dbrd-cell");r.attr({rowspan:t.RowSpan,colspan:t.ColumnSpan})},_singleCardIcon:function(i,r,u,f,e,o,s){var h,l,c;if(!t.isNullOrUndefined(i.Label)){if(h=[],l=null,!i.Label.ShowHeader&&i.Name==="Card"){l=n("<div>").addClass("e-control-singleCard").attr({"data-html2canvas-ignore":"true"}).css({position:"absolute",float:"right",right:"-4px","margin-top":"-7px"});i.Label.ShowLinkIcon&&i.IsLink&&h.push({tabindex:"0",classname:"e-dbrd-link-enable",removeClass:"e-dbrd-widget-icons",datatooltip:this.locale.utils.LinkingEnabled,float:"left",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_linking"});i.Label.EnableComment&&this.model.allowComment&&(n(window).width()<t.DashboardConstants.MobileWidth?h.push({tabindex:"0",role:"menu",name:"menu",id:this._id+i.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-menu e-dbrd-border",removeClass:"e-dbrd-widget-icons e-dbrd-hoverable",float:"right",type:i.Name,value:i.Id,display:"block"}):h.push({tabindex:"0",role:"menu",name:"menu",id:this._id+i.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-menu e-dbrd-border",removeClass:"e-dbrd-widget-icons e-dbrd-hoverable",float:"right",type:i.Name,value:i.Id,display:"none"}),this.isWidget&&this.model.commentSettings.isWidgetCommented?h.push({tabindex:"0",role:"button",classname:"e-dbrd-banner-widget-withcomments",arialabel:"Maximize",removeClass:"e-dbrd-widget-icons",datatooltip:"Comment",float:"right",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_comment"}):h.push({tabindex:"0",role:"button",classname:"e-dbrd-banner-widget-withoutcomments",arialabel:"Maximize",removeClass:"e-dbrd-widget-icons",datatooltip:"Comment",float:"right",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_comment"}));var a=this.currentTabContentElement.find(".e-dbrd-containerWrapper").width(),v=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.css("min-width"),y=Math.round((a-v)/21);for(this._trigger("beforeWidgetIconRendered",{iconsinformation:h,widgetInformation:i,isFilterWidget:!1,visibleIconsCount:y,tabId:this.dashboardName}),c=0;c<h.length;c++)l.append(n("<div>").attr({"tab-index":h[c].tabindex,id:h[c].id,role:h[c].role,name:h[c].name,"aria-label":h[c].arialabel,"data-tooltip":h[c].datatooltip,type:h[c].type,value:h[c].value,"data-widget-id":h[c].datawidgetid}).addClass(h[c].classname+" e-dbrd-hoverable e-dbrd-border e-dbrd-card-widget-icons").removeClass(h[c].removeClass).css({float:h[c].float,"margin-right":h[c].marginright,display:h[c].display,"margin-top":h[c].margintop}));h.length===t.DashboardConstants.Zero&&(l=null)}u.prepend(f,t.isNullOrUndefined(l)?"":l,e?o:"",i,s)}},_controlTiltleSizeCalculation:function(i,r,u){var f=null,e,o,s,h;t.isNullOrUndefined(i)||(e=i.height()!==t.DashboardConstants.Zero?i.height():i.parents(".e-control-heading").height(),t.isNullOrUndefined(r)?f=e:(o=r.height()!==t.DashboardConstants.Zero?r.height():r.parents(".e-control-subtitleHeading").height(),f=e+o),u.find(".e-dbrd-control").css({height:"calc(100% - "+f+"px)"}),s=n(u[0]).attr("type"),s===t.dashboardViewer.Controls.RangeSlider&&n(window).width()<t.DashboardConstants.MobileWidth&&(h=10,u.find(".e-dbrd-control").css({height:"calc(100% - "+(f+h)+"px)"})))},_controlSizeCalculationForMobile:function(i,r){var o,u,c;if(n(window).width()<t.DashboardConstants.MobileWidth)for(o=0;o<i.length;o++){var f=i[o],e=null,s="",l=n("#"+f.Guid),h=this._defaultLayoutCellHeight(l);e=this.isWidget||this.model.enableWidgetMode?Math.max(h,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/r.RowCount):Math.max(h,this.dashboardHeight/this.totalColumn);e===h&&this.element.css({"overflow-y":"hidden"});u=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column);u.attr("IsStandardSize")!=="true"||this.model.enableWidgetMode||this.isWidget?this.model.enableWidgetMode||this.isWidget?u.css({height:u.attr("rowspan")*e}):(c=this._heightOfCell(f.Name,e),u.css({height:f.RowSpan*e>c?f.RowSpan*e:c})):(s=u.width(),u.width()>n(window).height()&&(s=n(window).height()),u.css({height:s}))}},_layoutSizeCalculation:function(i){var r=this.multiTabs?this.element.find(".e-tab .e-header").height():t.DashboardConstants.Zero,u=this.isExtendedLayout?50:80;this.model.enableWidgetMode||this.isWidget||this._dashboardData().loadFromData||i===u&&n(window).width()>t.DashboardConstants.MobileWidth&&!this.isExtendedLayout&&(this.multiTabs&&!this.model.showTab?this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-(this.currentTabContentElement.find(".e-dbrd-banner").height()+r),"overflow-y":"auto"}):this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-this.currentTabContentElement.find(".e-dbrd-banner").height(),"overflow-y":"auto"}));this.model.enableWidgetMode||this.isWidget||this._dashboardData().loadFromData||!(n(window).width()>t.DashboardConstants.MobileWidth)||this.isExtendedLayout||(this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth?(this.multiTabs&&!this.model.showTab&&this.currentTabContentElement.css({height:this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height()+this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.css({"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"})):(this.currentTabContentElement.css({"max-width":"",overflow:"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:this.currentTabContentElement.width()}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:this.currentTabContentElement.width()})))},_addCellStyle:function(n){var r=100/n,u=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),i;t.type="text/css";i="#"+this._id+" > * .e-dbrd-cell { width:"+r+"%; }";t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i));u.appendChild(t)}}}(jQuery,SyncfusionDashboard);ejDashboard.dashboardViewer=ejDashboard.dashboardViewer||{};ejDashboard.dashboardViewer.localization=[];ejDashboard.dashboardViewer.localization["en-US"]={utils:{NoData:"There is no data to be displayed.",ErrorOnHigherVersion:"DV001:Unable to load the Dashboard since it was created in a higher version of Dashboard Designer(Version:",ErrorOnHigherVersionForWidget:"DV001:Unable to load the Widget since it was created in a higher version of Dashboard Designer(Version:",NoWidgetConfigured:"No Widgets to Preview",LoadedVersion:"LoadedVersion",ExportToCSV:"CSV...",ExportToPdf:"PDF...",ExportToExcel:"Excel...",ExportToExcel97To2003:"Excel 97-2003 Workbook (*.xls)",ExportToExcel2013:"Excel Workbook (*.xlsx)",Maximize:"Maximize",TextMore:"More",TextLess:"Less",Clear:"Clear",RemoveFavorite:"Remove from favorites",MarkFavorite:"Mark as favorite",ExportControl:"Export Widget",ExportDashboard:"Export Dashboard",UpdateDashboard:"Update Dashboard",ExportToImage:"Image...",FileName:"File Name",Format:"Format",FileType:"File Type",Resolution:"Resolution(dpi)",Reload:"Reload",SavedFilters:"VIEW SAVED FILTERS",UnSavedView:"Unsaved View",Export:"Export",Reset:"Reset",Cancel:"Cancel",Title:"Title",Save:"Save",SaveAs:"Save As",ExportTitle:"Dashboard/Widget Title",Jpeg:"JPEG (*.jpg)",Png:"PNG (*.png)",Bmp:"BMP (*.bmp)",FileNameError:"Invalid File Name",A3:"A3",A4:"A4",A5:"A5",AppliedFilters:"Applied Filters:",Letter:"Letter",PageSize:"Page Size",Orientation:"Orientation",Portrait:"Portrait",Landscape:"Landscape",ExportToPdfWaitingText:"Exporting to PDF...",ExportToImageWaitingText:"Exporting to Image...",ExportToCSVWaitingText:"Exporting to CSV...",ExportToExcelWaitingText:"Exporting to Excel...",FetchingData:"Fetching data...",Description:"Description",Information:"Information",DefaultFileName:"Dashboard",ResolutionLow:"The resolution must be greater than or equal to 96 DPI.",ResolutionAlert:"The preferred resolution is between 96 and 300 DPI. Resolution  greater than that leads to out of memory exception if your system does not have enough memory.",WidgetNotConfigured:"This widget has not been configured.",DashboardServerTimedOut:"DV002:The Dashboard service could not be contacted. There may be a temporary glitch or the server may be down.",AuthenticationFailure:"You require authorization to view this dashboard.",SessionExpired:"Your Session Has Expired",DashboardServerFail:"DV002:The Dashboard service could not be contacted. There may be a temporary glitch or the server may be down.",ExcelError:"The Excel File in the server is not the one which is used for Designing this Dashboard, Kindly contact the Administrator, or republish the Dashboard.",FixIssues:"Please fix the below errors...",InvalidCredentials:"Invalid Credentials",UserName:"Username",Password:"Password",Open:"Open",Ok:"OK",Refresh:"Refresh",Error:"Error",Clipboard:"Copy to Clipboard",AuthenticationRequired:"SQL Authentication Required",KnowMore:"Know More...",UserNamePasswordEmpty:"Username / Password cannot be empty",EncryptError:"Dashboard service returned an invalid key. Please try again. If the issue persists please contact administrator",ViewData:"View Data",Close:"Close",Row:"{{:Row}}",Value:"{{:Value}}",DashboardDescription:"Dashboard Description",Yes:"Yes",No:"No",Confirm:"Confirmation",ClearMasterFilter:"Clear Master Filter",LinkingEnabled:"This widget navigates to a URL or to another dashboard.",DrillThrough:"This widget is configured to drill into more than one level.",Comment:"Comment",DeleteConfirmText:"Are you sure you want to delete this view?",ClearFilter:"Clear Filter",CultureFileDownloadError:"Unable to load the culture ",ServiceNotConfigured:"DV003:Dashboard could not be rendered since the service URL is not set.",ServiceNotConfiguredForWidget:"DV003:Widget could not be rendered since the service URL is not set.",DashboardNotConfigured:"DV004:Dashboard could not be rendered since the dashboard path is not set.",DashboardNotConfiguredForWidget:"DV004:Widget could not be rendered since the dashboard path is not set.",DataError:"Data Retrieval Error",DefaultOrientation:"Landscape",ToggleFilterPanel:"Toggle Filter Panel",Dashboard:"Dashboard",Widgets:"Widgets",ExportImage:"Image Export",ExportPdf:"PDF Export",ExportExcel:"Excel Export",ExportCsv:"CSV Export",ExportAs:"Export As",ExportDashboards:"Export Dashboard(s)",Dashboards:"Dashboard(s)",ChooseDashboards:"Choose Dashboards",ChooseWidgets:"Choose Widgets",Widget:"Widget(s)",Image:"Image",Pdf:"PDF",Excel:"Excel",Csv:"CSV",ExportBtn:"EXPORT",All:"All",SelectAll:"(Select All)",SelectDate:"Select Date",From:"From",To:"To",Success:"Success",Failure:"Failure",GetLink:"Get Link",GetLinkContent:"This link holds the current view data along with the filters.",Minutes:"* Minute(s)",Hours:"* Hour(s)",Days:"* Day(s)",Weeks:"* Week(s)",Months:"* Month(s)",Years:"* Year(s)",MoreOptions:"More Options",DatePickerCustomText:"Custom",TimeSpan:"TimeSpan",DashboardParameters:"Parameters",Apply:"Apply",ResetAll:"RESET ALL",ResetParameters:"Reset Parameters",EmptyImageMsg:"No Image to be displayed",ShowDetails:"Show Details",HideDetails:"Hide Details",DataRetrievalError:"Data Retrieval Error",Filter:"Apply Filter",DrillDown:"Drill Down",Linking:"Open Link",CopyError:"Error Message:",Stacktrace:"Stack-trace:",FilterOverview:"Filters Overview"},mapControl:{fillColor:"#E0E0E0",strokeColor:"#FFFFFF"},DaysOfWeek:{DaysOfWeekSu:"Su",DaysOfWeekMo:"Mo",DaysOfWeekTu:"Tu",DaysOfWeekWe:"We",DaysOfWeekTh:"Th",DaysOfWeekFr:"Fr",DaysOfWeekSa:"Sa"},MonthNames:{MonthJan:"January",MonthFeb:"February",MonthMar:"March",MonthApr:"April",MonthMay:"May",MonthJun:"June",MonthJul:"July",MonthAug:"August",MonthSep:"September",MonthOct:"October",MonthNov:"November",MonthDec:"December"},errorMessages:{ErrorAccessDenied:"DV005:Access to the service is denied to the current user.",ErrorControlException:"Data retrieval error.",ErrorControlNotConfigured:"The Data received at the service was tampered. Please try again later.",ErrorCrypto:"The Data received at the service was tampered. Please try again later.",ErrorDashboardNotFound:"DV006:The requested dashboard file was not found. It may be either moved or renamed.",ErrorDashboardNotFoundForWidget:"DV006:The requested Widget file was not found. It may be either moved or renamed.",ErrorFileNotFound:"DV007:The requested file or assembly was not found. It may be either moved or renamed.",ErrorGeneral:"DV008:Dashboard could not be viewed due to an error.",ErrorGeneralForWidget:"DV008:Widget could not be viewed due to an error.",ErrorInvalidFile:"DV009:The loaded file is not a valid dashboard file",ErrorInvalidFileForWidget:"DV009:The loaded file is not a valid widget file",ErrorServerError:"DV010:The dashboard could not be viewed since we were unable to validate the current user authorization.",ErrorServerErrorForWidget:"DV010:The widget could not be viewed since we were unable to validate the current user authorization.",ErrorSqlHostNotFound:"The SQL server could not be contacted. Please make sure that the server is accessible.",ErrorSqlTimeout:"An attempt to retrieve data from server failed due to time expiration.",ErrorWcfBinding:"The CorsSupport behavior can only be used in WebHttpBinding endpoints.",ErrorOutOfMemory:"DV011:The exported image File could not be downloaded due to large file size.",ErrorInMultiDbrdExport:"The given dashboard name was not found.",ErrorInMultipleWidgetExport:"The given widget name was not found in the active dashboard."}},function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.common={_copyToClipboard:function(i){var f,u,r;t.isNullOrUndefined(i)||(f="",u="",n(i.currentTarget).hasClass("e-share-copy-btn")||n(i.currentTarget).hasClass("e-dbrd-mobileCopyBtn")?f=n(i.currentTarget).parents(".e-dbrd-alert").find(".e-share-text").val():(f=n(".e-dbrd-dialog-title").text()!==this.locale.utils.DataRetrievalError?n(i.currentTarget).parents(".e-dbrd-alert").find(".e-dbrd-content").text():n(i.currentTarget).parents(".e-dbrd-alert").find(".e-info-msg").text(),u=this.currentTabContentElement.find(".e-dbrd-link-btn").data("error-msg")),r=document.createElement("textarea"),n(r).attr({id:this._id+"copy_clipboard_edit"}).css({position:"fixed",bottom:"-200px"}),document.body.appendChild(r),r.value=!t.isNullOrUndefined(u)&&u!==""&&n(window).width()<t.DashboardConstants.MobileWidth?this.locale.utils.CopyError+"\n\n"+f+"\n\n"+this.locale.utils.Stacktrace+"\n\n"+u:!t.isNullOrUndefined(u)&&u!==""&&n(window).width()>=t.DashboardConstants.MobileWidth?this.locale.utils.CopyError+"\n\n"+f+"\n\n"+this.locale.utils.Stacktrace+"\n\n"+u:f,r.focus(),r.select(),document.execCommand("Copy"),t.browserInfo().name==="msie"||t.browserInfo().name==="webkit"?r.parentNode.removeChild(r):r.remove())},_getWidgetDetails:function(n){var f=t.isNullOrUndefined(this.currentReport)?null:this.currentReport.layout,r=0,i=0,u=null,o=t.DashboardConstants.Zero,s,e,h;if(!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(n))for(s=f.length,r=0;r<s;r++)if(t.isNullOrUndefined(f[r].Key)||f[r].Key!=="LayoutInformation"){if(!t.isNullOrUndefined(f[r].Key)&&f[r].Key==="widgetModeLayout"&&this.model.enableWidgetMode)for(u=JSON.parse(f[r].Value),o=u.length,i=0;i<o;i++)if(u[i].ReportName===n)return{type:u[i].Name,title:t.isNullOrUndefined(u[i].Label)?n:u[i].Label.HeaderText,id:u[i].Guid}}else for(u=JSON.parse(f[r].Value),o=u.length,i=0;i<o;i++)if(u[i].ReportName===n&&!t.isNullOrUndefined(u[i].Label))return{type:u[i].Name,title:t.isNullOrUndefined(u[i].Label)?n:u[i].Label.HeaderText,id:u[i].Guid};if((!t.isNullOrUndefined(this.tempDataForFilter)||!t.isNullOrUndefined(this.filterPanelObj))&&!t.isNullOrUndefined(n))for(e=null,e=t.isNullOrUndefined(this.filterPanelObj)?this.tempDataForFilter:this.filterPanelObj.model.dataSource,h=e.length,r=0;r<h;r++)if(e[r].filterId===n)return{type:this._getWidgetType(n),title:JSON.parse(e[r].filterInfo.layout).DisplayName,id:JSON.parse(e[r].filterInfo.layout).Guid};return""},_updateTextWithParameterColumns:function(n,i){var u=n,f,r;if(!t.isNullOrUndefined(i))for(f=i.length,r=0;r<f;r++)u=u.replaceAll(i[r].ParameterText,this._getParemeterColumnTemplate(i[r]));return u},_getParemeterColumnTemplate:function(n){return'<span class="e-dbrd-param-column" data-param="'+n.ParameterText+'" data-source ="'+n.DataSource+'">'+t.DashboardConstants.All+"<\/span>"},_adjustParameterColumn:function(n){var u=0,f=!0,o,r,t;n.parents().hasClass("e-control-description")||n.parent().hasClass("e-dbrd-divHtml")?f=!1:(n.parent(".e-dbrd-information-title").length>u||n.hasClass("e-dbrd-information-title"))&&(f=!1,n.children("span").css({float:"none"}));var s=n.find(".e-dbrd-param-column").length,i=n.children("span"),e=n.parent(".e-dbrd-banner-title").length>u?parseInt(n.parent(".e-dbrd-banner-title").css("max-width")):n.parent().hasClass("e-link")?parseInt(n.parent().css("max-width")):parseInt(n.css("max-width")),h=e/(i.length+1);if(s>u&&f){for(o=i.length,r=0;r<o;r++)t=i.eq(r),t.hasClass("e-dbrd-param-column")?t.css({"max-width":h,display:"inline-block"}):t.hasClass("e-spanned-header")&&t.css({display:"inline-block"});this._getParameterColumnMaxWidth(i,e);n.css({"max-width":e});n.hasClass("e-control-title")?n.css({"max-height":"25px"}):n.hasClass("e-control-subtitle")?n.css({"max-height":"15px"}):n.hasClass("e-dbrd-maxControl-title")&&n.find(".e-dbrd-maximize-titleDiv").css({"max-height":"15px"})}},_getParameterColumnMaxWidth:function(n,t){for(var i,u=[],e=t-this._getAvailedParameterColumnWidth(n),f=n.length,r=0;r<f;r++)n.eq(r).hasClass("e-dbrd-param-column")&&n.eq(r).width()>=parseInt(n.eq(r).css("max-width"))&&u.push(n.eq(r));for(i=0;i<f;i++)n.eq(i).hasClass("e-dbrd-param-column")&&n.eq(i).width()>=parseInt(n.eq(i).css("max-width"))&&n.eq(i).css({"max-width":parseInt(n.eq(i).css("max-width"))+e/u.length+"px"})},_getAvailedParameterColumnWidth:function(n){for(var i=0,r=n.length,t=0;t<r;t++)i+=n.eq(t).width();return i},_setFilterIcon:function(){this.model.filterPanelSettings.showIcon?this.element.find(".e-dbrd-filter-icon").css({display:"block"}):this.element.find(".e-dbrd-filter-icon").css({display:"none"})},_getControlHeaderAlignment:function(n){return n.find(".e-textalign-left").length>t.DashboardConstants.Zero?"left":n.find(".e-textalign-right").length>t.DashboardConstants.Zero?"right":"center"},_showInactiveDIv:function(){if(n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").length===t.DashboardConstants.Zero){var i=t.buildTag("div");i.attr({id:this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv"}).css({width:this.currentTabContentElement.width(),height:this.currentTabContentElement.height(),position:"absolute",top:this.currentTabContentElement.offset().top,left:"0","z-index":"999"});this.currentTabContentElement.append(i)}else n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").fadeIn()},_applyPaddingInactiveDiv:function(){n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").css({"background-color":"rgba(0, 0, 0, 0.6)"})},_hideInactiveDiv:function(){n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").hide()},_showGetLinkDialogForMobile:function(){var i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog"),u,f,r;i.length===t.DashboardConstants.Zero&&(this._renderGetLinkDialog(),i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog"));u=i.find(".e-dbrd-dialog-share-content-wrapper");u.css({height:this.currentTabContentElement.height()-113,"max-height":this.currentTabContentElement.height()-63});i.show();i.addClass("e-dbrd-get-link-content").css({display:"block",width:"100%",height:"100%",position:"absolute","margin-left":"0px"});this.currentTabContentElement.find(".e-dbrd-dialog-close-icon").remove();this.currentTabContentElement.find(".e-share-copy-btn").remove();this.currentTabContentElement.find(".e-share-default").css({"padding-bottom":"0px"});f=n("<button class='e-dbrd-mobileCopyBtn'><\/button>").text(this.locale.utils.Clipboard.toUpperCase());i.append(f);r=this.currentTabContentElement.find(".e-dbrd-dialog-heading");r.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"});r.prepend(n("<div>").addClass("e-dbrd-error-text-close e-dbrd-popup-icon"));this.model.enableCustomTheming&&this._customTheme(["popup"])},_clearAllFilters:function(i){var o=null,h,a,p,w,r,b,u,k,c,d,e,v,g,s;t.isNullOrUndefined(i)||t.isNullOrUndefined(i.currentTarget)?(o=n("#"+this._id).find(".e-brd-clearDiv"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:o,data:this.appliedFilterData}}),o.length>t.DashboardConstants.Zero&&n("#"+n(o).parent().parent().attr("id")).remove()):(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:n(i.target),data:this.appliedFilterData}}),n("#"+n(i.currentTarget).parent().parent().attr("id")).remove());this.rangeData=[];this.masterData=[];h=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(h)&&h.length>t.DashboardConstants.Zero&&h.remove();this.removeFilter=!0;this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":this.isExtendedLayout&&n(window).width()>t.DashboardConstants.MobileWidth?"hidden":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()});for(var y=this.currentTabContentElement.find(".e-remove-control-filter-enable"),l=[],f=t.DashboardConstants.Zero,nt=y.length,f=0;f<nt;f++)y.eq(f).removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable");for(a=this.currentTabContentElement.find(".e-dbrd-containerWrapper").find(".e-dbrd-control"),p=a.length,f=0;f<p;f++)w=n(a[f]).parents(".e-dbrd-control-container"),w.data({IsFilterApplied:!1});if(r=this._getMasterWidgets(),!t.isNullOrUndefined(r))for(b=r.length,u=0;u<b;u++)if(k=this._getSlaveWidgets(r[u]),l=this._generateSlaves(l,k),c=this.dashboardControls.getControlByReport(r[u]),this.CurrentMaster=r[u],t.isNullOrUndefined(this.filterPanelObj)&&this._isFilterPanelWidget(r[u]))for(d=this.tempDataForFilter.length,e=t.DashboardConstants.Zero;e<d;e++)c.reportName===this.tempDataForFilter[e].filterId&&(v=JSON.parse(this.tempDataForFilter[e].filterInfo.dynamicData),v.SelectedValues=null,this.tempDataForFilter[e].filterInfo.dynamicData=JSON.stringify(v));else this._removeWidgetSelection(this._id+(this._isFilterPanelWidget(r[u])?t.DashboardConstants.FilterPanel:"")+t.DashboardConstants.Widget+r[u],t.isNullOrUndefined(c)?null:c.controlType);for(this.flag=!1,this._removeAllControlSelectedValues(),g={master:null,masterList:r,masterData:null,slaves:l,showIndicator:!1,isAutoRefresh:!1},t.isNullOrUndefined(this.filterPanelObj)||(this.filterPanelObj.currentMasterWidget=null),this._updateDashboardControls(!1),!this.isInitialFilterCleared&&this.isExtendedLayout&&(this.isInitialFilterCleared=!0),s=0;s<r.length;s++)this.isExtendedLayout&&this.initialFilterClearedList.indexOf(r[s])===t.DashboardConstants.IndexLowerBound&&this.initialFilterClearedList.push(r[s]);this._makeSlaveDataRequest(g);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:t.isNullOrUndefined(i)?o:n(i.target),data:this.appliedFilterData}});this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)},_getMasterWidgetsFromFilterPanel:function(n){var u=n,f,i,r;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(this.tempDataForFilter))for(f=this.tempDataForFilter.length,i=t.DashboardConstants.Zero;i<f;i++)r=JSON.parse(this.tempDataForFilter[i].filterInfo.dynamicData),this.tempDataForFilter[i].filterInfo.dynamicData=JSON.stringify({SelectedValues:[]}),t.isNullOrUndefined(r.SelectedValues)||r.SelectedValues.length===t.DashboardConstants.Zero||u.push(this.tempDataForFilter[i].filterId);return u},_getSlaveWidgetsForFilterPanel:function(n){var f=n,e,o,u,i,s,r;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(this.tempDataForFilter))for(e=this.tempDataForFilter.length,o=this.controlRelations.length,u=t.DashboardConstants.Zero;u<e;u++)for(i=t.DashboardConstants.Zero;i<o;i++)if(this.controlRelations[i].Master.lastIndexOf(this.tempDataForFilter[u].filterId)!==t.DashboardConstants.IndexLowerBound)for(s=this.controlRelations[i].Slaves.length,r=t.DashboardConstants.Zero;r<s;r++)this._hasWidget(this.controlRelations[i].Slaves[r],f)||f.push(this.controlRelations[i].Slaves[r]);return f},_getMasterWidgets:function(){var r=[],n,u,i;if(!t.isNullOrUndefined(this.getCurrentFilters())&&(n=this.getCurrentFilters().masterData,!t.isNullOrUndefined(n)))for(u=n.length,i=0;i<u;i++)this._hasWidget(n[i].Control,r)||r.push(n[i].Control);return r},_hasWidget:function(n,i){var u,r;if(!t.isNullOrUndefined(i))for(u=i.length,r=0;r<u;r++)if(n===i[r])return!0;return!1},_getSlaveWidgets:function(n){for(var r=[],u=this.controlRelations.length,i=0;i<u;i++)this.controlRelations[i].Master.lastIndexOf(n)!==t.DashboardConstants.IndexLowerBound&&(r=this.controlRelations[i].Slaves);return r},_generateSlaves:function(n,i){var u,r;if(!t.isNullOrUndefined(i))for(u=i.length,r=0;r<u;r++)this._hasWidget(i[r],n)||n.push(i[r]);return n},_updateDashboardControls:function(n){var e,i,u,o,r,f;if(!t.isNullOrUndefined(this.filterPanelObj))for(e=this.filterPanelObj.dashboardControls.controls.length,i=0;i<e;i++)for(u=this.filterPanelObj.dashboardControls.controls[i],o=this.dashboardControls.controls.length,r=0;r<o;r++)f=this.dashboardControls.controls[r],f.reportName===u.reportName&&(n?this.dashboardControls.controls[r]=u:this.filterPanelObj.dashboardControls.controls[i]=f)},_toolbarsInBanner:function(i){var u=n(i.target),r=n(i.target).attr("name"),f=t.isNullOrUndefined(this.model._selectedTabGuid)?null:this.model._selectedTabGuid,e=t.isNullOrUndefined(this.model.dashboardPath)?null:this.model.dashboardPath,o=this.currentTabContentElement.find(".e-dbrd-banner-title").text();t.isNullOrUndefined(r)||this._trigger("onBannerIconClick",{target:u,event:i,tabId:f,dashboardPath:e,headertext:o,name:r,tabName:this.dashboardName});switch(r){case"menu":(i.type==="click"||i.type==="keydown")&&this._showDashoardMenu(i);break;case"comment":this._openDashboardCommentDialog(i);break;case"refresh":this.isRefreshClicked||(this.isRefreshClicked=!0);this.refreshDashboard(null,!1);break;case"filterPanel":this._showFilterPanel(i);break;case"dashboardParameters":this._openDashboardParametersDialog(this.dashboardParameters.data,!1)}},_filterPanelResize:function(){var u=this.model.showTab?this.element.find(".e-tab>.e-header").height():null,i,r;t.isNullOrUndefined(u)&&(u=0);t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||(n(window).width()>=t.DashboardConstants.MobileWidth?(this.externalFilterPanel||(this.filterPanelDiv.css({right:"0px","z-index":"",left:"","overflow-y":"hidden",top:u+"px",width:"20%",height:"99%","max-height":this.dashboardHeight}),i=this.currentTabContentElement.width()-250,r=this.currentTabContentElement.width()*.2<250,this.isExtendedLayout?(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:r?""+i+"px":"80%"}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:r?""+(i-10)+"px":"99%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:r?""+i+"px":"80%"})):(this.currentTabContentElement.find("#"+this._id+"_layout").css({width:r?""+(i-10)+"px":"79%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:r?""+i+"px":"80%"})),this.model.showFilterPanelClose?this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"block"}):this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"10px"})),this.filterPanelObj.resizeFilterPanel()):this.externalFilterPanel||(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").data("ejDashboardScroller")&&(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").ejDashboardScroller("destroy"),this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").css({position:""})),this.filterPanelDiv.css({left:"0px",top:"0px","z-index":"1000",position:"absolute","overflow-y":"auto",width:"100%",height:"100%","max-height":this.dashboardHeight}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"20px"})),this.filterPanelObj.resizeFilterPanel())},_tabIndexFocus:function(i){this.isMouseClick=!0;n(this.currentTabContentElement).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.currentTabContentElement).find(".e-hightlight").removeClass("e-hightlight");t.isNullOrUndefined(i)||n(i.currentTarget).css("outline","0")},_focusMultipleSeriesOnClick:function(t){n(t.currentTarget).hasClass("e-Card")||this._handleTabIndexForMultipleSeries(n(t.currentTarget).closest(".e-multiple-parent"),!0)},_handleTabIndexForMultipleSeries:function(i,r){var u=[];n(i).find(".e-multiple-series").attr("tabindex","0");n(i).find(".e-multiple-series").first().addClass("e-first-child");n(i).find(".e-multiple-series").last().addClass("e-last-child");n(i).addClass("e-focus-in");r&&(u=n(i).hasClass("e-parentGauge")?n(i).find(".e-circularGauge-Selected"):n(i).hasClass("e-card-Series")?n(i).find(".e-dbrd-clicked-card"):n(i).hasClass("e-dbrd-control-radiobtn")||n(i).hasClass("e-dbrd-control-checkbox")?n(i).find("div[aria-checked='true']"):n(i).find(".e-multiple-series").first(),u.length>t.DashboardConstants.Zero?n(u[0]).focus(function(t){t.stopPropagation();n(this).unbind(t)}).focus():n(i).find(".e-first-child").focus(function(t){t.stopPropagation();n(this).unbind(t)}).focus());n(document).bind("focusin",{outerElement:n(i)},this._focusInhandler)},_focusInhandler:function(i){n(i.data.outerElement).find(i.target).length===t.DashboardConstants.Zero&&i.target.id!==n(i.data.outerElement).attr("id")&&(n(i.data.outerElement).find(".e-multiple-series").attr("tabindex","-1"),n(i.data.outerElement).removeClass("e-focus-in"),n(this).unbind(i))},_resizeHalfSizeWidget:function(){for(var f=50,e=this.currentTabContentElement.find(".e-dbrd-control"),h=e.length,u=t.DashboardConstants.Zero;u<h;u++){var o=e.eq(u),i=o.parents(".e-dbrd-containerWrapper"),s=i.find(".e-dbrd-control-container"),r=i.find(".e-control-heading");t.isNullOrUndefined(r)||!(r.length>t.DashboardConstants.Zero)||s.attr("type")===t.dashboardViewer.Controls.RangeNavigator||s.attr("type")===t.dashboardViewer.Controls.IMAGE||o.hasClass("e-Card-Single")||i.hasClass("e-control-singleCard")||i.find(".e-control-singleCard").length===t.DashboardConstants.One||(n(window).width()>t.DashboardConstants.MobileWidth?r.css({"line-height":f>=i.height()?"15px":"25px",height:f>=i.height()?"15px":"25px"}):r.css({"line-height":"25px",height:"25px"}))}},_resizeWidgetTitle:function(){for(var i=null,o=null,f=null,y=null,u=null,c=5,p=this.currentTabContentElement.find(".e-dbrd-control"),w=null,l=t.DashboardConstants.Zero,r=null,v=null,b=5,nt=p.length,a,k,d,g,l=t.DashboardConstants.Zero;l<nt;l++){u=p.eq(l);var e=u.parents(".e-dbrd-control-container"),s=e.find(".e-control-description"),h=e.find(".e-control-singleCard");i=u.parents(".e-dbrd-containerWrapper").find(".e-control-heading").find(".e-control-title");o=u.parents(".e-dbrd-containerWrapper").find(".e-control-heading");r=u.parents(".e-dbrd-containerWrapper").find(".e-control-subtitleHeading").find(".e-control-subtitle");v=u.parents(".e-dbrd-containerWrapper").find(".e-control-subtitleHeading");f=u.parents(".e-dbrd-containerWrapper").find(".e-control-prop");y=u.parents(".e-dbrd-containerWrapper").find(".e-dbrd-link-enable");o.css("width",e.width());a=u.parents(".e-dbrd-containerWrapper");k=50;this.model.enableWidgetMode||this.isWidget||(!t.isNullOrUndefined(a)&&a.length>=t.DashboardConstants.One&&a.height()<k&&n(window).width()>t.DashboardConstants.MobileWidth?(!t.isNullOrUndefined(s)&&s.length>t.DashboardConstants.Zero&&s.parents(".e-control-heading").addClass("e-single-row"),!t.isNullOrUndefined(h)&&h.length>t.DashboardConstants.Zero&&h.addClass("e-single-row"),f.addClass("e-single-row")):(f.hasClass("e-single-row")&&f.removeClass("e-single-row"),s.hasClass("e-single-row")&&s.removeClass("e-single-row"),h.hasClass("e-single-row")&&h.removeClass("e-single-row")));o.find(".e-control-description").length===t.DashboardConstants.One&&(c=30);w=t.EjSvgRender.utils._measureText(i.text(),100,{size:"16",fontStyle:"Normal",fontFamily:"Segoe UI"}).width;i.css({"max-width":Math.abs(o.width()-(y.width()+f.width()+4)-c)+"px",width:"auto"});r.css({"max-width":v.width()});r.length>t.DashboardConstants.Zero&&(d=2,r.parent().attr("class")==="e-textalign-center"?(r.parent().css({"margin-left":(v.width()-r.width())/d-c}),this._dashboardData().isExportImage&&r.parent().css({"margin-top":b+"px"})):r.parent().attr("class")==="e-textalign-right"?(r.parent().css({float:"right","margin-right":"10px","text-align":"right",width:"100%"}),this._dashboardData().isExportImage&&r.parent().css({"margin-top":b+"px"})):r.parent().attr("class")==="e-textalign-left"&&r.parent().css({width:"100%"}),n(window).width()>t.DashboardConstants.MobileWidth?(g=105,e.height()>g?e.find(".e-control-subtitleHeading").css({display:"block"}):e.find(".e-control-subtitleHeading").hide()):e.find(".e-control-subtitleHeading").css({display:"block"}));i&&f&&(w>=o.width()-f.width()?(i.parent().attr("class")==="e-textalign-center"&&i.parent().css({"margin-left":"5px"}),i.parent().attr("class")==="e-textalign-right"&&i.parent().css({float:"left","margin-right":t.DashboardConstants.Zero+"px"})):(i.parent().attr("class")==="e-textalign-center"&&i.parent().css({"margin-left":(o.width()-i.width())/2-c}),i.parent().attr("class")!=="e-textalign-right"||this.model._dashboardData.isExportImage||i.parent().css({float:"right","margin-right":f.width()+5+"px"})));this._adjustParameterColumn(i);this._adjustParameterColumn(r)}},_resizeFilterWidgetTitle:function(){for(var r,e=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=null,u=null,s=null,i=null,h=null,c=e.length,f=0;f<c;f++)i=e.eq(f),o=i.find(".e-control-heading"),u=i.find(".e-dbrd-filterwidget-title"),s=i.find(".e-dbrd-filterwidget-icon-container"),r=o.width()-s.width(),h=t.EjSvgRender.utils._measureText(u.text(),100,{size:"16",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,r!==t.DashboardConstants.Zero&&h>r&&u.css({width:"auto","max-width":r})},_showOrHideIcons:function(){for(var f=null,o=null,s=this.currentTabContentElement.find(".e-dbrd-control"),i=null,r=null,u=null,e=0,h=s.length,e=0;e<h;e++)o=s.eq(e),f=o.parents(".e-dbrd-containerWrapper").find(".e-control-prop"),i=f.find(".e-dbrd-control-menu"),r=f.find(".e-dbrd-banner-widget-withoutcomments"),u=f.find(".e-dbrd-banner-widget-withcomments"),i.length>t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?i.css({display:"block"}):n(i).hasClass("enable-csv-export")||n(i).hasClass("enable-excel-export")||n(i).hasClass("enable-image-export")||n(i).hasClass("enable-pdf-export")?i.css({display:"block"}):i.css({display:"none"})),r.length>t.DashboardConstants.Zero?n(window).width()<t.DashboardConstants.MobileWidth?r.css({visibility:"hidden",display:"none"}):this.model.responsiveSettings.onWidgetCommented?r.css({visibility:"visible",display:"block"}):r.css({visibility:"visible",display:"block"}):u.length>t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?u.css({visibility:"hidden",display:"none"}):this.model.responsiveSettings.onWidgetCommented?u.css({visibility:"visible",display:"block"}):u.css({visibility:"visible",display:"block"}))},_resizeTitle:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-title"),r=this.element.find(".e-dbrd-banner"),u=this.currentTabContentElement.find(".e-dbrd-banner-icon-container"),f,e;this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth?(f=null,f=this.model.favoriteSettings.isFavorite?this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon").outerWidth():this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon").outerWidth(),e=r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-f-10+"px",i.css({"max-width":e,width:"auto","margin-left":"0px"})):this.multiTabs?i.css({"max-width":r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()-this.element.find(".e-dbrd-tab-res-icon-container").width()-"2px",width:"auto"}):i.css({"max-width":r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()+"px",width:"auto"});this._adjustParameterColumn(i.find("p"))},_showGetLinkIcon:function(){if(n(window).width()>t.DashboardConstants.MobileWidth){var i=this.element.find(".e-dbrd-banner-link");this.model.showGetLinkIcon?i.show():i.hide()}},_validURL:function(n){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n)},_widgetActionHandler:function(n){var i,r,f;if(!t.isNullOrUndefined(n)){var e=n.id,l=n.actionType,o=this.dashboardControls.getControlByReport(e),s=[],h="";if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetAction,source:{element:null,data:n}}),!t.isNullOrUndefined(o)){var a=o.configInfo,u=this._setActionSettingsAPIValues(e,a),c=!1,v=t.isNullOrUndefined(u)?null:u.length;for(i=0;i<v;i++)if(r=u[i],f=r.ActionType,l===f){if(h=f,s=r.Action,c=r.ShowMenu,n.actionData=s,n.type=h,c){this.currentActionSettings=n;this.isActionMenu=!0;break}else this._loadNavigation(n,null);break}}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetAction,source:{element:null,data:n}})}},_setActionSettingsAPIValues:function(n,i){var f=i.ActionSetting,c,s,r,o,l,u,h,a,e;if(!t.isNullOrUndefined(this.model.widgetActionSettings))for(c=this.model.widgetActionSettings.length,s=0;s<c;s++)if(r=this.model.widgetActionSettings[s],o=r.widgetId,!t.isNullOrUndefined(o)&&o!==""&&(o===n||this.currentTabContentElement.find("#"+o).attr("data-widget-id")===n))for(l=r.actionSettings.length,u=0;u<l;u++){for(h=!1,a=f.length,e=0;e<a;e++)r.actionSettings[u].type===f[e].ActionType&&(f[e].Action=r.actionSettings[u].actions,f[e].ShowMenu=f[e].ActionType===t.dashboardViewer.ActionType.ContextMenu,h=!0);h||f.push({ActionType:r.actionSettings[u].type,Action:r.actionSettings[u].actions,ShowMenu:r.actionSettings[u].type===t.dashboardViewer.ActionType.ContextMenu})}return f},_loadNavigation:function(i,r){var s,a,h,f;this._destroyInteractionMenu();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetActionNavigate,source:{element:null,data:i}});var c=this._id+t.DashboardConstants.Widget+i.id,v=n("#"+c+"_removeControlFilter").parents(".e-dbrd-control-container").data("IsFilterApplied"),y=n("#"+c+"_removeControlFilter").parents(".e-dbrd-control-container").find(".e-dbrd-control");if(!t.isNullOrUndefined(i)){var l=null,u=i.actionData,e=i.callbackfn,o=this.dashboardControls.getControlByReport(i.id);t.isNullOrUndefined(r)||(u=[],u.push(r.text));t.isNullOrUndefined(o)||(l=o.configInfo,t.isNullOrUndefined(u)||u[t.DashboardConstants.Zero]!==t.dashboardViewer.Action.Filter||o.SelectedFilterInfo.length!==t.DashboardConstants.Zero||t.isNullOrUndefined(i.filterInfo)||(o.SelectedFilterInfo=[],o.SelectedFilterInfo=i.filterInfo,o.SelectedFilterInfo.ReportName=i.id));for(s in u)if(u.hasOwnProperty(s))switch(u[s]){case t.dashboardViewer.Action.Filter:a={master:i.id,masterData:i.masterData,slaves:i.slaves,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};!i.isMaximizedView&&!t.isNullOrUndefined(i.slaves)&&i.slaves.length>t.DashboardConstants.Zero&&this._makeSlaveDataRequest(a);break;case t.dashboardViewer.Action.Linking:if(h=l.ControlLinkData,i.id.includes("TreeMap"))this.treeMapLinking=!0,i.isSelected&&i.actionType!=="ContextMenu"&&(i.evt.evt.public=!0,i.treeMap.rectClick(i.evt.evt));else if(i.id.includes("PivotGrid")&&!t.isNullOrUndefined(e)){e.call(this,i.linkingData.pivotGridControl,i.linkingData.cellClickInfo);break}else if(i.id.includes("Card")){v&&n(i.evt.currentTarget).hasClass("e-dbrd-clicked-card")&&this._AddCardSelection([i.evt.name],y,i.cardCount,!1);i.type==="ContextMenu"&&n(i.evt.currentTarget).css({"background-color":"white"});this._controlNavigate(h,i.cardLink,i.widgetInstance);break}this._controlNavigate(h,i.dataWrapper,i.widgetInstance);break;case t.dashboardViewer.Action.DrillDown:t.isNullOrUndefined(e)||(i.id.includes("Chart")?e.call(this,i.drillDownData.chart,i.drillDownData.config,i.drillDownData.controlLink,i.drillDownData.isMaximize,i.drillDownData.configInfo,i.drillDownData.evt):i.id.includes("TreeMap")&&i.drillDownData.configInfo&&i.drillDownData.configInfo.LoadOnDemand?(t.isNullOrUndefined(i.treeMap)||(f=i.treeMap,f.model.drillDownLevel++,i.drillDownData.evt.model.tooltipTemplate=i.drillDownData.evt.model.isVirtualRender?this._id+"_"+i.id+"_toolTip"+i.drillDownData.evt.model.drillDownLevel:this._id+"_"+i.id+"_toolTip"+i.drillDownData.drillDownLevel,f.model.drillDownLevel!==i.drillDownData.configInfo.rowCount&&f.model.drillDownLevel<i.drillDownData.configInfo.rowCount&&(f._backgroundTile[0].innerHTML="",f._drillHoverDiv[0].innerHTML="",f._templateDiv[0].innerHTML="")),e.call(this,i.drillDownData.configInfo,i.drillDownData.isMaximizedView,i.drillDownData.evt)):i.id.includes("TreeMap")&&!t.isNullOrUndefined(i.drillDownData.value)&&(i.drillDownData.evt.model.tooltipTemplate=i.drillDownData.evt.model.isVirtualRender?this._id+"_"+i.id+"_toolTip"+i.drillDownData.evt.model.drillDownLevel:this._id+"_"+i.id+"_toolTip"+i.drillDownData.drillDownLevel,e.call(i.drillDownData.treeMap,i.drillDownData.value,i.drillDownData.drillDownLevel)))}}this._trigger("actionBegin",{eventType:t.dashboardViewer.event.afterWidgetActionNavigate,source:{element:null,data:i}})},_destroyWidgetSelection:function(){t.isNullOrUndefined(this.currentActionSettings)||t.isNullOrUndefined(this.currentActionSettings.id)||(this._clearSelectionForWidget(this.currentActionSettings,this.currentActionSettings.id,this.currentActionSettings.widgetInstance),this.currentActionSettings=null)},_destroyInteractionMenu:function(){var n=this.currentTabContentElement.find("#"+this._id+"_InteractionMenuPopup");n.length!==t.DashboardConstants.Zero&&n.remove()},_destroyErrorMsg:function(){this.currentTabContentElement.find(".e-error-notification").remove();this.currentTabContentElement.css({position:""});var n=this.currentTabContentElement.find(".e-dbrd-banner");n.css({"margin-top":"0px"})}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.grid={_renderGrid:function(r,u){var w=0,pt=-1,rt=50,e=null,y=null,l=null,f=null,h=null,a=[],ut=null,o=0,c=null,v=null,ft=null,et=null,p=!1,wt="",s=0,bt=36,kt=!1,dt,gt,ni,b,ot,k,ti,ii,ri,nt,st,ht,ui,fi,d,ei,tt,g,oi,si,li,it,ai,vi,yi,pi;if(f=r.configInfo,l=r.getCurrentPageData(),dt=JSON.parse(JSON.stringify(this.dashboardParameters)),this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.weekDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.isNullOrUndefined(u)||t.isNullOrUndefined(u.gridDiv)){for(o=0;o<this.target.length;o++)if(this.target[o].indexOf(f.Id)!==pt&&this.target[o].indexOf("PivotGrid")===pt){if(e=n("#"+this.target[o]),ut=this.target[o],this.target.splice(o,1),l.isError){this._showControlError(l.pagedata,e,f);return}if(this._hideControlError(e),e.show(),h=e.data("ejDashboardGrid"),t.isNullOrUndefined(h)){ut=null;break}if(!this._applyOrRemoveNoDataAvailable(l.pagedata.length,e)){e.addClass("e-nodatagrid");return}if(e.removeClass("e-nodatagrid"),h.model.query._params[2].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),h.model.query._params[4].value="",h.model.query._params[6].value=JSON.stringify(r.maxMinData),!t.isNullOrUndefined(h.model.filterSettings.filteredColumns)&&h.model.filterSettings.filteredColumns.length!==w){for(gt=h.model.filterSettings.filteredColumns.length,o=0;o<gt;o++)n("#"+h.model.filterSettings.filteredColumns[o].field+"_filterBarcell").val("");h.model.filterSettings.filteredColumns=[]}ni={instance:h,json:t.parseJSON(l.pagedata),count:r.totalCount,isLocal:!1,update:!0,needRefresh:!0,sortedColumns:f.SortedColumns,dataSource:r.totalCount>rt,reportName:f.Id,formattedData:l.formattedData};this._updateDataSource(ni);e.parent().data("IsFilterApplied",r.SelectedFilterInfo.length>t.DashboardConstants.Zero);e.parent().data("IsFilterApplied")?this._gridInitialSelection(r,h,e):(e.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));return}if(ut===null&&(b=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),b.find(".e-dbrd-control-container").css({overflow:"hidden"}),e=b.find(".e-dbrd-control"),e.addClass(".e-table dashboardGridControl").css({overflow:"hidden",height:e.height()+7,padding:"1px"}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),b.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),b.find(".e-dbrd-export").attr({value:f.Id}),b.attr({"data-controltype":"Grid"})),l.isError){e.attr({"data-controlId":f.Id});this._showControlError(l.pagedata,e,f);return}this._hideControlError(e)}else if(e=u.gridDiv,e.addClass("e-dbrd-control"),e.css({position:"relative"}),p=u.isMaximize,p)for(y=n("#"+n("#"+this._id+"_cell_"+f.Row+"_"+f.Column).find(".e-dbrd-control").attr("id")).ejDashboardGrid("instance"),s=0;s<y.model.sortSettings.sortedColumns.length;s++)a.push(v={field:y.model.sortSettings.sortedColumns[s].field,direction:y.model.sortSettings.sortedColumns[s].direction});if(ot=n(e).height(),e.attr({"data-controlId":f.Id}),k=null,this.model._dashboardData.isExportImage&&window.exportImageDashboardData){for(ti=window.exportImageDashboardData.length,o=0;o<ti;o++)r.reportName===window.exportImageDashboardData[o].Key&&(k=JSON.parse(window.exportImageDashboardData[o].Value),k=JSON.parse(k.Value));et=new t.DataManager({json:t.parseJSON(k)});ft=k.length;kt=!0;ii=".e-grid .e-columnheader.e-wrap .e-headercelldiv,.e-grid .e-gridcontent.e-wrap .e-rowcell,.e-grid.e-responsive .e-gridcontent.e-wrap .e-rowcell,.e-grid.e-wrap .e-columnheader .e-headercelldiv,.e-grid.e-wrap .e-rowcell,.e-grid.e-wrap.e-responsive .e-rowcell {word-wrap: break-word;}";n("head").prepend('<style type= "text/css">'+ii+"<\/style>")}else ri=p&&y!==null&&y.model.currentViewData!==null?y.model.currentViewData:l.pagedata,et=new t.DataManager({json:t.parseJSON(ri)}),ft=rt;if(nt={width:e.parent().width(),height:f.AllowFiltering?ot-(32+bt):ot-bt,autoHide:!1,allowVirtualScrolling:f.AllowPaging?!1:r.totalCount>rt,scrollerSize:10,enableTouchScroll:!0,virtualScrollMode:f.AllowPaging?"normal":"continuous"},this.model._dashboardData.isExportImage&&(this.model._dashboardData.isWidgetSpecific||this.model._dashboardData.isControl)&&(nt={width:e.parent().width(),height:""},f.AllowPaging=!1),this.model._dashboardData.isExportImage&&(f.AllowContenttoFit=!1),st=null,ht=null,st=n.proxy(this._applyGrdRowFormatting,this,f.GridColumnFormats,f.GridDeltaColumns,f.ColumnList),ht=n.proxy(this._applyGridFormatting,this,f.Id,f.DateTimeColumns,f.GridDeltaColumns,f.BarTemplate,f.FormattedColumns),ui=n("<div>").attr({id:e.attr("id")+"_indicator"}).addClass("e-dbrd-controlWaiting"),this.currentTabContentElement.append(ui),v={field:"",direction:""},a=[],!t.isNullOrUndefined(f.SortedColumns)&&f.SortedColumns.length>w)for(fi=f.SortedColumns.length,o=0;o<fi;o++)a.push(v={field:f.SortedColumns[o].field,direction:f.SortedColumns[o].direction});if(this.model._dashboardData.isExportImage&&!window.isExportPdf){for(a=[],o=0;o<gridSettings.length;o++)if(gridSettings[o].reportName===r.reportName)for(s=0;s<gridSettings[o].sortSettings.sortedColumns.length;s++)a.push(v={field:gridSettings[o].sortSettings.sortedColumns[s].field,direction:gridSettings[o].sortSettings.sortedColumns[s].direction})}else if(this.model._dashboardData.isExportImage&&window.isExportPdf)for(a=[],d="",ei=window.dashboardName.length,tt=0;tt<ei;tt++)if(d=window.dashboardName[tt],window.gridSettings[d]===""&&(window.gridSettings[d]="[]"),!t.isNullOrUndefined(window.gridSettings[d]))for(g=JSON.parse(window.gridSettings[d]),oi=g.length,o=0;o<oi;o++)if(g[o].reportName===r.reportName)for(s=0;s<g[o].sortSettings.sortedColumns.length;s++)a.push(v={field:g[o].sortSettings.sortedColumns[s].field,direction:g[o].sortSettings.sortedColumns[s].direction});f.AllowPaging&&(si=36,nt.height-=si,wt='<script id="'+e.attr("id")+'_pagerTemplate" type="text/x-jsrender"><div class="dashboard_grid_pagerAlignment pager_marginClass"><input id ="'+e.attr("id")+'_currentPage" type="text" class="dashboard_grid_pagerInput dashboard_grid_pagerAlignment"><\/input><\/div><div class="totalPages dashboard_grid_pagerAlignment"><span class="emptyText dashboard_grid_pagerAlignment pager_marginClass"><\/span><span class="pageCount dashboard_grid_pagerAlignment pager_marginClass"><\/span><span  class="rowCount dashboard_grid_pagerAlignment"><\/span><\/div><div class ="pageNavigationContainer" style="padding-top:2px" ><div><div class="e-prev e-icon e-arrowheadleft-2x e-prevpagedisabled e-disable dashboard_grid_pagerAlignment" title="Go to previous page"><\/div><\/div><div><div class="e-nextpage e-icon e-arrowheadright-2x e-default dashboard_grid_pagerAlignment" title="Go to next page"><\/div><\/div><\/div><\/script>');c=this.dashboardControls.getControlByReport(f.Id);var hi=f.AllowSorting,wi=f.AllowPaging,ci=f.AllowContenttoFit,ct=f.AllowFiltering,lt=f.IsMasterFilter||f.IsLinked,bi=p&&ct&&(t.isNullOrUndefined(c.filterSetting)||c.filterSetting.length===w||!t.isNullOrUndefined(c.filterSetting)&&c.filterSetting[0].value!=="")?c.filterSetting:[],at=f.ShowHorizontalLine,vt=f.ShowVerticalLine,ki=at&&vt?"both":at&&!vt?"horizontal":!at&&vt?"vertical":"none",di=f.AllowMultipleSelection?"multiple":"single",yt=this._CreateColumns(f.ColumnList,f.BarTemplate,f.GridDeltaColumns,f.Id,ci,f.ColorsaturationColumns,ct,l.formattedData),gi=lt?n.proxy(this._loadGridSlaves,this,f.Id,f.HiddenColumns,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,p,f.DateTimeColumns):[];if(f.ActionSetting!==null&&f.ActionSetting.length>w&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>w&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click")for(li=".customCss { cursor: pointer;}",n("head").prepend('<style type= "text/css">'+li+"<\/style>"),it=0;it<yt.length;it++)yt[it].cssClass="customCss";if(e.ejDashboardGrid({dataSource:et,allowMultiSorting:hi,allowPaging:wi,enableRTL:this.rtl,query:(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("rangeData",JSON.stringify(this.rangeData)).addParams("action","Initialize").addParams("GridRowCount",JSON.stringify(r.totalCount)).addParams("maxmindata",JSON.stringify(r.maxMinData)).addParams("token",this.token).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(dt))),allowResizing:!0,allowKeyboardNavigation:!0,allowResizeToFit:ci,allowSorting:hi,allowFiltering:ct,allowSelection:lt,allowScrolling:!0,filterSettings:{filteredColumns:bi},allowTextWrap:kt,load:function(){this.element.ejDashboardWaitingPopup({showOnInit:!1,template:n("#"+this._id+"_indicator")})},enableAltRow:!1,gridLines:ki,selectionType:di,columns:yt,rowSelected:gi,rightClick:lt?n.proxy(this._loadGridSlaves,this,f.Id,f.HiddenColumns,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,p,f.DateTimeColumns):[],rowDataBound:st,queryCellInfo:ht,sortSettings:{sortedColumns:a},scrollSettings:nt,pageSettings:{pageSize:ft,totalRecordsCount:r.totalCount,enableTemplates:!0,template:wt},actionBegin:this._actionBeginEvent,actionComplete:n.proxy(this._actionCompleteForVirtualScrolling,this,r.totalCount,a,e)}),!this._applyOrRemoveNoDataAvailable(l.pagedata.length,e)){e.addClass("e-nodatagrid");return}if(e.removeClass("e-nodatagrid"),this.model._dashboardData.isWidgetSpecific&&e.css({overflow:"auto",height:"auto"}),p&&!t.isNullOrUndefined(c.filterSetting)&&c.filterSetting.length!==w)for(ai=c.filterSetting.length,o=0;o<ai;o++)e.find("#"+c.filterSetting[o].field+"_filterBarcell").val(t.isNullOrUndefined(c.filterSetting[o].excelFilterText)?c.filterSetting[o].value:c.filterSetting[o].excelFilterText);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&window.exportImageDashboardData&&(n("body").css({overflow:"auto"}),e.css({overflow:"auto",height:""}),e.parent().css({"overflow-y":"auto","overflow-x":"hidden",height:""}),e.parent().parent().css({overflow:"auto",height:""}),f.AllowContenttoFit=!0,this.model.enableCustomTheming&&this._customTheme(["export"]));this.model._dashboardData.isExportImage&&(vi=".e-rarrowup-2x:before{font-family:ejDashboardViewerIconFont; content:'\\e904' !important}.e-rarrowdown-2x:before{font-family:ejDashboardViewerIconFont; content:'\\e901' !important}",n("head").prepend('<style type= "text/css">'+vi+"<\/style>"),yi=".e-grid .e-rowcell {border-style:solid !important;border-color:rgba(0,0,0,.15)!important;border-width:1px 1px 1px 1px !important;border-collapse:collapse;}.e-DashboardViewer .e-grid .e-gridcontent .e-table tr:last-child .e-rowcell {border-bottom: 1px solid #c4c4c4 !important;border-left:1px solid #c4c4c4 !important;border-right:@grid-border-right1px solid #c4c4c4 !important;}",n("head").prepend('<style type= "text/css">'+yi+"<\/style>"));e.find(".e-scrollbar").hide();f.AllowContenttoFit?e.find(".e-headercelldiv").removeClass("e-grid-header-ellipsis"):e.find(".e-headercelldiv").addClass("e-grid-header-ellipsis");f.AllowFiltering?e.find(".e-gridheader").addClass("e-addfilter-separator"):e.find(".e-gridheader").removeClass("e-addfilter-separator");v=e.find(".e-vhandle");v.css({height:v.height()+16+"px"});this._gridInitialSelection(r,h,e);pi="<script type=\"text/x-jsrender\" id='colTip'>{{:value}}<\/script>";this.currentTabContentElement.append(pi)},_setGridConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AllowContenttoFit=!t.isNullOrUndefined(n.configInfo.AllowContenttoFit)&&n.configInfo.AllowContenttoFit;n.configInfo.AllowFiltering=!t.isNullOrUndefined(n.configInfo.AllowFiltering)&&n.configInfo.AllowFiltering;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.AllowPaging=!t.isNullOrUndefined(n.configInfo.AllowPaging)&&n.configInfo.AllowPaging;n.configInfo.AllowSorting=t.isNullOrUndefined(n.configInfo.AllowSorting)||n.configInfo.AllowSorting;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.BarTemplate=t.isNullOrUndefined(n.configInfo.BarTemplate)?{}:n.configInfo.BarTemplate;n.configInfo.GridDeltaColumns=t.isNullOrUndefined(n.configInfo.GridDeltaColumns)?[]:n.configInfo.GridDeltaColumns;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ShowHorizontalLine=t.isNullOrUndefined(n.configInfo.ShowHorizontalLine)||n.configInfo.ShowHorizontalLine;n.configInfo.ShowVerticalLine=t.isNullOrUndefined(n.configInfo.ShowVerticalLine)||n.configInfo.ShowVerticalLine;n.configInfo.GridColumnFormats=t.isNullOrUndefined(n.configInfo.GridColumnFormats)?[]:n.configInfo.GridColumnFormats;n.configInfo.FormattedColumns=t.isNullOrUndefined(n.configInfo.FormattedColumns)?[]:n.configInfo.FormattedColumns;n.configInfo.SortedColumns=t.isNullOrUndefined(n.configInfo.SortedColumns)?[]:n.configInfo.SortedColumns;n.configInfo.ColorsaturationColumns=t.isNullOrUndefined(n.configInfo.ColorsaturationColumns)?[]:n.configInfo.ColorsaturationColumns;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.HiddenColumns=t.isNullOrUndefined(n.configInfo.HiddenColumns)?null:n.configInfo.HiddenColumns;n.configInfo.ColumnList=t.isNullOrUndefined(n.configInfo.ColumnList)?[]:n.configInfo.ColumnList;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.AllowMultipleSelection=!t.isNullOrUndefined(n.configInfo.AllowMultipleSelection)&&n.configInfo.AllowMultipleSelection},_actionBeginEvent:function(n){n.requestType==="filtering"&&(n.currentFilterObject[0].value=n.currentFilterObject[0].value.trimRight())},_actionCompleteForVirtualScrolling:function(i,r,u,f){var p=13,c=null,l=0,h=null,o=null,a,v,e,s,y;if(c=n("#"+u[0].id).attr("data-controlid"),f.filterCollection){if(a=this.currentTabContentElement.find(".e-dbrd-MaximizedControl"),h=a.length>l?this.maximizedashboardControls.getControlByReport(c):this.dashboardControls.getControlByReport(c),h.filterSetting.length>l)for(v=f.filterCollection.length,o=0;o<v;o++)t.isNullOrUndefined(h.filterSetting[o])||(f.filterCollection[o].excelFilterText=h.filterSetting[o].excelFilterText);h.filterSetting=f.filterCollection}(e=u.data("ejDashboardGrid"),s=u.find(".e-pagercontainer"),!t.isNullOrUndefined(e)&&e.model.allowPaging&&(s.find("input").val(e.model.pageSettings.currentPage),u.find(".totalPages").find(".emptyText").text("of"),u.find(".totalPages").find(".pageCount").text(e.model.pageSettings.totalPages+" Pages"),u.find(".totalPages").find(".rowCount").text(" - "+e.model.pageSettings.totalRecordsCount+" Items"),e.initialRender&&(s.find("input").val(1),s.find("input").keydown(function(t){if(t.keyCode>=65)return!1;if(t.keyCode===p){var u=t.currentTarget.getAttribute("id"),f=u.replace("_currentPage",""),r=n("#"+f).data("ejDashboardGrid"),i=parseInt(n(t.currentTarget).val());return i>r.model.pageSettings.totalPages&&(i=r.model.pageSettings.totalPages),i<=0&&(i=1),isNaN(i)?(i=r.model.pageSettings.currentPage,s.find("input").val(e.model.pageSettings.currentPage)):r.gotoPage(i),!1}return!0})),e.model.pageSettings.currentPage===e.model.pageSettings.totalPages?u.find(".e-nextpage").addClass("e-nextpagedisabled").removeClass("e-nextpage"):u.find(".e-nextpagedisabled").addClass("e-nextpage").removeClass("e-nextpagedisabled"),f.requestType==="paging"&&(e.model.pageSettings.currentPage===1?u.find(".e-prevpage").addClass("e-prevpagedisabled e-disable").removeClass("e-prevpage"):u.find(".e-prevpagedisabled").addClass("e-prevpage").removeClass("e-prevpagedisabled e-disable"),s.find("input").val(e.model.pageSettings.currentPage))),i<50||this.model._dashboardData.isExportImage)||(e.initialRender&&f.requestType==="refresh"&&(y={instance:e,count:i,isLocal:!1,offline:!1,dataSource:!0,sortedColumns:r,reportName:c},this._updateDataSource(y)),e.model.pageSettings.totalPages===2&&(f.requestType==="virtualscroll"||f.requestType==="sorting")&&e.getScrollObject().refresh())},_updateDataSource:function(i){var o=0,s=50,r=i.instance,u=null,e=null,h,f,c;if(r._gridRecordsCount=i.count,r._isLocalData=i.isLocal,r.model.sortSettings.sortedColumns=typeof i.sortedColumns!="undefined"&&i.sortedColumns.length>o?i.sortedColumns:[],r.model.pageSettings.totalPages=Math.ceil(i.count/s),i.update){if(r.model.dataSource=i.json,e=r.model.columns,!t.isNullOrUndefined(i.formattedData))for(h=e.length,u=0;u<h;u++)t.isNullOrUndefined(e[u].foreignKeyField)||(e[u].dataSource=t.parseJSON(i.formattedData));r.model.actionComplete=n.proxy(this._actionCompleteForVirtualScrolling,this,i.count,i.sortedColumns,r.element);r.refreshContent();i.count>s&&r._dataSource(this._getCustomDatamanager());r._isLocalData=i.isLocal}if(i.dataSource===!0)r.option({scrollSettings:{allowVirtualScrolling:!i.instance.model.allowPaging}}),r.model!==null&&n.extend(r.model.dataSource,this._getCustomDatamanager()),r._isLocalData=!1;else if(r._isLocalData=!0,f=this.dashboardControls.getControlByReport(i.reportName),r.dataSource(i.json),!t.isNullOrUndefined(f.filterSetting)&&f.filterSetting.length!==o)for(c=f.filterSetting.length,u=0;u<c;u++)n("#"+f.filterSetting[u].field+"_filterBarcell").val(f.filterSetting[u].excelFilterText);i.needRefresh&&(r._gridRecordsCount=i.count,r.getScrollObject().refresh());r.initialRender||r.model===null||(r.model.query._params[5].value=String(i.count))},_processQuery:function(n,i,r){var o=0,p=1,w=null,a=null,b=[],s=[],h=null,u=null,f=null,e=[],v=null,c=null,it=JSON.parse(JSON.stringify(this.dashboardParameters)),rt=this.model.localeSettings.resourcePath,ut=this.model.localeSettings.culture,y,k,d,g,nt,l,tt;if(r.queries[0].fn==="onWhere"){if(y=this.currentTabContentElement.find(".e-dbrd-MaximizedControl"),c=y.length>o?this.maximizedashboardControls.getControlByReport(r._params[1].value):this.dashboardControls.getControlByReport(r._params[1].value),r.queries[0].e.isComplex)for(e=JSON.parse(JSON.stringify(r.queries[0].e.predicates)),k=e.length,u=0;u<k;u++)e[u].excelFilterText=e[0].value;else e.push(JSON.parse(JSON.stringify(r.queries[0].e))),e[0].excelFilterText=e[0].value;c.filterSetting=e;y.length>o?this.maximizedashboardControls.updateCurrentReport(c):this.dashboardControls.updateCurrentReport(c)}else for(f=0;u<this.dashboardControls.controls.length;u++)this.dashboardControls.controls[f].reportName===r._params[1].value&&(this.dashboardControls.controls[f].filterSetting=[]);for(h=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length===o?this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+r._params[1].value):this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(o),h&&this._createControlWaitingIndicator(h,!0),d=r.queries.length,u=0;u<d;u++)if(r.queries[u].fn==="onPage")w=r.queries[u].e.pageIndex,a=r.queries[u].e.pageSize,v=a*(w-p)+p;else if(r.queries[u].fn==="onSortBy")b.push(r.queries[u].e);else if(r.queries[u].fn==="onWhere")if(r.queries[u].e.isComplex)for(g=r.queries[u].e.predicates.length,f=0;f<g;f++)if(r.queries[u].e.predicates[f].isComplex)for(nt=r.queries[u].e.predicates[f].predicates.length,l=0;l<nt;l++)s.push(r.queries[u].e.predicates[f].predicates[l]);else s.push(r.queries[u].e.predicates[f]);else s.push(r.queries[u].e);return tt=h.data("ejDashboardGrid"),tt._isClearSearchFilter&&(v=t.DashboardConstants.One),{url:i.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({dashboardPath:r._params[0].value,controlId:r._params[1].value,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),controlRowCount:r._params[5].value,startIndex:v,pageSizeOnDemand:a,sortData:JSON.stringify(b),allowFilterData:JSON.stringify(s),maxmindata:r._params[6].value,action:n,modifiedConnectionStrings:this.modifiedConnectionStrings,token:r._params[7].value,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardName:this.dashboardName,customCulture:ut,CustomLanguagePath:rt,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,dashboardParameterSettings:this._setAjaxDashboardParameterValue(it)})}},_processResponse:function(i,r){var v,k,e,y,u,o,p,h,d,w,c,g,l;this._destroyAllControlWaitingIndicator();var a=[],s=[],f=0,b=50;if(!t.isNullOrUndefined(r.d[0].Value)&&!t.isNullOrUndefined(r.d[0].Value[0].value)){if(r.d[0].Value[0].key==="Error")return v=n("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key),v.attr({"data-controlId":r.d[0].Key}),k=JSON.parse(r.d[0].Value[1].value),this._showControlError("",v,k),{result:[],count:t.DashboardConstants.Zero};a=JSON.parse(r.d[0].Value[0].value)}if(e=0,y=null,y=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length===t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key):this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),u=y.data("ejDashboardGrid"),t.isNullOrUndefined(u)||u.model.allowPaging?e=u._gridRecordsCount:(o=JSON.parse(a.Result.replace("/\r?\r\n|\r/","")),u._isClearSearchFilter?(u._gridRecordsCount=o.length,u.model.pageSettings.currentPage=t.DashboardConstants.One,u._isClearSearchFilter=!1):u._hasSearchFilter&&(u._gridRecordsCount=o.length,u._hasSearchFilter=!1),e=o.length<=b?u._gridRecordsCount-o.length:u._gridRecordsCount+b),p=this.dashboardControls.getControlByReport(r.d[0].Key),p.totalCount=e,this.dashboardControls.updateCurrentReport(p),!t.isNullOrUndefined(r.d[0].Value)&&!t.isNullOrUndefined(r.d[0].Value[1].value)){for(h=n("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key).data("ejDashboardGrid").model.columns,d=h.length,f=0;f<d;f++)t.isNullOrUndefined(h[f].foreignKeyField)||(s=JSON.parse(r.d[0].Value[1].value),h[f].dataSource=t.parseJSON(JSON.parse(s.Result.replace("/\r?\r\n|\r/",""))));if(w=n("#dashboard_maximized").data("ejDashboardGrid"),!t.isNullOrUndefined(w))for(c=w.model.columns,g=c.length,f=0;f<g;f++)t.isNullOrUndefined(c[f].foreignKeyField)||(s=JSON.parse(r.d[0].Value[1].value),c[f].dataSource=t.parseJSON(s.Result.replace("/\r?\r\n|\r/","")))}return l=this.element.find(".e-dbrd-control[data-controlid="+r.d[0].Key+"]").find(".e-scrollbar"),t.isNullOrUndefined(l)||l.length===t.DashboardConstants.Zero||l.css({right:"2px"}),{result:t.parseJSON(JSON.parse(a.Result.replace("/\r?\r\n|\r/",""))),count:e}},_getCustomDatamanager:function(i){var r=this,u=(new t.Adaptor).extend({processQuery:n.proxy(this._processQuery,this,i),beforeSend:function(n,i){var e,u,f;if(r.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(e=r.requestHeaders.customHeaders.length,u=t.DashboardConstants.Zero;u<e;u++)f=r.requestHeaders.customHeaders[u],i.setRequestHeader(f.Key,f.Value);i.setRequestHeader("X-Sync-Header",JSON.stringify(r.requestHeaders.customHeaders))}},processResponse:n.proxy(this._processResponse,this,i)},this);return t.DataManager({url:this.serviceUrl()+"/GetControlDataOnDemand",crossDomain:!0,adaptor:new u})},_gridInitialSelection:function(n,i,r){var g=-1,nt=1,e,tt,it,rt,o,s,h,k,ft;if(n.configInfo.IsMasterFilter&&n.SelectedFilterInfo&&n.SelectedFilterInfo.length>0){var c=null,a=n.getCurrentPageData(),f=0,u=0,v=0,y=r.data("ejDashboardGrid"),et=y.model.rowSelected;for(y.model.rowSelected=null,e=[],tt=n.SelectedFilterInfo.length,u=0;u<tt;u++)if(n.SelectedFilterInfo[u].DateFilterInfo&&n.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&(c=n.SelectedFilterInfo[u].DateFilterInfo.DateFilterList),n.SelectedFilterInfo[u].DimensionFilterInfo&&n.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>t.DashboardConstants.Zero&&(c=n.SelectedFilterInfo[u].DimensionFilterInfo.Text),c)for(it=a.pagedata.length,rt=c.length,f=0;f<it;f++)for(o=-1,v=0;v<rt;v++){if(s=a.pagedata[f][n.SelectedFilterInfo[u].UniqueColumnName.toUpperCase()],h=c[v],s&&h)if(Date.parse(s).toString()==="NaN"&&Date.parse(h).toString()==="NaN"&&s===h)o=(a.pageNumber-nt)*n.scrollSetting.controlPerPage+f;else if(Date.parse(h)!=="NaN"&&Date.parse(s)!=="NaN"&&Date.parse(h)===Date.parse(s))o=(a.pageNumber-nt)*n.scrollSetting.controlPerPage+f;else{o=g;break}o!==g&&e.push(o)}for(var p="",d="",l=t.DashboardConstants.Zero,w=t.DashboardConstants.Zero,b=t.DashboardConstants.Zero,ut=t.DashboardConstants.Zero,l=t.DashboardConstants.Zero;l<e.length;l++){for(k=e[l],b=t.DashboardConstants.Zero,w=l+t.DashboardConstants.One;w<e.length;w++)ft=e[w],k===ft&&(p=k,b+=t.DashboardConstants.One);p===""&&(p=k);b>=ut&&(ut=b,d=p)}d!==""&&y.selectRows(d);r.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-disable").addClass("e-remove-control-filter-enable").attr("tabindex","0");r.parents(".e-dbrd-control-container").data({IsFilterApplied:!0});y.model.rowSelected=et}else r.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),r.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})},_applyGrdRowFormatting:function(i,r,u,f){var l=0,w=-1,tt=2,it=3,st=100,o=0,at=String.fromCharCode(127),rt=null,ut=null,ht,h,ft,e,et,lt,ot,k,v;if(i.length>l)for(ht=i.length,h=0;h<ht;h++)for(o=0;o<f.model.columns.length;o++)if(f.model.columns[o].field===i[h].name&&i[h].type!==tt&&(ft=f.data[i[h].name],f.data[i[h].mappingcolor])){var vt=f.data[i[h].mappingcolor],a=vt.toString().split(at),yt=a[0],b=a[1],d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);t.isNullOrUndefined(d)||(b="rgba("+parseInt(d[1],16)+", "+parseInt(d[2],16)+", "+parseInt(d[3],16)+", 0.6)");var ct=a[2],g="normal",nt="normal";if(b!==""&&yt===i[h].formatName){i[h].colorScaleStyle===l&&a.length>it&&(rt=a[3].indexOf("True")!==w?"line-through":"",ut=a[4].indexOf("True")!==w?"underline":"",g=a[5].indexOf("True")!==w?"bold":g,nt=a[6].indexOf("True")!==w?"italic":nt);i[h].type===l?n(f.row).children().eq(o).html(ft.value).css("cssText","text-align:"+(i[h].isDimension?"left":"right")+"; color:"+ct+"!important; background-color:"+b+" !important; text-decoration: "+rt+" "+ut+"; font-style:"+nt+";font-weight: "+g+";"):(n(f.row).css({color:ct,"background-color":b,"text-decoration":rt+" "+ut,"font-style":nt,"font-weight":g,opacity:"0.6"}),n(f.row).children().eq(o).html(ft));break}}for(o=0;o<f.model.columns.length;o++)if(e=f.model.columns[o].field.toUpperCase(),!t.isNullOrUndefined(r[e])&&r[e].deltaExpression!==l){var y=r[e].indication===l,p=null,s=null,c=null;r[e].deltaExpression!==4?(et=f.data[r[e].actualValue],p=f.data[r[e].targetValue],lt=f.data[f.model.columns[o].field],ot=et-p,s=this._calculateGridDeltaActualValue(et,p,lt,r[e].deltaExpression===it||r[e].deltaExpression===tt,y,r[e].isBackground,this._getFormatString(r[e].formatproperties.FormatType,r[e].formatproperties.DecimalPoints),r[e].formatproperties.Culture,r[e].formatproperties.Unit),r[e].deltaExpression!==t.DashboardConstants.One||t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(r[e].formatproperties.GroupSeparator)||(s.value=s.value.replaceAll(r[e].formatproperties.DecimalSeparator.CurrentValue,r[e].formatproperties.DecimalSeparator.AliasValue),s.value=s.value.replaceAll(r[e].formatproperties.GroupSeparator.CurrentValue,r[e].formatproperties.GroupSeparator.AliasValue)),c=r[e].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+s.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+s.css),c.append(n("<div>").addClass("img"),n("<div>").html(s.value).addClass("value")),n(f.row).children().eq(o).html(c),r[e].isBackground&&(ot>l?n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#34B67A !important;":" background-color :#E57368 !important;"):ot===l?n(f.row).children().eq(o).html(c.value).css("cssText","background-color :#FBCB43 !important;"):n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#E57368 !important;":"background-color :#34B67A !important;"))):(p=f.data[r[e].targetValue],k=f.data[f.model.columns[o].field],s=this._calculateGridDeltaColumnValues(k,r[e].deltaExpression===it,r[e].deltaExpression===tt,y,r[e].isBackground,this._getFormatString(r[e].formatproperties.FormatType,r[e].formatproperties.DecimalPoints),r[e].formatproperties.Culture,r[e].formatproperties.Unit),t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||(s.value=s.value.replaceAll(r[e].formatproperties.DecimalSeparator.CurrentValue,r[e].formatproperties.DecimalSeparator.AliasValue),s.value=s.value.replaceAll(r[e].formatproperties.GroupSeparator.CurrentValue,r[e].formatproperties.GroupSeparator.AliasValue)),v=p!==l?parseFloat(k/p*st):st,v=Math.round(v),v=parseFloat(v)<l?parseFloat(v)*w:v,c=r[e].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+s.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+s.css),c.append(n("<div>").addClass("img"),n("<div>").html(s.value+"("+v+"%)").addClass("value")),n(f.row).children().eq(o).html(c),r[e].isBackground&&(k>l?n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#34B67A !important;":" background-color :#E57368 !important;"):k===l?n(f.row).children().eq(o).html(c.value).css("cssText","background-color :#FBCB43 !important;"):n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#E57368 !important;":"background-color :#34B67A !important;")))}},_applyGridFormatting:function(i,r,u,f,e,o){var h=0,a=-1,p=2,c=null,l=null,v=null,s=o.column.field.toUpperCase(),y,w;if(f[s]){if(c=f[s],isNaN(parseFloat(o.text)))return;l=n(o.cell).parents("tbody").children().index(n(o.cell).parent());v=n('<div id="'+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+'" style="height:15px;width:auto;" data-value="'+parseFloat(o.text)+'">');n(o.cell).html("").append(v);parseFloat(o.text)>=h?(v.ejDashboardProgressBar({minvalue:c.Min>h?h:c.Min,maxValue:parseFloat(o.text)===h&&c.Min<h?a*c.Min:c.Max,value:parseFloat(o.text).toFixed(p)}),t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#00A551"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")}):n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#00A551"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator)})):(v.ejDashboardProgressBar({minvalue:c.Max<h?a*c.Max:h,maxValue:a*c.Min,value:a*parseFloat(o.text).toFixed(p),enableRTL:!0}),t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#E04946"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")}):n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#E04946"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator)}));return}if(e[s]){e[s].type==="Percent"?n(o.cell).html(this._applyPercentage(e[s].format,e[s].culture,e[s].unit,o.text)):t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).html(this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")):n(o.cell).html(this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator));return}if(u[s]){if(u[s].isBar){if(c=u[s],isNaN(parseFloat(o.text)))return;l=n(o.cell).parents("tbody").children().index(n(o.cell).parent());v=n('<div id="'+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+'" style="height:15px;width:auto;" data-value="'+parseFloat(o.text)+'">');n(o.cell).html("").append(v);parseFloat(o.text)>=h?(v.ejDashboardProgressBar({minvalue:c.Min>h?h:c.Min,maxValue:parseFloat(o.text)===h&&c.Min<h?a*c.Min:c.Max,value:parseFloat(o.text).toFixed(p)}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:u[o.column.field].indication===h?"#00A551":"#E04946"}).attr({"data-value":o.text})):(v.ejDashboardProgressBar({minvalue:c.Max<h?a*c.Max:h,maxValue:a*c.Min,value:a*parseFloat(o.text).toFixed(p),enableRTL:!0}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:u[o.column.field].indication===h?"#E04946":"#00A551"}).attr({"data-value":o.text}));return}u[s].deltaExpression===h&&(y=this._calculateGridDeltaColumnValues(o.text,!1,!1,u[s].indication===h,u[s].isBackground,this._getFormatString(u[s].formatproperties.FormatType,u[s].formatproperties.DecimalPoints),u[s].formatproperties.Culture,u[s].formatproperties.Unit),t.isNullOrUndefined(u[s].formatproperties.DecimalSeparator)||t.isNullOrUndefined(u[s].formatproperties.GroupSeparator)||(y.value=y.value.replaceAll(u[s].formatproperties.DecimalSeparator.CurrentValue,u[s].formatproperties.DecimalSeparator.AliasValue),y.value=y.value.replaceAll(u[s].formatproperties.GroupSeparator.CurrentValue,u[s].formatproperties.GroupSeparator.AliasValue)),w=u[s].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+y.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+y.css),w.append(n("<div>").addClass("img"),n("<div>").html(y.value).addClass("value")),n(o.cell).html(w),u[s].isBackground&&(parseFloat(o.text)>h?n(o.cell).css("cssText",u[s].indication===h?"background-color :#34B67A !important":"background-color :#E57368 !important"):parseFloat(o.text)===h?n(o.cell).css("cssText","background-color :#FBCB43 !important"):n(o.cell).css("cssText",u[s].indication===h?"background-color :#E57368 !important":"background-color :#34B67A !important")))}},_CreateColumns:function(n,i,r,u,f,e,o,s){var h,p,l,k,v,d,a,y;this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(f=!0);var w=100,c=[],b=0,g=n.length;for(h=0;h<g;h++){if(p=!1,l=0,!t.isNullOrUndefined(r))for(k=r.length,l=0;l<k;l++)if(r[l].toLowerCase()===n[h].ColumnName.replace(/\s/g,"").toLowerCase()){p=!0;break}if(v=!1,!t.isNullOrUndefined(e))for(d=e.length,l=0;l<d;l++)if(e[l].toLowerCase()===n[h].Field.toLowerCase()){v=!0;break}if(n[h].IsLinkTemplate?(a=n[h].ColumnUrlLink,y=a.match(/~currentdomain~ *?/gi),y!==null&&y.length!==t.DashboardConstants.Zero&&(a=a.replace(y[0],encodeURI(location.protocol+"//"+location.host))),this._CreateLinkTemplate("LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),n[h].Field,n[h].IsDate,n[h].Format,n[h].IsColumnTypeUrl,a),n[h].Format&&n[h].IsDate&&!n[h].IsTime?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,allowSorting:!0,isFilter:n[h].IsFilterColumn,template:!0,format:"{0:"+n[h].Format+"}",type:"DateTime",templateID:"#LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,allowSorting:!0,isFilter:n[h].IsFilterColumn,template:!0,templateID:"#LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip})):p?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,allowSorting:!1,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):i[n[h].ColumnName.toUpperCase()]?c.push({field:n[h].Field.toLowerCase(),headerText:n[h].ColumnName,textAlign:n[h].TextAlign,type:"number",isFilter:n[h].IsFilterColumn}):n[h].Format&&n[h].IsDate&&!n[h].IsTime?n[h].IsCustomFormat?c.push({field:n[h].Field,foreignKeyField:n[h].Field,foreignKeyValue:n[h].Field+"_DISPLAYVALUE",headerText:n[h].ColumnName,textAlign:n[h].TextAlign,dataSource:t.parseJSON(s),format:"{0:"+n[h].Format+"}",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,format:"{0:"+n[h].Format+"}",type:"DateTime",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):n[h].IsDate&&n[h].IsTime?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,template:"{{:"+n[h].Field+".Hours}} : {{:"+n[h].Field+".Minutes}} : {{:"+n[h].Field+".Seconds}}",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):v?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,width:n[h].Width,isFilter:n[h].IsFilterColumn}):n[h].IsBooleanColumn?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,type:"string",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):n[h].IsCustomFormat?c.push({field:n[h].Field,headerText:n[h].ColumnName,foreignKeyField:n[h].Field,foreignKeyValue:n[h].Field+"_DISPLAYVALUE",dataSource:t.parseJSON(s),textAlign:n[h].TextAlign,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}),f&&!v||this.model._dashboardData.isExportImage||(c[h].width=n[h].Width>w?n[h].Width:w),o&&(c[h].filterBarTemplate={create:this.createFilterBar,write:this.writeFilterBar,read:this.readFilterBar}),b+=1,b===n.length)break}return c},createFilterBar:function(){return"<input type='search'>"},writeFilterBar:function(n){n.element.after('<span class="e-cancel e-icon e-hide"><\/span>');this._off(this.element,"keyup",n.element)._on(n.element,"keyup",t.proxy(n.column.filterBarTemplate.read,this,n))},readFilterBar:function(n){var t=this,u=-1,f=2,i=1,r=0;this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var e=n.element.val(),o="startswith";e===""?t._isClearSearchFilter=!0:t._hasSearchFilter=!0;e.indexOf("*")!==u&&(e.match(/[*]/g).length===f?(o="contains",e=e.replace(/[*]/g,"")):e.lastIndexOf("*")===e.length-i?(o="startswith",e=e.replace(/[*]/g,"")):(o="endswith",e=e.replace(/[*]/g,"")));e.length>r&&e[0]==='"'&&e[e.length-i]==='"'&&(o="equal",e=e.replace(/["]/g,""));t.filterColumn(n.column.field,o,e,"and",!1)},n===null?r:1500)},_CreateLinkTemplate:function(n,t,i,r,u,f){var e=null;e=i?u?'<script type="text/x-jsrender" id='+n+">{{if "+t+" == null}}{{:"+t+"}}{{else}}<a data-url ='"+f+"' class='e-gridhyperlink'>{{:~_dateFormat("+t+",'"+r+"')}}<\/a>{{/if}}<\/script>":'<script type="text/x-jsrender" id='+n+">{{if "+t+" == null}}{{:"+t+"}}{{else}}<a class='e-gridhyperlink'>{{:~_dateFormat("+t+",'"+r+"')}}<\/a>{{/if}}<\/script>":u?'<script type="text/x-jsrender" id='+n+"> {{if "+t+" == '(Null)' || field == '(Blanks)'}} {{:"+t+"}} {{else}} <a data-url ='"+f+"' class='e-gridhyperlink'>{{:"+t+"}}<\/a>{{/if}}<\/script>":'<script type="text/x-jsrender" id='+n+">{{if "+t+" == '(Null)' || field == '(Blanks)'}} {{:"+t+"}} {{else}} <a class='e-gridhyperlink'>{{:"+t+"}}<\/a>{{/if}}<\/script>";this.currentTabContentElement.append(e)},_gridLinking:function(i){var u=i.currentTarget.dataset.url,e=n("#"+n(i.currentTarget).parents(".e-dbrd-control").attr("id")).data("ejDashboardGrid"),f={widgetInstance:e,viewerInstance:this},r={url:u,target:t.dashboardViewer.navigationTargets.Blank,handled:!1,source:f};if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:r}),this._trigger("beforeNavigate",{data:r}),!r.handled){switch(r.target){case t.dashboardViewer.navigationTargets.Self:case t.dashboardViewer.navigationTargets.Top:case t.dashboardViewer.navigationTargets.Blank:case t.dashboardViewer.navigationTargets.Parent:break;default:if(this._isTargetFrame(r))return}r.url===""||t.isNullOrUndefined(r.url)||t.DashboardConstants.Window.open(r.url,r.target);r={url:u,target:t.dashboardViewer.navigationTargets.Blank,source:f};this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:r});this._trigger("afterNavigate",{data:r})}},_calculateGridDeltaColumnValues:function(n,t,i,r,u,f,e,o){var c=0,l=1,h=100,s=parseFloat(n);return(s.toString()==="Infinity"&&(s=100),isNaN(s))?{value:n,css:""}:u===!0?(t?s/h>=l:s>c)?{value:(t?"":"+")+this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"up"}:(t?s/h===c:s===c)?{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"warning"}:{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"down"}:(t?s/h>=l:s>c)?{value:(t?"":"+")+this._applyStringFormatting(f,e,o,t||i?s/h:s),css:r?"greenUp":"redUp"}:(t?s/h===c:s===c)?{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"warning"}:{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:r?"redDown":"greenDown"}},_calculateGridDeltaActualValue:function(n,t,i,r,u,f,e,o,s){var a=0,c=100,h=n-t,l=Math.abs(parseFloat(i));return(h.toString()==="Infinity"&&(h=100),isNaN(h))?{value:n,css:""}:f===!0?h>a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"up"}:h===a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"warning"}:{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"down"}:h>a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:u?"greenUp":"redUp"}:h===a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"warning"}:{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:u?"redDown":"greenDown"}},_getFormatString:function(n,t){switch(n){case 0:case 1:return"N"+t;case 2:return"C"+t;case 3:return"P"+t}return"N"+t},_showGridBarToolTip:function(t){var r=0,i=null,u;n("#"+this._id+"_Grid_ToolTip").length===r?(i=n("<div>").attr({id:this._id+"_Grid_ToolTip","class":"e-grid-bar-tooltip"}),this.currentTabContentElement.append(i)):(i=n("#"+this._id).find("#"+this._id+"_Grid_ToolTip"),i.css({display:"block"}));u=this._applyStringFormatting("N2","en-us",r,n(t.currentTarget).find("div").attr("data-value"));i.html(u).css({top:t.clientY-20,left:t.clientX,position:"fixed","z-index":"10000"})},_hideGridBarToolTip:function(){n("#"+this._id+"_Grid_ToolTip").length!==0&&n("#"+this._id+"_Grid_ToolTip").css({display:"none"})},_getDateFormatValue:function(n,t){switch(t){case"MMM":return this.month[n.getMonth()];case"MMM yyyy":return this.month[n.getMonth()]+" "+n.getFullYear();case"dd/MM/yyyy":return this._getDate(n)+"/"+this._getMonth(n)+"/"+n.getFullYear();case"MM/dd/yyyy":return this._getMonth(n)+"/"+this._getDate(n)+"/"+n.getFullYear();case"dddd":return this.weekDays[n.getDay()];case"dd/MM/yyyy HH":return this._getDate(n)+"/"+this._getMonth(n)+"/"+n.getFullYear()+" "+(n.getHours()<9?"0"+n.getHours():n.getHours().toString());case"yy":return n.getYear();case"yyyy":return n.getFullYear();default:return n.toISOString()}},_getMonth:function(n){var t=1;return n.getMonth()<10?"0"+n.getMonth()+t:n.getMonth()+t},_getDate:function(n){return n.getDate()<10?"0"+n.getDate():n.getDate()},_loadGridSlaves:function(i,r,u,f,e,o,s){var st,pt,wt,bt,kt,ht,ct,d,dt,a,lt,w,gt,ni,at;if(this.contextMenu){this.contextMenu=!1;return}var b=0,nt=-1,vt=1,yt=!t.isNullOrUndefined(u),et=[],h=0,p=0,tt=0,l=0,k=null;if((this.controlRelations.length!==b||yt)&&this.flag){var c=[],g=null,ut=null,ft=[],v=[],it=[],y=null,rt=null,ot=null;if(rt=t.isNullOrUndefined(s)||s.type!=="rightClick"?t.dashboardViewer.ActionType.Click:t.dashboardViewer.ActionType.ContextMenu,!t.isNullOrUndefined(s)){if(s.model.selectionType===t.Grid.SelectionType.Multiple)for(st=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejDashboardGrid").selectedRowsIndexes,pt=st.length,p=0;p<pt;p++){for(c=[],wt=s.model.columns.length,h=0;h<wt;h++)v.push(s.model.dataSource[st[p]][s.model.columns[h].field]),c.push({Column:s.model.columns[h].field,Value:v});if(r!==null)for(bt=r.length,h=0;h<bt;h++)v.push(s.model.dataSource[s.rowIndex][r[h].toLowerCase()]),c.push({Column:r[h].toLowerCase(),Value:v});ft.push({Items:c})}else{for(h in s.model.columns)t.isNullOrUndefined(u)&&s.model.columns[h].type==="number"||{}.hasOwnProperty.call(s.model.columns,h)&&(v=[],it=[],t.isNullOrUndefined(u)||u.LinkType!==b&&u.LinkType!==2||s===null||t.isNullOrUndefined(s.target)||!s.target.hasClass("e-gridhyperlink")?(v.push(s.data[s.model.columns[h].field]),t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)||(l=s.rowIndex>s.model.pageSettings.pageSize?s.rowIndex%s.model.pageSettings.pageSize:s.rowIndex,it.push(s.model.columns[h].dataSource[l][s.model.columns[h].foreignKeyValue])),c.push({Column:s.model.columns[h].field,Value:v,DisplayValue:it,IsDateTime:s.model.columns[h].type==="DateTime"||s.model.columns[h].originalType==="date",Format:s.model.columns[h].format})):s.target.html()===s.data[s.model.columns[h].field]&&(v.push(s.data[s.model.columns[h].field]),t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)||(l=s.rowIndex>s.model.pageSettings.pageSize?s.rowIndex%s.model.pageSettings.pageSize:s.rowIndex,it.push(s.model.columns[h].dataSource[l][s.model.columns[h].foreignKeyValue])),c.push({Column:s.model.columns[h].field,Value:v,DisplayValue:it,IsDateTime:s.model.columns[h].type==="DateTime"||s.model.columns[h].originalType==="date",Format:s.model.columns[h].format})));if(r!==null)for(kt=r.length,tt=0;tt<kt;tt++)v=[],v.push(s.data[r[tt]]),c.push({Column:r[tt].toLowerCase(),Value:v});y=this.dashboardControls.getControlByReport(i);e||s.model.columns[h].type==="number"||(ht=[],ht.push({ColumnValues:c}),y.SelectedItems.Included=ht);ft.push({Items:c})}ot=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejDashboardGrid")}if(e){t.isNullOrUndefined(u)||(k={id:i,actionType:rt,dataWrapper:ft,widgetInstance:ot,masterData:ut,slaves:g,callbackfn:null,drillDownData:null,selectionEvent:s,filterInfo:et,isMaximizedView:e},this._widgetActionHandler(k));return}for(h=0;h<this.controlRelations.length;h++)if(this.controlRelations[h].Master.indexOf("Grid")!==nt&&this.controlRelations[h].Master.lastIndexOf("_"+i)!==nt){if(g=this.controlRelations[h].Slaves,g.length===b&&!yt){ut=this._checkFilterOverviewData(i);this._addFilterDataToTitle(ut);return}if(ct=0,d=this._checkMasterData(i),l=-1,d!==null)for(l=0;l<this.masterData[d].Value.length;l++)this.masterData[d].Value.length===c.length&&this.masterData[d].Value[l].Column===c[l].Column&&this.masterData[d].Value[l].value===c[l].value&&(ct+=vt);if(ct===l)return;if(d!==null&&this.masterData.splice(d,vt),s!==null&&c.length>b)for(y=this.dashboardControls.getControlByReport(i),dt=c.length,a=0;a<dt;a++)if(lt=o.length!==b?o:[],l=this._checkFilterInfo(c[a].Column,y.SelectedFilterInfo),t.isNullOrUndefined(l)||l===nt){if(w=new selectedFilterInfo,w.UniqueColumnName=c[a].Column,lt.indexOf(c[a].Column.toUpperCase())!==nt){if(c[a].IsDateTime)for(p=0;p<c[a].Value.length;p++);w.DateFilterInfo.DateFilterList=c[a].Value;w.DateFilterInfo.DisplayDateFilterList=c[a].DisplayValue;w.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude}else w.DimensionFilterInfo.Text=c[a].Value,w.DimensionFilterInfo.Conditions="Include";w.ReportName=y.reportName;et.push(w)}else{if(lt.indexOf(c[a].Column.toUpperCase())!==nt){if(c[a].IsDateTime)for(p=0;p<c[a].Value.length;p++);y.SelectedFilterInfo[l].DateFilterInfo.DateFilterList=c[a].Value;y.SelectedFilterInfo[l].DateFilterInfo.DisplayDateFilterList=c[a].DisplayValue}else y.SelectedFilterInfo[l].DimensionFilterInfo!==null&&(y.SelectedFilterInfo[l].DimensionFilterInfo.Text=c[a].Value);y.SelectedFilterInfo[l].ReportName=y.reportName}if(s===null){this.target=[];gt={master:i,masterData:this.masterData,slaves:g,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(gt);break}}ni=n("table .ehover");(rt===t.dashboardViewer.ActionType.ContextMenu||ni.length>b)&&this._clearSelectionForWidget(s,i);rt===t.dashboardViewer.ActionType.ContextMenu&&this._setHoverSelectionForWidget(s,i);s!==null&&(k={id:i,actionType:rt,dataWrapper:ft,widgetInstance:ot,masterData:ut,slaves:g,callbackfn:null,drillDownData:null,selectionEvent:s,filterInfo:et,isMaximizedView:e},this._widgetActionHandler(k));!t.isNullOrUndefined(s)&&!t.isNullOrUndefined(k)&&!t.isNullOrUndefined(k.actionData)&&k.actionData[b]!=="Linking"&&k.actionType!=="ContextMenu"&&g.length>b&&(at=this._id+t.DashboardConstants.Widget+i,n("#"+at+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+at).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}}}}(jQuery,SyncfusionDashboard);$.views.helpers({_dateFormat:function(n,t){return t!==""?ejDashboard.format(n,t):n}}),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.gauges={_renderGauges:function(r,u){var e=r.configInfo,et=this.dashboardControls.getControlByReport(e.Id),a=0,ot=-1,v=1,l=2,vi=10,st=5,yi=24,dt=null,c=null,y=null,k=null,p,gt,pi,ni,wi,ct,g,it,ti,bi,vt,o,s,nr,tr,ir,rr,tt,ci,li,wt,cr,kt,lr;t.isNullOrUndefined(r.data)||t.isNullOrUndefined(r.data[0].pagedata)||!this._dashboardData().isExportImage||(dt=r.data[0],r.currentPage=v,dt.scrollTop=0);var d=this._dashboardData().isExportImage?dt:r.getCurrentPageData(),ht=n("#"+this._id+"_cell_"+e.Row+"_"+e.Column),f=ht.find(".e-dbrd-control");if(d.isError){f.attr({"data-controlId":e.Id});f.attr({id:this._id+t.DashboardConstants.Widget+e.Id});this._showControlError(d.pagedata,n("#"+this._id+"_cell_"+e.Row+"_"+e.Column).find(".e-dbrd-control"),e);return}if(this._hideControlError(n("#"+this._id+"_cell_"+e.Row+"_"+e.Column).find(".e-dbrd-control")),t.isNullOrUndefined(u)||t.isNullOrUndefined(u.gaugeDiv)?(ht.attr({"data-controltype":"CircularGauge"}),f.attr({"data-controlId":e.Id,"data-controlLinkData":JSON.stringify(e.IsLinked?e.ControlLinkData:""),"data-isMaster":e.IsMasterFilter}).addClass("dashboardGaugeControl"),f.attr({id:this._id+t.DashboardConstants.Widget+e.Id})):f=u.gaugeDiv,this._applyOrRemoveNoDataAvailable(d.pagedata.length,f)){if(p=f.attr("id"),r.loadedPages.length===a||u&&u.isMaximize)r.loadedPages.indexOf(r.currentPage)===ot&&r.loadedPages.push(r.currentPage),p=f.attr("id"),t.isNullOrUndefined(u)?(f.attr({id:this._id+t.DashboardConstants.Widget+e.Id}).addClass("dashboardGaugeControl"),p=f.attr("id"),ht.find(".e-remove-control-filter").attr("id",p+"_removeControlFilter"),r.SelectedItems.Included&&r.SelectedItems.Included.length!==a&&ht.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable"),ht.find(".e-dbrd-export").attr({value:e.Id})):f.html(""),gt=0,f.children().length>a&&(f.data("ejDashboardScroller")&&(gt=f.data("ejDashboardScroller").model.scrollTop),t.widget.destroyAll(f.find(".e-js").off()),f.children().remove()),pi=24,ni=f.parent(".e-dbrd-control-container").height(),f.parent(".e-dbrd-control-container").length===t.DashboardConstants.Zero&&(ni=f.height()),wi=f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:f.siblings(".e-control-subtitleHeading").height(),ct=ni-f.siblings(".e-control-heading").children().height()-(wi+(f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(f.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").css("margin-top"))))-st,f.css({height:ct+"px"}),g=this._calculateGaugeSize(d.pagedata.length,f.height(),f.width()-pi,r.currentPage,f,r.scrollSetting.controlPerPage),it=g.table,k=n("<div>").css({width:"98%"}),f.append(k.append(it)),it.css({position:"relative"}),r.scrollSetting.rowPerPage=g.RowCount,r.scrollSetting.colPerPage=g.ColumnCount,r.scrollSetting.heightOfColumn=g.Height,r.scrollSetting.widthOfColumn=g.Width,r.currentPage===v?(k.css({position:"absolute"}),r.heightPerPage=it.height()):r.currentPage>v&&(it.prepend(n("<tr>").css({height:(r.currentPage-v)*r.heightPerPage})),it.append(n("<tr>").css({height:(r.totalPages-r.currentPage)*r.heightPerPage})),r.scrollSetting.scrollTop!==a||f.hasClass("e-dbrd-MaximizedControl")||(r.scrollSetting.scrollTop=(r.currentPage-v)*r.heightPerPage)),ti=!1,f.data("ejDashboardScroller")&&(f.ejDashboardScroller("destroy"),ti=!0),ti&&f.css({height:ct+"px"}),g.RowCount>v?f.ejDashboardScroller({height:ct,scrollerSize:13,scrollTop:gt}):(k.css({width:"98%"}),f.css({display:"table"})),r.scrollSetting.visibleHeight=ct;else{var ii=0,ri=0,ar=r.totalPages;for(c=0;c<ar;c++)r.loadedPages.indexOf(r.currentPage-c-v)!==ot&&ii===a&&(ii=r.currentPage-c-v),r.loadedPages.indexOf(r.currentPage+c+v)!==ot&&ri===a&&(ri=r.currentPage+c+v);r.loadedPages.indexOf(r.currentPage)===ot&&(r.loadedPages.push(r.currentPage),bi={controlId:p,previousPage:ii,nextPage:ri,data:r,heightofColumn:r.scrollSetting.heightOfColumn},this._renderRowsOndemand(bi))}var ki=e.Properties.SelectedValues,di=[],vr=ki.length;for(vt=0;vt<vr;vt++)di.push(ki[vt].Value);var yr=r.getPageDataBypage(r.currentPage),ui=yr.pagedata,w=r.scrollSetting.heightOfColumn,nt=[],gi=.5,fi=r.scrollSetting.widthOfColumn,pr=r.scrollSetting.controlPerPage,b=0;for(c=0;c<pr;c++)if(ui[c]){if(o=JSON.parse(ui[c]),s=n("<div>").attr({id:p+"_child_"+c}).addClass("e-multiple-series").css({overflow:"hidden","vertical-align":"middle"}),e.seriesName.toLowerCase()!==""){if(di.indexOf(o.Title)!==ot&&s.addClass("e-circularGauge-Selected"),s.removeClass("e-childGauge").addClass("e-childGauge-Series pull-left e-multiple-series"),(e.IsMasterFilter||e.IsLinked)&&s.addClass("e-childGauge-Series-master"),r.SelectedFilterInfo&&r.SelectedFilterInfo[0]&&r.SelectedFilterInfo[0].DimensionFilterInfo&&r.SelectedFilterInfo[0].DimensionFilterInfo.Text.length!==a){for(nr=r.SelectedFilterInfo[0].DimensionFilterInfo.Text.length,b=0;b<nr;b++)r.SelectedFilterInfo[0].DimensionFilterInfo.Text[b]===o.ActualTitle&&nt.push(s.attr("id"));n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}if(r.SelectedFilterInfo&&r.SelectedFilterInfo[0]&&r.SelectedFilterInfo[0].DateFilterInfo&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length!==a){for(tr=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length,b=0;b<tr;b++)r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[b]===o.ActualTitle&&nt.push(s.attr("id"));n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}}else f.addClass("e-childGauge"),w>f.height()&&(w=f.height()-gi),k||(k=f.children().first()),(e.IsMasterFilter||e.IsLinked)&&f.addClass("e-childGauge-Series-master"),k.css({display:"table-cell","vertical-align":"middle"}),f.css({display:"table","vertical-align":"middle"});d.pagedata.length===v&&(s=n("<div>").attr({id:p+"_child_"+c}));n("#"+p+"_child_column_"+((r.currentPage-v)*r.scrollSetting.controlPerPage+c)).html("");n("#"+p+"_child_column_"+((r.currentPage-v)*r.scrollSetting.controlPerPage+c)).append(s);ir=this;rr=4;!t.isNullOrUndefined(o.customHeader)&&o.customHeader.visible&&(o.customHeader.text=ir._updateTextWithParameterColumns(o.customHeader.text,e.ParameterColumns));s.attr({"data-stuff":'["'+e.Properties.ValueExpression+'","'+e.Properties.GoalExpression+'"]',"data-value":o.ActualTitle}).prop({Value:o.Title});d.pagedata.length>v?s.css({height:r.scrollSetting.heightOfColumn,width:r.scrollSetting.widthOfColumn}):s.css({height:f.height()-gi-st,width:f.width()-rr});var yt=.9,ur=1.25,h=Math.min(s.width()/l,s.height()/ur)*yt,rt=null;this._dashboardData().loadFromData&&this._dashboardData().isExportImage&&this._dashboardData().isControl&&r.length>v&&(s.css({height:f.height()/null-5}),f.css({"overflow-y":"visible"}));var ei=null,ut=null,oi=null,si=null,hi=null,fr=50,er=200,or=2.5;e.Properties.FrameType==="FullCircular"?(h=Math.min(s.width()/l,s.height()/l)*yt,ei="FullCircular",ut={halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360,startAngle:122,sweepAngle:296},w=s.height(),fi=s.width(),oi={x:s.width()/l,y:w/l},si={x:s.width()/l,y:w/l+h/st},hi="far",rt=h<fr?0:h<er?12:14):(ei="halfcircle",h=Math.min(s.width()/l,s.height()/ur)*yt,w=s.height(),fi=s.width(),ut={halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360,startAngle:180,sweepAngle:180},oi={x:s.width()/l,y:(w-h)/l+h-h/vi-h/st},si={x:s.width()/l,y:(w-h)/l+h-h/vi},hi="near",rt=h<fr?0:h<er?12:14);var wr={height:50,width:h*l,adjustFont:"width",text:o.ValueLabel+" "+e.ShowSuffix?e.CustomLabelText:""},br=Math.min(h/st,parseInt((this._getOptimumFontSize(wr)+"px").replace("px",""))),lt=[{value:o.ValueLabel+" "+(e.ShowSuffix?e.CustomLabelText:""),font:{size:(rt!==a?br:a)+"px",fontFamily:"Roboto",fontStyle:"Bold"},position:oi}];if(o.HasTarget&&lt.push({value:o.StatusText,font:{size:rt!==a&&o.HasTarget?Math.min(h/9,14)+"px":"0px",fontFamily:"Roboto",fontStyle:"normal"},position:si,color:et.customTheme.statusData}),ui.length>=v&&(e.seriesName!==""||e.ColumnInfo.seriesColumn===null)&&(h*=yt,c===a)){var sr=r.data[0].pagedata,ft=null,hr=0,pt=[],kr=sr.length;for(tt=0;tt<kr;tt++)pt.push(JSON.parse(sr[tt]).Title),pt[tt].length>hr&&(hr=pt[tt].length,ft=pt[tt]);if(ci={height:w,width:h*l,adjustFont:"both",text:ft},li={height:w,width:h*l,adjustFont:"width",text:ft},y=Math.min(this._getOptimumFontSize(ci),this._getOptimumFontSize(li)),Math.floor(y)===a)do ft=ft.slice(v,ft.length),y=Math.min(this._getOptimumFontSize(ci),this._getOptimumFontSize(li));while(Math.floor(y)===a)}y=Math.floor(Math.min(w/12,h/6,y));y=Math.max(y,12);y=Math.min(y,yi);y>yi&&(h-=y-12);t.isNullOrUndefined(e.ColumnInfo.seriesColumn)||e.ColumnInfo.seriesColumn===""||(lt.push({value:o.Title,font:{size:(rt!==a?y:a)+"px",fontFamily:"Roboto",fontStyle:"Bold"},position:{x:s.width()/l,y:y},positionType:"inner"}),lt[0].position.x=s.width()/l,lt[1].position.x=s.width()/l);wt=(o.ActualValuename===""?o.TargetValueName:o.ActualValuename)+": "+o.ValueLabel+" "+e.CustomLabelText;o.HasTarget&&(wt=wt+"<div style = 'margin-top:5px;'>"+o.TargetValueName+" : "+o.GoalLabelText+"<div style = 'margin-top:5px;'>Variation: "+o.Variance+"<div style = 'margin-top: 5px;'>Percent Of Target: "+o.Percent+"%");s.addClass("e-dbrd-gaugeControl").prop({toolTipText:wt});o.Value<o.MinimumValue&&(o.Value=o.MinimumValue);var ai=o.Value,dr=ut.halfCircleFrameStartAngle,gr=ut.halfCircleFrameEndAngle,nu=ut.startAngle,tu=ut.sweepAngle,at=o.MaximumValue,bt=o.MinimumValue,iu=et.customTheme.rangeColor1,ru=et.customTheme.border1,uu=et.customTheme.rangeColor2,fu=et.customTheme.border2,eu=t.datavisualization.CircularGauge.MarkerType.RoundedRectangle,ou=o.Goal,su=o.UnitText;s.ejCircularGauge({radius:h,value:ai,backgroundColor:"transparent",width:fi,height:w,frame:{frameType:ei,halfCircleFrameStartAngle:dr,halfCircleFrameEndAngle:gr},drawLabels:function(n){n.position.startY+=n.model.frame.frameType==="halfcircle"?10:3},enableAnimation:!1,tooltip:{showLabelTooltip:!1,showCustomLabelTooltip:!1},outerCustomLabelPosition:"top",scales:[{showScaleBar:!1,radius:h,startAngle:nu,sweepAngle:tu,majorIntervalValue:at-bt,showRanges:!0,ticks:[{height:0,width:0}],ranges:[{size:h/or,startValue:bt,endValue:at,backgroundColor:iu,border:{color:ru,width:0},distanceFromScale:0,placement:"near"},{size:h/or,startValue:bt,endValue:ai>at?at:ai,backgroundColor:uu,border:{color:fu,width:0},distanceFromScale:0,placement:"near"}],pointers:o.HasTarget?[{type:"marker",markerType:eu,width:h*.36,length:h*.01,distanceFromScale:h*.02,backgroundColor:"gray",border:{color:"#515151",width:0},value:ou,placement:"center"}]:[],minimum:bt,maximum:at,customLabels:lt,labels:[{placement:hi,unitText:su,font:{size:rt+"px",fontFamily:"Roboto",fontStyle:"normal"}}]}]});this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({"overflow-y":"auto",height:"100%"}),f.css({"overflow-y":"auto","overflow-x":"hidden"}),f.parent().css({"overflow-y":"auto",height:"","overflow-x":"hidden"}),this.model.enableCustomTheming&&this._customTheme(["export"]))}if(r.currentPage===r.totalPages)for(cr=Math.ceil(r.totalCount/r.scrollSetting.colPerPage),c=cr;c<r.scrollSetting.rowPerPage*r.totalPages;c++)kt=n("#"+p+"_child_row_"+c),t.isNullOrUndefined(kt)||kt.find(".e-widget").length!==a||kt.remove();if(f.data("ejDashboardScroller")!==i&&f.data("ejDashboardScroller").refresh(),this._AddCardSelection(nt,f,d.pagedata.length,!0),!t.isNullOrUndefined(nt))for(lr=nt.length,c=0;c<lr;c++)n("#"+nt[c]).hasClass("e-circularGauge-Selected")||n("#"+nt[c]).addClass("e-circularGauge-Selected")}},_setGaugeConfigInfo:function(n){return n},_showGaugeToolTip:function(t){this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer);var i=this,u=0,r=1,f=60,e=18,o=20,s=5,h=1e3;this._gaugetoolTipTimer=setTimeout(function(){i._gaugeTooltipTarget=n(t.currentTarget);var c={},v=n(t.currentTarget).prop("toolTipText"),a={},y=null,l=v.split("<div style = 'margin-top: 5px;'>");l&&l.length===r?y=v:l&&l.length>r&&(y=l&&l[0].length>l[1].length?l[0]:l[1]);a=i._measureText(y,i._gaugeTooltipTarget.width(),"Normal 14 "+i._gaugeTooltipTarget.css("font-family"));i.currentTabContentElement.find(n("#"+i._gaugeTooltipTarget.attr("id")+"_toolTip")).length===u?(c=n("<div>").attr({id:i._gaugeTooltipTarget.attr("id")+"_toolTip"}).addClass("e-gauge-tooltip"),i.currentTabContentElement.append(c)):(c=i.currentTabContentElement.find(n("#"+i._gaugeTooltipTarget.attr("id")+"_toolTip")),a=i._measureText(c,i._gaugeTooltipTarget.width(),"Normal  14  "+i._gaugeTooltipTarget.css("font-family")));c.html(v).css({top:t.clientY+a.height+c.height()+f>n(window).height()?t.clientY-a.height-c.height():t.clientY+e+"px",left:t.clientX+c.width()>i.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()?t.clientX-c.width()-o+"px":t.clientX-s+"px","z-index":h}).fadeIn()},300);t.stopPropagation();t.bubbles=!1},_hideGaugeToolTip:function(t){this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer);this._gaugeTooltipTarget=null;var i=n(t.currentTarget);n("#"+i.attr("id")+"_toolTip").fadeOut()},_calculateGaugeSize:function(t,i,r,u,f,e){var k=n("<table>").css({width:"100%","margin-left":"1px","margin-right":"1px"}),o=null,l=0,s=1,it=15,h=s,d=null,c,rt,a,tt,v,y,p,w,b;for(t===s&&k.css({"margin-left":"-3px"}),c={width:r,height:i},rt=170,o=Math.round(r/t),(o>15||o<3)&&(o=10);;){if(d=r/o-10,h=Math.ceil(t/o),o<=s){o=s;break}if(d<rt){o-=s;continue}break}c.width<=100&&(d=this._getValueInPixels(7,c.width),o=s);u===s&&t===e&&(h=Math.ceil(t/o));c.height<=15&&c.width>it||c.height<=35&&c.width>it;h<=l&&(h=s);o<=l&&(o=s);o>t&&(o=t);var ut=f.attr("id"),g=null,nt=null,ft=7;for(a=0;a<h;a++){for(tt=h*(u-s)+a,v=n("<tr>").attr({id:ut+"_child_row_"+tt}),y=0;y<o;y++)p=Math.max(140,(f.height()-h*ft)/h),w=(f.width()-o*ft)/o-5,o===l&&v===l&&(w=f.width(),p=f.height()),g=p>i?i-10:p,nt=w>r?r:w,b=n("<td>").attr({id:ut+"_child_column_"+(tt*o+y)}),b.width(nt),b.height(g),v.append(b);k.append(v)}return{ColumnCount:Math.round(o),RowCount:Math.round(h),Height:g,Width:nt,table:k}},_getValueInPixels:function(n,t){return t*n/100},_loadGaugeSlaves:function(r,u,f,e,o){var h=0,ht=1,s=null,it=!1,p=null,a=null,rt=null,w=null,b=null,k=null,yt,vt,g,y,ot;if(t.isNullOrUndefined(r)||r.type!=="click"?t.isNullOrUndefined(r)||r.type!=="rangeRegionClick"&&r.type!=="rightClick"&&r.type!=="contextmenu"||(k=t.dashboardViewer.ActionType.ContextMenu):k=t.dashboardViewer.ActionType.Click,!t.isNullOrUndefined(r)&&t.isNullOrUndefined(e)&&(s=n(r.target),rt=s.parents(".e-dbrd-control-container").find(".dashboardGaugeControl").eq(h).attr("data-controlLinkData"),s.parents(".e-dbrd-control-container").find(".e-dbrd-MaximizedControl").length>h&&(rt=s.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlLinkData"),it=!0),t.isNullOrUndefined(rt)||(e=n.parseJSON(rt)),o=s.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(h).attr("data-isMaster")==="true",e===""&&(e=i)),(this.controlRelations.length!==h||!t.isNullOrUndefined(e))&&this.flag){var c=[],et=null,v=null;et=s.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlId");t.isNullOrUndefined(et)||(u=et);var ut=[],ft=[],ct=[];t.isNullOrUndefined(r)||s.hasClass("e-remove-control-filter")?s.hasClass("e-remove-control-filter")&&s.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove():(s=n(n(r.currentTarget).find("canvas")),c=s.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),yt=n(c).attr("data-controlid"),r.ctrlKey||!0&&k!==t.dashboardViewer.ActionType.Click?s.parent().hasClass("e-circularGauge-Selected")&&k!==t.dashboardViewer.ActionType.ContextMenu?(s.parent().removeClass("e-circularGauge-Selected"),s.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),c=s.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),w=this.dashboardControls.getControlByReport(u),v=w.configInfo.ColumnInfo):(s.parent().addClass("e-circularGauge-Selected"),c=s.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),w=this.dashboardControls.getControlByReport(u),v=w.configInfo.ColumnInfo):c.length>h?(c.removeClass("e-circularGauge-Selected"),s.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),s.parent()[h].id!==c[h].id&&(s.parent().addClass("e-circularGauge-Selected"),w=this.dashboardControls.getControlByReport(u),v=w.configInfo.ColumnInfo),c=s.parents(".e-dbrd-control").find(".e-circularGauge-Selected")):(s.parent().addClass("e-circularGauge-Selected"),c=s.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),w=this.dashboardControls.getControlByReport(u),v=w.configInfo.ColumnInfo));var d=[],lt=[],at=[];if(!t.isNullOrUndefined(c)&&c.length>h)for(vt=c.length,a=0;a<vt;a++)g=c.eq(h).ejCircularGauge("instance"),lt.push(c.eq(a).attr("id")),t.isNullOrUndefined(v.seriesColumn)||(d.push(c.eq(a).attr("data-value")),at.push(n(c[a]).prop("Value")),ft.push({Column:v.seriesColumn,Value:c.eq(a).attr("data-value")})),t.isNullOrUndefined(v.actualColumn)||t.isNullOrUndefined(e)||(d.push(g.model.scales[0].ranges[0].endValue),ft.push({Column:v.actualColumn,Value:g.model.scales[0].ranges[0].endValue})),t.isNullOrUndefined(v.targetColumn)||t.isNullOrUndefined(v.targetColumn.toLowerCase())||t.isNullOrUndefined(e)||g.model.scales[0].pointers.length===h||(d.push(g.model.scales[0].pointers[0].value),ft.push({Column:v.targetColumn,Value:g.model.scales[0].pointers[0].value}));y=null;ot=[];p=this.dashboardControls.getControlByReport(u);d.length>h&&(p.SelectedFilterInfo.length===h&&(y=new selectedFilterInfo),y=new selectedFilterInfo,t.isNullOrUndefined(p.configInfo.DateTimeColumns)||p.configInfo.DateTimeColumns!=="DateTime"?(y.DimensionFilterInfo.Text=d,y.DimensionFilterInfo.Conditions=4):(y.DateFilterInfo.DateFilterList=d,y.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude,y.DateFilterInfo.DisplayDateFilterList=at),t.isNullOrUndefined(v.seriesColumn)||(y.Column=v.seriesColumn.toLowerCase(),y.UniqueColumnName=v.seriesColumn.toLowerCase()),y.ReportName=p.reportName,ot.push(y));p.SelectedFilterInfo=[];t.isNullOrUndefined(e)&&(!o||it)||k!==t.dashboardViewer.ActionType.ContextMenu&&this._AddCardSelection(lt,s.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(h),p.getCurrentPageData().pagedata.length,!0);var pt=p.getCurrentPageData().pagedata.length,nt=null,tt=null,st=null,l=this;ut.push({Items:d});ct.push({Items:ft});this.requestTimer!==null&&clearTimeout(this.requestTimer);k===t.dashboardViewer.ActionType.Click&&n(c[0]).attr("data-controlId","click-filter");this.requestTimer=setTimeout(function(){var f=null,i,o;for(n("#"+l._id+t.DashboardConstants.Widget+u).hasClass("e-guage-Series")||(f=n("#"+l._id+t.DashboardConstants.Widget+u).data("ejCircularGauge")),a=0;a<l.controlRelations.length;a++)if(l.controlRelations[a].Master.lastIndexOf("_"+u)+u.length===l.controlRelations[a].Master.length-ht){if(nt=l.controlRelations[a].Master,tt=l.controlRelations[a].Slaves,tt.length===h&&t.isNullOrUndefined(e)){st=l._checkFilterOverviewData(u);l._addFilterDataToTitle(st);return}if(i=l._checkMasterData(u),i!==null&&l.masterData.splice(i,ht),r!==null&&ut[h].Items.length>h&&l.masterData.push({Key:u,Value:ut,isMultiSelect:!0}),c.length===h){l.target=[];o={master:u,masterData:l.masterData,slaves:tt,canDrill:!1,showIndicator:!1,isAutoRefresh:null};l._makeSlaveDataRequest(o);break}}c.length>h&&(b={id:u,actionType:k,dataWrapper:ct,widgetInstance:f,masterData:st,slaves:tt,callbackfn:null,drillDownData:null,filterInfo:ot,isMaximizedView:it,targetGauge:s,evt:r,GaugeCount:pt},l._widgetActionHandler(b,null));!t.isNullOrUndefined(b)&&b.actionType!=="ContextMenu"&&!it&&tt.length>h&&(ut[h].Items.length>h&&!t.isNullOrUndefined(b)&&!t.isNullOrUndefined(b.actionData)&&b.actionData[h]!=="Linking"?(n("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+nt+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})));l.requestTimer=null},r===null||!f?h:1e3)}}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.charts={_renderChart:function(r,u){var ct=-1,dt=127,c=0,vt=9,pi=3,g=1,f=r.configInfo,yt=r.getCurrentPageData(),h=[],pt=r.reportName,lt=null,ki,er,ii,or,ci,hr,cr,lr,ar,vr,st,yr,li,pr,ri,wt,wr,ui,ai,tt,kt,fi,kr,ei,dr,vi,it,gr,nu,oi,yi,tu,ht,si;yt.isError||(lt=Object.keys(yt.pagedata));var et=null,wi=null,bi=null,nt=null,y=!1,ot=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),s=ot.find(".e-dbrd-control"),e=0,b=0;if(t.isNullOrUndefined(u)||(et=u.id,s=u.chartDiv,pt=s.attr("data-controlid"),y=u.isMaximize),yt.isError){s.attr({id:this._id+t.DashboardConstants.Widget+f.Id});s.attr({"data-controlId":f.Id});this._showControlError(yt.pagedata,s,f);return}for(this._hideControlError(s),ki=lt.length,e=0;e<ki;e++)h.push(JSON.parse(yt.pagedata[lt[e]]));this.dashboardControls.getControlByReport(pt)&&(nt=new Dbrdcontrol,nt=nt.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(pt)))),this.model._dashboardData.isExportImage||(nt=this.dashboardControls.getControlByReport(pt)));var k=f.Properties,o=k.ChartType,p=f.IsMasterFilter,a=f.IsLinked,d=f.isDrillDown,rt=k.SeriesColorPalette,ut=o==="Pie"||o==="Pyramid"||o==="Funnel"||o==="Doughnut",gt=[],ni=rt.length,hi=p&&!y,ft=hi;this._dashboardData().isTestCase||(ft=p&&!y&&!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(f.ActionSetting)&&f.ActionSetting.length>c&&f.ActionSetting[0].Action[0]!=="Linking");for(var di=ut||f.ComparisonMultipleSeries?"point":"cluster",gi=k.PieDoughnutCoefficient,nr=k.DoughnutSize===c?.8:k.DoughnutSize,tr=o.toLowerCase(),ir=k.EnableAnimation,iu=this.theme.legendFontSize,rr=k.ShowLegends,ur=typeof k.LegendPosition!="undefined"?k.LegendPosition.toLowerCase():"bottom",w=nt.customTheme,ti=w.palette,fr=h.length,v=0,v=0;v<this.target.length;v++){if(this._updateValuesInDrillLevelInfo(nt,f.Id,[],y),this._updateValuesInDrillLevelData(nt,f.Id,[],y),this.target[v].indexOf("_"+f.Id)!==ct){for(er=this.target[v],y||(s=this.currentTabContentElement.find("#"+this.target[v]),this.target.splice(v,g)),ii=n("#"+er).nextAll(),or=ii.length,b=0;b<or;b++)ci=ii.eq(b).data("ejDashboardChart"),ci&&ci.destroy();ii.remove()}this.dashboardControls.updateCurrentReport(nt)}var at=null,l=null,sr=!0;if(l=s.data("ejDashboardChart"),t.isNullOrUndefined(l))et=null;else{if(h&&h.length)for(hr=h.length,b=0;b<hr;b++)if(h[b]&&h[b].points)for(sr=!1,cr=h[b].points.length,e=0;e<cr;e++)if(h[b].points[e].y!==c)break;if(l&&(!f.MultipleSeries||h.length<=g)){if(et=f.Id,!this._applyOrRemoveNoDataAvailable(sr?c:g,s)){l.destroy();return}for(at=0,e=0;e<fr;e++)h[e].points.length===c&&(at+=g);if(at===h.length&&!this._applyOrRemoveNoDataAvailable(c,s))return;if(s.children(".e-nodata").length>c&&s.children(".e-nodata").remove(),lr=r.SelectedFilterInfo.length>c||n(s).parents(".e-dbrd-control-container").data().IsFilterApplied,ar=s.parent(".e-dbrd-control-container").find(".e-dbrd-maximize"),ar.css({display:"block"}),l.model.preRender=(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&k.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&k.ShowSegmentWiseLabel!==null&&k.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),l.model.series=this._CreateChartSeries(h,lt,f,r,s),l.model.primaryXAxis.pointsLength=r.totalCount,l.model.size.height=s.height()+"px",l.model.primaryXAxis.range={interval:1},n(document).find("#ScrollerParent_horizontal_"+et))for(n(document).find("#ScrollerParent_horizontal_"+et).remove(),vr=l.model._axes.length,e=0;e<vr;e++)l.model._axes[e].zoomFactor=1,l.model._axes[e].zoomPosition=0;if(lr){for(st=null,yr=this.masterData.length,b=0;b<yr;b++)li=this.masterData[b],li.Key===et&&(st=li.Value);for(e=0;e<fr;e++)for(pr=h[e].points.length,v=0;v<pr;v++)p&&h[e].points[v]&&st&&(!t.isNullOrUndefined(f.seriesColumn)&&f.Argument===""&&h[e].points[v].Argument&&h[e].points[v].Argument.split(String.fromCharCode(dt))[0]===st[0].Items[1].Value?(l.model.selectedDataPointIndexes[0].pointIndex=v,l.model.selectedDataPointIndexes[0].seriesIndex=e):t.isNullOrUndefined(f.seriesColumn)&&st[0].Items[0].Value===h[e].points[v].x&&l.model.selectedDataPointIndexes>c?(l.model.selectedDataPointIndexes[0].pointIndex=v,l.model.selectedDataPointIndexes[0].seriesIndex=e):f.Argument!==""&&h[e].points[v].x===st[0].Items[0].Value&&h[e].points[v].Argument.split(String.fromCharCode(dt))[0]===st[0].Items[1].Value&&(l.model.selectedDataPointIndexes[0].pointIndex=v,l.model.selectedDataPointIndexes[0].seriesIndex=e));n("#"+s.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0");s.parents(".e-dbrd-control-container").data({IsFilterApplied:!0});l.model.selectedDataPointIndexes.length!==c||t.isNullOrUndefined(r.SelectedFilterInfo&&r.SelectedFilterInfo[0])||t.isNullOrUndefined(r.SelectedFilterInfo[0].PointIndex)||t.isNullOrUndefined(r.SelectedFilterInfo[0].SeriesIndex)||l.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex})}else l.model.selectedDataPointIndexes=[],n("#"+s.attr("id")+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","-1"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!1});l.redraw();return}for(e in s)s.children().hasOwnProperty(e)&&(h.length>g&&s.data("ejDashboardChart")?s.ejDashboardChart("destroy"):s.children().eq(e).data("ejDashboardChart")&&s.children().eq(e).ejDashboardChart("destroy"));s.html("")}if(ri=f.Id,et===null&&(s.attr({"data-controlId":f.Id}),s.addClass("dashboardChartControl"),s.html(""),ri.indexOf("DrillChart")!==ct?(s.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),ot.attr({"data-controltype":"DrillDownChart"})):(s.attr({id:this._id+(y?"_maximized_":t.DashboardConstants.Widget)+f.Id}),ri.indexOf("ProportionChart")!==ct?ot.attr({"data-controltype":"ProportionChart"}):ot.attr({"data-controltype":"Chart"})),ot.find(".e-remove-control-filter").attr("id",y?u.id+"_removeControlFilter":s.attr("id")+"_removeControlFilter"),ot.find(".e-dbrd-export").attr({value:f.Id}),ot.data({"data-measure-columns":JSON.stringify(f.MeasureColumns)})),this._applyOrRemoveNoDataAvailable(h[0].length,s)){if(wt=null,this.model.enableCustomTheming){if(ni>ti.length)for(wr=ti.length,e=0;e<wr;e++)rt[e].CustomColor=ti[e];else for(e=0;e<ni;e++)rt[e].CustomColor=ti[e];for(e=0;e<ni;e++)ui=rt[e].CustomColor,wt=ui.length===vt?"#"+ui.substring(pi,vt):ui,gt.push(wt);k.UseDefaultPalette=!1}var br=c,bt=!1,ru=this.controlRelations.length;for(e=0;e<ru;e++)ai=this.controlRelations[e].Master,ai.indexOf("Chart")!==ct&&ai.lastIndexOf(f.Id)!==ct&&(br=this.controlRelations[e].Slaves.length);if(bt=br>c,ut)for(e=0;e<ni;e++)wt=rt[e].CustomColor.length===vt?"#"+rt[e].CustomColor.substring(pi,vt):rt[e].CustomColor,gt.push(wt);if(ut&&f.MultipleSeries&&h.length>g){tt=this._CreateChartSeries(h,lt,f,r,s);s.addClass("e-chartseries").attr({"data-header":String(String(f.ChartSeriesHeaderName))+""});s.css({"overflow-y":"hidden",overflow:"hidden"});kt=this._generateContainersForProprortionChart(s.parent(),tt);try{t.widget.destroyAll(s.find(".e-js").off())}catch(uu){console.info(uu.message)}for(fi=s.attr("id"),kr=n("<div>"),s.data("ejDashboardScroller")&&s.ejDashboardScroller("destroy"),s.html(""),s.append(kr.append(kt.table)),s.ejDashboardScroller({height:s.parents(".e-dbrd-control-container").height()-s.parents(".e-dbrd-control-container").find(".e-control-heading").height()-vt,width:s.width(),scrollerSize:13}),ei=kt.table.find("td"),dr=tt.length,e=0;e<dr;e++){if(vi=[],vi.push(tt[e]),it=n("<div>").attr({id:fi+"_childChart_"+e}).css({width:"100%",height:"100%",outline:"none","user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none"}).addClass("e-chartChild"),ei.eq(e).append(it),tt[e].dataSource.length===c){it.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}else{for(at=0,gr=tt[e].dataSource,nu=gr.length,v=0;v<nu;v++)tt[e].dataSource[v].y>=c&&tt[e].dataSource[v].y<=c&&(at+=g);if(at===tt[e].dataSource.length){it.css({"vertical-align":"middle",height:""});it.html(n("<div style='width:100%;'>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}}it.ejDashboardChart({size:{height:kt.height.toString(),width:kt.width.toString()},commonSeriesOptions:{highlightSettings:{enable:hi||d&&f.DrilledChartProperties.RowCount>g,opacity:.8,border:{width:1},mode:!ut&&!f.ComparisonMultipleSeries?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:ft,opacity:.8,border:{width:1},mode:di,pattern:"diagonalForward"},pieCoefficient:gi,doughnutCoefficient:.3,doughnutSize:nr,explode:(o==="Pie"||o==="Doughnut")&&(d||ft),explodeOffset:5,type:tr,enableAnimation:ir,animateonebyone:f.Properties.AnimateOnebyOne,labelPosition:"outside",smartLabelEnabled:!0,tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2}},palette:rt.length===c?this.theme.palette:ut&&f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?gt:this.theme.palette,canResize:!1,adaptiveRendering:!0,series:vi,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:f.MeasureColumns.length>g?tt[e].name.replace(String.fromCharCode(dt),""):tt[e].name.replace(String.fromCharCode(dt),"").split("(")[0],visible:!0},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:rr,position:ur,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelFormat:f.xTypeChar,valueType:f.xType,visible:o==="Bar"||o==="StackingBar"?f.Showyaxis:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.yTitle,enableTrim:!0},labelFormat:f.yTypeChar,labelIntersectAction:"trim",valueType:f.yType,visible:o==="Bar"||o==="StackingBar"?f.Showxaxis:f.Showyaxis},legendItemClick:o==="Bar"||o==="Column"||o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"||o==="StackingColumn100"||o==="Line"||o==="Spline"||o==="Area"||o==="Scatter"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,it[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),legendItemRendering:n.proxy(this._legendRender,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),enableRightClick:!0,chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[h[e]],f):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[h[e]],f):n.proxy(this._ChartPreRenderer,this,[h[e]],f),pointRegionClick:d&&!a&&((!p||!bt)&&!a||y)?n.proxy(this._onChartDrilled,this,s,{DrilledChartProperties:f.DrilledChartProperties,TooltipForRowColCalc:f.TooltipForRowColCalc,TooltipForRowColumns:f.TooltipForRowColumns,drill:d,drillId:f.Id,CustomAdornmentText:f.CustomAdornmentText,master:p,id:s.attr("id"),ColumnProperties:f.ColumnProperties,Properties:f.Properties,MultipleSeries:f.MultipleSeries,Argument:f.Argument,PrimaryAxisFormatProp:f.PrimaryAxisFormatProp,SecondaryAxisFormatProp:f.SecondaryAxisFormatProp},a?f.ControlLinkData:i,y,f):p&&!y||a?n.proxy(this._loadChartSlaves,this,f,f.Id,y,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},a?f.ControlLinkData:i,a?!1:p):[],chartDoubleClick:d&&!a&&((!p||!bt)&&!a||y)?n.proxy(this._onChartDrilled,this,s,{DrilledChartProperties:f.DrilledChartProperties,TooltipForRowColCalc:f.TooltipForRowColCalc,TooltipForRowColumns:f.TooltipForRowColumns,drill:d,drillId:f.Id,CustomAdornmentText:f.CustomAdornmentText,master:p,id:s.attr("id"),ColumnProperties:f.ColumnProperties,Properties:f.Properties,MultipleSeries:f.MultipleSeries,Argument:f.Argument,PrimaryAxisFormatProp:f.PrimaryAxisFormatProp,SecondaryAxisFormatProp:f.SecondaryAxisFormatProp},a?f.ControlLinkData:i,y,f):ft||a?n.proxy(this._loadChartSlaves,this,f,f.Id,y,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},a?f.ControlLinkData:i,a?!1:p):[],seriesRegionClick:ut?n.proxy(this._clearSelectionForProportionChart,this,it.attr("id")):n.proxy(this._clearSelection,this,it.attr("id"))});r.SelectedFilterInfo&&r.SelectedFilterInfo.length!==c&&r.SelectedFilterInfo[0].Name===String(e)&&(l=it.data("ejDashboardChart"),n("#"+s.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),l.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),l.redraw())}for(this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(oi=this.currentTabContentElement.find(".e-dbrd-control"),oi.css({overflow:"auto",height:""}),oi.parent().css({overflow:"auto",height:"","overflow-x":"hidden"}),oi.parent().parent().css({"overflow-y":"auto",height:""}),this.model.enableCustomTheming&&this._customTheme(["export"]));e<ei.length;)ei.eq(e++).remove();this.model._dashboardData.isExportImage||this.model._dashboardData.isControl||this.currentTabContentElement.find("#"+fi).data("ejDashboardScroller")&&this.currentTabContentElement.find("#"+fi).data("ejDashboardScroller").refresh();return}if((r.drillLevelData.length>c&&this._dashboardData().loadFromData&&r.drillLevelData[0].Values.length>c&&(yi=this._pinnedWidgetMaximize(r),wi=yi.drillData,bi=yi.config),tu=this._labelRotationAngleValue(f.Properties.AngleValue),s.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:hi||d&&f.DrilledChartProperties.RowCount>g,opacity:.8,border:{width:1},mode:!ut&&(!f.ComparisonMultipleSeries||!p)?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:ft,opacity:.8,border:{width:1},mode:di?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:gi,doughnutCoefficient:.3,doughnutSize:nr,explode:(ri.indexOf("DrillChart")!==ct||d||ft)&&(o==="Pie"||o==="Doughnut")?!0:!1,explodeOffset:5,type:tr,enableAnimation:ir,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2},marker:{dataLabel:{font:{color:w.dataLabelColor}}}},sideBySideSeriesPlacement:!(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn"||o==="StackingArea100"||o==="StackingBar100"||o==="StackingColumn100"),size:{height:s.height()+"px"},palette:rt.length===c?this.theme.palette:ut&&f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?gt:this.theme.palette,title:{text:f.ShowHeader},canResize:!0,series:r.drillLevelData.length>c&&r.drillLevelData[0].Values.length>c&&this._dashboardData().loadFromData?this._CreateDrilledChartSeries(wi,bi):this._CreateChartSeries(h,lt,f,r,s),adaptiveRendering:!0,legend:{font:{fontFamily:"Roboto",color:w.legendfontcolor,size:iu},visible:rr,position:ur,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:w.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:w.xAxisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:w.majorTickColor},majorGridLines:{color:w.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:w.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:tu,labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Showxaxis,enableScrollbar:f.TooltipForRowColumns,pointsLength:r.totalCount},primaryYAxis:{font:{fontFamily:"Roboto",color:w.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:w.yAxisLineColor},majorGridLines:{color:w.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:w.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:w.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:o==="StackingArea100"||o==="StackingBar100"||o==="StackingColumn100"?"":f.yTypeChar,valueType:f.yType,visible:f.Showyaxis,range:this._setAxisRange(f),name:f.PrimaryAxisMaximumValueColumnName,opposedPosition:f.isAllSecondary&&!f.isAllPrimary},axes:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:w.axisLineColor},majorGridLines:{color:w.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},range:this._setSecondaryAxisRange(f),majorTickLines:{visible:!0,color:w.majorTickColor},orientation:(o==="Bar"||o==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:o==="StackingArea100"||o==="StackingBar100"||o==="StackingColumn100"?"":f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:w.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:t.isNullOrUndefined(f.SecondaryAxisMaximumValueColumnName)?!1:f.PrimaryAxisMaximumValueColumnName!==""&&f.SecondaryAxisMaximumValueColumnName!==""&&f.ShowSecondaryYAxis}],legendItemClick:o==="Bar"||o==="Column"||o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"||o==="StackingColumn100"||o==="Line"||o==="Spline"||o==="Area"||o==="Scatter"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,s[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),legendItemRendering:n.proxy(this._legendRender,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,scrollChanged:n.proxy(this._chartScrollChange,this,f,s,[],r),preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),enableRightClick:!0,pointRegionClick:d&&!a&&((!p||!bt)&&!a||y)?n.proxy(this._onChartDrilled,this,s,{DrilledChartProperties:f.DrilledChartProperties,TooltipForRowColCalc:f.TooltipForRowColCalc,TooltipForRowColumns:f.TooltipForRowColumns,drill:d,drillId:f.Id,CustomAdornmentText:f.CustomAdornmentText,master:p,id:s.attr("id"),ColumnProperties:f.ColumnProperties,Properties:f.Properties,MultipleSeries:f.MultipleSeries,Argument:f.Argument,PrimaryAxisFormatProp:f.PrimaryAxisFormatProp,SecondaryAxisFormatProp:f.SecondaryAxisFormatProp},a?f.ControlLinkData:i,y,f):ft||a?n.proxy(this._loadChartSlaves,this,f,f.Id,y,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},a?f.ControlLinkData:i,a?!1:p):[],chartDoubleClick:d&&!a&&((!p||!bt)&&!a||y)?n.proxy(this._onChartDrilled,this,s,{DrilledChartProperties:f.DrilledChartProperties,TooltipForRowColCalc:f.TooltipForRowColCalc,TooltipForRowColumns:f.TooltipForRowColumns,drill:d,drillId:f.Id,CustomAdornmentText:f.CustomAdornmentText,master:p,id:s.attr("id"),ColumnProperties:f.ColumnProperties,Properties:f.Properties,MultipleSeries:f.MultipleSeries,Argument:f.Argument,PrimaryAxisFormatProp:f.PrimaryAxisFormatProp,SecondaryAxisFormatProp:f.SecondaryAxisFormatProp},a?f.ControlLinkData:i,y,f):ft||a?n.proxy(this._loadChartSlaves,this,f,f.Id,y,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},a?f.ControlLinkData:i,a?!1:p):[],seriesRegionClick:ut?n.proxy(this._clearSelectionForProportionChart,this,s.attr("id")):n.proxy(this._clearSelection,this,s.attr("id"))}),s.data("ejDashboardScroller")&&s.ejDashboardScroller("destroy"),this._chartMasterSelection(s,r),h.length!==c||this._applyOrRemoveNoDataAvailable(h.length,s))&&this._dashboardData().isExportImage&&(ht=null,si=this._getValuesFromDrillLevelData(nt,pt,nt.isExportFromMaximizedView),si.length>c&&(ht=si[si.length-g]),nt.isExportFromMaximizedView&&(ht.ConfigInfo.id=this._id+t.DashboardConstants.Widget+ht.ConfigInfo.drillId),!t.isNullOrUndefined(ht))){this._drawDrilledChart(ht.ConfigInfo,ht.Data,null,!1,f);return}}},_setAxisRange:function(n){var i={};return t.isNullOrUndefined(n.Properties.PrimaryAxisRange)||(t.isNullOrUndefined(n.Properties.PrimaryAxisRange.MaxValue)||n.Properties.PrimaryAxisRange.MaxValue===""||(i.max=parseFloat(n.Properties.PrimaryAxisRange.MaxValue)),t.isNullOrUndefined(n.Properties.PrimaryAxisRange.MinValue)||n.Properties.PrimaryAxisRange.MinValue===""||(i.min=parseFloat(n.Properties.PrimaryAxisRange.MinValue)),t.isNullOrUndefined(n.Properties.PrimaryAxisRange.Interval)||n.Properties.PrimaryAxisRange.Interval===""||(i.interval=parseFloat(n.Properties.PrimaryAxisRange.Interval))),i},_setSecondaryAxisRange:function(n){var i={};return t.isNullOrUndefined(n.Properties.SecondaryAxisRange)||(t.isNullOrUndefined(n.Properties.SecondaryAxisRange.MaxValue)||n.Properties.SecondaryAxisRange.MaxValue===""||(i.max=parseFloat(n.Properties.SecondaryAxisRange.MaxValue)),t.isNullOrUndefined(n.Properties.SecondaryAxisRange.MinValue)||n.Properties.SecondaryAxisRange.MinValue===""||(i.min=parseFloat(n.Properties.SecondaryAxisRange.MinValue)),t.isNullOrUndefined(n.Properties.SecondaryAxisRange.Interval)||n.Properties.SecondaryAxisRange.Interval===""||(i.interval=parseFloat(n.Properties.SecondaryAxisRange.Interval))),i},_pinnedWidgetMaximize:function(i){var nt=null,tt=[],u=[],e=null,l=null,b=null,k=25,d=0,a=!1,f=0,it=null,o=null,rt=[],s,v,y,ut,c,g;if(i.drillLevelData.length>f&&this._dashboardData().loadFromData&&i.drillLevelData[0].Values.length>f){for(s=0;s<i.drillLevelData[0].Values.length;s++)for(v=0;v<i.drillLevelData[0].Values[s].Data.d.length;v++)i.drillLevelData[0].Values[s].Data.d[v].Key==="DrilledChartProp"&&(nt=n.parseJSON(i.drillLevelData[0].Values[s].Data.d[v].Value));u=i.drillLevelData[0].Values[0].ConfigInfo;var r="maximize_container_Widget_"+u.drillId,p=u.drillId,h=this._getValuesFromDrillLevelData(i,p,!1),w=this._getValuesFromDrillLevelInfo(i,u.drillId,i.isExportFromMaximizedView&&this._dashboardData().isExportImage?!0:a);for(y=0;y<h[h.length-t.DashboardConstants.One].Data.d.length;y++)tt.push({Key:h[h.length-t.DashboardConstants.One].Data.d[y].Key,Value:n.parseJSON(h[h.length-t.DashboardConstants.One].Data.d[y].Value)});for(t.isNullOrUndefined(w)||(d=w.length),ut=w.length,c=0;c<=ut;c++)rt[c]=c===f?u.Argument.toString():w[c-1].toString();o=n("<div>").attr({id:a?r+"_drillclose_maximize":r+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",u.drillId);e=n("<div>").attr({"data-controlid":p,id:r+"_DrilledChart_"+d});n("#"+r+"_DrilledChart").length===f&&(e=n("<div>").attr({"data-controlid":p,id:r+"_DrilledChart_"+d}),this._removePreviousBreadcrumbDiv(r),a&&t.isNullOrUndefined(it)&&(it={id:String(this._id)+"_maximized_"+p,chartDiv:n("#"+r),isMaximize:!0}),o=n("<div>").attr({id:a?r+"_drillclose_maximize":r+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",u.drillId),o.ejDashboardBreadcrumb({dataSource:this._getBreadcrumbDatasource(rt,r),width:String(n("#"+r).width()),selected:n.proxy(this._closeDrilledChart,this,u,a)}),n("#"+r).parent().append(o),n("#"+r).hasClass("e-dbrd-MaximizedControl")?(e.css({width:n("#"+r).parent().width()-6,height:n("#"+r).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart e-dbrd-control"),o.css({top:0,left:0})):(l=this.currentTabContentElement.find("#"+r).parents(".e-dbrd-control-container").find(".e-control-heading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+r).parents(".e-dbrd-control-container").find(".e-control-heading").height():this.currentTabContentElement.find("#"+r).siblings(".e-control-heading").height(),g=this.currentTabContentElement.find("#"+r).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading"),g.length>t.DashboardConstants.Zero&&(k+=g.height()),e.css({position:"absolute",top:l?k:f,left:0}).addClass("drilledChart e-dbrd-control"),b=n("#"+r).parent(),e.width(b.width()-4),e.height(b.height()-(l?l+2:f)-7),o.css({top:l?k:f,left:0})))}return{drillData:tt,config:nt}},_renderComparisonChart:function(r,u){var b=1,c=0,ni=9,rt=null,f=r.configInfo,st=r.getCurrentPageData(),ai=String.fromCharCode(127)+"(",h=[],w=null,yt=r.reportName,ut=r.SeriesList,fi,bt,kt,ei,oi,si,dt,hi,p,ci,gt,li,ht,vt,k;st.isError||(w=Object.keys(st.pagedata));var ft=null,d=!1,g=0,s=0,y=0,ct=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),e=ct.find(".e-dbrd-control");if(t.isNullOrUndefined(u)||(ft=u.id,e=u.chartDiv,d=u.isMaximize),st.isError){e.attr({id:this._id+t.DashboardConstants.Widget+f.Id});e.attr({"data-controlId":f.Id});this._showControlError(st.pagedata,e,f);return}this._hideControlError(e);this.dashboardControls.getControlByReport(yt)&&(rt=new Dbrdcontrol,rt=rt.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(yt)))),this.model._dashboardData.isExportImage||(rt=this.dashboardControls.getControlByReport(yt)));var lt=f.Properties,o=lt.ChartType,et=f.IsMasterFilter,v=f.IsLinked,nt=lt.SeriesColorPalette,pt=[],wt=et&&!d,tt=wt;this._dashboardData().isTestCase||(tt=et&&!d&&!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(f.ActionSetting)&&f.ActionSetting.length>c&&f.ActionSetting[0].Action[0]!=="Linking");var ti=o.toLowerCase(),ii=lt.EnableAnimation,ri=this.theme.legendFontSize,ui=lt.ShowLegends,a=rt.customTheme,at=a.palette,vi=w.length;for(s=0;s<vi;s++)h.push(JSON.parse(st.pagedata[w[s]]));if(this.model.enableCustomTheming){if(nt.length>at.length)for(s=0;s<at.length;s++)nt[s].CustomColor=at[s];else for(s=0;s<nt.length;s++)nt[s].CustomColor=at[s];for(s=0;s<nt.length;s++)fi=nt[s].CustomColor.length===ni?"#"+nt[s].CustomColor.substring(3,ni):f.Properties.SeriesColorPalette[s].CustomColor,pt.push(fi);f.Properties.UseDefaultPalette=!1}var ot=null,l=null,it=h.length;if(typeof u=="undefined"){if(l=e.data("ejDashboardChart"),t.isNullOrUndefined(l))ft=null;else{if(bt=!0,kt=!0,h&&it>c)for(y=0;y<it;y++)if(h[y]&&h[y].points)for(kt=!1,ei=h[y].points.length,s=0;s<ei;s++)if(h[y].points[s].y!==c){bt=!1;break}if(l&&(!f.ComparisonMultipleSeries||h.length<=b)){if(!this._applyOrRemoveNoDataAvailable(kt?c:b,e)){l.destroy();return}for(ot=0,s=0;s<it;s++)h[s].points.length===c&&(ot+=b);if(ot===it&&!this._applyOrRemoveNoDataAvailable(c,e))return;if(e.children(".e-nodata").length>c&&e.children(".e-nodata").remove(),oi=e.parent().data("IsFilterApplied"),l.model.preRender=(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),l.model.series=this._CreateChartSeries(h,w,f,r,e),l.model.primaryXAxis.pointsLength=r.totalCount,l.model.size.height=e.height()+"px",l.model.primaryXAxis.range={interval:1},n(document).find("#ScrollerParent_horizontal_"+ft))for(n(document).find("#ScrollerParent_horizontal_"+ft).remove(),si=l.model._axes.length,s=0;s<si;s++)l.model._axes[s].zoomFactor=1,l.model._axes[s].zoomPosition=0;oi?l.model.selectedDataPointIndexes.length>c&&l.model.series.length>=b&&l.model.series[0].dataSource.length===b&&(l.model.selectedDataPointIndexes[0].pointIndex=0,l.model.selectedDataPointIndexes[0].seriesIndex=0):l.model.selectedDataPointIndexes=[];l.redraw();return}if(h[0].length===c||bt===!0){if(!this._applyOrRemoveNoDataAvailable(h[0].length,e))return;for(s in e)e.children().hasOwnProperty(s)&&e.children().eq(s).data("ejDashboardChart")&&e.children().eq(s).ejDashboardChart("destroy")}e.html("")}ft===null&&(e.attr({"data-controlId":f.Id}),e.addClass("dashboardChartControl"),e.html(""),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),ct.attr({"data-controltype":"ComparisonChart"}),ct.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),ct.find(".e-dbrd-export").attr({value:f.Id}))}if(this._applyOrRemoveNoDataAvailable(h[0].length,e)){if(dt=this._labelRotationAngleValue(f.Properties.AngleValue),hi=ut.length,f.ComparisonMultipleSeries&&ut.length>c){for(e.addClass("e-chartseries").attr({"data-header":String(f.ChartSeriesHeaderName)+""}),this.model._dashboardData.isExportImage||e.css({overflow:"hidden"}),e.append(n("<div>")),g=0;g<hi;g++){for(p=[],w=[],ci=ut[g].length,y=0;y<ci;y++)for(s=0;s<it;s++)ut[g][y]===h[s].seriesName&&(p.push(h[s]),w.push(h[s].seriesName));if(gt=p.length,gt!==c||w.length!==c){for(li=this._CreateChartSeries(p,w,f,r,e),ht=0;ht<gt;ht++)typeof p[ht].yAxisName!="undefined"&&(f.SecondaryAxisMaximumValueColumnName=p[ht].yAxisName);vt=[];p.length>c&&(vt=p[0].seriesName.split(ai));k=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+f.Id+(typeof u=="undefined"?"":ft)+"_childChart_"+g});k.addClass("pull-left");e.children().eq(c).append(k);k.css({width:"100%",height:"100%",overflow:"hidden"}).addClass("e-chartChild");k.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:wt,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},selectionSettings:{enable:tt,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},explode:!1,type:ti,enableAnimation:ii,animateonebyone:f.Properties.AnimateOnebyOne,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},smartLabelEnabled:!0,border:{width:2}},size:{height:e.height()+"px"},palette:f.Properties.SeriesColorPalette.length===c?this.theme.palette:f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?pt:this.theme.palette,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:vt.length>c?vt[0]:""},canResize:!0,adaptiveRendering:!0,series:li,legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:ri},visible:ui,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:dt,labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.yTypeChar,valueType:f.yType,range:this._setAxisRange(f),opposedPosition:!f.Showyaxis&&f.ShowSecondaryYAxis,visible:f.Showyaxis||f.ShowSecondaryYAxis,name:f.PrimaryAxisMaximumValueColumnName},axes:!f.Showyaxis&&f.ShowSecondaryYAxis?[]:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},orientation:(o==="Bar"||o==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.yTypeChar,valueType:f.yType,range:this._setSecondaryAxisRange(f),title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{color:this.theme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:!f.isAllPrimary&&f.ShowSecondaryYAxis}],legendItemClick:o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,k[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,p,f):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,p,f):n.proxy(this._ChartPreRenderer,this,p,f),enableRightClick:!0,chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,pointRegionClick:tt||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:et):[],chartDoubleClick:tt||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:et):[],seriesRegionClick:n.proxy(this._clearSelectionForProportionChart,this,k.attr("id"))});r.SelectedFilterInfo!==null&&r.SelectedFilterInfo.length!==c&&r.SelectedFilterInfo[0].Name===String(g)&&(l=k.data("ejDashboardChart"),n("#"+e.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),l.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),l.redraw())}}(e.data("ejDashboardScroller")||!t.isNullOrUndefined(e.data("ejDashboardScroller"))&&ut.length<=b)&&e.ejDashboardScroller("destroy");this.model._dashboardData.isExportImage||ut.length>b&&e.ejDashboardScroller({height:e.height(),scrollerSize:13});this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({overflow:"auto"}),e.css({overflow:"auto",height:""}),e.parent().css({overflow:"auto",height:""}),e.parent().parent().css({overflow:"auto",height:""}),this.model.enableCustomTheming&&this._customTheme(["export"]));return}if(e.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:wt,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},selectionSettings:{enable:tt,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},explode:!1,type:ti,enableAnimation:ii,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2},marker:{dataLabel:{font:{color:rt.theme.dataLabelColor}}}},size:{height:e.height()+"px"},palette:f.Properties.SeriesColorPalette.length===c?this.theme.palette:f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?pt:this.theme.palette,title:{text:f.ShowHeader},canResize:!0,adaptiveRendering:!0,series:this._CreateChartSeries(h,w,f,r,e),legend:{font:{fontFamily:"Roboto",color:a.legendfontcolor,size:ri},visible:ui,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:a.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:a.xAxisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:a.majorTickColor},majorGridLines:{color:a.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:a.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:dt,labelFormat:f.xTypeChar,enableScrollbar:f.TooltipForRowColumns,pointsLength:r.totalCount,valueType:f.xType===f.yType?"category":f.xType,visible:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:a.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:a.yAxisLineColor},majorGridLines:{color:a.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:a.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:a.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.yTypeChar,valueType:f.yType,range:this._setAxisRange(f),opposedPosition:!f.Showyaxis&&f.ShowSecondaryYAxis,visible:f.Showyaxis||f.ShowSecondaryYAxis,name:f.PrimaryAxisMaximumValueColumnName},axes:!f.Showyaxis&&f.ShowSecondaryYAxis?[]:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},range:this._setSecondaryAxisRange(f),axisLine:{color:a.axisLineColor},majorGridLines:{color:a.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:a.majorTickColor},orientation:(o==="Bar"||o==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:a.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:!f.isAllPrimary&&f.ShowSecondaryYAxis}],legendItemClick:o==="Bar"||o==="Column"||o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"||o==="StackingColumn100"||o==="Line"||o==="Spline"||o==="Area"||o==="Scatter"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,e[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),scrollChanged:n.proxy(this._chartScrollChange,this,f,e,[],r),preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),enableRightClick:!0,chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,pointRegionClick:tt||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:et):[],chartDoubleClick:tt||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:et):[],seriesRegionClick:n.proxy(this._clearSelection,this,e.attr("id"))}),this._chartMasterSelection(e,r),h[0].length===c){if(!this._applyOrRemoveNoDataAvailable(h[0].length,e))return}else{for(ot=0,s=0;s<it;s++)h[s].points.length===c&&(ot+=b);if(ot===it&&!this._applyOrRemoveNoDataAvailable(c,e))return}}},_mousemove:function(t){var r=n("#"+n("#"+t.data.id).parents().closest(".e-datavisualization-chart.e-js").attr("id")).data("ejDashboardChart"),i,u;if(r!==null)for(i=0;i<r.gSeriesEle.childNodes.length;i++)u=r.gSeriesEle.childNodes[i].id,n("#"+u).css("cursor","pointer")},_setChartConfigInfo:function(n){n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.argumentColumn=t.isNullOrUndefined(n.configInfo.argumentColumn)?"":n.configInfo.argumentColumn;n.configInfo.seriesColumn=t.isNullOrUndefined(n.configInfo.seriesColumn)?null:n.configInfo.seriesColumn;n.configInfo.xTitle=t.isNullOrUndefined(n.configInfo.xTitle)?"":n.configInfo.xTitle;n.configInfo.yTitle=t.isNullOrUndefined(n.configInfo.yTitle)?"":n.configInfo.yTitle;n.configInfo.xType=t.isNullOrUndefined(n.configInfo.xType)?"":n.configInfo.xType;n.configInfo.xTypeChar=t.isNullOrUndefined(n.configInfo.xTypeChar)?"":n.configInfo.xTypeChar;n.configInfo.yType=t.isNullOrUndefined(n.configInfo.yType)?"":n.configInfo.yType;n.configInfo.yTypeChar=t.isNullOrUndefined(n.configInfo.yTypeChar)?"":n.configInfo.yTypeChar;n.configInfo.TooltipForColumns=!t.isNullOrUndefined(n.configInfo.TooltipForColumns)&&n.configInfo.TooltipForColumns;n.configInfo.TooltipForRowCalc=!t.isNullOrUndefined(n.configInfo.TooltipForRowCalc)&&n.configInfo.TooltipForRowCalc;n.configInfo.TooltipForRowColumns=!t.isNullOrUndefined(n.configInfo.TooltipForRowColumns)&&n.configInfo.TooltipForRowColumns;n.configInfo.TooltipForRowColCalc=!t.isNullOrUndefined(n.configInfo.TooltipForRowColCalc)&&n.configInfo.TooltipForRowColCalc;n.configInfo.Argument=t.isNullOrUndefined(n.configInfo.Argument)?"":n.configInfo.Argument;n.configInfo.Seriesname=t.isNullOrUndefined(n.configInfo.Seriesname)?"":n.configInfo.Seriesname;n.configInfo.CustomLegend=!t.isNullOrUndefined(n.configInfo.CustomLegend)&&n.configInfo.CustomLegend;n.configInfo.isDrillDown=!t.isNullOrUndefined(n.configInfo.isDrillDown)&&n.configInfo.isDrillDown;n.configInfo.CustomAdornmentText=t.isNullOrUndefined(n.configInfo.CustomAdornmentText)?"":n.configInfo.CustomAdornmentText;n.configInfo.xAxisLabelFormat=t.isNullOrUndefined(n.configInfo.xAxisLabelFormat)?"":n.configInfo.xAxisLabelFormat;n.configInfo.yAxisLabelFormat=t.isNullOrUndefined(n.configInfo.yAxisLabelFormat)?"":n.configInfo.yAxisLabelFormat;n.configInfo.Showxaxis=!t.isNullOrUndefined(n.configInfo.Showxaxis)&&n.configInfo.Showxaxis;n.configInfo.Showyaxis=!t.isNullOrUndefined(n.configInfo.Showyaxis)&&n.configInfo.Showyaxis;n.configInfo.ShowSecondaryYAxis=!t.isNullOrUndefined(n.configInfo.ShowSecondaryYAxis)&&n.configInfo.ShowSecondaryYAxis;n.configInfo.ShowHeader=t.isNullOrUndefined(n.configInfo.ShowHeader)?"":n.configInfo.ShowHeader;n.configInfo.Properties=t.isNullOrUndefined(n.configInfo.Properties)?null:n.configInfo.Properties;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.SecondaryAxisMaximumValueColumnName=t.isNullOrUndefined(n.configInfo.SecondaryAxisMaximumValueColumnName)?"":n.configInfo.SecondaryAxisMaximumValueColumnName;n.configInfo.PrimaryAxisMaximumValueColumnName=t.isNullOrUndefined(n.configInfo.PrimaryAxisMaximumValueColumnName)?"":n.configInfo.PrimaryAxisMaximumValueColumnName;n.configInfo.isAllPrimary=!t.isNullOrUndefined(n.configInfo.isAllPrimary)&&n.configInfo.isAllPrimary;n.configInfo.isAllSecondary=!t.isNullOrUndefined(n.configInfo.isAllSecondary)&&n.configInfo.isAllSecondary;n.configInfo.SecondaryAxisTitle=t.isNullOrUndefined(n.configInfo.SecondaryAxisTitle)?"":n.configInfo.SecondaryAxisTitle;n.configInfo.PrimaryAxisTitle=t.isNullOrUndefined(n.configInfo.PrimaryAxisTitle)?"":n.configInfo.PrimaryAxisTitle;n.configInfo.showSecondaryAxisGridLine=!t.isNullOrUndefined(n.configInfo.showSecondaryAxisGridLine)&&n.configInfo.showSecondaryAxisGridLine;n.configInfo.MultipleSeries=!t.isNullOrUndefined(n.configInfo.MultipleSeries)&&n.configInfo.MultipleSeries;n.configInfo.ComparisonMultipleSeries=!t.isNullOrUndefined(n.configInfo.ComparisonMultipleSeries)&&n.configInfo.ComparisonChartProp;n.configInfo.ColumnProperties=t.isNullOrUndefined(n.configInfo.ColumnProperties)?[]:n.configInfo.ColumnProperties;n.configInfo.PrimaryAxisFormatProp=t.isNullOrUndefined(n.configInfo.PrimaryAxisFormatProp)?[]:n.configInfo.PrimaryAxisFormatProp;n.configInfo.SecondaryAxisFormatProp=t.isNullOrUndefined(n.configInfo.SecondaryAxisFormatProp)?[]:n.configInfo.SecondaryAxisFormatProp;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ComparisonChartProp=t.isNullOrUndefined(n.configInfo.ComparisonChartProp)?[]:n.configInfo.ComparisonChartProp;n.configInfo.CustomLegends=t.isNullOrUndefined(n.configInfo.CustomLegends)?[]:n.configInfo.CustomLegends;n.configInfo.ChartSeriesHeaderName=t.isNullOrUndefined(n.configInfo.ChartSeriesHeaderName)?"":n.configInfo.ChartSeriesHeaderName;n.configInfo.DrilledChartProperties=t.isNullOrUndefined(n.configInfo.DrilledChartProperties)?[]:n.configInfo.DrilledChartProperties;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting},_generateLabelOverflowMode:function(n){return t.isNullOrUndefined(n.Properties.LabelOverflowMode)?n.Properties.PrimaryAxisLabelTrim?"trim":"hide":n.Properties.LabelOverflowMode.toLowerCase()},_chartMasterSelection:function(i,r){var f=0,u;t.isNullOrUndefined(r.SelectedFilterInfo)||r.SelectedFilterInfo.length===f?r.SelectedFilterInfo.length===f&&(n("#"+i.attr("id")+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","-1"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),u=i.data("ejDashboardChart"),t.isNullOrUndefined(r.SelectedFilterInfo[0].PointIndex)||t.isNullOrUndefined(r.SelectedFilterInfo[0].SeriesIndex)||(u.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),u.redraw()))},_clearSelection:function(t,i){var u=1,o=i.selectedData.length,r,f,e;if(o>u)for(r=0;r<i.selectedData.length-u;r++)f=document.getElementById(t+"_svg_Series"+i.selectedData[r].seriesIndex+"_Point"+i.selectedData[r].pointIndex),n(f).attr("class",""),e=document.getElementById("container_svg_LegendItemShape"+i.selectedData[r].seriesIndex),n(e).attr("class","")},_clearSelectionForProportionChart:function(t,i){window.previousElement&&n(window.previousElement).attr("class","");window.previousElement=i.selectedData.length>0?document.getElementById(t+"_svg_Series"+i.selectedData[0].seriesIndex+"_Point"+i.selectedData[0].pointIndex):"";i.model.selectedData=[]},_labelIntersect:function(n,t){switch(n){case 0:return"hide";case-90:return t.Properties.ChartType==="Bar"||t.Properties.ChartType==="StackingBar"?"hide":"none";case-45:return"none";case 45:return"none";case 90:return t.Properties.ChartType==="Bar"||t.Properties.ChartType==="StackingBar"?"hide":"none"}return"none"},_labelRotationAngleValue:function(n){var t=0;switch(n){case 1:t=-90;break;case 2:t=-45;break;case 3:t=45;break;case 4:t=90}return t},_chartScrollChange:function(n,t,i,r,u){var f={},e=0,s=JSON.parse(JSON.stringify(this.dashboardParameters)),o;u.reportName=n.Properties.AllowDrilldown&&i.length!==e&&i!==null?n.drillId:n.Id;this._createControlWaitingIndicator(t.parents(".e-dbrd-control-container"),!0);o=u.data.startIndex+1;n=JSON.stringify({dashboardPath:this.dashboardPath(),controlId:u.reportName,startIndex:o,pageSizeOnDemand:50,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:200,modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,drilledLevelInfo:n.Properties.AllowDrilldown&&i.length!==e&&i.length!==null?i:null,enableDrilldown:n.Properties.AllowDrilldown,controlUniqueId:t[0].id,data:r,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,mobileToken:this.mobileDeviceToken,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(s)});f={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:n,onSuccess:this._processChartControlDataOnDemand,additionalParameter:n};this.doAjaxPost(f)},_processChartControlDataOnDemand:function(i,r,u){var g=0,y=null,c=JSON.parse(r),e=this.dashboardControls.getControlByReport(c.controlId),p=[],w=[],s=null,h=n("#"+c.controlUniqueId).data("ejDashboardChart"),nt=0,f=0,o=0,l,a,b,k;if(c.drilledLevelInfo!==null&&c.drilledLevelInfo.length!==g&&c.enableDrilldown){for(l=0;l<u.d.length;l++)for(a=0;a<u.d[l].Value.length;a++)u.d[l].Value[a].key==="WidgetType"&&u.d[l].Value.splice(a);for(f=0;f<u.d.length;f++)for(o=0;o<u.d[f].Value.length;o++)w.push({Key:u.d[f].Value[o].key,Value:n.parseJSON(u.d[f].Value[o].value)}),p.push(w[o].Value.points),u.d[f].Value[o].key==="DrilledChartProp"&&(s=n.parseJSON(u.d[f].Value[o].value));h.model.series=this._CreateDrilledChartSeries(w,s);h.model.preRender=(s.Properties.ChartType==="StackingArea"||s.Properties.ChartType==="StackingBar"||s.Properties.ChartType==="StackingColumn")&&s.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],s):(s.Properties.ChartType==="StackingArea"||s.Properties.ChartType==="StackingBar"||s.Properties.ChartType==="StackingColumn")&&s.Properties.ShowSegmentWiseLabel!==null&&s.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],s):n.proxy(this._ChartDrillPreRenderer,this,[{points:p}],s)}else{for(b=null,f=0;f<u.d.length;f++)if(u.d[f].Key===JSON.parse(r).controlId)for(o=0;o<u.d[f].Value.length;o++)u.d[f].Value[o].key==="Data"?(y=JSON.parse(u.d[f].Value[o].value),b=JSON.parse(this._objectValues(y)[g])):u.d[f].Value[o].key==="DynamicData"&&(k=JSON.parse(u.d[f].Value[o].value),e.hasMoreData=k.HasMoreData,e.totalCount=k.TotalCount);if(t.isNullOrUndefined(b.points)){h.model.primaryXAxis.pointsLength=e.totalCount;h.redraw();this._destroyAllControlWaitingIndicator();return}e.hasMoreData||(h.model.primaryXAxis.pointsLength=e.totalCount);nt=e.totalCount;var d=Object.keys(y),tt=d.length,v=[];for(f=0;f<tt;f++)v.push(JSON.parse(y[d[f]]));h.model.series=this._CreateChartSeries(v,d,e.configInfo,c.data);h.model.preRender=(e.configInfo.Properties.ChartType==="StackingArea"||e.configInfo.Properties.ChartType==="StackingBar"||e.configInfo.Properties.ChartType==="StackingColumn")&&e.configInfo.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,v,e.configInfo):(e.configInfo.Properties.ChartType==="StackingArea"||e.configInfo.Properties.ChartType==="StackingBar"||e.configInfo.Properties.ChartType==="StackingColumn")&&e.configInfo.Properties.ShowSegmentWiseLabel!==null&&e.configInfo.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,v,e.configInfo,!1):n.proxy(this._ChartPreRenderer,this,v,e.configInfo);h.model.primaryXAxis.pointsLength=nt}h.model.size.height=n("#"+c.controlUniqueId).height()+"px";h.redraw();this._destroyAllControlWaitingIndicator()},_getFromChartDataCache:function(n){for(var i=this.proportionChartData.length,t=0;t<i;t++)if(this.proportionChartData[t].Key===n)return this.proportionChartData[t].Value;return null},_addOrUpdateChartDataCache:function(n,i){for(var u=!1,f=this.proportionChartData.length,r=0;r<f;r++)this.proportionChartData[r].Key===i&&t.isNullOrUndefined(n.isResize)&&(this.proportionChartData[r].Value=n,u=!0);!u&&t.isNullOrUndefined(n.isResize)&&this.proportionChartData.push({Key:i,Value:n})},_generateContainersForProprortionChart:function(t,i){var u=100,s=0,h=1,b=10,a=15,k=17,v=null,y=null,r=1,f=1,d=i.length,e=null,o=null,g=Math.round(t.width()/this.currentTabContentElement.width()*u),c=Math.round(t.height()/this.currentTabContentElement.height()*u),p=n("<table style='width:100%;height:auto;margin:0;' cellspacing="+s+" cellpadding="+s+">"),l,nt,w;for(i.length===h&&p.css({height:"100%"}),l=t.width()-b,nt=200,r=Math.round(l/d),(r>a||r<3)&&(r=10);;){if(e=l/r-b,o=e,f=Math.ceil(d/r),r<=h){r=1;break}if(e<nt){r-=h;continue}if((t.height()-o*f)*(u/t.height())>a){r-=h;continue}break}for(g=t.width()*(u/this.currentTabContentElement.width()),c=t.height()*(u/this.currentTabContentElement.height()),c<=26&&g>a&&(o=(c>k?c:k)/u*l),f<=s&&(f=1),r<=s&&(r=1),v=0;v<f;v++){for(w=n("<tr>"),y=0;y<r;y++)w.append(n("<td>").css({height:o+"px",width:e+"px"}));p.append(w)}return{table:p,height:o,width:e}},_legendRender:function(n,t){var e=127,o=-1,f=String.fromCharCode(e),u=String.fromCharCode(e)+"_",i=null,r=t.data.legendItem,c=n.CustomLegends.length;if(t.model.legend.responsiveVisibility&&n.CustomLegend&&(n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Pyramid"||n.Properties.ChartType==="Funnel"))for(i=0;i<c;i++){var l=n.TooltipForColumns||n.TooltipForRowCalc?n.CustomLegends[i].name:n.CustomLegends[i].displayname,s=r.Text,h="";(n.TooltipForColumns||n.TooltipForRowCalc)&&r.Text.indexOf(u)!==o&&(s=r.Text.split(u)[1],h=r.Text.split(u)[0]);n.CustomLegends.length>r.SeriesIndex&&s.toString()===l?r.Text=n.CustomLegends[i].customName===null||n.CustomLegends[i].customName===""?n.CustomLegends[i].displayname:n.CustomLegends[i].customName.replace(f,""):n.CustomLegends[i].displayname===null&&n.CustomLegends[i].name===h&&(r.Text=n.CustomLegends[i].customName===null||n.CustomLegends[i].customName===""?n.CustomLegends[i].name:n.CustomLegends[i].customName.replace(f,""))}else r.Text=(n.TooltipForColumns||n.TooltipForRowCalc)&&r.Text.indexOf(u)!==o?r.Text.split(u)[0]:r.Text,r.Text=this._typecheck(r.Text,f)},_typecheck:function(n,t){switch(typeof n){case"number":case"boolean":return n;case"string":return n.replace(t,"")}return""},_chartAxisRenderer:function(n,i){var r=0;i.data.axis.valueType==="double"&&(i.data.axis.opposedPosition?n.SecondaryAxisFormatProp!==null?n.SecondaryAxisFormatProp.FormatType==="Percent"?i.data.label.Text=this._applyPercentageForChart(n.SecondaryAxisFormatProp.StringFormat,n.SecondaryAxisFormatProp.culture,n.SecondaryAxisFormatProp.FormatProp.Unit,i.data.label.Text):(i.data.label.Text=this._applyStringFormatting(n.SecondaryAxisFormatProp.StringFormat,n.SecondaryAxisFormatProp.culture,n.SecondaryAxisFormatProp.FormatProp.Unit,i.data.label.Text),t.isNullOrUndefined(n.SecondaryAxisFormatProp.FormatProp.DecimalSeparator)||t.isNullOrUndefined(n.SecondaryAxisFormatProp.FormatProp.GroupSeparator)||(i.data.label.Text=i.data.label.Text.replaceAll(n.SecondaryAxisFormatProp.FormatProp.DecimalSeparator.CurrentValue,n.SecondaryAxisFormatProp.FormatProp.DecimalSeparator.AliasValue),i.data.label.Text=i.data.label.Text.replaceAll(n.SecondaryAxisFormatProp.FormatProp.GroupSeparator.CurrentValue,n.SecondaryAxisFormatProp.FormatProp.GroupSeparator.AliasValue))):i.data.label.Text=this._applyStringFormatting("N2","en-US",r,i.data.label.Text):n.PrimaryAxisFormatProp!==null?n.PrimaryAxisFormatProp.FormatType==="Percent"?i.data.label.Text=this._applyPercentageForChart(n.PrimaryAxisFormatProp.StringFormat,n.PrimaryAxisFormatProp.culture,n.PrimaryAxisFormatProp.FormatProp.Unit,i.data.label.Text):(i.data.label.Text=this._applyStringFormatting(n.PrimaryAxisFormatProp.StringFormat,n.PrimaryAxisFormatProp.culture,n.PrimaryAxisFormatProp.FormatProp.Unit,i.data.label.Text),t.isNullOrUndefined(n.PrimaryAxisFormatProp.FormatProp.DecimalSeparator)||t.isNullOrUndefined(n.PrimaryAxisFormatProp.FormatProp.GroupSeparator)||(i.data.label.Text=i.data.label.Text.replaceAll(n.PrimaryAxisFormatProp.FormatProp.DecimalSeparator.CurrentValue,n.PrimaryAxisFormatProp.FormatProp.DecimalSeparator.AliasValue),i.data.label.Text=i.data.label.Text.replaceAll(n.PrimaryAxisFormatProp.FormatProp.GroupSeparator.CurrentValue,n.PrimaryAxisFormatProp.FormatProp.GroupSeparator.AliasValue))):i.data.label.Text=this._applyStringFormatting("N2","en-US",r,i.data.label.Text));return},_ChartPreRendererforStacking:function(n,r,u,f){for(var b=-1,y=0,h=[],l=[],e=0,o=0,s=0,k=f.model.series.length,d,g,nt,c,tt,v,it,a,rt,o=0;o<k;o++)if(f.model.series[o].type==="line")for(d=f.model.series[o].dataSource.length,e=0;e<d;e++)f.model.series[o].points[e].text=f.model.series[o].dataSource[e].text+r.CustomAdornmentText,n[o].points[e].visible!==i&&(f.model.series[o].points[e].visible=!1,f.model.series[o].points[e].y=NaN,f.model.series[o].points[e].YValues[0]=NaN);for(s=0;s<k;s++)if(f.model.series[s].type==="stackingcolumn"||f.model.series[s].type==="stackingbar"||f.model.series[s].type==="stackingarea"){for(g=f.model.series[s].points.length,e=0;e<g;e++)u||n[s].points[e]===i||n[s].points[e].visible===i?u&&n[0].points[s][e]!==i&&n[0].points[s][e].visible!==i&&(f.model.series[s].points[e].visible=!1,f.model.series[s].points[e].y=NaN,f.model.series[s].points[e].YValues[0]=NaN):(f.model.series[s].points[e].visible=!1,f.model.series[s].points[e].y=NaN,f.model.series[s].points[e].YValues[0]=NaN);l.push(f.model.series[s])}var p=l.length,w=null,ut=this.stackChartConfig.length;for(e=0;e<ut;e++)if(this.stackChartConfig[e].Key===r.Id){if(this.stackChartConfig[e].Values.length===p)return;w=this.stackChartConfig[e].Values;break}for(nt=0,e=0;e<p;e++)if(w===null||w.indexOf(e)===b)for(c=l[e].points,tt=c.length,o=0;o<tt;o++)v=this._getPointLocation(h,c[o].x),v!==b?(h[v].Value+=c[o].y,Math.abs(c[o].y)>y&&(h[v].SeriesIndex=e,h[v].Location=o)):h[nt++]={Key:c[o].x,Value:c[o].y,SeriesIndex:e,Location:o};for(o=p-1;o>=y;o--)for(e=0;e<l[o].points.length;e++)l[o].points[e].text="   ";for(it=h.length,e=0;e<it;e++)a=h[e],rt=t.isNullOrUndefined(r.PrimaryAxisFormatProp)?this._applyStringFormatting("N2","en-US",y,a.Value):r.PrimaryAxisFormatProp.FormatType==="Percent"?this._applyPercentageForChart(r.PrimaryAxisFormatProp.StringFormat,r.PrimaryAxisFormatProp.culture,r.PrimaryAxisFormatProp.FormatProp.unit,a.Value):this._applyStringFormatting(r.PrimaryAxisFormatProp.StringFormat,r.PrimaryAxisFormatProp.culture,r.PrimaryAxisFormatProp.FormatProp.Unit,a.Value),l[a.SeriesIndex].points[a.Location].text=rt+r.CustomAdornmentText},_getPointLocation:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].Key===t)return i;return-1},_ChartPreRenderer:function(n,t,r){for(var o,f,e,s,h=r.model.series.length,u=0;u<h;u++)for(o=r.model.series[u].points.length,f=0;f<o;f++)e=null,typeof n[u].points[f]!="undefined"&&(e=n[u].points[f].text,n[u].points[f].visible!==i&&(r.model.series[u].points[f].visible=!1,r.model.series[u].points[f].y=NaN,r.model.series[u].points[f].YValues[0]=NaN),s=n[u].points[f].y,r.model.series[u].points[f].text=s===0&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":e+t.CustomAdornmentText)},_ChartDrillPreRenderer:function(n,t,i){for(var o,u,f,s,h,e=0,c=i.model.series.length,r=0;r<c;r++)for(o=i.model.series[r].points.length,u=0;u<o;u++)f=null,(t.Properties.ChartType==="Pie"||t.Properties.ChartType==="Pyramid"||t.Properties.ChartType==="Doughnut"||t.Properties.ChartType==="Funnel")&&t.MultipleSeries&&typeof n[r].points[u]!="undefined"&&(f=n[r].points[u].text,s=n[r].points[u].y,i.model.series[r].points[u].text=s===e&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":f+t.CustomAdornmentText),typeof n[0].points[r][u]!="undefined"&&(f=n[0].points[r][u].text,h=n[0].points[r][u].y,i.model.series[r].points[u].text=h===e&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":f+t.CustomAdornmentText)},_CreateDrilledChartSeries:function(n,i){for(var h,v,y=127,e=-1,c=[],o=null,l=null,u=String.fromCharCode(y)+"_",s=i.Properties.ChartType,w=n.length,r=0;r<w-1;r++){h=null;h=i.TooltipForRowColumns?this._setTrendLines(i,s,i.yTitles[r],null):{visibility:""};var a=null,f="",p=String.fromCharCode(y)+"_(";a=this._generateCustomLegendInSeriesForBasicChart(i,i.yTitles[r],r);a.indexOf(p)!==e?(v=a.split(p),i.yTitles[r]=v[0],f=v[1]):i.yTitles[r]=a;o=this._setChartColorPalatteForDrillChart(i,n[r].Value.points[0],r);l=this._setChartMarker(i,s,i.Properties.ShowAdornmentInfo,o);s!=="Area"&&s!=="SplineArea"&&s!=="StackingArea"&&s!=="StackingArea100"?i.Properties.UseDefaultPalette===null||i.Properties.UseDefaultPalette?c.push({enableSmartLabels:!0,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points}):c.push({enableSmartLabels:!0,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points}):i.Properties.UseDefaultPalette===null||i.Properties.UseDefaultPalette?c.push({enableSmartLabels:!0,opacity:.5,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points}):c.push({enableSmartLabels:!0,opacity:.5,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points})}return c},_CreateChartSeries:function(n,i,r,u){var s=0,ut=1,h=-1,nt=127,a=[],e=null,y=null,d=!1,ft=r.Properties.ShowAdornmentInfo,f=null,c=null,o=null,v=null,l=null,ht=n.length,ct,lt,et,it,p,ot,at,st,g;if(!r.Properties.IsBasicChartType&&(u.ComparisonChartProp.Field.length>s||r.yTitle==="Values"))for(f=0;f<ht;f++){if(n[f]!==s)for(c=0;c<n[f].points.length;c++)d=n[f].points.length>ut;if(i[f]==="Target Line"&&r.Properties.EnableTargetLine)e="line",l=this._setChartColorPalatte(r,n[f].points[0],f),y=this._setChartMarker(r,e,ft,l);else if(u.ComparisonChartProp)for(ct=u.ComparisonChartProp.Field.length,c=0;c<ct;c++)if(u.ComparisonChartProp.Field[c]===i[f]){e=u.ComparisonChartProp.Type[c];l=this._setChartColorPalatte(r,n[f].points[0],f);y=this._setChartMarker(r,e,ft,l);break}var tt=[],w=null,b=null;r.ComparisonMultipleSeries&&r.Id.indexOf("ComboChart")!==h?(o=String.fromCharCode(nt)+"_",lt=String.fromCharCode(nt)+"(",i[f].indexOf(o)!==h?(tt=i[f].split(o),et=tt[0].split(lt),w=et[1].replace(")",""),b=et[0]):(tt=i[f].split(o),w=tt[1].replace(")",""),b=tt[0])):(o=String.fromCharCode(nt)+"_",w=i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f],b=i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f]);it=null;r.Id.indexOf("ComboChart")!==h&&r.TooltipForRowColumns&&d?(it=r.Properties.ChartType,v=this._setTrendLines(r,it,n[f].points[0].UniqueName,n[f].points[0].Argument)):r.Id.indexOf("Chart")!==h&&r.TooltipForRowColumns&&d?(it=r.Properties.ChartType,v=this._setTrendLines(r,it,n[f].points[0].UniqueName,n[f].points[0].Argument)):v={visibility:""};p=i[f].substr(t.DashboardConstants.Zero,i[f].indexOf("_"));p=p.replace(/[^A-Z0-9]/ig,"");t.isNullOrUndefined(e)||(e!=="Area"&&e!=="SplineArea"&&e!=="StackingArea"?r.Properties.UseDefaultPalette===null||r.Properties.UseDefaultPalette?a.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,p,r,u):n[f].points,xName:"x",yName:["y"],size:"size",name:w,seriesname:b,Argument:"Argument",tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):a.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,p,r,u):n[f].points,xName:"x",yName:["y"],size:"size",name:w,seriesname:b,Argument:"Argument",tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):r.Properties.UseDefaultPalette===null||r.Properties.UseDefaultPalette?a.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:n[f].points,xName:"x",yName:["y"],size:"size",Argument:"Argument",border:{color:"transparent"},opacity:.5,name:w,seriesname:b,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):a.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:n[f].points,xName:"x",yName:["y"],size:"size",Argument:"Argument",border:{color:"transparent"},opacity:.5,name:w,seriesname:b,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}))}else for(f=0;f<ht;f++)if(n[f]!==s){for(ot=0,at=n[f].points.length,c=0;c<at;c++)d=n[f].points.length>ut,n[f].points[c].y===s&&(ot+=ut);e=r.Properties.ChartType;l=this._setChartColorPalatte(r,n[f].points,f);y=this._setChartMarker(r,e,ft,l);v=r.Id.indexOf("ComboChart")!==h&&r.TooltipForRowColumns&&d?this._setTrendLines(r,e,n[f].points[0].UniqueName,n[f].points[0].Argument):r.Id.indexOf("Chart")!==h&&r.TooltipForRowColumns&&d?this._setTrendLines(r,e,n[f].points[0].UniqueName,n[f].points[0].Argument):{visibility:""};o=String.fromCharCode(nt)+"_";var rt=null,k="",vt=String.fromCharCode(nt)+"_(";rt=this._generateCustomLegendInSeriesForBasicChart(r,i[f],f);rt.indexOf(vt)!==h?(st=rt.split(vt),i[f]=st[0],k=st[1]):i[f]=rt;g=i[f].substr(t.DashboardConstants.Zero,i[f].indexOf("_"));g=g.replace(/[^A-Z0-9]/ig,"");(ot!==n[f].length&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")||e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel")&&(e!=="Area"&&e!=="SplineArea"&&e!=="StackingArea"&&e!=="StackingArea100"?a.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(g,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,size:"size",marker:y,yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,g,r,u):n[f].points,xName:"x",yName:["y"],Argument:"Argument",name:i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f],customSeriesName:k.indexOf(o)!==h?k.split(o)[0]:k,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):a.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(g,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,size:"size",marker:y,yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,dataSource:n[f].points,xName:"x",yName:["y"],Argument:"Argument",border:{color:"transparent"},opacity:.5,name:i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f],customSeriesName:k.indexOf(o)!==h?k.split(o)[0]:k,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}))}return this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One&&(a[0].points=a[0].dataSource,a[0].dataSource=null),a},_getProportionVisibleValue:function(n,i,r,u){var e,s,f,o;if(u.filterSetting.length!==t.DashboardConstants.Zero)for(e=n[0].points,s=e.length,f=0;f<s;f++)e[f]._visibility="visible",o=e[f].x,o=o.replace(/[^A-Z0-9]/ig,""),e[f]._visibility=this._getVisibilityValue(o,u);return n[0].points},_getVisibilityValue:function(n,i){var f,r,u;if(i.filterSetting.length!==t.DashboardConstants.Zero)for(f=i.filterSetting.length,r=0;r<f;r++)if(u=i.filterSetting[r].LegendItem.Text,u=u.replace(/[^A-Z0-9]/ig,""),n===u)return"hidden";return"visible"},_generateCustomLegendInSeriesForBasicChart:function(n,t){var f=null,i=127,r,u,h;if(n.Properties.IsBasicChartType&&n.Properties.IsGroupCustomLegend&&(n.TooltipForRowColCalc||n.TooltipForRowCalc)){var c=String.fromCharCode(i)+"(",l=String.fromCharCode(i)+"_",e=t.split(l),o=null,s=null,a=t.split(c),v=n.Properties.GroupCustomLegends.length,y=n.Properties.SeriesCustomLegends.length;for(r=0;r<v;r++)if(e[1]===n.Properties.GroupCustomLegends[r].Name)for(u=0;u<y;u++)if(a[0]===n.Properties.SeriesCustomLegends[u].Name){h=n.Properties.CustomLegendSeriesFormat.replaceAll(this.locale.utils.Row,n.Properties.SeriesCustomLegends[u].CustomName);o=h.replaceAll(this.locale.utils.Value,n.Properties.GroupCustomLegends[r].CustomName)+String.fromCharCode(i)+"_"+e[1];s=n.Properties.SeriesCustomLegends[u].CustomName+String.fromCharCode(i)+"("+n.Properties.GroupCustomLegends[r].CustomName+")"+String.fromCharCode(i)+"_"+e[1];break}f=o+String.fromCharCode(i)+"_("+s}else f=t;return f},_setTrendLines:function(n,i,r,u){var e={visibility:""},o=[],s,f;if(i!=="StackingColumn100"&&i!=="StackingArea100"&&i!=="StackingBar100"&&i!=="StackingArea"&&i!=="StackingColumn"&&i!=="StackingBar"&&i!=="Pie"&&i!=="Pyramid"&&i!=="Doughnut"&&i!=="Funnel")for(s=n.Properties.TrendLines.length,f=0;f<s;f++)r=t.isNullOrUndefined(n.Properties.TrendLines[f].UniqueName)?u:r,r===n.Properties.TrendLines[f].UniqueName&&(e={visibility:n.Properties.TrendLines[f].LineVisible?"visible":"",type:n.Properties.TrendLines[f].LineType.toLowerCase(),name:n.Properties.TrendLines[f].CustomName!==null&&n.Properties.TrendLines[f].CustomName!==""?n.Properties.TrendLines[f].CustomName:this._DisplayLineTypeInLegend(n.Properties.TrendLines[f].LineType)+"("+u+")",fill:"#"+n.Properties.TrendLines[f].LineColor.substring(3,9),polynomialOrder:n.Properties.TrendLines[f].Order,dashArray:this._TrendLineStyle(n.Properties.TrendLines[f].LineStyle)},o.push(e));return o},_TrendLineStyle:function(n){switch(n){case"Solid":return"";case"Dot":return"2,3";case"Dash":return"4,8";case"DotDash":return"2,6,6,10";case"LongDash":return"15";case"LongDashDotDot":return"20, 10, 5, 5, 5, 10"}return""},_DisplayLineTypeInLegend:function(n){switch(n){case"Logarithmic":return"Log.";case"Polynomial":return"Poly.";case"Exponential":return"Expon.";default:return n}},_getLegendPosition:function(n){switch(n){case 0:return"left";case 1:return"top";case 2:return"right";case 3:return"bottom";case 4:return"floating"}return"bottom"},_setChartColorPalatteForDrillChart:function(n,t,i){var r=0,e=0,o=3,u=9,s=127,f=n.Properties.SeriesColorPalette.length,h,c;if(n.Properties.ChartType!=="Pie"&&n.Properties.ChartType!=="Doughnut"&&n.Properties.ChartType!=="Funnel"&&n.Properties.ChartType!=="Pyramid")if(n.TooltipForColumns||n.TooltipForRowColumns){if(f===e||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(r=0;r<f;r++)if(n.Properties.SeriesColorPalette[r].Name===t.UniqueName)return n.Properties.SeriesColorPalette[r].CustomColor.length===u?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(o,u):n.Properties.SeriesColorPalette[r].CustomColor}else{if(f===e||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(h=t.Argument.split(String.fromCharCode(s)+"(")[0],c=h+String.fromCharCode(s)+"("+t.UniqueName+")",r=0;r<f;r++)if(n.Properties.SeriesColorPalette[r].Name===c)return n.Properties.SeriesColorPalette[r].CustomColor.length===u?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(o,u):n.Properties.SeriesColorPalette[r].CustomColor}return this.theme.palette[i%this.theme.palette.length]},_setChartColorPalatte:function(n,t,i){var r=0,u=0,s=0,f=9,h=3,l=127,e=null,o=n.Properties.SeriesColorPalette.length,a,c,v,y,p;if(n.Id.indexOf("ComboChart")!==-1){if(n.Properties.SeriesColorPalette.length===s||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(r=0;r<o;r++)if(n.Properties.SeriesColorPalette[r].Name===t.UniqueName)return n.Properties.SeriesColorPalette[r].CustomColor.length===f?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(h,f):n.Properties.SeriesColorPalette[r].CustomColor}else if(n.Properties.ChartType!=="Pie"&&n.Properties.ChartType!=="Doughnut"&&n.Properties.ChartType!=="Funnel"&&n.Properties.ChartType!=="Pyramid")if(n.TooltipForColumns||n.TooltipForRowColumns){if(n.Properties.SeriesColorPalette.length===s||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(a=t.length,u=0;u<a;u++)if(t[u].UniqueName!==""){e=t[u].UniqueName;break}for(r=0;r<o;r++)if(n.Properties.SeriesColorPalette[r].Name===e)return n.Properties.SeriesColorPalette[r].CustomColor.length===f?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(h,f):n.Properties.SeriesColorPalette[r].CustomColor}else{if(o===s||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(c=null,v=t.length,u=0;u<v;u++)if(t[u].Argument!==""){e=t[u].Argument;c=t[u].UniqueName;break}for(y=e.split(String.fromCharCode(l)+"(")[0],p=y+String.fromCharCode(l)+"("+c+")",r=0;r<o;r++)if(n.Properties.SeriesColorPalette[r].Name===p)return n.Properties.SeriesColorPalette[r].CustomColor.length===f?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(h,f):n.Properties.SeriesColorPalette[r].CustomColor}return this.theme.palette[i%this.theme.palette.length]},_setChartMarker:function(n,t,i,r){var e=10,o=-18,s=-22,f=this._labelRotationAngleValue(n.Properties.ValueLabelAngle),u={showText:!1};switch(t){case"Pie":case"Doughnut":case"Funnel":case"Pyramid":u={dataLabel:{font:{size:"9",fontFamily:"Roboto"},visible:i,shape:"none"}};break;case"StackingColumn100":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:this._getColorBrightness(r)},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:o}};break;case"StackingColumn":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?this._getColorBrightness(r):this.theme.labelscolor},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?o:e}};break;case"Column":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:e}};break;case 19:case"Scatter":case"Bubble":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near"}};break;case"SplineArea":case"Area":case"Spline":case"Line":u={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:e}};break;case"StackingArea":u={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?s:e}};break;case"StackingArea100":u={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:s}};break;case"Bar":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,horizontalTextAlignment:"near",textPosition:"top"}};break;case"StackingBar":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?this._getColorBrightness(r):this.theme.labelscolor},visible:i,textAnchor:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?"end":"middle",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?{x:o}:{}}};break;case"StackingBar100":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:this._getColorBrightness(r)},visible:i,textPosition:"top",textAnchor:"end",offset:{x:o}}}}return u},_getColorBrightness:function(n){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/.exec(n),i="rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+");";return i>=204?"black":"white"},_getChartType:function(n){switch(n){case 0:return"column";case 1:return"area";case 2:return"bar";case 3:return"line";case 4:return"pie";case 5:return"rangecolumn";case 6:return"splinearea";case 7:return"scatter";case 8:case 9:return"stackingarea";case 10:case 11:return"stackingbar";case 12:case 13:return"stackingcolumn";case 14:return"stepline";case 15:return"doughnut";case 16:return"line";case 17:return"pyramid";case 19:return"spline";default:return"line"}},_chartLegendClickForAccumulation:function(t,i,r){for(var l,s,f,a,h=100,v="#"+i,c=n(v).ejDashboardChart("instance"),u=[],y=0,e=0,p=0,w=r.data.series.visiblePoints[r.data.legendItem.LegendItem.PointIndex]._visibility,b=r.data.series.visiblePoints[r.data.legendItem.LegendItem.PointIndex].actualIndex,o=0;o<r.model._visibleSeries[0].points.length;o++)u[y++]={x:r.model._visibleSeries[0].points[o].x,y:r.model._visibleSeries[0].points[o].y,text:r.model._visibleSeries[0].points[o].text,visible:r.model._visibleSeries[0].points[o].actualIndex===b?w==="visible"?!1:!0:r.model._visibleSeries[0].points[o]._visibility==="visible"?!0:!1};for(l=u.length,s=0;s<l;s++)u[s].visible===!0&&(e+=Math.abs(u[s].y));for(e=e===0?1:e,f=0;f<l;f++)a=u[f].y/e*h===h?u[f].y/e*h+"%":(u[f].y/e*h).toFixed(2)+"%",u[p++]={x:u[f].x,y:u[f].y,text:t.Properties.ChartDataLabel==="ValueAndPercentage"?u[f].text.split("(")[0]+"("+a+")":a,_visibility:u[f].visible===!0?"visible":"hidden"};c.model.series[0].dataSource=null;c.model.series[0].points=u;c.model.preRender=n.proxy(this._ChartPreRenderer,this,[{points:u}],t);c.redraw();this._chartLegendValue(t,r)},_chartLegendClick:function(n,t){var r,i,u,o,e;if(n.Properties.ChartType==="Bar"||n.Properties.ChartType==="Column"||n.Properties.ChartType==="StackingColumn100"||n.Properties.ChartType==="Line"||n.Properties.ChartType==="Spline"||n.Properties.ChartType==="Area"||n.Properties.ChartType==="Scatter")this._chartLegendValue(n,t);else{var f=!1;for(r=0;r<this.stackChartConfig.length;r++)if(i=this.stackChartConfig[r],i.Key===n.Id){if(f=!1,t.data.series.visibility==="visible"){i.Values[this.stackChartConfig[r].Values.length]=t.data.legendItem.Style.SeriesIndex;break}for(u=0;u<i.Values.length;u++)if(o=i.Values[u],o===t.data.legendItem.Style.SeriesIndex){i.Values.splice(u,1);break}}else f=!0;(this.stackChartConfig.length===0||f)&&t.data.series.visibility==="visible"&&(e=[],e.push(t.data.legendItem.Style.SeriesIndex),this.stackChartConfig.push({Key:n.Id,Values:e}));this._chartLegendValue(n,t)}},_chartLegendValue:function(n,i){for(var r,u,f=i.data,o=this.dashboardControls.controls.length,e=0;e<o;e++)if(r=this.dashboardControls.controls[e],r.reportName===n.Id)if(f.legendItem.LegendItem.visibility==="visible")r.filterSetting.push(f.legendItem);else if(f.legendItem.LegendItem.visibility==="hidden")for(u=0;u<r.filterSetting.length;u++)r.filterSetting[u].LegendItem.Text===f.legendItem.LegendItem.Text&&r.filterSetting.splice(u,t.DashboardConstants.One)},_initDrillChartToolTip:function(n,t){var f=0,e=1,s=t.model._visibleSeries[t.data.seriesIndex].dataSource!==null?t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex]:t.model._visibleSeries[t.data.seriesIndex].points[t.data.pointIndex],h=String.fromCharCode(127)+"(",i=null,l=t.model._visibleSeries[t.data.seriesIndex].dataSource!==null?t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument:t.model._visibleSeries[t.data.seriesIndex].Argument[t.data.pointIndex].Argument,r,u,c,o;n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Funnel"||n.Properties.ChartType==="Pyramid"?n.TooltipForRowColumns?t.data.currentText=n.Argument+" : "+s.x+"<br/>"+l+" : "+s.text+n.CustomAdornmentText:n.TooltipForRowColCalc&&(i=l.split(h),t.data.currentText=n.Argument+" : "+s.x+"<br/>"+n.Seriesname+" : "+(i.length>e?i[0]:"(null)")+"<br/>"+(i.length>e?i[1].substring(f,i[1].length-e):i[0])+" : "+s.text+n.CustomAdornmentText):(r=null,u=null,n.TooltipForRowColumns?(r=t.data.currentText.substr(f,t.data.currentText.indexOf(" : ")),u=t.model.legend.responsiveVisibility&&n.CustomLegend?t.model._visibleSeries[t.data.seriesIndex].name===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?t.model._visibleSeries[t.data.seriesIndex].name===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText,t.data.currentText=u):n.TooltipForRowColCalc&&(r=t.data.currentText.substr(f,t.data.currentText.indexOf(" : ")),c=n.Properties.IsGroupCustomLegend?t.model._visibleSeries[t.data.seriesIndex].customSeriesName:t.model._visibleSeries[t.data.seriesIndex].name,i=c.split(h),o=null,t.model.legend.responsiveVisibility&&n.Properties.IsCustomLegend?c===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:(o=t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument.split(h),u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+o[1].substring(f,o[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText):n.Properties.IsCustomLegend?c===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:(o=t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument.split(h),u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+o[1].substring(f,o[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText):u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText,t.data.currentText=u))},_initChartToolTip:function(n,i){var p=127,e=0,w=-1,s=1,r=i.model._visibleSeries[i.data.seriesIndex].dataSource!==null?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex]:i.model._visibleSeries[i.data.seriesIndex].visiblePoints[i.data.pointIndex],l=String.fromCharCode(p)+"(",v=String.fromCharCode(p)+"_",u=null,f=null,a=null,o,c,y;if(n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Pyramid"||n.Properties.ChartType==="Funnel")typeof r.actualIndex=="undefined"&&(r.actualIndex=i.data.seriesIndex),n.TooltipForColumns?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?r.x.split(v)[0]+" : "+r.text:i.model.legendCollection[r.actualIndex].Text+" : "+r.text:r.x.indexOf(v)!==w?r.x.split(v)[0]+" : "+r.text:r.x+" : "+r.text):n.TooltipForRowColumns?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text):n.TooltipForRowCalc?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+r.x.split(v)[0]+" : "+r.text:n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+i.model.legendCollection[r.actualIndex].Text+" : "+r.text:n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+(r.x.indexOf(v)!==w)?r.x.split(v)[0]+" : "+r.text:r.x+" : "+r.text):n.TooltipForRowColCalc&&(u=i.model._visibleSeries[i.data.seriesIndex].name.split(l),(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text)),f=i.data.currentText,i.data.currentText=f+(i.model._visibleSeries[i.data.seriesIndex].dataSource!==null?n.CustomAdornmentText:"");else if(o=null,c=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].BubbleText,n.TooltipForColumns)o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",f=i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText,i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c);else if(n.TooltipForRowColumns)o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",f=n.drill?n.DrilledChartProperties.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText,i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c);else{var h=null,b=null,k=null;n.TooltipForRowCalc?(o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",n.Id.substr(e,n.Id.indexOf("_"))==="ComboChart"?i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(b=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument,y=b.split(l),k=y[1].substr(e,y[1].length-s),y.length===2&&(f=k+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText)):f=n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(a=i.model._visibleSeries[i.data.seriesIndex].name,u=a.split(l),i.model.legend.responsiveVisibility&&n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+h[0]+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+u[0]+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText),i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c)):n.TooltipForRowColCalc?(o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",n.Id.substr(e,n.Id.indexOf("_"))==="ComboChart"?f=i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(a=i.model._visibleSeries[i.data.seriesIndex].name,u=a.split(l),i.model.legend.responsiveVisibility&&n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+h[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText),i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c)):(o=i.data.currentText.substr(e,i.data.currentText.indexOf(":")),f="",f=(i.model._visibleSeries.length>=s?i.model._visibleSeries[i.data.seriesIndex].name+"<br/>":"")+o+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text,i.data.currentText=f+n.CustomAdornmentText+(t.isNullOrUndefined(c)?"":"<br/>"+c))}},_loadDrilledChart:function(i,r,u,f,e){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.drillDown,source:{element:n(i.target),data:e}});for(var o=0;o<e.d.length;o++)e.d[o].Key==="WidgetType"&&e.d.splice(o);this._drawDrilledChart(r,e,null,!0,u);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.drillDown,source:{element:n(i.target),data:e}})},_drawDrilledChart:function(r,u,f,e,o){var a=0,ii=-1,d=1,ri=9,ui=.8,pt=25,fi=3,wt=[],h=null,wi=this._id+"_maximized_"+r.drillId,v=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length!==a,s=v?wi:r.id,ut=r.drillId,b=[],g=[],l=0,nt=0,tt=0,y=null,ei,at,hi,vt,ci,ai,vi,dt,k,yi,gt,rt,ni,pi,ti,ot;this.dashboardControls.getControlByReport(ut)&&(y=new Dbrdcontrol,y=y.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(ut)))));!this._dashboardData().loadFromData||s.indexOf("maximized_")!==ii||s.indexOf("maximize_")!==ii||this._dashboardData().isPinned||(s="maximized_"+r.id);var it=this._getValuesFromDrillLevelInfo(y,r.drillId,y.isExportFromMaximizedView&&this._dashboardData().isExportImage?!0:v),ct=[],bt=!1,lt=it;if(lt!==null&&typeof lt!="undefined"){if(e){if(typeof y.drillLevelData!="undefined"&&y.drillLevelData.length>a)for(ei=y.drillLevelData.length,l=0;l<ei;l++)y.drillLevelData[l].Key===(v?r.drillId+"_Maximize":r.drillId)&&(bt=!0);bt&&(ct=this._getValuesFromDrillLevelData(y,r.drillId,v));ct.push({Data:u,ConfigInfo:r});bt?this._updateValuesInDrillLevelData(y,r.drillId,ct,v):y.drillLevelData.push({Key:v?r.drillId+"_Maximize":r.drillId,Values:ct});this.dashboardControls.updateCurrentReport(y)}for(at=it.length,l=0;l<=at;l++)wt[l]=l===a?r.Argument.toString():it[l-d].toString();var c=null,oi=r.drill&&r.DrilledChartProperties.RowCount!==at,si=r.drill&&r.DrilledChartProperties.RowCount-d!==at;for(this._hideInactiveDiv(),this._destroyAllControlWaitingIndicator(),hi=u.d.length,nt=0;nt<hi;nt++)g.push({Key:u.d[nt].Key,Value:n.parseJSON(u.d[nt].Value)}),b.push(g[nt].Value.points),u.d[nt].Key==="DrilledChartProp"&&(c=n.parseJSON(u.d[nt].Value));for(vt=null,ci=g.length,l=0;l<ci;l++)if(g[l].Key!=="DrilledChartProp"){vt=!1;break}else vt=!0;vt&&g.push({Key:"DrilledData",Value:""});var li=this._labelRotationAngleValue(r.Properties.AngleValue),st=0,ht=r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Funnel"||r.Properties.ChartType==="Pyramid",yt=this.theme.palette;if(ht)for(yt=[],ai=r.Properties.SeriesColorPalette.length,l=0;l<ai;l++)vi=r.Properties.SeriesColorPalette[l].CustomColor.length===ri?"#"+r.Properties.SeriesColorPalette[l].CustomColor.substring(3,ri):r.Properties.SeriesColorPalette[l].CustomColor,yt.push(vi);t.isNullOrUndefined(it)||(st=it.length);var p=null,ft=null,w=null,kt=null,et=null;if(ht&&c.MultipleSeries){if(h=n("<div>").attr({"data-controlid":ut,id:s+"_DrilledChart_"+st}),this._removePreviousBreadcrumbDiv(s),v&&t.isNullOrUndefined(f)&&(f={id:String(this._id)+"_maximized_"+ut,chartDiv:n("#"+s),isMaximize:!0}),p=n("<div>").attr({id:v?s+"_drillclose_maximize":s+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",r.drillId),p.ejDashboardBreadcrumb({dataSource:this._getBreadcrumbDatasource(wt,s),width:String(n("#"+s).width()),selected:n.proxy(this._closeDrilledChart,this,r,v,o)}),n("#"+s).parent().append(p),n("#"+s).hasClass("e-dbrd-MaximizedControl")?(h.css({width:n("#"+s).parent().width()-5,height:n("#"+s).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart"),p.css({top:0,left:0})):(w=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").length&&this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").height()+this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading").height():this.currentTabContentElement.find("#"+s).siblings(".e-control-heading").height(),kt=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading").height(),h.css({position:"absolute",top:w?kt?w+fi:w:a}).addClass("drilledChart"),et=n("#"+s).parent(),h.width(et.width()),h.height(et.height()-w),p.css({top:w?kt?w+fi:w:a,left:0})),typeof b[0]=="undefined"){for(n("#"+s).parent().append(h),this._applyOrRemoveNoDataAvailable(a,h),tt=0;tt<st;tt++)dt=n("#"+s+"_DrilledChart_"+tt),dt.data("ejDashboardScroller")&&dt.ejDashboardScroller("destroy");this._appendChartDiv(f,p,h);return}for(n("#"+s).parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),k=this._CreateDrilledChartSeries(g,c,h),h.css({overflow:"hidden"}),n("#"+s).parent().append(h),h.append(n("<div>")),yi=k.length,l=0;l<yi;l++){if(ft=n("#"+r.id).find(".e-datavisualization-chart").eq(l).offset(),typeof ft=="undefined"&&k.length===d&&(ft=n("#"+s).offset()),gt=[],gt.push(k[l]),rt=n("<div>").attr({id:s+"_DrilledChart_"+st+"_childChart_"+l}),rt.addClass("pull-left"),rt.css({width:"100%",height:"100%",position:"relative",top:String(ft.top),left:String(ft.left)}).addClass("e-chartChild"),k[l].dataSource.length===a){rt.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}else{for(ni=0,pi=k[l].dataSource.length,tt=0;tt<pi;tt++)parseInt(k[l].dataSource[tt].y)===a&&(ni+=d);if(ni===k[l].dataSource.length){rt.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}}h.children().eq(a).height(h.height());h.children().eq(a).append(rt);rt.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:si,opacity:.8,border:{width:1},mode:!ht&&!r.DrilledChartProperties.TooltipForRowCalc?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:oi,opacity:.8,border:{width:1},mode:ht||r.DrilledChartProperties.TooltipForRowCalc?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:r.DrilledChartProperties.pieCoefficient,doughnutCoefficient:.3,doughnutSize:r.DrilledChartProperties.doughnutSize===a?ui:r.DrilledChartProperties.doughnutSize,type:r.Properties.ChartType.toLowerCase(),enableAnimation:r.Properties.EnableAnimation,animateonebyone:!0,explode:r.drill&&r.DrilledChartProperties.RowCount-d!==it.length&&(r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"),explodeOffset:5,tooltip:{font:{fontFamily:"Roboto"},visible:!0},labelPosition:"outside",style:{borderWidth:2}},palette:r.Properties.SeriesColorPalette.length===a?this.theme.palette:ht&&r.Properties.UseDefaultPalette!==null&&!r.Properties.UseDefaultPalette?yt:this.theme.palette,canResize:!0,adaptiveRendering:!0,series:gt,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:k[l].name.replace(String.fromCharCode(127),""),visible:!0},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:r.Properties.ShowLegends,position:r.Properties.LegendPosition,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:c.xTitles,enableTrim:!0},labelFormat:c.xTypeChars,valueType:"category",labelRotation:li,labelIntersectAction:this._generateLabelOverflowMode(r),visible:r.DrilledChartProperties.Showxaxis,majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof r.Properties.ShowHorizontalLine=="undefined"?!0:r.Properties.ShowHorizontalLine}},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(c.PrimaryAxisTitle)?c.yTitle:c.PrimaryAxisTitle!==""||c.SecondaryAxisTitle!==""?c.PrimaryAxisTitle:c.yTitle},labelFormat:c.yTypeChars,valueType:"double",visible:r.DrilledChartProperties.Showyaxis,majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof r.Properties.ShowVerticalLine=="undefined"?!0:r.Properties.ShowVerticalLine},name:c.PrimaryAxisMaximumValueColumnName,opposedPosition:c.isAllSecondary&&!c.isAllPrimary},legendItemClick:(r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pie")&&(r.Properties.ChartDataLabel==="Percentage"||r.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,r,rt[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,r),toolTipInitialize:n.proxy(this._initDrillChartToolTip,this,c),preRender:(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:b[l]}],r,!0):(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:b[l]}],r,!0):n.proxy(this._ChartDrillPreRenderer,this,[{points:b[l]}],r),enableRightClick:!0,pointRegionClick:n.proxy(this._loadChartSlaves,this,o,o.Id,v,{argumentColumn:o.DrilledChartProperties.argumentColumn,seriesColumn:o.seriesColumn,measureColumns:o.MeasureColumns},o.IsLinked?o.ControlLinkData:i,o.IsLinked?!1:o.IsMasterFilter),chartDoubleClick:n.proxy(this._loadChartSlaves,this,o,o.Id,v,{argumentColumn:o.DrilledChartProperties.argumentColumn,seriesColumn:o.seriesColumn,measureColumns:o.MeasureColumns},o.IsLinked?o.ControlLinkData:i,o.IsLinked?!1:o.IsMasterFilter)})}h.data("ejDashboardScroller")&&h.ejDashboardScroller("destroy");k.length!==d&&(h.ejDashboardScroller({height:h.height(),width:h.width(),scrollerSize:13}),h.find(".e-scrollbar").css({"z-index":"2000"}));h.addClass("e-dbrd-control")}else{if(n("#"+s+"_DrilledChart").length===a){if(h=n("<div>").attr({"data-controlid":ut,id:s+"_DrilledChart_"+st}),this._removePreviousBreadcrumbDiv(s),v&&t.isNullOrUndefined(f)&&(f={id:String(this._id)+"_maximized_"+ut,chartDiv:n("#"+s),isMaximize:!0}),p=n("<div>").attr({id:v?s+"_drillclose_maximize":s+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",r.drillId),p.ejDashboardBreadcrumb({dataSource:this._getBreadcrumbDatasource(wt,s),width:String(n("#"+s).width()),selected:n.proxy(this._closeDrilledChart,this,r,v,o)}),n("#"+s).parent().append(p),ft=n("#"+s).offset(),n("#"+s).hasClass("e-dbrd-MaximizedControl")?(h.css({width:n("#"+s).parent().width()-6,height:n("#"+s).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart e-dbrd-control"),p.css({top:0,left:0})):(w=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").height():this.currentTabContentElement.find("#"+s).siblings(".e-control-heading").height(),ti=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading"),ti.length>t.DashboardConstants.Zero&&(pt+=ti.height()),h.css({position:"absolute",top:w?pt:a,left:0}).addClass("drilledChart e-dbrd-control"),et=n("#"+s).parent(),h.width(et.width()-4),h.height(et.height()-(w?w+2:a)-7),p.css({top:w?pt:a,left:0})),n("#"+s).parent().append(h),this._applyOrRemoveNoDataAvailable(b[0]===i?a:d,h),b[0]===i){this._appendChartDiv(f,p,h);return}}else{h.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"});h.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"});h=n("#"+s+"_DrilledChart");n("#"+s).parent().children(".e-drillClose").fadeIn();h.fadeIn();ot=h.data("ejDashboardChart");ot&&(ot.model.series=this._CreateDrilledChartSeries(g,c,h),ot.model.title.text=r.DrilledChartProperties.ShowHeader!==""?lt+"("+c.yTitle+")":"",ot.model.preRender=n.proxy(this._ChartDrillPreRenderer,this,[{points:b[0]}],r),ot.redraw());return}h.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:si,opacity:.8,border:{width:1},mode:"cluster",pattern:"diagonalForward"},selectionSettings:{enable:oi,opacity:.8,border:{width:1},mode:"cluster",pattern:"diagonalForward"},pieCoefficient:r.DrilledChartProperties.pieCoefficient,doughnutCoefficient:.3,doughnutSize:r.DrilledChartProperties.doughnutSize===a?ui:r.DrilledChartProperties.doughnutSize,type:r.Properties.ChartType.toLowerCase(),enableAnimation:r.Properties.EnableAnimation,animateonebyone:!0,explode:r.drill&&r.DrilledChartProperties.RowCount-d!==it.length&&(r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"),explodeOffset:5,tooltip:{font:{fontFamily:"Roboto"},visible:!0},labelPosition:"outside",style:{borderWidth:2}},palette:r.Properties.SeriesColorPalette.length===a?this.theme.palette:r.Properties.UseDefaultPalette!==null&&!r.Properties.UseDefaultPalette?yt:this.theme.palette,canResize:!0,adaptiveRendering:!0,series:this._CreateDrilledChartSeries(g,c,h),title:{text:r.DrilledChartProperties.ShowHeader!==""?lt+"("+c.yTitle+")":""},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:r.Properties.ShowLegends,position:r.Properties.LegendPosition,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:r.Properties.ShowPrimaryXAxisTitle===null?!0:r.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:c.xTitles,enableTrim:!0},labelFormat:c.xTypeChars,valueType:"category",labelRotation:li,enableScrollbar:r.TooltipForRowColumns,pointsLength:u.TotalCount,labelIntersectAction:this._generateLabelOverflowMode(r),visible:r.DrilledChartProperties.Showxaxis,majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:r.Properties.ShowHorizontalLine===i?!0:r.Properties.ShowHorizontalLine}},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:r.Properties.ShowYaxisTitle===null?!0:r.Properties.ShowYaxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(c.PrimaryAxisTitle)?c.yTitle:c.PrimaryAxisTitle!==""||c.SecondaryAxisTitle!==""?c.PrimaryAxisTitle:c.yTitle},labelFormat:r.yTypeChars,valueType:r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar100"||r.Properties.ChartType==="StackingColumn100"?"":"double",visible:r.DrilledChartProperties.Showyaxis,majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:r.Properties.ShowVerticalLine===i?!0:r.Properties.ShowVerticalLine},name:c.PrimaryAxisMaximumValueColumnName,range:this._setAxisRange(r),opposedPosition:c.isAllSecondary&&!c.isAllPrimary},axes:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:r.DrilledChartProperties.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},orientation:r.Properties.ChartType==="Bar"?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar100"||r.Properties.ChartType==="StackingColumn100"?"":r.yTypeChars,valueType:c.yType,range:this._setSecondaryAxisRange(r),title:{visible:r.Properties.ShowSecondaryYAxisTitle===null?!0:r.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:this.theme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:c.SecondaryAxisTitle},name:c.SecondaryAxisMaximumValueColumnName,visible:t.isNullOrUndefined(c.SecondaryAxisMaximumValueColumnName)?!1:c.PrimaryAxisMaximumValueColumnName!==""&&c.SecondaryAxisMaximumValueColumnName!==""&&r.DrilledChartProperties.Showyaxis}],legendItemClick:r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn"||r.Properties.ChartType==="StackingBar100"?n.proxy(this._chartLegendClick,this,r):(r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Pyramid"||r.Properties.ChartType==="Funnel")&&(r.Properties.ChartDataLabel==="Percentage"||r.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,r,h[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,r),toolTipInitialize:n.proxy(this._initDrillChartToolTip,this,c),scrollChanged:n.proxy(this._chartScrollChange,this,r,h,it,[]),preRender:(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:b}],r,!0):(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.EnableDataLabel!==null&&r.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:b}],r,!0):n.proxy(this._ChartDrillPreRenderer,this,[{points:b}],r),enableRightClick:!0,pointRegionClick:n.proxy(this._loadChartSlaves,this,o,o.Id,v,{argumentColumn:o.DrilledChartProperties.argumentColumn,seriesColumn:o.seriesColumn,measureColumns:o.MeasureColumns},o.IsLinked?o.ControlLinkData:i,o.IsLinked?!1:o.IsMasterFilter),chartDoubleClick:n.proxy(this._loadChartSlaves,this,o,o.Id,v,{argumentColumn:o.DrilledChartProperties.argumentColumn,seriesColumn:o.seriesColumn,measureColumns:o.MeasureColumns},o.IsLinked?o.ControlLinkData:i,o.IsLinked?!1:o.IsMasterFilter)})}this._appendChartDiv(f,p,h);this.model.enableCustomTheming&&(this._customTheme(["container"]),!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.container)&&!t.isNullOrUndefined(this.model.customThemeSettings.container["background-color"])&&this.model.customThemeSettings.container["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+ut+"_drillclose_breadcrumbDiv").css({"background-color":this.model.customThemeSettings.container["background-color"]}))}},_appendChartDiv:function(n,t,i){n!==null&&(n.chartDiv.append(t),n.chartDiv.append(i))},_removePreviousBreadcrumbDiv:function(t){for(var i=0,r=null,i=0;i<n("#"+t).parent().children().length;i++)n("#"+t).parent().children().eq(i).hasClass("e-drillClose")&&(r=n("#"+t).parent().children().eq(i).attr("id"),n("#"+r).remove());for(i=0;i<n("#"+t).children().length;i++)n("#"+t).children().eq(i).hasClass("e-drillClose")&&(r=n("#"+t).children().eq(i).attr("id"),n("#"+r).remove())},_getBreadcrumbDatasource:function(n,t){for(var r=[],i=0,u=n.length,i=0;i<u;i++)r.push({id:t+"_DrilledCharts_"+i,displayText:n[i]});return r},_loadChartSlaves:function(i,r,u,f,e,o,s){var y=0,nt=-1,ht=[],ft=!0,c=null,at,g,ot,vt,yt,v,pt,wt,bt,st,kt,b,ut,dt;if((this.controlRelations.length!==y||!t.isNullOrUndefined(e)||i.isDrillDown)&&this.flag){var ct=[],a=[],tt=[],h=0,w=null,it=null,k=null,lt=String.fromCharCode(127)+"(",l=null,et=null,d=this.dashboardControls.getControlByReport(r);if(t.isNullOrUndefined(s)||s.type!=="chartDoubleClick"?t.isNullOrUndefined(s)||s.rightClick!==!0||s.type!=="pointRegionClick"?(l=t.dashboardViewer.ActionType.Click,et=t.isNullOrUndefined(i)?null:i.ActionSetting[0].Action[0]):l=t.dashboardViewer.ActionType.ContextMenu:(l=t.dashboardViewer.ActionType.DBClick,et=t.isNullOrUndefined(i)?null:i.ActionSetting[2].Action[0]),!u||et!=="Filter"){if(!t.isNullOrUndefined(s)){if(s.model.selectedDataPointIndexes=[],t.isNullOrUndefined(f.argumentColumn)||(at=s.model._visibleSeries[s.data.region.SeriesIndex].points[s.data.region.Region.PointIndex].x,a.push({Column:f.argumentColumn,Value:at})),g="",r.indexOf("ProportionChart")!==nt)g=s.model._visibleSeries[s.data.region.SeriesIndex].name.split(lt);else for(ot=s.model._visibleSeries[s.data.region.SeriesIndex].dataSource,vt=ot.length,h=0;h<vt;h++)if(g=ot[h].Argument.split(lt),g[0]!=="")break;if(t.isNullOrUndefined(f.seriesColumn)||a.push({Column:f.seriesColumn,Value:g[0]}),tt.push({Items:a}),a.length===y?(d.SelectedFilterInfo.push(new selectedFilterInfo),d.SelectedFilterInfo=[],ft=!1):l===t.dashboardViewer.ActionType.DBClick&&i.ActionSetting[2].Action[0]==="DrillDown"||(d.SelectedFilterInfo=[]),a.length>y)for(yt=a.length,h=0;h<yt;h++)v=new selectedFilterInfo,i.DateTimeColumns.indexOf(a[h].Column)!==nt?v.DateFilterInfo.DateFilterList.push(a[h].Value):v.DimensionFilterInfo.Text.push(a[h].Value),v.PointIndex=s.data.region.Region.PointIndex,v.SeriesIndex=s.data.region.SeriesIndex,v.DimensionFilterInfo.Conditions=4,v.DimensionFilterInfo.Conditions=4,v.UniqueColumnName=a[h].Column,v.ReportName=d.reportName,ht.push(v)}for(pt=this.controlRelations.length,h=0;h<pt;h++)if(this.controlRelations[h].Master.indexOf("Chart")!==nt&&this.controlRelations[h].Master.lastIndexOf("_"+r)!==nt){if(w=this.controlRelations[h].Master,it=this.controlRelations[h].Slaves,it.length===y&&t.isNullOrUndefined(e)){k=this._checkFilterOverviewData(r);this._addFilterDataToTitle(k);return}s!==null&&ft?this.masterData.push({Key:r,Value:tt}):this.masterData.push({Key:r,Value:tt});i===null&&(this.target=[],k=this.masterData,wt={master:r,masterData:k,slaves:it,showIndicator:!1,isAutoRefresh:!1},this._makeSlaveDataRequest(wt));break}var rt=null,p="";if(t.isNullOrUndefined(i)||(ct=this._getValuesFromDrillLevelInfo(d,i.Id,u)),rt=this.multiTabs?!t.isNullOrUndefined(i)&&i.MultipleSeries&&l===t.dashboardViewer.ActionType.ContextMenu?n("#"+this._id+t.DashboardConstants.Widget+r+"_childChart_"+s.data.id.split("_")[11]).data("ejDashboardChart"):!t.isNullOrUndefined(i)&&i.MultipleSeries&&l===t.dashboardViewer.ActionType.DBClick?n("#"+this._id+t.DashboardConstants.Widget+r+"_childChart_"+s.data.id.split("_")[11]).data("ejDashboardChart"):n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDashboardChart"):!t.isNullOrUndefined(i)&&i.MultipleSeries&&l===t.dashboardViewer.ActionType.ContextMenu?n("#"+this._id+t.DashboardConstants.Widget+r+"_childChart_"+s.data.id.split("_")[5]).data("ejDashboardChart"):!t.isNullOrUndefined(i)&&i.MultipleSeries&&l===t.dashboardViewer.ActionType.DBClick?n("#"+this._id+t.DashboardConstants.Widget+r+"_childChart_"+s.data.id.split("_")[5]).data("ejDashboardChart"):n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDashboardChart"),t.isNullOrUndefined(rt)||t.isNullOrUndefined(s)||(p=s.data.id),l===t.dashboardViewer.ActionType.ContextMenu&&n("#"+p).attr("data-controlId","contextMenu"),l===t.dashboardViewer.ActionType.DBClick&&n("#"+p).attr("data-controlId","dbclick"),l!==t.dashboardViewer.ActionType.Click||t.isNullOrUndefined(i)||t.isNullOrUndefined(i.ActionSetting)||t.isNullOrUndefined(i.ActionSetting[0].Action)||i.ActionSetting[0].Action[0]!=="Filter"||u||(n("#"+p).attr("data-controlId","click-filter"),n("#"+p).attr("isFilter","true")),(l!==t.dashboardViewer.ActionType.ContextMenu||u)&&(l!==t.dashboardViewer.ActionType.DBClick||i.ActionSetting[2].Action[0]==="DrillDown"||i.DrilledChartProperties.RowCount-1===ct.length)||this._setHoverSelectionForWidget(s,r,rt,i),i!==null){for(bt=this.currentTabContentElement.find("#"+this._id+"_cell_"+i.Row+"_"+i.Column),st=bt.find(".e-dbrd-control"),c={id:r,actionType:l,dataWrapper:tt,widgetInstance:rt,masterData:k,slaves:it,callbackfn:null,drillDownData:null,sender:s,filterInfo:ht,target:p,isMaximizedView:u,configInfo:i},kt=i.ActionSetting.length,b=0;b<kt;b++)if(i.ActionSetting[b].ActionType===c.actionType)for(ut=0;ut<i.ActionSetting[b].Action.length;ut++)i.ActionSetting[b].Action[ut]==="DrillDown"&&(c.callbackfn=this._onChartDrilled,dt={chart:st,config:{DrilledChartProperties:i.DrilledChartProperties,TooltipForRowColCalc:i.TooltipForRowColCalc,TooltipForRowColumns:i.TooltipForRowColumns,drill:i.isDrillDown,drillId:i.Id,CustomAdornmentText:i.CustomAdornmentText,master:i.IsMasterFilter,id:st.attr("id"),ColumnProperties:i.ColumnProperties,Properties:i.Properties,MultipleSeries:i.MultipleSeries,Argument:i.Argument,PrimaryAxisFormatProp:i.PrimaryAxisFormatProp,SecondaryAxisFormatProp:i.SecondaryAxisFormatProp},controlLink:e,isMaximize:u,configInfo:i,evt:s},c.drillDownData=dt);this._widgetActionHandler(c)}t.isNullOrUndefined(c)||c.actionType!==t.dashboardViewer.ActionType.Click&&c.actionType!==t.dashboardViewer.ActionType.DBClick||t.isNullOrUndefined(c.actionData)||c.actionData[y]!=="Linking"||n("#"+p).attr("class"," ");t.isNullOrUndefined(c)||c.actionType==="ContextMenu"||(s!==null&&ft&&!t.isNullOrUndefined(c)&&!t.isNullOrUndefined(c.actionData)&&(c.actionData[y]!=="Linking"&&c.actionData[y]!=="DrillDown"||n("#"+w).parents(".e-dbrd-control-container").data().IsFilterApplied)?(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})))}}},_loadComparisonChartSlaves:function(r,u,f,e,o,s,h){var v=0,rt=-1,ut=[],it=!0,y=null,ft,et,ot,b,st,ht,p,ct;if((this.controlRelations.length!==v||!t.isNullOrUndefined(o))&&this.flag){var l=[],tt=[],c=0,a=null;if(a=t.isNullOrUndefined(h)||h.type!=="chartDoubleClick"?t.isNullOrUndefined(h)||h.rightClick!==!0||h.type!=="pointRegionClick"?t.dashboardViewer.ActionType.Click:t.dashboardViewer.ActionType.ContextMenu:t.dashboardViewer.ActionType.DBClick,ft=String.fromCharCode(127)+"(",!t.isNullOrUndefined(h)&&(h.model.selectedDataPointIndexes!==null&&h.model.selectedDataPointIndexes.length>v&&h.model.selectedDataPointIndexes[0].pointIndex===h.data.region.Region.PointIndex&&h.model.selectedDataPointIndexes[0].seriesIndex===h.data.region.SeriesIndex?(l=[],h.model.selectedDataPointIndexes=[]):(h.model.selectedDataPointIndexes=[],t.isNullOrUndefined(e.argumentColumn)||(et=h.model._visibleSeries[h.data.region.SeriesIndex].points[h.data.region.Region.PointIndex].x,l.push({Column:e.argumentColumn,Value:et})),ot=h.model._visibleSeries[h.data.region.SeriesIndex].seriesname.split(ft),t.isNullOrUndefined(e.seriesColumn)||l.push({Column:e.seriesColumn,Value:ot[0]}),tt.push({Items:l})),b=this.dashboardControls.getControlByReport(u),l.length===v?(b.SelectedFilterInfo.push(new selectedFilterInfo),b.SelectedFilterInfo=[],it=!1):b.SelectedFilterInfo=[],l.length>v))for(st=l.length,c=0;c<st;c++)ht=r.DateTimeColumns.length!==v&&r.DateTimeColumns[c]!==i?r.DateTimeColumns[c]:[],p=new selectedFilterInfo,ht.indexOf(l[c].Column)!==rt?p.DateFilterInfo.DateFilterList.push(l[c].Value):p.DimensionFilterInfo.Text.push(l[c].Value),p.DimensionFilterInfo.Conditions=4,p.UniqueColumnName=l[c].Column,p.ReportName=b.reportName,ut.push(p);var k=null,d=null,g=null,vt=this.controlRelations.length;for(c=0;c<vt;c++)if(this.controlRelations[c].Master.indexOf("ComboChart")!==rt&&this.controlRelations[c].Master.lastIndexOf("_"+u)+u.length===this.controlRelations[c].Master.length-1){if(k=this.controlRelations[c].Master,d=this.controlRelations[c].Slaves,d.length===v&&t.isNullOrUndefined(o)){g=this._checkFilterOverviewData(u);this._addFilterDataToTitle(g);return}if(h!==null&&it?this.masterData.push({Key:u,Value:tt}):this.masterData.push({Key:u,Value:tt}),r===null){this.target=[];g=this.masterData;ct={master:u,masterData:g,slaves:d,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(ct);break}}var w=null,lt=null,nt="",at=-1;w=this.multiTabs?t.isNullOrUndefined(h)||h.data.id.indexOf("_childChart")===at||a!==t.dashboardViewer.ActionType.ContextMenu?n("#"+this._id+t.DashboardConstants.Widget+u).data("ejDashboardChart"):n("#"+this._id+t.DashboardConstants.Widget+u+"_childChart_"+h.data.id.split("_")[11]).data("ejDashboardChart"):t.isNullOrUndefined(h)||h.data.id.indexOf("_childChart")===at||a!==t.dashboardViewer.ActionType.ContextMenu?n("#"+this._id+t.DashboardConstants.Widget+u).data("ejDashboardChart"):n("#"+this._id+t.DashboardConstants.Widget+u+"_childChart_"+h.data.id.split("_")[5]).data("ejDashboardChart");t.isNullOrUndefined(w)||t.isNullOrUndefined(h)||(lt=w.model.series[0].highlightSettings,nt=w.getTargetId(h.data.region.SeriesIndex,h.data.region.Region.PointIndex,lt.mode));a===t.dashboardViewer.ActionType.ContextMenu&&n("#"+nt).attr("data-controlId","contextMenu");a===t.dashboardViewer.ActionType.DBClick&&n("#"+nt).attr("data-controlId","dbclick");a===t.dashboardViewer.ActionType.Click&&n("#"+nt).attr("data-controlId","click-filter");(a===t.dashboardViewer.ActionType.ContextMenu||a===t.dashboardViewer.ActionType.DBClick)&&this._setHoverSelectionForWidget(h,u,w);r!==null&&(y={id:u,actionType:a,dataWrapper:tt,widgetInstance:w,masterData:g,slaves:d,callbackfn:null,drillDownData:null,sender:h,filterInfo:ut,target:nt,isMaximizedView:f,configInfo:r},this._widgetActionHandler(y,null));!t.isNullOrUndefined(y)&&y.actionType!=="ContextMenu"&&!f&&d.length>v&&(h===null||!it||t.isNullOrUndefined(y)||t.isNullOrUndefined(y.actionData)||y.actionData[v]==="Linking"?(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}},_getValuesFromDrillLevelInfo:function(n,t,i){for(var u=n.drillLevelInfo.length,r=0;r<u;r++)if(n.drillLevelInfo[r].Key===(i?t+"_Maximize":t))return n.drillLevelInfo[r].Values;return[]},_updateValuesInDrillLevelInfo:function(n,t,i,r){for(var f=n.drillLevelInfo.length,u=0;u<f;u++)if(n.drillLevelInfo[u].Key===(r?t+"_Maximize":t)){n.drillLevelInfo[u].Values=i;break}},_getValuesFromDrillLevelData:function(n,t,i){for(var u=n.drillLevelData.length,r=0;r<u;r++)if(n.drillLevelData[r].Key===(i?t+"_Maximize":t))return n.drillLevelData[r].Values;return[]},_updateValuesInDrillLevelData:function(n,t,i,r){for(var f=n.drillLevelData.length,u=0;u<f;u++)if(n.drillLevelData[u].Key===(r?t+"_Maximize":t)){n.drillLevelData[u].Values=i;break}return null},_containsKey:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].Key===t)return n[i];return null},_onChartDrilled:function(t,r,u,f,e,o){var a={},p=JSON.parse(JSON.stringify(this.dashboardParameters)),w=this.model.localeSettings.resourcePath,b=this.model.localeSettings.culture,v,c,y;if(r.drill){var k=o.model._visibleSeries[o.data.region.SeriesIndex].dataSource!==null?o.model._visibleSeries[o.data.region.SeriesIndex].dataSource[o.data.region.Region.PointIndex]:o.model._visibleSeries[o.data.region.SeriesIndex].points[o.data.region.Region.PointIndex],h=[],l=!1,s=null;if(this.dashboardControls.getControlByReport(r.drillId)&&(s=new Dbrdcontrol,s=s.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(r.drillId))))),s.drillLevelInfo!==i&&s.drillLevelInfo.length>0)for(v=s.drillLevelInfo.length,c=0;c<v;c++)s.drillLevelInfo[c].Key===(f?r.drillId+"_Maximize":r.drillId)&&(l=!0);if(l&&(h=this._getValuesFromDrillLevelInfo(s,r.drillId,f)),h.push(k.x),l?this._updateValuesInDrillLevelInfo(s,r.drillId,h,f):s.drillLevelInfo.push({Key:f?r.drillId+"_Maximize":r.drillId,Values:h}),r.DrilledChartProperties.RowCount===h.length)return;this.dashboardControls.updateCurrentReport(s);this._createControlWaitingIndicator(t.parents(".e-dbrd-control-container"),!0);this._showInactiveDIv();y=JSON.stringify({action:"GetInnerLevelDrillChart",dashboardPath:this.dashboardPath(),data:h,controlId:r.drillId,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:b,customLanguagePath:w,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(p)});a={type:"POST",url:this.serviceUrl()+"/GetDrillControlData",data:y,onSuccess:n.proxy(this._loadDrilledChart,this,o,r,e)};this.doAjaxPost(a)}},_closeDrilledChart:function(i,r,u,f){var a=1,h=0,nt=n(f.currentTarget),s=0,e,c,v,b,k,p,l,d,g;this.target=[];e=null;this.dashboardControls.getControlByReport(i.drillId)&&(e=new Dbrdcontrol,e=e.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(i.drillId)))));var o=this._getValuesFromDrillLevelInfo(e,i.drillId,r),y=this._getValuesFromDrillLevelData(e,i.drillId,r),w=o.length;if(s=f.tabId.split("_DrilledCharts_"),s=parseInt(s[1]),s!==w){for(c=w-a;parseInt(s)<=c;c--)o.splice(c,a),y.splice(c,a);if(this._updateValuesInDrillLevelInfo(e,i.drillId,o,r),this._updateValuesInDrillLevelData(e,i.drillId,y,r),this.dashboardControls.updateCurrentReport(e),this._createControlWaitingIndicator(nt.parents(".e-dbrd-control-container"),!0),this.model.enableAutorefresh&&!1||(o.length!==h?(v=y[s-a],b=JSON.parse(JSON.stringify(this.dashboardParameters)),this._showInactiveDIv(),v!==""?this._drawDrilledChart(v.ConfigInfo,v.Data,null,!1,u):this.doAjaxPost("POST",this.serviceUrl()+"/GetDrillControlData",JSON.stringify({action:"GetInnerLevelDrillChart",dashboardPath:this.dashboardPath(),data:o,controlId:i.drillId,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(b)}),n.proxy(this._loadDrilledChart,this,null,i,u))):(e=this.dashboardControls.getControlByReport(i.drillId),o.length===h&&e.SelectedFilterInfo.length>h&&this._removeControlFilter(i.id,f),r?(this.target.push(String(this._id)+"_maximized_"+i.drillId),k=n("#"+String(this._id)+"_maximized_"+i.drillId).parent(),n("#"+String(this._id)+"_maximized_"+i.drillId).remove(),p=t.buildTag("div"),k.append(p),p.attr({id:String(this._id)+"_maximized_"+i.drillId,"data-controlid":i.drillId}).css({height:"100%",width:"100%",position:"relative"}).addClass("e-dbrd-MaximizedControl e-dbrd-control"),this._renderChart(e,{id:String(this._id)+"_maximized_"+i.drillId,chartDiv:this.currentTabContentElement.find("#"+String(this._id)+"_maximized_"+i.drillId),isMaximize:!0})):(this.target.push(this._id+t.DashboardConstants.Widget+i.drillId),this._renderChart(e)))),o.length!==h&&e.SelectedFilterInfo.length>h){for(l=0;l<this.currentSlaveInfo.length;l++)d="dashboard_Widget_",this.currentSlaveInfo[l]=d+this.currentSlaveInfo[l];g={master:i.drillId,masterData:null,slaves:this.currentSlaveInfo,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(g)}}}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.maps={_renderBubbleMap:function(i,r){var e=null,k=null,p=i.getCurrentPageData(),u=i.configInfo,c=this.dashboardControls.getControlByReport(u.Id),f=null,o=null,s=!1,d=0,h=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),b,v,g,y,nt,tt;if(f=h.find(".e-dbrd-control"),p.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(p.pagedata,f,u);return}this._hideControlError(f);var l=n.parseJSON(i.configInfo.MapInput),a=p.pagedata,w=null;if(i.SelectedFilterInfo.length>d&&(w=i.SelectedFilterInfo),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.bubbleMapDiv)){if(this.mapControlsData.length===d)this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{}});else{for(b=!1,e=0;e<this.mapControlsData.length;e++)if(this.mapControlsData[e].key===u.Id){this.mapControlsData[e].value.d[0]={};b=!0;break}b||this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{}})}if(n("#"+this._id+t.DashboardConstants.Widget+u.Id).data("ejMap")){if(f=n("#"+this._id+t.DashboardConstants.Widget+u.Id),!this._applyOrRemoveNoDataAvailable(a.length,f))return;o=f.parents(".e-dbrd-control-container");(typeof u.DrillDownEnabled=="undefined"||!u.DrillDownEnabled)&&f.data("ejMap")&&(v=f.data("ejMap"),v?(g=v.model.layers[0].shapeData,v.destroy(),this._drawBubbleMap(f,a,c,u,g,this._setMapBubbleSettings(u.BubbleSettings,f,c),s)):k=null,n(f).unbind("dblclick"),this._mapInitialSelection(u,f,w,s));return}if(k===null&&(h.attr({"data-controltype":"BubbleMap"}),f.addClass("dashboardMapControl").attr({"data-controlId":u.Id}),o=h.find(".e-dbrd-control-container"),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}),h.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:u.Id})),y=null,l&&(this.MapType.push({Key:u.Id,Value:l}),y=l),y===null)for(e=0;e<this.MapType.length;e++)if(this.MapType[e].Key===u.Id){y=this.MapType[e].Value;break}nt=[];nt.Id=this._id+"_"+u.Id;o.removeAttr("range");o.removeAttr("formatSettings");o.attr({formatSettings:u.columnsecond!==null?JSON.stringify({Format:u.ColumnFormatting[1].Format,Culture:u.ColumnFormatting[1].Culture,Unit:u.ColumnFormatting[1].Unit}):JSON.stringify({Format:u.ColumnFormatting[0].Format,Culture:u.ColumnFormatting[0].Culture,Unit:u.ColumnFormatting[0].Unit})});o.attr({range:JSON.stringify({Min:u.Min,Max:u.Max})})}else f=r.bubbleMapDiv,s=r.isMaximize;this._generateMapToolTipTemplate(u);tt=this._setMapBubbleSettings(u.BubbleSettings,f,c);f.addClass("e-bubblemap-position");this._drawBubbleMap(f,a,c,u,l,tt,s);u.NavigatorEnabled&&this._generateNavigatorTemplate(f.attr("id"));n(f).unbind("dblclick");this._mapInitialSelection(u,f,w,s);!this._applyOrRemoveNoDataAvailable(a.length,f)},_setBubbleMapConfigInfo:function(n){n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.FillStroke=t.isNullOrUndefined(n.configInfo.FillStroke)?"":n.configInfo.FillStroke;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ShapePropertyPath=t.isNullOrUndefined(n.configInfo.ShapePropertyPath)?"name":n.configInfo.ShapePropertyPath;n.configInfo.AlternatePropertyPath=t.isNullOrUndefined(n.configInfo.AlternatePropertyPath)?"name":n.configInfo.AlternatePropertyPath;n.configInfo.NavigatorEnabled=t.isNullOrUndefined(n.configInfo.NavigatorEnabled)||n.configInfo.NavigatorEnabled;n.configInfo.DockOnMap=!t.isNullOrUndefined(n.configInfo.DockOnMap)&&n.configInfo.DockOnMap;n.configInfo.ShapeFill=t.isNullOrUndefined(n.configInfo.ShapeFill)?"":n.configInfo.ShapeFill;n.configInfo.columnfirst=t.isNullOrUndefined(n.configInfo.columnfirst)?null:n.configInfo.columnfirst;n.configInfo.columnsecond=t.isNullOrUndefined(n.configInfo.columnsecond)?null:n.configInfo.columnsecond;n.configInfo.columnFirstAlias=t.isNullOrUndefined(n.configInfo.columnFirstAlias)?null:n.configInfo.columnFirstAlias;n.configInfo.columnSecondAlias=t.isNullOrUndefined(n.configInfo.columnSecondAlias)?null:n.configInfo.columnSecondAlias;n.configInfo.ShapeStroke=t.isNullOrUndefined(n.configInfo.ShapeStroke)?"":n.configInfo.ShapeStroke;n.configInfo.Min=t.isNullOrUndefined(n.configInfo.Min)?t.DashboardConstants.Zero:n.configInfo.Min;n.configInfo.Max=t.isNullOrUndefined(n.configInfo.Max)?t.DashboardConstants.Zero:n.configInfo.Max;n.configInfo.DrillDownEnabled=!t.isNullOrUndefined(n.configInfo.DrillDownEnabled)&&n.configInfo.DrillDownEnabled;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.IsGradient=t.isNullOrUndefined(n.configInfo.IsGradient)||n.configInfo.IsGradient;n.configInfo.showItemValue=!t.isNullOrUndefined(n.configInfo.showItemValue)&&n.configInfo.showItemValue;n.configInfo.SelectionMode=t.isNullOrUndefined(n.configInfo.SelectionMode)?"DEFAULT":n.configInfo.SelectionMode;n.configInfo.MapItemFormat=t.isNullOrUndefined(n.configInfo.MapItemFormat)?"":n.configInfo.MapItemFormat;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ColumnFormatting=t.isNullOrUndefined(n.configInfo.ColumnFormatting)?[]:n.configInfo.ColumnFormatting;n.configInfo.MapInput=t.isNullOrUndefined(n.configInfo.MapInput)?"":n.configInfo.MapInput;n.configInfo.ShowDataLabel=!t.isNullOrUndefined(n.configInfo.ShowDataLabel)&&n.configInfo.ShowDataLabel;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.DataLabelPath=t.isNullOrUndefined(n.configInfo.DataLabelPath)?"":n.configInfo.DataLabelPath;n.configInfo.BubbleSettings=t.isNullOrUndefined(n.configInfo.BubbleSettings)?null:n.configInfo.BubbleSettings},_drawBubbleMap:function(t,r,u,f,e,o,s){var a=f.SelectionMode.toLowerCase(),h=f.showItemValue,c=f.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),v=f.ShapePropertyPath,l=0,y=f.AlternatePropertyPath,p=h?this._id+"_"+f.Id+"_labelTemplate":null,w=this._id+"_"+f.Id+"_ToolTip",b={enableNavigation:!1,content:f.NavigatorEnabled?t.attr("id")+"_Navigator":null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"bottomleft"},k=s?f.IsLinked?n.proxy(this._loadBubbleMapSlaves,this,f.Id,s,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[]:f.IsMasterFilter||f.DrillDownEnabled||f.IsLinked?n.proxy(this._loadBubbleMapSlaves,this,f.Id,s,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[],d=f.NavigatorEnabled?n.proxy(this._generateNavigatorTemplate,this,t.attr("id"),!0):[],g=[{selectionMode:a,enableSelection:!0,showMapItems:h,mapItemsTemplate:p,dataSource:r,enableMouseHover:!0,shapeDataPath:c,tooltipTemplate:w,showTooltip:!0,shapePropertyPath:v,alternatePropertyPath:y,shapeSettings:{fill:u.customThemfillColor,strokeThickness:"0.25",stroke:u.customThemborderColor,highlightColor:u.customThemhighlightColor,highlightStroke:u.customThemhighlightBorderColor,selectionColor:u.customThemselecionColor,selectionStroke:u.customThemselectionBorderColor,mouseHoverStrokeWidth:"1",autoFill:!1,valuePath:c,enableGradient:f.IsGradient},bubbleSettings:o,labelSettings:{showLabels:f.ShowDataLabel,labelPath:f.DataLabelPath},shapeData:e}];t.ejMap({enableResize:!1,enableRightClick:!0,navigationControl:b,zoomSettings:{level:1,maxValue:30,factor:.1,enableZoom:!0},enableAnimation:!1,shapeSelected:k,background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},refreshed:d,layers:g,mouseover:f.ActionSetting!==null&&f.ActionSetting.length>l&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>l&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mouseover:null});f.NavigatorEnabled&&this._generateNavigatorTemplate(t.attr("id"),!1)},_mapInitialSelection:function(n,i,r,u){n.IsMasterFilter&&r&&r.length>0?(this._selectMapShape(i,n,r),i.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-disable").addClass("e-remove-control-filter-enable").attr("tabindex","0"),u||this.masterData.push({Key:n.Id,Value:r,MultiSelection:n.SelectionMode.toLowerCase()!=="default"})):t.isNullOrUndefined(r)&&(i.siblings().find(".e-remove-control-filter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))},_mouseover:function(t){n(t.originalEvent.shape).css("cursor","pointer")},_generateNavigatorTemplate:function(t,i){if(!i){var r=n("<div>").attr({id:t+"_Navigator"}).css({"margin-left":"10px",width:"40px",height:"106px"});r.append(n("<div>").attr("id",t+"_Home").css({"margin-top":"24px"}).addClass("map-home map-navi-border"),n("<div>").css({"margin-top":"3px",width:"22px"}).addClass("map-navi-border").append(n("<div>").attr("id",t+"_ZoomIn").addClass("map-zoom-in"),n("<div>").addClass("map-split-line"),n("<div>").attr("id",t+"_ZoomOut").addClass("map-zoom-out")));this.currentTabContentElement.append(r);n("#"+t+"_Navigator").css("display","none")}n("#"+t).mouseenter(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!0;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","block")});n("#"+t).mouseleave(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!1;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","none")});n("#"+t).touchstart(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!0;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","block")});n("#"+t+"_Home").on("click touchend",function(){n("#"+t).ejMap("zoom",1)});n("#"+t+"_ZoomIn").on("click touchend",function(){var i=n("#"+t).data("ejMap").model;n("#"+t).ejMap("zoom",i.zoomSettings.level+1)});n("#"+t+"_ZoomOut").on("click touchend",function(){var i=n("#"+t).data("ejMap").model;n("#"+t).ejMap("zoom",i.zoomSettings.level-1)})},_selectMapShape:function(n,t,i){var u=n.data("ejMap"),s=u.model.shapeSelected,e,r,o,f;for(u.model.shapeSelected=null,e=i.length,r=0;r<e;r++)if(("M"+i[r].UniqueColumnName).toLowerCase()===t.columnfirst.toLowerCase())for(o=i[r].DimensionFilterInfo.Text.length,f=0;f<o;f++)u.selectShape(i[r].DimensionFilterInfo.Text[f]);u.model.shapeSelected=s},_renderChoroplethMap:function(i,r){var e=0,nt=null,o=i.getCurrentPageData(),u=i.configInfo,a=null,f=null,s=null,h=null,c=!1,k=this.dashboardControls.getControlByReport(u.Id),tt=0,l=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),p,it,g,w,rt,b,ut;if(f=l.find(".e-dbrd-control"),o.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(o.pagedata,f,u);return}this._hideControlError(f);var v=n.parseJSON(i.configInfo.MapInput),y=o.pagedata,d=null;if(this.model.enableCustomTheming){for(p=JSON.parse(o.rangeColor),it=p.rangeColorMapping.length,e=0;e<it;e++)p.rangeColorMapping[e].color=k.customTheme.rangecolor[e];o.rangeColor=JSON.stringify(p)}if(a=n.parseJSON(o.rangeColor),i.SelectedFilterInfo.length>tt&&(d=i.SelectedFilterInfo),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.choroplethMapDiv)){if(this.mapControlsData.length===tt)this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{ShowLegend:u.showLegend}});else{for(g=!1,e=0;e<this.mapControlsData.length;e++)if(this.mapControlsData[e].key===u.Id){this.mapControlsData[e].value.d[0]={ShowLegend:u.showLegend};g=!0;break}g||this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{ShowLegend:u.showLegend}})}if(n("#"+this._id+t.DashboardConstants.Widget+u.Id).data("ejMap")){if(f=n("#"+this._id+t.DashboardConstants.Widget+u.Id),!this._applyOrRemoveNoDataAvailable(y.length,f))return;s=f.parents(".e-dbrd-control-container");(typeof u.DrillDownEnabled=="undefined"||!u.DrillDownEnabled)&&f.data("ejMap")&&(w=f.data("ejMap"),w?(rt=w.model.layers[0].shapeData,w.destroy(),this._drawChoroplethMap(f,y,k,u,o,rt,a,c,h)):nt=null,n(f).unbind("dblclick"),this._mapInitialSelection(u,f,d,c));return}if(nt===null&&(l.attr({"data-controltype":"ChoroplethMap"}),f.addClass("dashboardMapControl").attr({"data-controlId":u.Id}),s=l.find(".e-dbrd-control-container"),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}),l.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),l.find(".e-dbrd-export").attr({value:u.Id})),b=null,v&&(this.MapType.push({Key:u.Id,Value:v}),b=v),b===null)for(ut=this.MapType.length,e=0;e<ut;e++)if(this.MapType[e].Key===u.Id){b=this.MapType[e].Value;break}h=[];h.Id=this._id+"_"+u.Id;this.defaultRange[h.Id]=a;s.removeAttr("range");s.removeAttr("formatSettings");s.attr({formatSettings:u.columnsecond!==null?JSON.stringify({Format:u.ColumnFormatting[1].Format,Culture:u.ColumnFormatting[1].Culture,Unit:u.ColumnFormatting[1].Unit}):JSON.stringify({Format:u.ColumnFormatting[0].Format,Culture:u.ColumnFormatting[0].Culture,Unit:u.ColumnFormatting[0].Unit})});s.attr({range:JSON.stringify({Min:u.Min,Max:u.Max})})}else f=r.choroplethMapDiv,c=r.isMaximize;this._generateMapToolTipTemplate(u);f.addClass("e-bubblemap-position");u.IsGradient&&f.addClass("e-gradient");this._drawChoroplethMap(f,y,k,u,o,v,a,c,h);n(f).unbind("dblclick");this._mapInitialSelection(u,f,d,c);!this._applyOrRemoveNoDataAvailable(y.length,f)},_setChoroplethMapConfigInfo:function(n){n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.FillStroke=t.isNullOrUndefined(n.configInfo.FillStroke)?"":n.configInfo.FillStroke;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.showLegend=!t.isNullOrUndefined(n.configInfo.showLegend)&&n.configInfo.showLegend;n.configInfo.ShapePropertyPath=t.isNullOrUndefined(n.configInfo.ShapePropertyPath)?"name":n.configInfo.ShapePropertyPath;n.configInfo.AlternatePropertyPath=t.isNullOrUndefined(n.configInfo.AlternatePropertyPath)?"name":n.configInfo.AlternatePropertyPath;n.configInfo.LegendPosition=t.isNullOrUndefined(n.configInfo.LegendPosition)?"NONE":n.configInfo.LegendPosition;n.configInfo.NavigatorEnabled=t.isNullOrUndefined(n.configInfo.NavigatorEnabled)||n.configInfo.NavigatorEnabled;n.configInfo.DockOnMap=!t.isNullOrUndefined(n.configInfo.DockOnMap)&&n.configInfo.DockOnMap;n.configInfo.ShapeFill=t.isNullOrUndefined(n.configInfo.ShapeFill)?"":n.configInfo.ShapeFill;n.configInfo.columnfirst=t.isNullOrUndefined(n.configInfo.columnfirst)?null:n.configInfo.columnfirst;n.configInfo.columnsecond=t.isNullOrUndefined(n.configInfo.columnsecond)?null:n.configInfo.columnsecond;n.configInfo.columnthird=t.isNullOrUndefined(n.configInfo.columnthird)?null:n.configInfo.columnthird;n.configInfo.columnfourth=t.isNullOrUndefined(n.configInfo.columnfourth)?null:n.configInfo.columnfourth;n.configInfo.columnFirstAlias=t.isNullOrUndefined(n.configInfo.columnFirstAlias)?null:n.configInfo.columnFirstAlias;n.configInfo.columnSecondAlias=t.isNullOrUndefined(n.configInfo.columnSecondAlias)?null:n.configInfo.columnSecondAlias;n.configInfo.columnThirdAlias=t.isNullOrUndefined(n.configInfo.columnThirdAlias)?null:n.configInfo.columnThirdAlias;n.configInfo.columnfourthAlias=t.isNullOrUndefined(n.configInfo.columnfourthAlias)?null:n.configInfo.columnfourthAlias;n.configInfo.ShapeStroke=t.isNullOrUndefined(n.configInfo.ShapeStroke)?"":n.configInfo.ShapeStroke;n.configInfo.Min=t.isNullOrUndefined(n.configInfo.Min)?t.DashboardConstants.Zero:n.configInfo.Min;n.configInfo.Max=t.isNullOrUndefined(n.configInfo.Max)?t.DashboardConstants.Zero:n.configInfo.Max;n.configInfo.ColorPath=t.isNullOrUndefined(n.configInfo.ColorPath)?"":n.configInfo.ColorPath;n.configInfo.SetColorForValue=!t.isNullOrUndefined(n.configInfo.SetColorForValue)&&n.configInfo.SetColorForValue;n.configInfo.DrillDownEnabled=!t.isNullOrUndefined(n.configInfo.DrillDownEnabled)&&n.configInfo.DrillDownEnabled;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.IsGradient=t.isNullOrUndefined(n.configInfo.IsGradient)||n.configInfo.IsGradient;n.configInfo.showItemValue=!t.isNullOrUndefined(n.configInfo.showItemValue)&&n.configInfo.showItemValue;n.configInfo.SelectionMode=t.isNullOrUndefined(n.configInfo.SelectionMode)?"DEFAULT":n.configInfo.SelectionMode;n.configInfo.LegendMode=t.isNullOrUndefined(n.configInfo.LegendMode)?"INTERACTIVE":n.configInfo.LegendMode;n.configInfo.CustomRange=!t.isNullOrUndefined(n.configInfo.CustomRange)&&n.configInfo.CustomRange;n.configInfo.MapItemFormat=t.isNullOrUndefined(n.configInfo.MapItemFormat)?"":n.configInfo.MapItemFormat;n.configInfo.LegendTitle=t.isNullOrUndefined(n.configInfo.LegendTitle)?"":n.configInfo.LegendTitle;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ColumnFormatting=t.isNullOrUndefined(n.configInfo.ColumnFormatting)?[]:n.configInfo.ColumnFormatting;n.configInfo.MapInput=t.isNullOrUndefined(n.configInfo.MapInput)?"":n.configInfo.MapInput;n.configInfo.ShowDataLabel=!t.isNullOrUndefined(n.configInfo.ShowDataLabel)&&n.configInfo.ShowDataLabel;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.DataLabelPath=t.isNullOrUndefined(n.configInfo.DataLabelPath)?"":n.configInfo.DataLabelPath},_drawChoroplethMap:function(r,u,f,e,o,s,h,c,l){var tt={enableNavigation:!1,content:e.NavigatorEnabled?r.attr("id")+"_Navigator":null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"bottomleft"},p=e.IsMasterFilter,w=e.DrillDownEnabled,a=e.Id,b=0,v=e.IsLinked,k=e.ControlLinkData,it=e.SetColorForValue,rt=e.ColorPath.toString().replace(/\s/g,"").replace(")","").replace("(",""),ut=e.SelectionMode.toLowerCase(),d=e.showItemValue,g=e.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),ft=e.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(",""),et=e.ShapePropertyPath,ot=e.AlternatePropertyPath,st=e.NavigatorEnabled?n.proxy(this._generateNavigatorTemplate,this,r.attr("id"),!0):[],ht=f.customThemborderColor,ct=f.customThemhighlightColor,lt=f.customThemhighlightBorderColor,at=f.customThemselecionColor,vt=f.customThemselectionBorderColor,yt=c?v?n.proxy(this._loadChoroplethMapSlaves,this,a,c,p,w,e,v?k:i):[]:p||w||v?n.proxy(this._loadChoroplethMapSlaves,this,a,c,p,w,e,v?k:i):[],pt=this._id+"_"+a+"_ToolTip",y=this._setMapLegendSettings(e,r,o),wt=d?this._id+"_"+a+"_labelTemplate":null,nt;this._dashboardData().isExportImage&&this._dashboardData().isControl&&(t.isNullOrUndefined(y)||t.isNullOrUndefined(y.height)||t.isNullOrUndefined(e)||e.LegendMode.toLowerCase()!=="interactive"||(y.height=30));nt=[{selectionMode:ut,enableSelection:!0,showMapItems:d,mapItemsTemplate:wt,dataSource:u,enableMouseHover:!0,shapeDataPath:g,tooltipTemplate:pt,showTooltip:!0,shapePropertyPath:et,alternatePropertyPath:ot,legendSettings:y,shapeSettings:{fill:f.customThemfillColor,strokeThickness:"0.25",stroke:ht,highlightColor:ct,highlightStroke:lt,selectionColor:at,selectionStroke:vt,mouseHoverStrokeWidth:"1",autoFill:!1,valuePath:g,colorValuePath:it?rt:ft,enableGradient:e.CustomRange?!1:e.IsGradient,colorMappings:this.customRangeApplied?this.customRange[l.Id]:h},labelSettings:{showLabels:e.ShowDataLabel,labelPath:e.DataLabelPath},shapeData:s}];r.ejMap({enableResize:!1,enableRightClick:!0,navigationControl:tt,zoomSettings:{level:1,maxValue:30,factor:.1,enableZoom:!0},enableAnimation:!1,mouseover:e.ActionSetting!==null&&e.ActionSetting.length>b&&e.ActionSetting[0].Action!==null&&e.ActionSetting[0].Action.length>b&&e.ActionSetting[0].ActionType!==null&&e.ActionSetting[0].Action[0]==="Linking"&&e.ActionSetting[0].ActionType==="Click"?this._mouseover:null,shapeSelected:yt,refreshed:st,background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},layers:nt});e.NavigatorEnabled&&this._generateNavigatorTemplate(r.attr("id"),!1)},_generateMapToolTipTemplate:function(i){var r=0,s=".",h=",",c,e,f,u,l,o;if(n("#"+this._id+"_"+i.Id+"_toolTip").length===r){if(c=n("<div>").attr({id:this._id+"_"+i.Id+"_ToolTip","class":"e-tree-tooltip"}),e=n("<table>").addClass("e-tree-tool-table"),c.append(e),f=null,u=null,t.isNullOrUndefined(i.columnfirst)||(f=n("<tr>"),u=n("<td>").html(i.columnFirstAlias).addClass("e-tool-value"),f.append(u),u=n("<td>").html(":").addClass("e-tool-value"),f.append(u),u=n("<td>").html("{{:(#data['"+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}").addClass("e-tool-value"),f.append(u),e.append(f)),t.isNullOrUndefined(i.columnthird)||(f=n("<tr>"),u=n("<td>").html("{{:"+i.columnthird.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}").css({"text-align":"center","font-size":"medium",color:"black"}).attr({colspan:"3"}),u=n("<td>").html(i.columnThirdAlias).addClass("e-tool-value"),f.append(u),u=n("<td>").html(":").addClass("e-tool-value"),f.append(u),u=t.isNullOrUndefined(i.columnfourth)?n("<td>").html("{{:(#data['"+i.columnthird.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}").addClass("e-tool-value"):n("<td>").html("{{:(#data['"+i.columnfourth.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}").addClass("e-tool-value"),f.append(u),e.append(f)),!t.isNullOrUndefined(i.columnsecond)){for(l=i.ColumnFormatting.length,o=0;o<l;o++)if(i.columnsecond==="M"+i.ColumnFormatting[o].ColumnName){r=o;break}f=n("<tr>");u=n("<td>").html(i.columnSecondAlias).addClass("e-tool-value");f.append(u);u=n("<td>").html(":").addClass("e-tool-value");f.append(u);u=t.isNullOrUndefined(i.ColumnFormatting[r].DecimalSeparator)||t.isNullOrUndefined(i.ColumnFormatting[r].GroupSeparator)?n("<td>").html('{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+s+'","'+s+'","'+h+'","'+h+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value"):n("<td>").html('{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+i.ColumnFormatting[r].DecimalSeparator.CurrentValue+'","'+i.ColumnFormatting[r].DecimalSeparator.AliasValue+'","'+i.ColumnFormatting[r].GroupSeparator.CurrentValue+'","'+i.ColumnFormatting[r].GroupSeparator.AliasValue+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value");f.append(u);e.append(f)}this.currentTabContentElement.append(c)}i.showItemValue&&(t.isNullOrUndefined(i.ColumnFormatting[r].DecimalSeparator)||t.isNullOrUndefined(i.ColumnFormatting[r].GroupSeparator)?this.currentTabContentElement.append('<script  id="'+this._id+"_"+i.Id+'_labelTemplate" type="application/jsrender"><div style="margin-top:-10px;"><table style="width:40px;">'+(i.MapItemFormat==="ValueAndArgument"?'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:'+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}<\/label><\/td><\/tr>":"")+'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+s+'","'+s+'","'+h+'","'+h+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"])}}<\/label><\/td><\/tr><\/table><\/div><\/script>'):this.currentTabContentElement.append('<script  id="'+this._id+"_"+i.Id+'_labelTemplate" type="application/jsrender"><div style="margin-top:-10px;"><table style="width:40px;">'+(i.MapItemFormat==="ValueAndArgument"?'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:'+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}<\/label><\/td><\/tr>":"")+'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+i.ColumnFormatting[r].DecimalSeparator.CurrentValue+'","'+i.ColumnFormatting[r].DecimalSeparator.AliasValue+'","'+i.ColumnFormatting[r].GroupSeparator.CurrentValue+'","'+i.ColumnFormatting[r].GroupSeparator.AliasValue+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"])}}<\/label><\/td><\/tr><\/table><\/div><\/script>'))},_setMapResponsiveProperties:function(t,i){var c=300,s=0,l=.3,h=.05,a=.005,e=n("#"+t).data("ejMap");if(e){var u=n("#"+t).width(),f=n("#"+t).height(),r=e.model.layers[0],o=null;(f<=c||u<=c)&&(r.shapeSettings.colorMappings===null?(o=u<=f?u:f,r.bubbleSettings.minValue=o*a,r.bubbleSettings.maxValue=o*h):(r.legendSettings.showLegend=!1,r.legendSettings.dockOnMap=!1,r.legendSettings.width=0,r.legendSettings.height=0));r.shapeSettings.colorMappings===null?(o=u<=f?u:f,e.model.layers[0].bubbleSettings.minValue=o*a,e.model.layers[0].bubbleSettings.maxValue=o*h):typeof r.shapeSettings.colorMappings.equalColorMapping!="undefined"?(r.legendSettings.showLegend=i.ShowLegend,r.legendSettings.dockOnMap=r.legendSettings.showLegend,r.legendSettings.position="none",f*.9>=u*.7?(r.legendSettings.dockPosition="bottom",r.legendSettings.width=r.legendSettings.showLegend?u:s,r.legendSettings.height=r.legendSettings.showLegend?f*.1:s):(r.legendSettings.dockPosition="right",r.legendSettings.width=r.legendSettings.showLegend?u*l:s,r.legendSettings.height=r.legendSettings.showLegend?f:s)):typeof e.model.layers[0].shapeSettings.colorMappings.rangeColorMapping!="undefined"&&(r.legendSettings.showLegend=i.ShowLegend,r.legendSettings.dockOnMap=i.ShowLegend,r.legendSettings.position="TopLeft",r.legendSettings.width=u*l,r.legendSettings.height=f*h);n("#"+t).find(".e-dbrd-control-nodatainfo").length===s&&e.refresh()}},_setMapBubbleSettings:function(n,i,r){var f=[],u;return t.isNullOrUndefined(n)||(u=i.width()<=i.height()?i.width():i.height(),f={showBubble:!0,valuePath:n.ValuePath.replace(/\s/g,"").replace("(","").replace(")",""),minValue:u*.005,maxValue:u*.05,bubbleOpacity:.6,color:r.customTheme.bubbleColor}),f},_setMapLegendSettings:function(n,i,r){var f=.3,u=null,e=i.height()>=196&&i.width()>=317;return t.isNullOrUndefined(n.BubbleSettings)?(n.LegendMode.toLowerCase()==="interactive"?u={showLegend:e?n.showLegend:!1,height:i.height()*.05,width:i.width()*f,position:n.showLegend?n.LegendPosition.toLowerCase():"",type:"layers",mode:n.LegendMode.toLowerCase(),title:n.LegendTitle,leftLabel:n.IsGradient?r.legendPrefx:"",rightLabel:n.IsGradient?r.legendPostfix:"",dockOnMap:n.showLegend}:(n.LegendPosition=i.height()*.9>=i.width()*.7?"bottom":"right",u={showLegend:e?n.showLegend:!1,height:n.LegendPosition.toLowerCase()==="bottom"?i.height()*.1:i.height(),width:n.LegendPosition.toLowerCase()==="bottom"?i.width():i.width()*f,dockPosition:n.LegendPosition.toLowerCase(),dockOnMap:n.showLegend,type:"layers",mode:n.LegendMode.toLowerCase()}),u):null},_loadBubbleMapSlaves:function(r,u,f,e,o,s,h){var w=0,tt=1,ut=-1,ft=[],b=null,ht,g,ct,lt,at,vt,rt,nt,yt,ot,pt;if(this.controlRelations.length!==w||!t.isNullOrUndefined(s)){var l=this.dashboardControls.getControlByReport(r),d=null,st=null,k=null,v=[],y=0,a=null,et=null,p=-1,c=0,it=null;if(t.isNullOrUndefined(h)||h.rightClick!==!0||h.type!=="shapeSelected"?t.isNullOrUndefined(h)||h.rightClick!==!1||h.type!=="shapeSelected"||(it=t.dashboardViewer.ActionType.Click):it=t.dashboardViewer.ActionType.ContextMenu,h!==null){for(ht=h.originalEvent.length,y=0;y<ht;y++){et=[];g=h.originalEvent[y].data;for(c in g)({}).hasOwnProperty.call(g,c)&&c!=="M"+o.MeasureColumns[0]&&et.push({Column:c.toLowerCase().replace(" ","").substr(tt),Value:g[c]});typeof g!="undefined"&&v.push({Items:et})}if(l.SelectedFilterInfo=[],v.length>w){for(ct=v.length,a=new selectedFilterInfo,c=0;c<ct;c++)for(lt=v[c].Items.length,y=0;y<lt;y++)p=this._checkFilterInfo(v[c].Items[y].Column,l.SelectedFilterInfo),t.isNullOrUndefined(p)||p===ut?(a.DimensionFilterInfo.Text.push(v[c].Items[y].Value),a.DimensionFilterInfo.Conditions=4,a.UniqueColumnName=v[c].Items[y].Column,a.ReportName=l.reportName):(l.SelectedFilterInfo[p].DimensionFilterInfo.Text.push(v[c].Items[y].Value),l.SelectedFilterInfo[p].ReportName=l.reportName);ft.push(a)}}for(at=this.controlRelations.length,c=0;c<at;c++)if(this.controlRelations[c].Master.indexOf("BubbleMap")!==ut&&this.controlRelations[c].Master.lastIndexOf("_"+r)+r.length===this.controlRelations[c].Master.length-tt){if(k=this.controlRelations[c].Master,d=this.controlRelations[c].Slaves,d.length===w&&t.isNullOrUndefined(s)){st=this._checkFilterOverviewData(r);this._addFilterDataToTitle(st);return}if(h!==null&&v.length===w&&h.originalEvent.length>w&&h.originalEvent[w].data===i)for(v=[],l.SelectedFilterInfo=[],vt=h.model.layers[0].dataSource.length,rt=0;rt<vt;rt++){nt=h.model.layers[0].dataSource[rt];for(c in nt)({}).hasOwnProperty.call(nt,c)&&c!=="M"+o.MeasureColumns[0]&&(p=this._checkFilterInfo(c.substr(tt),l.SelectedFilterInfo),t.isNullOrUndefined(p)||p===ut?(a=new selectedFilterInfo,a.DimensionFilterInfo.Text.push(nt[c]),a.DimensionFilterInfo.Conditions=5,a.UniqueColumnName=c.substr(tt),a.ReportName=l.reportName,ft.push(a)):(l.SelectedFilterInfo[p].DimensionFilterInfo.Text.push(nt[c]),l.SelectedFilterInfo[p].ReportName=l.reportName))}if(h===null){this._makeSlaveDataRequest({master:r,slaves:d,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}break}for(it===t.dashboardViewer.ActionType.ContextMenu&&this._setHoverSelectionForWidget(h,r),h!==null&&(yt=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejMap"),b={id:r,actionType:it,dataWrapper:v,widgetInstance:yt,masterData:k,slaves:d,callbackfn:null,drillDownData:null,evt:h,filterInfo:ft,isMaximizedView:u},this._widgetActionHandler(b,null)),ot=n("body").find(".e-tree-tool-table"),pt=ot.length,c=0;c<pt;c++)n(ot[c]).parent().css({display:"none"});!t.isNullOrUndefined(b)&&b.actionType!=="ContextMenu"&&!u&&d.length>w&&(h!==null&&h.originalEvent.length>w&&!t.isNullOrUndefined(b)&&!t.isNullOrUndefined(b.actionData)&&b.actionData[w]!=="Linking"?(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})))}},_loadChoroplethMapSlaves:function(r,u,f,e,o,s,h){var b=0,nt=1,d=-1,ot=[],k=null,rt,lt,ut,at,et,vt,yt,g,pt,ht,wt;if(this.controlRelations.length!==b||!t.isNullOrUndefined(s)){var v=this.dashboardControls.getControlByReport(r),tt=null,it=null,ct=null,l=[],a=0,st=null,c=0,p=0,w=-1,y=null,ft=null;if(t.isNullOrUndefined(h)||h.rightClick!==!0||h.type!=="shapeSelected"?t.isNullOrUndefined(h)||h.type!=="shapeSelected"||(ft=t.dashboardViewer.ActionType.Click):ft=t.dashboardViewer.ActionType.ContextMenu,rt=o!==null&&o.DateTimeColumns.length!==b&&typeof o.DateTimeColumns[c]!="undefined"?o.DateTimeColumns[c].toLowerCase():[],h!==null){for(lt=h.originalEvent.length,a=0;a<lt;a++){st=[];ut=h.originalEvent[a].data;for(c in ut)({}).hasOwnProperty.call(ut,c)&&c!=="M"+o.MeasureColumns[0]&&st.push({Column:c.toLowerCase().replace(" ","").substr(nt),Value:ut[c]});typeof ut!="undefined"&&l.push({Items:st})}if(v.SelectedFilterInfo=[],l.length>b){for(at=l.length,y=new selectedFilterInfo,c=0;c<at;c++)for(et=l[c].Items.length,a=0;a<et;a++)if(w=this._checkFilterInfo(l[c].Items[a].Column,v.SelectedFilterInfo),t.isNullOrUndefined(w)||w===d){if(rt.indexOf(l[c].Items[a].Column)!==d){for(y.DateFilterInfo.DateFilterList.push(l[c].Items[a].Value),p=0;p<et;p++)if(l[c].Items[p].Column===l[c].Items[a].Column+"_displayvalue"){y.DateFilterInfo.DisplayDateFilterList.push(l[c].Items[p].Value);break}}else y.DimensionFilterInfo.Text.push(l[c].Items[a].Value);y.DimensionFilterInfo.Conditions=4;y.UniqueColumnName=l[c].Items[a].Column;y.ReportName=v.reportName}else{if(rt.indexOf(l[c].Items[a].Column)!==d){for(v.SelectedFilterInfo[w].DateFilterInfo.DateFilterList.push(l[c].Items[a].Value),p=0;p<et;p++)if(l[c].Items[p].Column===l[c].Items[a].Column+"_displayvalue"){v.SelectedFilterInfo[w].DateFilterInfo.DisplayDateFilterList.push(l[c].Items[p].Value);break}}else v.SelectedFilterInfo[w].DimensionFilterInfo.Text.push(l[c].Items[a].Value);v.SelectedFilterInfo[w].ReportName=v.reportName}ot.push(y)}}for(vt=this.controlRelations.length,c=0;c<vt;c++)if(this.controlRelations[c].Master.indexOf("ChoroplethMap")!==d&&this.controlRelations[c].Master.lastIndexOf("_"+r)+r.length===this.controlRelations[c].Master.length-nt){if(tt=this.controlRelations[c].Master,it=this.controlRelations[c].Slaves,it.length===b&&t.isNullOrUndefined(s)){ct=this._checkFilterOverviewData(r);this._addFilterDataToTitle(ct);return}if(h!==null&&l.length===b&&h.originalEvent.length>b&&h.originalEvent[b].data===i)for(l=[],v.SelectedFilterInfo=[],yt=h.model.layers[0].dataSource.length,p=0;p<yt;p++){g=h.model.layers[0].dataSource[p];for(c in g)({}).hasOwnProperty.call(g,c)&&c!=="M"+o.MeasureColumns[0]&&(w=this._checkFilterInfo(c.substr(nt),v.SelectedFilterInfo),t.isNullOrUndefined(w)||w===d?(y=new selectedFilterInfo,rt.indexOf(c.substr(nt).toLowerCase())!==d?y.DateFilterInfo.DateFilterList.push(g[c]):(y.DimensionFilterInfo.Text.push(g[c]),y.DimensionFilterInfo.Conditions=5),y.UniqueColumnName=c.substr(nt),y.ReportName=v.reportName,ot.push(y)):(rt.indexOf(c.substr(nt))!==d?v.SelectedFilterInfo[w].DateFilterInfo.DateFilterList.push(g[c]):v.SelectedFilterInfo[w].DimensionFilterInfo.Text.push(g[c]),v.SelectedFilterInfo[w].ReportName=v.reportName))}if(h===null){this._makeSlaveDataRequest({master:r,slaves:it,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}}for(ft===t.dashboardViewer.ActionType.ContextMenu&&this._setHoverSelectionForWidget(h,r),h!==null&&(pt=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejMap"),k={id:r,actionType:ft,dataWrapper:l,widgetInstance:pt,masterData:tt,slaves:it,callbackfn:null,drillDownData:null,evt:h,filterInfo:ot,isMaximizedView:u},this._widgetActionHandler(k,null)),ht=n("body").find(".e-tree-tool-table"),wt=ht.length,c=0;c<wt;c++)n(ht[c]).parent().css({display:"none"});!t.isNullOrUndefined(k)&&k.actionType!=="ContextMenu"&&!u&&it.length>b&&(h!==null&&h.originalEvent.length>b&&!t.isNullOrUndefined(k)&&!t.isNullOrUndefined(k.actionData)&&k.actionData[b]!=="Linking"&&k.actionType!=="ContextMenu"?(n("#"+tt+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+tt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+tt+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+tt).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})))}},_removeDrilledMap:function(t){n(t.currentTarget).parents(".e-drilledMap").css({display:"none"})}}}(jQuery,SyncfusionDashboard);$.views.helpers({MapToolTipFormat:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var w=0,y="",p,v;if(ejDashboard.preferredCulture(e),p=ejDashboard.isNullOrUndefined(l)?w:l,v=parseFloat(p.toString()),isNaN(v))return p;if((n==="Number"||n==="Default")&&(Math.abs(p)>1e15||Math.abs(p)<1e-15))return p=p.toString().replaceAll(i,r),p=p.toString().replaceAll(u,f),h+p+c;if(n==="Percent")return $.views.helpers.ApplyPercentage(t,e,o,v,a);if((n==="Number"||n==="Default")&&v<0){v=Math.abs(v);v=parseInt(o)===w?$.views.helpers.truncateNumber(v,a):$.views.helpers.ApplyNumberUnit(parseInt(o),v,a);y=n==="Default"?$.views.helpers._adjustZeros(v,o,t,e)+v.symbol:ejDashboard.globalize.format(v.fraction,t,e)+v.symbol;y=y.replaceAll(i,r);y=y.replaceAll(u,f);switch(s){case"Default":y="-"+y;break;case"NoNegativeSignWithBracket":y="("+y+")";break;case"NegativeSignInSuffix":y+="-"}}else v=parseInt(o)===w?$.views.helpers.truncateNumber(v,a):$.views.helpers.ApplyNumberUnit(parseInt(o),v,a),y=n==="Default"||n==="Number"?$.views.helpers._adjustZeros(v,o,t,e)+v.symbol:ejDashboard.globalize.format(v.fraction,t,e)+v.symbol,y=y.replaceAll(i,r),y=y.replaceAll(u,f);return h+y+c},_adjustZeros:function(n,t,i,r){var f=0;ejDashboard.preferredCulture(r);var e=i,o=parseInt(i.replace(/^\D+/g,"")),u=n;return parseInt(t)===f?(n.fraction===f?(n.symbol="",e=i.replace(o,"0")):(n.fraction===parseInt(n.fraction)||n.fraction%o===f)&&(e=i.replace(o,"0")),ejDashboard.globalize.format(n.fraction,e,r)):t===""?u.fraction:(u.fraction===f&&(u={fraction:f,postFixLabel:""},e=i.replace(o,"0")),(u.fraction===parseInt(u.fraction)||u.fraction%o===f)&&(e=i.replace(o,"0")),ejDashboard.globalize.format(u.fraction,e,r)+(u.postFixLabel?u.postFixLabel:""))},ApplyNumberUnit:function(n,t,i){var r=10,o=2,s=4,h=5,c=3,f=6,e=7,u=1,l=Math.pow(r,c),p=Math.pow(r,h),a=Math.pow(r,f),w=Math.pow(r,e),v=Math.pow(r,9),y=Math.pow(r,12);if(i==="en-IN")switch(n){case u:return{fraction:t/u,symbol:""};case o:return{fraction:t/l,symbol:"K"};case c:return{fraction:t/p,symbol:"L"};case s:return{fraction:t/a,symbol:"M"};case h:return{fraction:t/w,symbol:"C"};case f:return{fraction:t/v,symbol:"B"};case e:return{fraction:t/y,symbol:"T"};default:return{fraction:t,symbol:""}}else switch(n){case u:return{fraction:t/u,symbol:""};case o:return{fraction:t/l,symbol:"K"};case s:return{fraction:t/a,symbol:"M"};case f:return{fraction:t/v,symbol:"B"};case e:return{fraction:t/y,symbol:"T"};default:return{fraction:t,symbol:""}}},ApplyPercentage:function(n,t,i,r,u){var f;return(ejDashboard.preferredCulture(t),f=parseFloat(r.toString()),isNaN(f))?r:(f*=100,f=i===0?$.views.helpers.truncateNumber(f,u):$.views.helpers.ApplyNumberUnit(i,f),typeof f.symbol!="undefined")?ejDashboard.globalize.format(f.fraction,n.replace("P","N"),t)+f.symbol+"%":ejDashboard.globalize.format(f.fraction,n.replace("P","N"),t)+"%"},truncateNumber:function(n,t){var e=10,o=Math.pow(e,3),s=Math.pow(e,5),r=Math.pow(e,6),h=Math.pow(e,7),u=Math.pow(e,9),f=Math.pow(e,12),i=n;if(t==="en-IN"){if(i>=o&&i<s||i<=-o&&i>-s)return{fraction:$.views.helpers._calculateFraction(i,o),symbol:"K"};if(i>=s&&i<r||i<=-s&&i>-r)return{fraction:$.views.helpers._calculateFraction(i,s),symbol:"L"};if(i>=r&&i<h||i<=-r&&i>-h)return{fraction:$.views.helpers._calculateFraction(i,r),symbol:"M"};if(i>=h&&i<u||i<=-h&&i>-u)return{fraction:$.views.helpers._calculateFraction(i,h),symbol:"C"};if(i>=u&&i<f||i<=-u&&i>-f)return{fraction:$.views.helpers._calculateFraction(i,u),symbol:"B"};if(i>=f||i<=-f)return{fraction:$.views.helpers._calculateFraction(i,f),symbol:"T"}}else{if(i>=o&&i<r||i<=-o&&i>-r)return{fraction:$.views.helpers._calculateFraction(i,o),symbol:"K"};if(i>=r&&i<u||i<=-r&&i>-u)return{fraction:$.views.helpers._calculateFraction(i,r),symbol:"M"};if(i>=u&&i<f||i<=-u&&i>-f)return{fraction:$.views.helpers._calculateFraction(i,u),symbol:"B"};if(i>=f||i<=-f)return{fraction:$.views.helpers._calculateFraction(i,f),symbol:"T"}}return{fraction:i,symbol:""}},_calculateFraction:function(n,t){return n/t}}),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.pivotGrid={_renderPivotGrid:function(r,u){var v=0,it=1,g=null,a=!1,e=null,p=null,f=null,o=null,c=null,l=null,y=null,et,s,w,h,b,k,nt,d,ot,st,ht,tt;f=r.configInfo;p=r.getCurrentPageData();var rt=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.jsonRecords)&&!u.isMaximize?u.jsonRecords:r.getCurrentPageData().pagedata,ct=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.filterInfo)?u.filterInfo:null,ut=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.pvtReport)?u.pvtReport:null,ft=r.reportName;if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.pivotgridDiv)){if(e=n("#"+this._id+t.DashboardConstants.Widget+f.Id),g=e.attr("id"),et=e.data("ejPivotgrid"),t.isNullOrUndefined(et)&&(g=null),t.isNullOrUndefined(e.find("#"+e.attr("id")+"_div").data("ejDashboardPivotGrid"))||(e.find("#"+e.attr("id")+"_div").data("ejDashboardPivotGrid")&&e.find("#"+e.attr("id")+"_div").ejDashboardPivotGrid("destroy"),e.find("#"+e.attr("id")+"_div").html("")),s=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),g!==null||e.hasClass(".e-table dashboardPivotGridControl")||(f.EnableFrozenHeaders?(e=s.find(".e-dbrd-control"),e.addClass(".e-table dashboardPivotGridControl").css({width:e.parent().width(),margin:"1px",height:e.height()-it}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),s.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),s.find(".e-dbrd-export").attr({value:f.Id}),s.attr({"data-controltype":"PivotGrid"})):(e=s.find(".e-dbrd-control"),e.addClass(".e-table dashboardPivotGridControl").css({width:e.parent().width(),overflow:"hidden","margin-left":"-1px",height:e.height()-it}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),s.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),s.find(".e-dbrd-export").attr({value:f.Id}),s.attr({"data-controltype":"PivotGrid"}))),e.attr({"data-controlId":f.Id}),p.isError){this._showControlError(p.pagedata,e,f);return}this._hideControlError(e)}else e=u.pivotgridDiv,a=u.isMaximize;if(!this._applyOrRemoveNoDataAvailable(p.pagedata.length,e)){e.data("ejDashboardScroller")&&e.ejDashboardScroller("destroy");return}if(this._dashboardData().isExportImage&&t.isNullOrUndefined(r.PivotReport))for(w=this._dashboardData().widgetData.d,o=0;o<w.length;o++)if(w[o].reportName===r.reportName){r.PivotReport=w[o].PivotReport;break}if(this.dashboardControls.getControlByReport(ft)&&(c=new Dbrdcontrol,c=c.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(ft)))),y=n.parseJSON(c.PivotReport),y=ut!==null?n.parseJSON(ut):y),e.find("#"+e.attr("id")+"_div").length===v&&e.append(n("<div>").attr({id:e.attr("id")+"_div"})),h={},f.IsMasterFilter&&!f.IsLinked&&!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length){for(o=0;o<r.SelectedFilterInfo.length;o++)r.SelectedFilterInfo[o].DimensionFilterInfo!==null&&r.SelectedFilterInfo[o].DimensionFilterInfo.Text.length>v&&(l=r.SelectedFilterInfo[o].UniqueColumnName,h[l]=r.SelectedFilterInfo[o].DimensionFilterInfo.Text),r.SelectedFilterInfo[o].DateFilterInfo!==null&&r.SelectedFilterInfo[o].DateFilterInfo.DateFilterList.length>v&&(l=r.SelectedFilterInfo[o].UniqueColumnName,h[l]=r.SelectedFilterInfo[o].DateFilterInfo.DateFilterList);b=null;n.map(rt,function(n){n.ActualValue===h[l][0]&&(b=n.Value)});t.isNullOrUndefined(b)||(h[l]=[],h[l].push(b))}if(k={},f.ExpandedNodes&&f.ExpandedNodes.length>v&&!a){for(nt=[],o=0;o<f.ExpandedNodes.length;o++)k[f.ExpandedNodes[o].Column]=f.ExpandedNodes[o].Values,d=new expandedNodesInfo,d.UniqueColumnName=f.ExpandedNodes[o].Column,d.ExpandedNodes=f.ExpandedNodes[o].Values,nt.push(d);c.expandedNodes=nt;this.dashboardControls.updateCurrentReport(c)}else n.each(c.expandedNodes,function(n,t){k[t.UniqueColumnName]=t.ExpandedNodes});f.EnableFrozenHeaders&&(ot=e.find("#"+e.attr("id")+"_div"),ot.css({height:e.height(),width:e.parent().width()}));st=this.model.localeSettings.resourcePath;ht=this.model.localeSettings.culture;e.find("#"+e.attr("id")+"_div").ejDashboardPivotGrid({enableJSONRendering:!0,operationalMode:"servermode",jsonRecords:{JsonRecords:rt,PivotReport:y},enableCellContext:!0,cellContext:f.IsMasterFilter&&!a||f.IsLinked?n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,f.DateTimeColumns,f):[],serviceMethodSettings:{drillDown:"GetDrillControlData",fetchMembers:"GetDrillControlData",filtering:"GetDrillControlData",sorting:"GetDrillControlData",valueSorting:"GetDrillControlData"},renderSuccess:n.proxy(this._pivotGridRenderSuccess,this,e),drillSuccess:n.proxy(this._pivotGridDrillSuccess,this,e,a),frozenHeaderSettings:{enableFrozenHeaders:f.EnableFrozenHeaders},enableValueSorting:f.EnableMeasureSorting,isResponsive:!0,loadOnDemand:!0,expandedMembers:k,selectedCells:h!==null?h:null,enableCellSelection:f.IsMasterFilter&&!a||f.IsLinked,enableCollapseByDefault:!0,cellSelection:f.IsMasterFilter&&!a||f.IsLinked?n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,f.DateTimeColumns,f):[],enableColumnGrandTotal:f.EnableColumnGrandTotal,enableRowGrandTotal:f.EnableRowGrandTotal,enableGroupingBar:f.EnableGroupingBar,columnHeaderHyperlinkClick:n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,f.DateTimeColumns,f),rowHeaderHyperlinkClick:n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,f.DateTimeColumns,f),summaryCellHyperlinkClick:n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,f.DateTimeColumns,f),beforeServiceInvoke:n.proxy(this._beforeServiceInvoke,this,e),customObject:{dashboardPath:this.dashboardPath(),controlId:f.Id,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,customCulture:ht,customLanguagePath:st}});tt=e.find("#"+e.attr("id")+"_div").data("ejDashboardPivotGrid");tt._tempFilterData=ct;tt._createGroupingBar(y);!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>v&&(n("#"+e.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+e.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));f.EnableFrozenHeaders||this._refreshScroller(e)},_setPivotGridConfigInfo:function(n){return n},_pivotGridRenderSuccess:function(i,r){var o=0,p=1,g=[],w=[],nt=!1,f=0,v=0,h=0,l=0,ot=null,tt=null,u=i.children().data("ejDashboardPivotGrid"),ut=n(i).hasClass("e-dbrd-MaximizedControl"),b,e,rt,s,k,c,a,d,ft,it,y,et;if(ut||(u._pivotJSONData=n.extend(!0,[],u.getJSONRecords()),u._pivotFilterData=n.extend(!0,[],u._tempFilterData)),n(u).find(".value, .rowheader, .colheader, .summary").click(function(t){tt=n(t.target).parents(".e-pivotgrid:eq(0)").data("ejDashboardPivotGrid");ot={element:tt.element,model:tt.model,customObject:tt.model.customObject,args:t,type:t.target.className.indexOf("summary")>=o?"summaryCellHyperlinkClick":t.target.className.indexOf("value")>=o?"valueCellHyperlinkClick":t.target.className.indexOf("rowheader")>=o?"rowHeaderHyperlinkClick":t.target.className.indexOf("colheader")>=o?"columnHeaderHyperlinkClick":""}}),b=0,e=new Dbrdcontrol,!t.isNullOrUndefined(u)){if(rt=i.attr("data-controlid"),this.dashboardControls.getControlByReport(rt)&&(e=e.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(rt))))),r.action!=="resizeWindow"&&(s=[],t.isNullOrUndefined(r)||t.isNullOrUndefined(r.expandedData)?ut||t.isNullOrUndefined(e.data[0])||t.isNullOrUndefined(e.data[0].ExpandedNodeData)||n.each(e.data[0].ExpandedNodeData,function(n,t){s.push({key:n,value:t})}):s=r.expandedData,!t.isNullOrUndefined(s)))for(v=0;v<s.length;v++){for(k=JSON.parse(s[v].value),k=u._processDrilledRecords(k),c=i.find((u.model.frozenHeaderSettings.enableFrozenHeaders?"td":"th")+"[role='rowheader']"),a=s[v].key.split("|~|"),nt=!1,h=v;h>=o;h--)if(s[h].key.split("|~|").length===a.length&&s[h].key!==s[v].key){nt=!0;break}for(l=0;l<a.length;l++)if(a.length===p){for(f=0;f<c.length;f++)if(n(c[f]).text().trim()===a[0]){n(c[f]).attr("isChildLoaded",!0);u._insertRows(n(c[f])[0],k,nt);break}}else if(l===o){for(f=0;f<c.length;f++)if(n(c[f]).text().trim()===a[l].trim()){g=n(c[f]);break}}else{for(d=g.attr("p").split(","),ft=parseInt(d[d.length-p])+parseInt(g.attr("rowspan")),h=d[d.length-p];h<ft;h++)if(w=n.grep(c,function(t){return n(t).attr("p")===l+","+h}),n(w[0]).text().trim()===a[l].trim())break;l===a.length-p?(n(w[0]).attr("isChildLoaded",!0),u._insertRows(w[0],k,nt)):g=w}}if(it=JSON.parse(u.getOlapReport()).Filters,n("#dashboard_maximized").length>o&&it.length>o)for(b=0;b<it.length;b++)y="#pivotButton"+it[b].DimensionName,y.length>o&&(y=y.match(/\S+/g)[0]),n(y).siblings(".filter").hasClass("filtered")&&(et="#dashboard_maximized "+y,n(et).siblings(".filter").addClass("filtered"));e.PivotReport!==u.getOlapReport()&&n("#dashboard_maximized").length===o&&u.getOlapReport()&&(e.PivotReport=u.getOlapReport(),e.data[e.data.length-p].pagedata=u._JSONRecords,this.dashboardControls.updateCurrentReport(e))}!t.isNullOrUndefined(u)&&u.model.enableJSONRendering?(u.model.url=this.serviceUrl(),u.model.enableJSONRendering=!1):t.isNullOrUndefined(u)||u._errorMessage===""||this._showPivotGridError(u,i);u.model.frozenHeaderSettings.enableFrozenHeaders?(this._refreshScrollerForFrozenHeaders(i),this._refreshGroupingBarForFrozenHeaders(i)):(this._refreshScroller(i),this._refreshGroupingBar(i))},_pivotGridDrillSuccess:function(i,r){var h,f;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.drillDown,source:{element:null,data:i}});var o=0,s=null,v=null,e=0,u=i.children().data("ejDashboardPivotGrid");t.isNullOrUndefined(u)||u._errorMessage===""||this._showPivotGridError(u,i);n(u).find(".value, .rowheader, .colheader, .summary").click(function(t){s=n(t.target).parents(".e-pivotgrid:eq(0)").data("ejDashboardPivotGrid");v={element:s.element,model:s.model,customObject:s.model.customObject,args:t,type:t.target.className.indexOf("summary")>=o?"summaryCellHyperlinkClick":t.target.className.indexOf("value")>=o?"valueCellHyperlinkClick":t.target.className.indexOf("rowheader")>=o?"rowHeaderHyperlinkClick":t.target.className.indexOf("colheader")>=o?"columnHeaderHyperlinkClick":""}});var l=i.attr("data-controlid"),a=[],c=Object.keys(u.model.expandedMembers);for(e=0;e<c.length;e++)h=new expandedNodesInfo,h.UniqueColumnName=c[e],h.ExpandedNodes=u.model.expandedMembers[c[e]],a.push(h);this.dashboardControls.getControlByReport(l)&&!r&&(f=new Dbrdcontrol,f=f.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(l)))),f.data[f.data.length-1].pagedata=u._JSONRecords,f.expandedNodes=a,this.dashboardControls.updateCurrentReport(f));u.model.frozenHeaderSettings.enableFrozenHeaders?(this._refreshScrollerForFrozenHeaders(i),this._refreshGroupingBarForFrozenHeaders(i)):(this._refreshScroller(i),this._refreshGroupingBar(i));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.drillDown,source:{element:null,data:i}})},_beforeServiceInvoke:function(n,i){var f=n.children().data("ejDashboardPivotGrid"),r=0,o=0,c=this.model.localeSettings.resourcePath,l=this.model.localeSettings.culture,h,e,s,u;if(t.isNullOrUndefined(f)||t.isNullOrUndefined(f.model.customObject)||(f.model.customObject.masterData=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),f.model.customObject.rangeData=JSON.stringify(this.rangeData),f.model.customObject.customCulture=l,f.model.customObject.customLanguagePath=c),h=n.attr("data-controlid"),e=new Dbrdcontrol,this.dashboardControls.getControlByReport(h)&&(e=e.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(h))))),!e.configInfo.EnableStatePersistence&&(i.action==="sorting"||i.action==="filtering")){if(s={},!t.isNullOrUndefined(e.configInfo.ExpandedNodes)){for(u=e.configInfo.ExpandedNodes,r=0;r<u.length;r++)for(o=0;o<u[r].Values.length;o++)f.model.expandedMembers[u[r].Column]&&f.model.expandedMembers[u[r].Column].indexOf(u[r].Values[o])===-1&&u[r].Values.pop(u[r].Values[o]);for(r=0;r<u.length;r++)s[u[r].Column]=u[r].Values}f.model.expandedMembers=s;e.expandedNodes=s;this.dashboardControls.updateCurrentReport(e)}},_refreshScroller:function(t){var u=t.parent(),i=u.height()-(u.find(".e-control-heading").height()+u.find(".e-control-subtitleHeading").height()),f=t.width(),r;i=i-(n(t).find(".pivotGridTable").width()>f?-6:13);n(t).find(".e-pivotgrid").height(i);r=t.data("ejDashboardScroller");typeof r!="undefined"?(r.model.height=i,r.model.width=f,r.refresh()):(t.ejDashboardScroller({height:i,width:f}),t.ejDashboardScroller("refresh"))},_refreshGroupingBar:function(n){var r=n.find(".pivotGridTable"),t=n.find(".groupingBarPivot"),u,i,f;t.width(r.width()-1);u=r.find(".grpRow");i=t.find(".values");i.width(u.width()+3);f=t.find(".columns");f.width(t.width()-i.width()-5);this._refreshScroller(n)},_refreshScrollerForFrozenHeaders:function(t){var f=13,o=t.height(),e=t.width(),i,r,u;n(t).find(".e-pivotgrid").height(o);n(t).find(".e-pivotgrid").width(e);n(t).find(".pivotGridTable").width(e);i=n(t).find(".e-pivotgrid").data("ejDashboardPivotGrid");i._applyFrozenHeaderWidth(i._JSONRecords);n(t).find(".e-scroller .e-hscroll").length>0&&(r=n(t).find("#rowvaluecontent"),u=n(t).find(".rowhead"),r.height(r.height()-f),n(t).find(".rowhead").css({"padding-bottom":"0px"}),u.css({height:u.height()-f}))},_refreshGroupingBarForFrozenHeaders:function(n){var u=5,f=n.find(".pivotGridTable"),i=n.find(".groupingBarPivot"),r,t,e,o;i.width(n.width()-1);r=f.find(".colfreeze");t=i.find(".values");t.width(r.width());e=i.find(".columns");o=f.find(".rows");e.width(i.width()-t.width()-u);o.width(t.width()-u);t.css({"min-width":r.width()})},_showPivotGridError:function(n,t){this._showControlError(n._errorMessage,t,JSON.parse(n._configInfo));n.ogridWaitingPopup!==null&&n.ogridWaitingPopup.hide();return},_loadPivotGridSlaves:function(i,r,u,f,e,o){var k=0,tt=-1,it=null,at=!t.isNullOrUndefined(r),v,g,lt,nt,y,a,b;if(t.isNullOrUndefined(e)||t.isNullOrUndefined(o)||(it={id:e.Id,configInfo:e,evt:o},o.type==="cellContext"&&this._setHoverSelectionForWidget(it,i)),this.controlRelations.length!==k||at||e.IsLinked){var h=[],p=null,rt=null,ut=[],s=0,w=0,l=null,ft=[],d=null,et=null,ot=null,st=null,c=null,ht=[],ct=null;if(t.isNullOrUndefined(o)||(o.JSONRecords=o.JSONRecords||[o.args.rawdata]),!t.isNullOrUndefined(o)){for(s in o.JSONRecords)if({}.hasOwnProperty.call(o.JSONRecords,s)){if(v=[],o.JSONRecords[s].CSS==="colheader calc"&&o.model.enableValueSorting)return;o.JSONRecords[s].CSS!=="summary gtot"&&o.JSONRecords[s].Info!=="GrandTotal"&&(t.isNullOrUndefined(o.JSONRecords[s].ActualValue)?v.push(o.JSONRecords[s].Value):v.push(o.JSONRecords[s].ActualValue),ft.push(o.JSONRecords[s].Value));v.length>0&&o.JSONRecords[s].Tag!==null&&o.JSONRecords[s].Tag!==""&&h.push({Column:o.JSONRecords[s].Tag,Value:v,IsDateTime:!1})}et=n("#"+this._id+t.DashboardConstants.Widget+i).find(".e-pivotgrid").data("ejDashboardPivotGrid");l=this.dashboardControls.getControlByReport(i);l.SelectedItems.Included=o.model.selectedCells;ut.push({Items:h})}for(s=0;s<this.controlRelations.length;s++)if(this.controlRelations[s].Master.indexOf("Grid")!==tt&&this.controlRelations[s].Master.lastIndexOf("_"+i)+i.length===this.controlRelations[s].Master.length-1){if(p=this.controlRelations[s].Slaves,p.length===k&&(rt=this._checkFilterOverviewData(i),this._addFilterDataToTitle(rt)),!t.isNullOrUndefined(o)&&h.length>k)for(l=this.dashboardControls.getControlByReport(i),l.SelectedFilterInfo=[],s=0;s<h.length;s++){for(g=!1,w=0;w<f.length;w++)if(f[w].indexOf(h[s].Column.toUpperCase())!==tt){g=!0;break}c=new selectedFilterInfo;c.UniqueColumnName=h[s].Column;g?(c.DateFilterInfo.DateFilterList=h[s].Value,c.DateFilterInfo.DisplayDateFilterList=ft):(c.DimensionFilterInfo.Text=h[s].Value,c.DimensionFilterInfo.Conditions="Include");c.ReportName=l.reportName;ht.push(c)}else h.length===0&&(l=this.dashboardControls.getControlByReport(i),l.SelectedFilterInfo=[]);this.target=[];t.isNullOrUndefined(o)&&(lt={master:i,masterData:this.dashboardControls.getAllControlsMasterData(),slaves:p,canDrill:!1,showIndicator:!0,isAutoRefresh:!1},this._makeSlaveDataRequest(lt));break}if(t.isNullOrUndefined(o)||t.isNullOrUndefined(o.cellClickInfo)||e.IsLinked&&t.isNullOrUndefined(r)&&(ct=n(this.element).find('.e-dbrd-control[data-controlid = "'+i+'"]'),t.isNullOrUndefined(o.cellClickInfo.model)&&(o.cellClickInfo.model=o.model),ot={cellClickInfo:o.cellClickInfo,pivotGridControl:ct},st=this._headerHyperlinkClick),t.isNullOrUndefined(o)||(o.type==="cellSelection"||o.type==="summaryCellHyperlinkClick"||o.type==="columnHeaderHyperlinkClick"||o.type==="rowHeaderHyperlinkClick"?d=t.dashboardViewer.ActionType.Click:o.type==="cellContext"&&(d=t.dashboardViewer.ActionType.ContextMenu)),nt={id:i,filterInfo:ht,actionType:d,dataWrapper:ut,evt:o,widgetInstance:et,masterData:this.dashboardControls.getAllControlsMasterData(),slaves:p,callbackfn:st,drillDownData:null,linkingData:ot},this._widgetActionHandler(nt),y=this._id+t.DashboardConstants.Widget+i,t.isNullOrUndefined(o))n("#"+y+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+y).parents(".e-dbrd-control-container").data({IsFilterApplied:!1});else for(a=0;a<e.ActionSetting.length;a++)if(e.ActionSetting[a].ActionType===nt.actionType&&e.ActionSetting[a].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(b=0;b<e.ActionSetting[a].Action.length;b++)e.ActionSetting[a].Action[b]==="Filter"&&(n("#"+y+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+y+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}},_headerHyperlinkClick:function(i,r){var f,o,u,e,c,s,l,h;t.isNullOrUndefined(r.args.target)||(f=n(r.args.target.parentElement),o=f.attr("role"),(o==="row"||o==="column")&&(f=n(r.args.target),o=f.attr("role")),u=null,e=null,o==="rowheader"?(c=f.attr("p").split(",")[0],s=r.model.jsonRecords.PivotReport.PivotRows[c],t.isNullOrUndefined(s)||!s.EnableHyperlink||t.isNullOrUndefined(s.UrlLink)||(e=f.textContent,t.isNullOrUndefined(e)&&(e=f.find(".cellValue").text()),u=s.UrlLink.replace("{{:"+s.FieldName.toUpperCase()+"}}",e),u.match(/^[a-zA-Z]+:\/\//)||(u="http:// "+u),window.open(encodeURI(u)))):o==="columnheader"&&(l=f.attr("p").split(",")[1],h=r.model.jsonRecords.PivotReport.PivotColumns[l],t.isNullOrUndefined(h)||!h.EnableHyperlink||t.isNullOrUndefined(h.UrlLink)||(e=f.textContent,t.isNullOrUndefined(e)&&(e=f.find(".cellValue").text()),u=h.UrlLink.replace("{{:"+h.FieldName.toUpperCase()+"}}",e),u.match(/^[a-zA-Z]+:\/\//)||(u="http:// "+u),window.open(encodeURI(u)))))}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.rangeNavigator={_renderRangeNavigator:function(r){var c=0,w=1,b=120,l=r.getCurrentPageData(),u=r.configInfo,tt=this.dashboardControls.getControlByReport(u.Id),k=null,o=[],h=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=h.find(".e-dbrd-control"),d,a,v,y,e,p;if(l.isError){f.attr({id:this._id+t.DashboardConstants.Widget+u.Id,"data-controlId":u.Id});this._showControlError(l.pagedata,f,u);return}for(d=l.pagedata.length,a=0;a<d;a++)o.push(JSON.parse(l.pagedata[a]));if(this._hideControlError(f),v=null,y=null,this._applyOrRemoveNoDataAvailable(o[0]?o[0].length:c,f)){if(e=f.data("ejDashboardRangeNavigator"),!t.isNullOrUndefined(e)){e?(e.model.series=this._CreateNaviSeries(o,u,this.theme.RangeNavigator[0]),t.isNullOrUndefined(r.SelectedItems.DateRange.start)||t.isNullOrUndefined(r.SelectedItems.DateRange.end)||r.SelectedItems.DateRange.start===""||r.SelectedItems.DateRange.end===""||!this._validateSelectedRanges(o,r.SelectedItems.DateRange)?(e.model.zoomPosition=w,e.model.zoomFactor=w,!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>c?(e.model.selectedRangeSettings.start=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],e.model.selectedRangeSettings.end=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]):(e.model.selectedRangeSettings.start="",e.model.selectedRangeSettings.end=""),e.renderNavigator()):(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),e.model.selectedRangeSettings.start=t.globalize.format(new Date(r.SelectedItems.DateRange.start),"yyyy/MM/dd"),e.model.selectedRangeSettings.end=t.globalize.format(new Date(r.SelectedItems.DateRange.end),"yyyy/MM/dd"),e.renderNavigator())):k=null;return}if(p=null,k===null&&(h.attr({"data-controltype":"RangeNavigator"}),p=n('<div style="height:100%; width:100%; display:table">'),h.find(".e-dbrd-control-container").append(p),p.append(f),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id,"data-controlId":u.Id}),h.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:u.Id})),v="",y="",!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>c&&(v=t.globalize.format(new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]),"yyyy/MM/dd"),y=t.globalize.format(new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]),"yyyy/MM/dd"),n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})),f.attr({"data-stuff":'["'+u.xTitle+'","'+u.yTitle+'"]'}),f.addClass("e-dbrd-rangenavi"),this._applyOrRemoveNoDataAvailable(o[0]?o[0].length:c,f)){this._CreateNaviThumbTemplate(u);var it=f.height()>200?150:f.height()>b?b:f.height()-15,rt=f.width(),ut=u.Type?u.Type.toLowerCase():"line",ft=this.theme.palette,et=!(f.width()<125),ot=String(u.LabelFormat),s=tt.customTheme,st=s.toolTipBackground,ht=s.toolTipData,g=this.theme.RangeNavigator[0],ct=this._CreateNaviSeries(o,u,g),nt=u.IntervalType,lt=nt?nt.toLowerCase():"quarters",at=g.labelSettingsLowerLevelColor,vt=s.unSelectedRegionColor,yt=this._id+"_"+u.Id+"_thumb",pt=this._id+"_"+u.Id+"_thumb",wt=s.backgroundColor,bt=s.navigatorBorderColor,kt=s.navigatorBackgroundColor,dt=s.borderColor,gt=u.IsMasterFilter?n.proxy(this._loadRangeNaviSlaves,this,u.Id,u.IsLinked?u.ControlLinkData:i,u.ColumnName.toLowerCase()):null;f.ejDashboardRangeNavigator({enableDeferredUpdate:!0,enableAutoResizing:!0,padding:"15",sizeSettings:{height:it,width:rt},selectedRangeSettings:{start:v,end:y},palette:ft,seriesSettings:{type:ut,animation:!0,style:{borderColor:"transparent",opacity:.5,fill:"green",borderWidth:.5},fill:"green"},tooltipSettings:{visible:et,labelFormat:ot,backgroundColor:st,tooltipDisplayMode:"always",font:{color:ht,fontStyle:"Normal",fontFamily:"Segoe UI",size:"12px",opacity:1,fontWeight:"regular"}},series:ct,valueType:"datetime",labelSettings:{higherLevel:{intervalType:"",style:{font:{color:"transparent",fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",opacity:1,fontWeight:"regular"},horizontalAlignment:"left"},gridLineStyle:{color:"transparent",width:1,dashArray:"17 5 0"},labelPlacement:"inside"},lowerLevel:{intervalType:lt,style:{font:{color:at,fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"},horizontalAlignment:"middle"},gridLineStyle:{color:"black",width:1,dashArray:"0 13 5"},labelPlacement:"inside"}},valueAxisSettings:{rangePadding:"none",font:{size:"0px"},majorTickLines:{size:0}},navigatorStyleSettings:{selectedRegionColor:"transperant",unselectedRegionColor:vt,unselectedRegionOpacity:.5,leftThumbTemplate:yt,rightThumbTemplate:pt,background:wt,thumbStroke:bt,thumbColor:kt,border:{color:dt,width:.5},majorGridLineStyle:{color:"transparent"},minorGridLineStyle:{color:"transparent"}},rangeChanged:gt})}}},_setRangeNavigatorConfigInfo:function(n){n.configInfo.IsToolTipVisible=t.isNullOrUndefined(n.configInfo.IsToolTipVisible)||n.configInfo.IsToolTipVisible;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.Type=t.isNullOrUndefined(n.configInfo.Type)?"SplineArea":n.configInfo.Type;n.configInfo.IntervalType=t.isNullOrUndefined(n.configInfo.IntervalType)?"Years":n.configInfo.IntervalType;n.configInfo.LabelFormat=t.isNullOrUndefined(n.configInfo.LabelFormat)?"":n.configInfo.LabelFormat;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.xTitle=t.isNullOrUndefined(n.configInfo.xTitle)?"":n.configInfo.xTitle;n.configInfo.yTitle=t.isNullOrUndefined(n.configInfo.yTitle)?"":n.configInfo.yTitle;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName},_CreateNaviSeries:function(n,t){for(var r=[],u=n.length,i=0;i<u;i++)r.push({dataSource:n[i],xName:["xValue"],yName:["yValue"],xAxis:{title:{text:t.xTitle}},yAxis:{title:{text:t.yTitle}},fill:this.theme.palette[i],opacity:.5});return r},_CreateNaviThumbTemplate:function(i){var r;n("#"+this._id+"_"+i.Id+"_thumb").length===0&&(r=null,r=n("#"+this._id+t.DashboardConstants.Widget+i.Id).height()>100?'<script type="text/x-jsrender" id="'+this._id+"_"+i.Id+'_thumb"><div style="height: 46px;width: 12px;border-radius:46px;background-color: #404041; margin-left: 2px;"/><\/script>':'<script type="text/x-jsrender" id="'+this._id+"_"+i.Id+'_thumb"><div style="height: 30px;width: 12px;border-radius:30px;background-color: #404041; margin-left: 2px;"/><\/script>',this.currentTabContentElement.append(r))},_validateSelectedRanges:function(n,t){var i=n[0],r=new Date(parseFloat(i[0].xValue.toString().replace("/Date(","").replace(")/",""))),u=new Date(parseFloat(i[i.length-1].xValue.toString().replace("/Date(","").replace(")/","")));return new Date(t.start)>=r&&new Date(t.end)<=u?!0:(t.start="",t.end="",!1)},_loadRangeNaviSlaves:function(i,r,u,f){var y=0,l=-1,b=1,c,o,s,e,a,p,h,k;if((this.controlRelations.length!==y||!t.isNullOrUndefined(r))&&this.flag&&(c=null,o=0,t.isNullOrUndefined(f)||t.isNullOrUndefined(c)||c[0]===null||c[1]===null||c[0].indexOf(new Date(f.selectedRangeSettings.start).toJSON())===l||c[1].indexOf(new Date(f.selectedRangeSettings.end).toJSON())===l)){s=[];e=this.dashboardControls.getControlByReport(i);f!==null&&(f.selectedRangeSettings.start!==""&&f.selectedRangeSettings.end!==""&&(f.selectedRangeSettings.start.toDateString()!==f.series[0].dataSource[0].xValue.toDateString()||f.selectedRangeSettings.end.toDateString()!==f.series[0].dataSource[f.series[0].dataSource.length-b].xValue.toDateString())?(s.push(f.selectedRangeSettings.start.toISOString()),s.push(f.selectedRangeSettings.end.toISOString()),e.SelectedItems.DateRange.start=s[0],e.SelectedItems.DateRange.end=s[1]):(e.SelectedItems.DateRange.start="",e.SelectedItems.DateRange.end="",e.SelectedFilterInfo=[]));a=null;p=null;this.target=[];var w=null,v=-1,d=this.controlRelations.length;for(o=0;o<d;o++)if(this.controlRelations[o].Master.indexOf("RangeNavigator")!==l&&this.controlRelations[o].Master.lastIndexOf("_"+i)+i.length===this.controlRelations[o].Master.length-b){if(w=this.controlRelations[o].Master,a=this.controlRelations[o].Slaves,a.length===y){p=this._checkFilterOverviewData(i);this._addFilterDataToTitle(p);return}s.length>y&&(v=this._checkFilterInfo(u,e.SelectedFilterInfo),t.isNullOrUndefined(v)||v===l?(h=new selectedFilterInfo,h.UniqueColumnName=u,h.DateFilterInfo.DateFilterList=s,h.DateFilterInfo.DateFilterType="Exact",h.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange,h.DateFilterInfo.DateFormat="Default",h.ReportName=e.reportName,e.SelectedFilterInfo.push(h)):e.SelectedFilterInfo[v].DateFilterInfo.DateFilterList=s);k={master:i,masterData:this.masterData,slaves:a,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(k);break}f!==null&&(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.card={_renderCards:function(i,r){var u=i.configInfo,lt=null,y=null,c=0,v=null,at=null,g=-1,s=1,kt,vt,it,rt,yt,ut,ft,dt,gt,e,et,ii,ri,w,wt,oi,ot,b,st,si,hi,ht,ct;t.isNullOrUndefined(i.data)||t.isNullOrUndefined(i.data[0].pagedata)||!this._dashboardData().isExportImage||(lt=i.data[0],lt.scrollTop=0,i.currentPage=1);var p=this._dashboardData().isExportImage?lt:i.getCurrentPageData(),k=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=k.find(".e-dbrd-control");if(p.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl");this._showControlError(p.pagedata,f,u);return}if(this._hideControlError(f),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.cardDiv)?(k.attr({"data-controltype":"Card"}),f.attr({"data-controlId":u.Id}),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl")):f=r.cardDiv,this._applyOrRemoveNoDataAvailable(p.pagedata.length,f)){var nt=null,l=f.attr("id"),a=null,tt=null,o=0,h=0,bt=0;if(i.loadedPages.length===c||r&&r.isMaximize)i.loadedPages.indexOf(i.currentPage)===g&&i.loadedPages.push(i.currentPage),l=f.attr("id"),t.isNullOrUndefined(r)&&f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl"),l=f.attr("id"),k.find(".e-remove-control-filter").attr("id",t.isNullOrUndefined(r)?f.attr("id")+"_removeControlFilter":r.id+"_removeControlFilter"),k.find(".e-dbrd-export").attr({value:u.Id}),f.children().length>c&&(f.data("ejDashboardScroller")&&(bt=f.data("ejDashboardScroller").model.scrollTop),t.widget.destroyAll(f.find(".e-js").off()),f.children().remove()),kt=f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:f.siblings(".e-control-subtitleHeading").height(),vt=f.parent(".e-dbrd-control-container").height(),f.parent(".e-dbrd-control-container").length===t.DashboardConstants.Zero&&(vt=f.height()),it=vt-(f.siblings(".e-control-heading").children().height()+kt+(f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(f.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").css("margin-top")))+5),y=this._renderThePages(f,p.pagedata.length,i.currentPage,u,l,i.scrollSetting.controlPerPage),a=y.table,tt=n("<div>").width(f.width()+10),f.append(tt.append(a)),a.css({position:"relative"}),i.scrollSetting.rowPerPage=y.rowCount,i.scrollSetting.colPerPage=y.colCount,rt=i.scrollSetting.rowPerPage*i.scrollSetting.colPerPage,i.scrollSetting.emptyCellsCount=rt>i.scrollSetting.controlPerPage?rt-i.scrollSetting.controlPerPage:0,i.scrollSetting.controlPerPage=rt,i.totalPages=Math.ceil(i.totalCount/i.scrollSetting.controlPerPage),i.scrollSetting.heightOfColumn=y.heightOfColumn,nt=y.widthOfColumn,i.scrollSetting.widthOfColumn=y.widthOfColumn,i.currentPage===s?i.heightPerPage=a.height():i.currentPage>s&&(a.prepend(n("<tr>").css({height:(i.currentPage-s)*i.heightPerPage})),a.append(n("<tr>").css({height:(i.totalPages-i.currentPage)*i.heightPerPage})),i.scrollSetting.scrollTop!==c||f.hasClass("e-dbrd-MaximizedControl")||(i.scrollSetting.scrollTop=(i.currentPage-s)*i.heightPerPage)),yt=!1,f.data("ejDashboardScroller")&&(f.ejDashboardScroller("destroy"),yt=!0),yt&&f.css({height:it+"px"}),p.pagedata.length>s&&f.ejDashboardScroller({height:it,scrollerSize:13,scrollTop:bt}),i.scrollSetting.visibleHeight=it;else{for(a=f.find("table"),ut=0,ft=0,nt=i.scrollSetting.widthOfColumn,dt=i.totalPages,o=0;o<dt;o++)i.loadedPages.indexOf(i.currentPage-o-s)!==g&&ut===c&&(ut=i.currentPage-o-s),i.loadedPages.indexOf(i.currentPage+o+s)!==g&&ft===c&&(ft=i.currentPage+o+s);i.loadedPages.indexOf(i.currentPage)===g&&(i.loadedPages.push(i.currentPage),gt={controlId:l,previousPage:ut,nextPage:ft,data:i,heightofColumn:i.scrollSetting.heightOfColumn},this._renderRowsOndemand(gt))}var ci=i.getPageDataBypage(i.currentPage),d=ci.pagedata,ni=i.scrollSetting.heightOfColumn,pt=[],ti=[];for(o=0;o<i.scrollSetting.controlPerPage;o++)if(e=d[o],et=i.currentPage>s&&i.scrollSetting.emptyCellsCount!==c?(i.currentPage-s)*(i.scrollSetting.controlPerPage-i.scrollSetting.emptyCellsCount)+o:(i.currentPage-s)*i.scrollSetting.controlPerPage+o,e){if(v=n("<div>").attr({id:l+"_child_"+et}).addClass("e-multiple-series").css({overflow:"hidden","margin-left":"auto","margin-right":"auto","vertical-align":"middle"}),i.SelectedFilterInfo&&i.SelectedFilterInfo.length>c){if(i.SelectedFilterInfo[0].DimensionFilterInfo&&i.SelectedFilterInfo[0].DimensionFilterInfo.Text.length!==c)for(ii=i.SelectedFilterInfo[0].DimensionFilterInfo.Text.length,h=0;h<ii;h++)i.SelectedFilterInfo[0].DimensionFilterInfo.Text[h]===e.customHeader.value&&(v.addClass("e-dbrd-clicked-card"),pt.push(v.attr("id")),ti.push({Column:i.SelectedFilterInfo[0].ColumnName,value:i.SelectedItems.Included.Value}));else if(i.SelectedFilterInfo[0].DateFilterInfo&&i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length!==c)for(ri=i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length,h=0;h<ri;h++)i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[h]===e.customHeader.value&&(v.addClass("e-dbrd-clicked-card"),pt.push(v.attr("id")),ti.push({Column:i.SelectedFilterInfo[0].ColumnName,value:i.SelectedItems.Included.Value}));n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}if(d.length>s||i.totalCount>s)this.model._dashboardData.isExportImage?f.removeClass("e-Card-Single"):f.removeClass("e-Card-Single").addClass("e-card-Series e-multiple-parent");else{if(f.addClass("e-Card-Single"),d[0].actualValue.value===""&&d[0].targetValue.value===""&&d[0].additionalValue.value===""){this._applyOrRemoveNoDataAvailable(c,f);return}ni=f.height()-.5;nt=f.width()-4;tt=a.parent();tt.css({display:"table-cell","vertical-align":"middle",position:"relative"});f.css({display:"table","vertical-align":"middle"})}a.find("#"+l+"_child_column_"+et).html("");a.find("#"+l+"_child_column_"+et).append(v);w=this;!t.isNullOrUndefined(e.customHeader)&&e.customHeader.visible&&(e.customHeader.value=e.customHeader.value.replace('<span class="e-dbrd-param-column" data-param="',""),e.customHeader.value=e.customHeader.value.replace('">All<\/span>',""),e.customHeader.value=w._updateTextWithParameterColumns(e.customHeader.value,u.ParameterColumns),e.customHeader.text=t.isNullOrUndefined(e.customHeader.text)||e.customHeader.text===""?e.customHeader.value:e.customHeader.text);t.isNullOrUndefined(u.cardRangeSettings)||u.cardRangeSettings.RangeType==="Absolute"||u.cardRangeSettings.RangeType==="percent"||u.cardRangeSettings.RangeType!==t.DashboardConstants.Zero?t.isNullOrUndefined(u.cardRangeSettings)||u.cardRangeSettings.RangeType!==t.DashboardConstants.One||(u.cardRangeSettings.RangeType="Percent"):u.cardRangeSettings.RangeType="Absolute";t.isNullOrUndefined(u.cardRangeSettings)||(at={Ranges:u.cardRangeSettings.CardRangeSettings,Type:u.cardRangeSettings.RangeType});var ui=u.IsMasterFilter||u.IsLinked?n.proxy(w._LoadCardSlaves,w,u.Id,u.ColumnInfo,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,p.pagedata.length,u.DateTimeColumns,u):null,li=w.model.dashboardCulture,ai=e.actualValue,vi=e.targetValue,yi=!t.isNullOrUndefined(e.additionalValue)&&!t.isNullOrUndefined(e.additionalValue.value)&&e.additionalValue.value!==""?e.additionalValue:null,pi=e.customHeader,wi=e.headers,bi=t.isNullOrUndefined(at)?null:at,ki=u.ShowIndicatorOnly,di=u.CustomVisibility,gi=u.ShowSubtitle,nr=w._updateTextWithParameterColumns(u.SubText,u.ParameterColumns),tr=u.SubColor?u.SubColor:"",ir=u.SubFontSize?u.SubFontSize:"",rr=u.SecondaryValueType,ur=u.BackgroundType.toLowerCase(),fr=u.Image,er=u.Opacity,or=u.VariationType.toLowerCase(),sr=u.AbbrevationType.toLowerCase(),fi=t.isNullOrUndefined(u.DecimalSeparator)?".":u.DecimalSeparator,ei=t.isNullOrUndefined(u.GroupSeparator)?",":u.GroupSeparator,hr=u.decimalPlaces,cr=u.currencyCulture,lr=u.Format==="Currency"?t.Card.Format.Currency:u.Format==="Percent"?t.Card.Format.Percentage:t.Card.Format.Number,ar=u.NegativeValueFormat.toLowerCase(),vr=u.Prefix,yr=u.Suffix,pr=u.higherValueGood,wr=e.sparkLine,br=t.isNullOrUndefined(u.VariationType)?null:u.VariationType.toLowerCase(),kr=t.isNullOrUndefined(u.AbbrevationTypeForAdditional)?null:u.AbbrevationTypeForAdditional.toLowerCase(),dr=u.decimalPlacesForAdditional,gr=u.currencyCultureForAdditional,nu=u.FormatForAdditional==="Currency"?t.Card.Format.Currency:u.FormatForAdditional==="Percent"?t.Card.Format.Percentage:t.Card.Format.Number,tu=t.isNullOrUndefined(u.NegativeValueFormatForAdditional)?null:u.NegativeValueFormatForAdditional.toLowerCase(),iu=u.PrefixForAdditional,ru=u.SuffixForAdditional,uu=u.IsCustomRange,fu=u.PrimaryValueAlignment,eu=u.SecondaryValueAlignment,ou=u.UniformFontsize;if(v.ejDashboardCard({size:{height:ni,width:nt},selected:ui,cardDefaultData:t.isNullOrUndefined(this.cardDefaultData)?t.DashboardConstants.Zero:this.cardDefaultData,rightClick:ui,enableRightClick:!0,culture:li,IsApplied:t.isNullOrUndefined(u.IsApplied)?!1:u.IsApplied,actualValue:ai,targetValue:vi,additionalValue:yi,customHeader:pi,headers:wi,rangeSettings:bi,showIndicatorOnly:ki,customVisibility:di,subTitle:{visible:gi,text:nr,color:tr,size:ir},secondaryValueType:rr,background:{type:ur,imageSrc:fr,opacity:er},enableResize:!1,valueRepresentation:{variationType:or,abbreviationType:sr,decimalSeparator:fi,groupSeparator:ei,numberOfDecimals:hr,currencyCulture:cr,format:lr,negativeValueFormat:ar,prefix:vr,suffix:yr},additionalValueRepresentation:{variationType:br,abbreviationType:kr,decimalSeparator:fi,groupSeparator:ei,numberOfDecimals:dr,currencyCulture:gr,format:nu,negativeValueFormat:tu,prefix:iu,suffix:ru},higherValueGood:pr,sparkLine:wr,IsCustomRange:uu,primaryValuePosition:fu,secondaryValuePosition:eu,uniformFontSize:ou}),this.resize)for(wt=this.dashboardControls.getAllControls(),oi=wt.length,ot=0;ot<oi;ot++)if(b=wt[ot],b.controlType==="parameterColumnData"){for(st=[],si=b.data.length,h=0;h<si;h++)if(b.data[h].pageNumber===t.DashboardConstants.Zero){b.data[h].scrollTop=0;st.push(b.data[h]);break}st.length>t.DashboardConstants.Zero&&(this._callFunction(this._updateParameterColumns,st[0].pagedata),this.resize=!1)}}if(i.SelectedFilterInfo&&i.SelectedFilterInfo.length===c&&(f.find(".e-dbrd-selected-card").remove(),n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+l).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})),u.Label.ShowHeader===!1&&this._resizeSingleCardTitle(k),i.currentPage===i.totalPages)for(hi=Math.ceil(i.totalCount/i.scrollSetting.colPerPage),o=hi;o<i.scrollSetting.rowPerPage*i.totalPages;o++)ht=n("#"+l+"_child_row_"+o),t.isNullOrUndefined(ht)||ht.find(".e-card").length!==c||ht.remove();t.isNullOrUndefined(f.data("ejDashboardScroller"))||f.data("ejDashboardScroller").refresh();f.find(".e-content").css({position:"relative"});this._AddCardSelection(pt,f,p.pagedata.length,!1,null);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&i.totalCount>s&&(ct=n("table").height()+v.height(),n("body").css({overflow:"auto",height:ct}),this.currentTabContentElement.find(".e-dbrd-control").css({overflow:"auto",height:ct}),this.currentTabContentElement.find(".e-content").css({overflow:"auto",height:ct}),this.model.enableCustomTheming&&this._customTheme(["export"]))}},_setCardConfigInfo:function(n){n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AbbrevationType=t.isNullOrUndefined(n.configInfo.AbbrevationType)?"ONES":n.configInfo.AbbrevationType;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.AverageCustomMaximum=t.isNullOrUndefined(n.configInfo.AverageCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.AverageCustomMaximum;n.configInfo.AverageCustomMinimum=t.isNullOrUndefined(n.configInfo.AverageCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.AverageCustomMinimum;n.configInfo.AveragePercentMaximum=t.isNullOrUndefined(n.configInfo.AveragePercentMaximum)?null:n.configInfo.AveragePercentMaximum;n.configInfo.AveragePercentMinimum=t.isNullOrUndefined(n.configInfo.AveragePercentMinimum)?null:n.configInfo.AveragePercentMinimum;n.configInfo.BackgroundType=t.isNullOrUndefined(n.configInfo.BackgroundType)?"":n.configInfo.BackgroundType;n.configInfo.CardArrangementCount=t.isNullOrUndefined(n.configInfo.CardArrangementCount)?null:n.configInfo.CardArrangementCount;n.configInfo.CardArrangeMentType=t.isNullOrUndefined(n.configInfo.CardArrangeMentType)?"AutoArrange":n.configInfo.CardArrangeMentType;n.configInfo.ColumnSpan=t.isNullOrUndefined(n.configInfo.ColumnSpan)?null:n.configInfo.ColumnSpan;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.currencyCulture=t.isNullOrUndefined(n.configInfo.currencyCulture)?"en-US":n.configInfo.currencyCulture;n.configInfo.CustomRange=!t.isNullOrUndefined(n.configInfo.CustomRange)&&n.configInfo.CustomRange;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?null:n.configInfo.DateTimeColumns;n.configInfo.decimalPlaces=t.isNullOrUndefined(n.configInfo.decimalPlaces)?null:n.configInfo.decimalPlaces;n.configInfo.DecimalSeparator=t.isNullOrUndefined(n.configInfo.DecimalSeparator)?null:n.configInfo.DecimalSeparator;n.configInfo.Format=t.isNullOrUndefined(n.configInfo.Format)?"Number":n.configInfo.Format;n.configInfo.GroupSeparator=t.isNullOrUndefined(n.configInfo.GroupSeparator)?null:n.configInfo.GroupSeparator;n.configInfo.HighCustomMaximum=t.isNullOrUndefined(n.configInfo.HighCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.HighCustomMaximum;n.configInfo.HighCustomMinimum=t.isNullOrUndefined(n.configInfo.HighCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.HighCustomMinimum;n.configInfo.higherValueGood=t.isNullOrUndefined(n.configInfo.higherValueGood)||n.configInfo.higherValueGood;n.configInfo.HighPercentMaximum=t.isNullOrUndefined(n.configInfo.HighPercentMaximum)?null:n.configInfo.HighPercentMaximum;n.configInfo.HighPercentMinimum=t.isNullOrUndefined(n.configInfo.HighPercentMinimum)?null:n.configInfo.HighPercentMinimum;n.configInfo.Image=t.isNullOrUndefined(n.configInfo.Image)?"":n.configInfo.Image;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.Label=t.isNullOrUndefined(n.configInfo.Label)?"":n.configInfo.Label;n.configInfo.LowCustomMaximum=t.isNullOrUndefined(n.configInfo.LowCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.LowCustomMaximum;n.configInfo.LowCustomMinimum=t.isNullOrUndefined(n.configInfo.LowCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.LowCustomMinimum;n.configInfo.LowPercentMaximum=t.isNullOrUndefined(n.configInfo.LowPercentMaximum)?null:n.configInfo.LowPercentMaximum;n.configInfo.LowPercentMinimum=t.isNullOrUndefined(n.configInfo.LowPercentMinimum)?null:n.configInfo.LowPercentMinimum;n.configInfo.NegativeValueFormat=t.isNullOrUndefined(n.configInfo.NegativeValueFormat)?"DEFAULT":n.configInfo.NegativeValueFormat;n.configInfo.Opacity=t.isNullOrUndefined(n.configInfo.Opacity)?"1":n.configInfo.Opacity;n.configInfo.ParameterColumns=t.isNullOrUndefined(n.configInfo.ParameterColumns)?null:n.configInfo.ParameterColumns;n.configInfo.Prefix=t.isNullOrUndefined(n.configInfo.Prefix)?"":n.configInfo.Prefix;n.configInfo.RangeSelectedIndex=t.isNullOrUndefined(n.configInfo.RangeSelectedIndex)?t.DashboardConstants.Zero:n.configInfo.RangeSelectedIndex;n.configInfo.RowSpan=t.isNullOrUndefined(n.configInfo.RowSpan)?null:n.configInfo.RowSpan;n.configInfo.SecondaryValueType=t.isNullOrUndefined(n.configInfo.SecondaryValueType)?"variance":n.configInfo.SecondaryValueType;n.configInfo.ShowIndicatorOnly=!t.isNullOrUndefined(n.configInfo.ShowIndicatorOnly)&&n.configInfo.ShowIndicatorOnly;n.configInfo.ShowSubtitle=!t.isNullOrUndefined(n.configInfo.ShowSubtitle)&&n.configInfo.ShowSubtitle;n.configInfo.SubColor=t.isNullOrUndefined(n.configInfo.SubColor)?"":n.configInfo.SubColor;n.configInfo.SubFontSize=t.isNullOrUndefined(n.configInfo.SubFontSize)?"":n.configInfo.SubFontSize;n.configInfo.SubText=t.isNullOrUndefined(n.configInfo.SubText)?"":n.configInfo.SubText;n.configInfo.Suffix=t.isNullOrUndefined(n.configInfo.Suffix)?"":n.configInfo.Suffix;n.configInfo.VariationType=t.isNullOrUndefined(n.configInfo.VariationType)?"PERCENTOFTARGET":n.configInfo.VariationType;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.decimalPlacesForAdditional=t.isNullOrUndefined(n.configInfo.decimalPlacesForAdditional)?"2":n.configInfo.decimalPlacesForAdditional},_resizeSingleCardTitle:function(n){if(!t.isNullOrUndefined(n)){var r=n.find(".e-dbrd-control .e-title"),u=n.find(".e-card-wrapper"),i=n.find(".e-Card-Single");!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(i)&&r.length>t.DashboardConstants.Zero&&i.length>t.DashboardConstants.Zero&&(n.find(".e-control-heading").children().length===t.DashboardConstants.Zero&&r.offset().top-i.offset().top<i.children().innerHeight()&&r.css({"max-width":u.width()-i.width()+"px",width:"auto"}),n.find(".e-control-heading").children().length===t.DashboardConstants.Zero&&n.find(".e-control-heading").text()!==""&&r.css({"line-height":"50px"}),n.find(".e-control-heading").length!==t.DashboardConstants.Zero&&n.find(".e-control-heading").css({"max-width":u.width()-i.width()+"px",width:"auto"}))}},_renderThePages:function(i,r,u,f,e){var s=1,d=30,g=100,nt=45,w=116,b=Math.floor(i.width()/r)<s?s:Math.floor((i.width()-50)/w),v,y,k,p,ut;r<b&&(b=r);var tt=250,c=100,l=null,it=r===s?"0":"3",a=t.browserInfo().name==="msie"?i.height()-20:i.height(),rt=n("<table style='width:100%;height:auto;margin:0;' cellspacing="+it+" cellpadding="+it+">"),o=f.CardArrangeMentType==="ArrangeCardsinRows"?Math.ceil(r/f.CardArrangementCount):f.CardArrangeMentType==="ArrangeCardsinColumns"?f.CardArrangementCount:b,h=f.CardArrangeMentType==="ArrangeCardsinRows"?f.CardArrangementCount:Math.ceil(r/o);o=Math.round(i.width()/r);(o>15||o<3)&&(o=10);o>r&&(o=r);do{if(l=i.width()/o-d,c=l*.6,h=Math.ceil(r/o),o<=s){o=1;break}if(l>=w&&(a-c*h)*(g/a)<=nt)break;o-=s}while(l<w||(a-c*h)*(g/a)>nt);for(r===s&&(h=1,o=1,l=i.width()/o-d,c=a,c>i.height()&&(c=i.height())),h<=0&&(h=1),v=0;v<h;v++){for(y=n("<tr>"),k=h*(u-s)+v,y.attr({id:e+"_child_row_"+k}),p=0;p<o;p++)ut=n("<td>").attr({id:e+"_child_column_"+(k*o+p)}).css({height:c,"padding-top":r>s?"10px":"0px","padding-bottom":r>s?"10px":"0px"}),y.append(ut);rt.append(y)}return tt=l,{table:rt,rowCount:h,colCount:o,heightOfColumn:c,widthOfColumn:tt}},_AddCardSelection:function(i,r,u,f,e){var a=0,p=1,w=2,b=10,k,s,d,h,c,v,y;if(!t.isNullOrUndefined(i))for(k=i.length,t.isNullOrUndefined(e)||e.ctrlKey&&e.originalEventType!=="rightClick"||f||(r.find(".e-dbrd-selected-card").remove(),r.find(".e-dbrd-clicked-card").removeClass("e-dbrd-clicked-card")),s=0;s<k;s++)if(i[s]!==""&&!t.isNullOrUndefined(i[s])){d=i[s].split("child_")[1];h=n("<div>").attr({id:"e-dbrd-selected-card_"+d}).addClass("e-dbrd-selected-card");t.isNullOrUndefined(e)||e.originalEventType!=="rightClick"||f||n(e.currentTarget).addClass("e-dbrd-clicked-card");c=n("<div>").addClass("e-corner-triangle");h.append(c);var o=n("#"+i[s]),l=r.find(".e-content"),nt=r.attr("data-controlid").split("_")[0],g=nt==="Card"?4:2;l.length===a&&(l=r);!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero&&(c.css({left:o.width()-8}),v=o.offset().left-o.offsetParent().offset().left,y=o.offset().top-o.offsetParent().offset().top,h.prop({"data-selected-widget":i[s]}).css({top:y,left:v,display:"block",width:o.width()+g+"px",height:o.height()+(u>p?g:a)+"px"}),v===9&&y===-1&&(h.prop({"data-selected-widget":i[s]}).css({top:1,left:1,display:"block",width:o.width()-w+"px",height:o.height()+"px"}),c.css({left:o.width()-b})),u===p&&h.prop({"data-selected-widget":i[s]}).css({top:(r.height()-o.height())/w,left:"0px"}),s===a&&r.animate({scrollTop:o.position().top-b}));l.append(h);l.css({position:"relative"})}},_LoadCardSlaves:function(i,r,u,f,e,o,s,h){var kt=n(h.currentTarget),y,p,ct,pt,wt,d,b,lt,at,g,w,ft;if(!t.isNullOrUndefined(h)&&!kt.closest(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")){var nt=0,l=0,et=-1,k=1;if(!t.isNullOrUndefined(h)&&(this._handleTabIndexForMultipleSeries(n(h.currentTarget).closest(".e-multiple-parent")),this.controlRelations.length===nt&&(t.isNullOrUndefined(u)||!this.flag)))return;var v=[],tt=[],it=[],ot=[],vt=[],dt=null,st=!1,c=this,a=null,yt=null,ht=[],gt={id:i,evt:h,configInfo:s};if(t.isNullOrUndefined(s.ActionSetting)||n.each(s.ActionSetting,function(n,t){t.ShowMenu&&(yt=!0)}),!t.isNullOrUndefined(h)&&h.type==="rightClick"&&yt&&this._setHoverSelectionForWidget(gt),y=this.dashboardControls.getControlByReport(i),!t.isNullOrUndefined(h)){for(p=n(h.currentTarget).parents(".dashboardCardControl"),t.isNullOrUndefined(p[0])&&(p=n(h.currentTarget).parents(".e-dbrd-control-container").find(".dashboardCardControl")),ct=p.find(".e-dbrd-clicked-card"),t.isNullOrUndefined(u)||(tt.push({Column:r.seriesColumn,Value:n(h.currentTarget).find(".e-title.e-hoverable").attr("data-value")}),tt.push({Column:r.actualColumn,Value:h.actualValue.value}),tt.push({Column:r.targetColumn,Value:h.targetValue.value})),l=0;l<c.controlRelations.length;l++)if(c.controlRelations[l].Master.indexOf("Card")!==et&&c.controlRelations[l].Master.lastIndexOf("_"+i)+i.length===c.controlRelations[l].Master.length-k){dt=c.controlRelations[l].Master;break}for(n(h.currentTarget).parents(".e-dbrd-MaximizedControl").length&&(p=n(h.currentTarget).parents(".e-dbrd-control"),ct=p.find(".e-dbrd-clicked-card")),n(h.currentTarget).hasClass("e-dbrd-clicked-card")&&ct.length===k&&h.type!=="rightClick"&&(st=!0),n(h.currentTarget).hasClass("e-dbrd-ctrlClick")&&(h.ctrlKey=!0,n(h.currentTarget).removeClass("e-dbrd-ctrlClick")),h.ctrlKey||h.type==="rightClick"||(p.find(".e-dbrd-selected-card").remove(),p.find(".e-dbrd-clicked-card").removeClass("e-dbrd-clicked-card")),h.ctrlKey&&n(h.currentTarget).hasClass("e-dbrd-clicked-card")&&h.type!=="rightClick"&&(pt=n(h.currentTarget).attr("id").split("child_")[1],n(h.currentTarget).removeClass("e-dbrd-clicked-card"),n("#"+h.currentTarget.attr("id")+"_selected").remove(),n("#e-dbrd-selected-card_"+pt).remove(),st=!0),st||h.type==="rightClick"||(c._AddCardSelection([n(h.currentTarget).attr("id")],n(h.currentTarget).parents(".e-dbrd-control"),e,!1,h),n(h.currentTarget).addClass("e-dbrd-clicked-card")),it=h.type==="rightClick"?n(h.currentTarget):p.find(".e-dbrd-clicked-card"),n(h.currentTarget).parents(".e-content").first().css({position:"relative"}),y.SelectedFilterInfo=[],wt=it.length,d=0;d<wt;d++)t.isNullOrUndefined(r.seriesColumn)||(v.push(n(it[d]).find(".e-title.e-hoverable").attr("data-value")),ht.push(n(it[d]).find(".e-title.e-hoverable").html()))}v.length>nt&&(b=this._checkFilterInfo(r.seriesColumn,y.SelectedFilterInfo),t.isNullOrUndefined(b)||b===et||(t.isNullOrUndefined(o)||o!==r.seriesColumn.toUpperCase()?y.SelectedFilterInfo[b].DimensionFilterInfo.Text=v:(y.SelectedFilterInfo[b].DateFilterInfo.DateFilterList=v,y.SelectedFilterInfo[b].DateFilterInfo.DisplayDateFilterList=ht)),y.SelectedFilterInfo.length===nt&&(a=new selectedFilterInfo,t.isNullOrUndefined(o)||o!==r.seriesColumn.toUpperCase()?(a.DimensionFilterInfo.Text=v,a.DimensionFilterInfo.Conditions=4):(a.DateFilterInfo.DateFilterList=v,a.DateFilterInfo.DisplayDateFilterList=ht,a.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),t.isNullOrUndefined(r.seriesColumn)||(a.UniqueColumnName=r.seriesColumn.toLowerCase()),a.ReportName=y.reportName));ot.push({Items:v});vt.push({Items:tt});y.SelectedItems.Included=v;var ni=null,rt=null,bt=null,ut=null;for(bt=n("#"+c._id+t.DashboardConstants.Widget+i).find(".e-dbrd-clicked-card").data("ejDashboardCard"),h.type==="selected"?ut=t.dashboardViewer.ActionType.Click:h.type==="doubleClick"?ut=t.dashboardViewer.ActionType.DBClick:h.type==="rightClick"&&(ut=t.dashboardViewer.ActionType.ContextMenu),l=0;l<c.controlRelations.length;l++)if(c.controlRelations[l].Master.indexOf("Card")!==et&&c.controlRelations[l].Master.lastIndexOf("_"+i)+i.length===c.controlRelations[l].Master.length-k){if(ni=c.controlRelations[l].Master,rt=c.controlRelations[l].Slaves,rt.length===nt)return;lt=c._checkMasterData(i);lt!==null&&c.masterData.splice(lt,k);h!==null&&c.masterData.push({Key:i,Value:ot,MultiSelection:v.length>k});e===null&&c._makeSlaveDataRequest({master:i,masterData:c.masterData,slaves:rt,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}if(e!==null)for(at={id:i,actionType:ut,filterInfo:t.isNullOrUndefined(a)?[]:[a],evt:h,cardCount:e,cardLink:vt,dataWrapper:ot,widgetInstance:bt,masterData:c.masterData,slaves:rt,callbackfn:null,drillDownData:null},c._widgetActionHandler(at),g=this._id+t.DashboardConstants.Widget+i,w=0;w<s.ActionSetting.length;w++)if(s.ActionSetting[w].ActionType===at.actionType&&s.ActionSetting[w].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(ft=0;ft<s.ActionSetting[w].Action.length;ft++)s.ActionSetting[w].Action[ft]==="Filter"&&(t.isNullOrUndefined(a)?(n("#"+g+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+g+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+g+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+g+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.exportView={_printDashboard:function(){window.print()},_printMapControl:function(t){n(t.target).parents("td").children().printThis()},_printControl:function(i,r){var u,e,s,h,c,f,o,a;if(this.currentTabContentElement.find("sv`").attr({"data-html2canvas-ignore":"true"}),r!==this.currentTabContentElement.attr("id")){u="";n("#"+r).hasClass("e-card-Series")||n("#"+r).hasClass("e-parentGauge")||n("#"+r).hasClass("e-chartseries")?(u=n("#"+r).children().clone(),u.css({width:n("#"+r).children().width(),height:n("#"+r).children().height(),"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")})):n("#"+r).hasClass("e-grid")?(u=n("#"+r).clone().css({"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")}),u.find(".e-gridcontent").css("height",n("#"+r).find(".e-gridcontent table").height()+n("#"+r).find(".e-gridheader").height()),u.find(".e-content").css("height",n("#"+r).find(".e-gridcontent table").height()+n("#"+r).find(".e-gridheader").height())):(u=n("#"+r).clone().off().unbind(),u.removeClass("e-datavisualization-chart"),u.css({width:n("#"+r).children().width(),height:n("#"+r).height(),"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")}),u.find("*").removeAttr("id"));e=n("<div>").addClass("e-dbrd-print-inactive");n(this.currentTabContentElement).append(e);s=n("<div>").addClass("e-dbrd-print-icons-container");h=this;s.append(n("<div>").addClass("e-dbrd-print-icon").html("Print").addClass("e-dbrd-noPrint").ejDashboardButton({click:n.proxy(this._printSelectedControl,this)}),n("<div>").html("Cancel").addClass("e-dbrd-print-icon").css({"margin-left":"-45px"}).ejDashboardButton({click:n.proxy(function(){h.currentTabContentElement.find(".e-dbrd-print-inactive").remove()},this)}));c=n("<div>").attr("id",this.currentTabContentElement.attr("id")+"_printDiv").addClass("e-dbrd-print-div");n(e).append(s,c.append(u.css({margin:"auto",height:"auto","margin-top":"50px"})));e.click(function(i){n(i.target).hasClass("e-dbrd-print-div")||n(i.target).hasClass("e-dbrd-print-icon")||n(i.target).parents(".e-dbrd-print-div").length>t.DashboardConstants.Zero||n(i.currentTarget).remove()});var l=n("#"+r).find("canvas"),v=u.find("canvas"),y=l.length;for(f=0;f<y;f++)o=v[f],a=o.getContext("2d"),a.drawImage(l[f],t.DashboardConstants.Zero,t.DashboardConstants.Zero,o.width,o.height)}},_printSelectedControl:function(){this.isPrintTriggered=!0;this.currentTabContentElement.children().addClass("e-dbrd-noPrint");n("body").css({overflow:"auto"});n(".e-dbrd-print-div").css({height:Math.max(n(".e-dbrd-print-div").children().height(),this.currentTabContentElement.height())});this.currentTabContentElement.find(".e-dbrd-print-inactive").removeClass("e-dbrd-noPrint");window.print();this.currentTabContentElement.find(".e-dbrd-noPrint").removeClass("e-dbrd-noPrint");this.isPrintTriggered=!1;n("body").css({overflow:"hidden"});n(".e-dbrd-print-div").css({height:"100%"})},_exportDialogPage:function(){var i,r,u,s,f,h,e,c,o;if(this.exportSettings.exportType!==""){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:this.exportSettings.exportType}});this.exportSettings.isMobile=!1;this.exportSettings.isExportTriggered=!0;i=this.currentTabContentElement.find(".e-dbrd-inactive");r=!t.isNullOrUndefined(i)&&i.length!==t.DashboardConstants.Zero;switch(this.exportSettings.exportType){case"image":u='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportImage" style = "top: '+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_imageExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportImage+'<\/div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportImagefilename" contentEditable = true><\/input><div class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><div class = "e-brd-exportButtons"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_imageExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_imageExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_imageExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";r?i.append(u):this.currentTabContentElement.append(u);s=this._imageExportContentCreation(this.exportSettings.filename);n(s).insertAfter(this.currentTabContentElement.find(".e-brd-inactive-export-fileName"));this.currentTabContentElement.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.currentTabContentElement.find(".e-brd-inactive-export-fileName, .e-brd-inactive-export-DashWidgetTitle, .e-brd-inactive-img-res-wrap").wrapAll("<div class='e-brd-export-content e-brd-export-imageContent'><\/div>");this.exportSettings.exportDpi!==""&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this._exportImageDropdownCreation();this._calculateExportDialogSize();break;case"pdf":f='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportPdf" style = "top:'+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_pdfExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon e-brd-popup-title-bar" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle e-brd-popup-title-bar">'+this.locale.utils.ExportPdf+'<\/div><div class= "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportPdffilename" contentEditable = true><\/input><span class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/span><\/div><div class = "e-brd-exportButtons"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_pdfExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_pdfExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_pdfExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";r?i.append(f):this.currentTabContentElement.append(f);h=this._pdfExportContentCreation(this.exportSettings.filename);n(h).insertAfter(this.currentTabContentElement.find(".e-brd-inactive-export-fileName"));this.currentTabContentElement.find(".e-brd-exportPopupWindowClose,.e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.currentTabContentElement.find(".e-brd-inactive-export-fileName,.e-brd-widgetTitleBar,.e-brd-pagesize,.e-brd-orientation,.e-brd-export-widget-pdf-options").wrapAll("<div class='e-brd-export-pdfContent e-brd-export-content'><\/div>");this.exportSettings.orientation!==""&&(this.orientation=this.exportSettings.orientation);this._exportPdfDropDownCreation();this._calculateExportDialogSize();break;case"excel":e='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportExcel"'+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_excelExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportExcel+'<\/div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportExcelfilename" contentEditable = true><\/input><div class = "e-brd-filenameError e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><div class = "e-brd-exportButtons" style ="margin-top:70px;"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_excelExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_excelExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_excelExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";r?i.append(e):this.currentTabContentElement.append(e);c=this._excelExportContentCreation(this.exportSettings.filename);n(c).insertAfter(this.currentTabContentElement.find(".e-brd-inactive-export-fileName"));this.currentTabContentElement.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.currentTabContentElement.find(".e-brd-inactive-export-fileName, .e-brd-excel-export").wrapAll("<div class='e-brd-export-excelContent e-brd-export-content'><\/div>");this._exportExcelDropDownCreation();this._calculateExportDialogSize();break;case"csv":o='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportCSV" style = "top:'+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" style = "height: 250px" id = "'+this._id+'_CSVExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportCsv+'<\/div><div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "width: 420px" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportCSVfilename" contentEditable = true><\/input><div class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><\/div><div class = "e-brd-exportButtons" style="position:absolute;bottom:0px;"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_CSVExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_CSVExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_CSVExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";r?i.append(o):this.currentTabContentElement.append(o);this.currentTabContentElement.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this._calculateExportDialogSize()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:this.exportSettings.exportType}})}this.model.enableCustomTheming&&this._customTheme(["popup"])},_createExportDbrdDrpdwn:function(){var u=n("<div class='e-brd-multibrd-export'><\/div>"),v=n("<div class='e-brd-dashboards e-brd-inactive-left'><\/div><").text(this.locale.utils.Dashboards),e=n("<div class = 'e-dbrd-control e-brd-export-dropdown e-brd-imageExport-dropdown'>"),y=n("<input class='e-dbrd-control e-brd-exportImageField e-multibrd-export-selection' id="+this._dashboardId+"_dashboardDropdown><\/input>"),i,f,r,s,h,a;e.append(y);e.insertAfter(".e-brd-dashboards");u.append(v);u.append(e);i=null;f=null;n(window).width()>t.DashboardConstants.MobileWidth&&this.multiDashboardExport?(this.element.find(".e-brd-export-content").prepend(u),i="200px",f="25px"):n(window).width()<t.DashboardConstants.MobileWidth&&this.multiDashboardExport?(this.currentTabContentElement.find(".e-dbrd-fileContentBar").prepend(u),this.currentTabContentElement.find(".e-dbrd-fileContentBar .e-brd-dashboards ").text(this.locale.utils.ChooseDashboards),i=this._mobileDropDownWidthCalc(),f="30px"):(this.element.find(".e-brd-export-content").prepend(u),i="200px",f="25px");var c=[],l=[],o=this.tabInformation,p=o.length;for(r=0;r<p;r++)c={id:this._dashboardId+"_"+n(o[r]).attr("data-tabid").replace(/ /g,"_"),text:o[r].textContent,value:this.dashboardDetails[r].DashboardId},l.push(c);this.multiDashboardExport=!0;this.exportDashboard=!1;this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList({dataSource:l,fields:{text:"text",id:"id",value:"value"},create:n.proxy(this._defaultSelection,this),beforePopupHide:n.proxy(this._getSelection,this),width:i,height:f,showCheckbox:!0,watermarkText:"All",cssClass:"e-dbrd-canvas",change:n.proxy(this._changeSelection,this),popupWidth:i,popupHeight:"130px",popupShown:n.proxy(this._addSpaceForScrollbar,this)});n("#"+this._dashboardId+"_dashboardDropdown_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");s=n("<span class = 'e-dbrd-multibrd-drpdown-label' id="+this._id+"_dashboardDropdownSelection><\/span>");n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").addClass("e-drpdwn-align");s.insertAfter(".e-multibrd-export-selection");s.text(this.locale.utils.All);h=this.currentTabContentElement.find(".e-dbrd-multibrd-drpdown-label").next();h.hasClass("e-input")&&h.css("display","none");this.exportSettings.dashboardSelection!==""&&(a=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),a.selectItemByValue(this.exportSettings.dashboardSelection))},_changeSelection:function(){var r=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),i;this.exportSettings.dashboardSelection=r.getSelectedValue();i=r.getSelectedItem().length;i!==t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({display:"block"}).text(i+" "+this.locale.utils.Dashboards):i===t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({display:"block"}).text(this.locale.utils.All)},_getSelectedItems:function(){var i=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),r=i.getSelectedItem(),t=[];return n(r).each(function(){t.push(n(this).children(".e-ddltxt").text())}),this._getDashboardSelectionDetails(t)},_getSelection:function(){var n=this._getSelectedItems();this._getSelectedDashboardInfo(n)},_getSelectedDashboardInfo:function(n){var r,u,f,i;if(!t.isNullOrUndefined(n[t.DashboardConstants.Zero]))if(r=n[t.DashboardConstants.Zero].selectedItems,this.multiSelectCollection=[],u=null,f=r.length,f>t.DashboardConstants.Zero)for(i=0;i<f;i++)u=this._dashboardId+"_"+r[i].DashboardName,u===this._id?this._setCurrentTabInfoForExport(r[i]):this._setTabInfoForExport({id:r[i].DashboardName,dashId:r[i].DashboardId,dashTitle:r[i].DashboardDisplayName});else this._defaultSelection()},_defaultSelection:function(){var t=null,i,n;for(this.multiSelectCollection=[],i=this.dashboardDetails.length,n=0;n<i;n++)t=this._dashboardId+"_"+this.dashboardDetails[n].DashboardName,t===this._id?this._setCurrentTabInfoForExport(this.dashboardDetails[n]):this._setTabInfoForExport({id:this.dashboardDetails[n].DashboardName,dashId:this.dashboardDetails[n].DashboardId,dashTitle:this.dashboardDetails[n].DashboardDisplayName});this._addHorizontalScrollbar(!0)},_setCurrentTabInfoForExport:function(n){var i=0,u=this._getGridSettings(this.dashboardControls,this._id),r,f;for(u.length===t.DashboardConstants.Zero&&(u=""),r=this.dashboardControls.getAllControlsForImageExport(),f=r.length,i=0;i<f;i++)r[i].controlType==="parameterColumnData"&&(r[i].controlRelations=this.controlRelations,r[i].appliedFilterData=this.appliedFilterData);this.multiSelectCollection.push({id:n.DashboardName,layoutInfo:JSON.stringify(this.currentReport.layout),widgetInfo:JSON.stringify(r),dashbrdId:n.DashboardId,gridSettings:JSON.stringify(u),dashboardTitle:n.DashboardDisplayName,masterControls:JSON.stringify(this.appliedFilterData),isLoadCompletes:this.actualPages.length===this.pageInformations.length})},_setTabInfoForExport:function(n){for(var i=!0,r=this.tabInfoCollection.length,t=0;t<r;t++)if(this.tabInfoCollection[t].initPrivatePropertiesInfo._id===this._dashboardId+"_"+n.id&&this.tabInfoCollection[t].initPrivatePropertiesInfo._id!==this._id){this._setLoadedTabInfoForExport(n,this.tabInfoCollection[t]);i=!1;break}i&&this.multiSelectCollection.push({id:n.id,widgetInfo:"",layoutInfo:"",dashbrdId:n.dashId,gridSetting:"",dashboardTitle:n.dashTitle,masterControls:JSON.stringify([]),isLoadCompletes:!1})},_setLoadedTabInfoForExport:function(n,t){for(var u=this._getGridSettings(t.initPrivatePropertiesInfo.dashboardControls,t.initPrivatePropertiesInfo._id),i=0,r=t.initPrivatePropertiesInfo.dashboardControls.getAllControlsForImageExport(),f=r.length,i=0;i<f;i++)r[i].controlType==="parameterColumnData"&&(r[i].controlRelations=t.initPrivatePropertiesInfo.controlRelations,r[i].appliedFilterData=t.initPrivatePropertiesInfo.appliedFilterData);this.multiSelectCollection.push({id:n.id,widgetInfo:JSON.stringify(r),layoutInfo:JSON.stringify(t.initPrivatePropertiesInfo.currentReport.layout),dashbrdId:n.dashId,gridSetting:u,dashboardTitle:n.dashTitle,masterControls:JSON.stringify(t.initPrivatePropertiesInfo.appliedFilterData),isLoadCompletes:t.initPrivatePropertiesInfo.actualPages.length===t.initPrivatePropertiesInfo.pageInformations.length})},_captureFiles:function(i,r){var f,s,h;this._destroyWaitingPdfPopup();var u=JSON.parse(r),e=null,c=u.MultipleDashboardsExportResult.substring(u.MultipleDashboardsExportResult.indexOf("\\")+t.DashboardConstants.One,u.MultipleDashboardsExportResult.indexOf(".")),o=u.MultipleDashboardsExportResult.substr(u.MultipleDashboardsExportResult.indexOf(".")+t.DashboardConstants.One);o==="zip"?e=this._ExportedImageFileName:o==="pdf"&&(e=this.newfilename);f=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===t.DashboardConstants.Zero?(f=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(f)):f=this.currentTabContentElement.find("#"+this._id+"_exportIframe");s=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.downloadedexportedfiles,method:"GET",enctype:"application/json","accept-charset":"UTF-8"});h=JSON.stringify({imageFile:u.MultipleDashboardsExportResult,fileName:c,fileType:o,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:e});s.append(n('<input type="hidden">').attr({name:"argument",value:h}));s.appendTo(f).submit().remove();f.hide()},_multiTabExportExcel:function(){for(var r,u,e,t,i=[],f="",o=this.multiSelectCollection.length,n=0;n<o;n++)if(r=this._dashboardId+"_"+this.multiSelectCollection[n].id,r!==this._id){for(u=!0,e=this.tabInfoCollection.length,t=0;t<e;t++)if(r===this.tabInfoCollection[t].initPrivatePropertiesInfo._id){u=!1;var s=this.tabInfoCollection[t].initPrivatePropertiesInfo.dashboardControls,h=JSON.stringify(s.getAllControlsMasterData()),c=JSON.stringify(this.tabInfoCollection[t].initPrivatePropertiesInfo.rangeData);i.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:h,rangeData:c,gridSettings:this.multiSelectCollection[n].gridSettings,dashboardTitle:this.multiSelectCollection[n].dashboardTitle})}u&&i.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:null,rangeData:null,gridSettings:null,dashboardTitle:this.multiSelectCollection[n].dashboardTitle})}else f=this._getGridSettings(this.dashboardControls),i.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),gridSettings:JSON.stringify(f),dashboardTitle:this.multiSelectCollection[n].dashboardTitle});return i},_imageExportContentCreation:function(){return'<div class ="e-brd-inactive-img-res-wrap"><div class ="e-brd-inactive-img-format" ><div class = "e-brd-inactive-left" style = "padding-left:0px">'+this.locale.utils.Format+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-imageExport-dropdown"><input class = "e-brd-exportImageField e-brd-exportImageFormat" type ="text" id = "'+this._id+'_imageType" "readonly"= true> <\/input><\/div><\/div ><div class="e-brd-inactive-img-res" style = "float: left"><div class = "e-brd-inactive-left">'+this.locale.utils.Resolution+'<\/div><input class = "e-brd-exportImageField e-brd-imageResolution" style = "float: left" type= "number" name = "resolution" value = "96" id = "'+this._id+'_ExportImageresolution"><\/input><span class = "e-dbrd-resolutionAlert e-dbrd-hoverable e-dbrd-popup-icon" data-tooltip = "'+this.locale.utils.ResolutionAlert+'" ><\/span><div class = "e-brd-resolutionErrorLow"><\/div><\/div><\/div><\/div>'},_exportImageDropdownCreation:function(){var i=this._mobileDropDownWidthCalc(),r=null,u,f;t.isNullOrUndefined(i)?(i="200px",r="25px"):r="30px";u=t.DashboardConstants.Zero;f=[{ImageFormat:this.locale.utils.Jpeg},{ImageFormat:this.locale.utils.Png},{ImageFormat:this.locale.utils.Bmp}];this.exportSettings.exportFormat!==""&&(u=this.exportSettings.exportFormat);this.currentTabContentElement.find("#"+this._id+"_imageType").ejDashboardDropDownList({dataSource:f,fields:{text:"ImageFormat",value:"ImageFormat"},create:"drpcreate",popupHide:"drppopuphide",beforePopupShown:"drpbeforepopupshow",change:n.proxy(this._changeExportFormat,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",selectedIndex:u,width:i,height:r,popupShown:n.proxy(this._drppopupshow,this)});n("#"+this._id+"_imageType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_changeExportFormat:function(n){this.exportSettings.exportFormat=n.model.selectedItemIndex},_pdfExportContentCreation:function(){return'<div class = "e-brd-export-widget-pdf-options"><div class = "e-brd-radio-pdf-export"><div class = "e-brd-inactive-left e-dbrd-dashPdf"><input style = "margin-right:5px" id = "'+this._id+'_dashboardRadio" class = "e-brd-radio-dashboard" type ="radio" name ="export" checked= "checked" >'+this.locale.utils.Dashboard+'<\/input><\/div><div class = "e-brd-inactive-left e-dbrd-widgetPdf"><input style = "margin-right:5px" id = "'+this._id+'_widgetRadio" class = "e-brd-radio-widgets" type ="radio" name ="export">'+this.locale.utils.Widgets+'<\/input><\/div><div class = "e-brd-widget-dropdown" style = "float: left; display:none; "><div class = "e-dbrd-control  e-brd-export-dropdown e-brd-pdfExport-dropdown"><input class = "e-brd-exportImageField e-brd-widget-selection" type ="text" id = "'+this.currentTabContentElement.attr("id")+'_widgetsName" "readonly"= true><\/input><\/div><\/div><\/div><\/div><div class="e-brd-pagesize"><div class = "e-brd-pagesize-label"><div class = "e-brd-inactive-left e-brd-pdf-pagesize">'+this.locale.utils.PageSize+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-pdfExport-dropdown e-brd-export-pagesize-dropdown"><input class = "e-brd-exportImageField" type ="text" id = "'+this.currentTabContentElement.attr("id")+'_pageSizeType" "readonly"= true> <\/input><\/div><\/div><div class="e-brd-orientation"><div class = "e-brd-inactive-left"  style ="margin-bottom:10px;">'+this.locale.utils.Orientation+'<\/div><div class = "e-brd-PdfOrientationforportrait e-dbrd-hoverable e-dbrd-popup-icon" tabindex = "0" role = "menu" aria-haspopup = "true" aria-label = "Export Option" id = "'+this.currentTabContentElement.attr("id")+'_pdfPortrait" data-tooltip = '+this.locale.utils.Portrait+'><\/div><div class = "e-brd-PdfOrientationforlandscape e-dbrd-hoverable e-dbrd-popup-icon" tabindex = "0" role = "menu" aria-haspopup = "true" aria-label = "Export Option" id = "'+this.currentTabContentElement.attr("id")+'_pdfLandscape" data-tooltip = '+this.locale.utils.Landscape+"><\/div><\/div>"},_exportPdfDropDownCreation:function(){var o,u,f,h,c,l;this.isExtendedLayout&&this._initiateGetWidgetTitleInfo();var i=this._mobileDropDownWidthCalc(),r=null,e=t.DashboardConstants.One;t.isNullOrUndefined(i)?(i="200px",r="25px"):r="30px";o=[{ImageFormat:this.locale.utils.A3},{ImageFormat:this.locale.utils.A4},{ImageFormat:this.locale.utils.A5},{ImageFormat:this.locale.utils.Letter}];this.exportSettings.pagesize!==""&&(e=this.exportSettings.pagesize);this.isDialogNotCreated=!0;this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").ejDashboardRadioButton({size:"medium"});this.currentTabContentElement.find("#"+this._id+"_widgetRadio").ejDashboardRadioButton({size:"medium"});this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList({dataSource:o,fields:{text:"ImageFormat",value:"ImageFormat"},popupHide:"drppopuphide",popupShown:"drppopupshow",beforePopupShown:"drpbeforepopupshow",change:n.proxy(this._changeExportPageSize,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",height:r,width:i,selectedIndex:e,enablePopupResize:!1});n("#"+this._id+"_pageSizeType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");this.isDialogNotCreated=!1;var s=this._getWidgetNames(),a=[],v=s.length;for(u=0;u<v;u++)a.push(u);this.currentTabContentElement.find("#"+this._id+"_widgetsName").ejDashboardDropDownList({dataSource:s,fields:{text:"WidgetsName",id:"WidgetsId"},create:n.proxy(this._addHorizontalScrollbar,this),showCheckbox:!0,watermarkText:"All",height:r,width:i,popupWidth:i,popupHeight:"130px",cssClass:"e-dbrd-canvas",change:n.proxy(this._changeWidgetSelection,this),popupShown:n.proxy(this._addSpaceForScrollbar,this),checkAll:!1});n("#"+this._id+"_widgetsName_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");f=n("<span class = 'e-dbrd-widget-drpdown-label' id="+this._id+"_widgetDropdownSelection ><\/span>");f.insertAfter(".e-brd-widget-selection");f.text(this.locale.utils.All);h=this;n(".e-brd-radio-widgets").click(function(){var i,r;n(window).width()<t.DashboardConstants.MobileWidth&&(n(".e-brd-choose-label").length===t.DashboardConstants.Zero?(i=n("<div class = 'e-brd-choose-label'><\/div>").text(h.locale.utils.ChooseWidgets),i.insertBefore(n(".e-brd-widget-dropdown"))):n(".e-brd-choose-label").css({display:"block"}));n(".e-brd-widget-dropdown").css({display:"block"});n(".e-brd-radio-widgets").attr("checked","checked");r=n(".e-brd-widget-dropdown").height()+n(".e-dbrd-fileContentBar").height();n(".e-dbrd-fileContentBar").height(r)});n(".e-brd-radio-dashboard").click(function(){var t=n(".e-dbrd-fileContentBar").height()-n(".e-brd-widget-dropdown").height();n(".e-dbrd-fileContentBar").height(t);n(".e-brd-widget-dropdown").css({display:"none"});n(".e-brd-choose-label").css({display:"none"})});this.multiDashboardExport&&n(".e-brd-radio-pdf-export").hide();this.exportDashboard?n(".e-brd-radio-pdf-export").show():n(".e-brd-radio-pdf-export").hide();this.exportSettings.widgetDrpDwnDisplay&&(n(".e-brd-radio-pdf-export").show(),n(".e-brd-widget-dropdown").css({display:"block"}),c=this.currentTabContentElement.find("#"+this._id+"_widgetRadio").data("ejDashboardRadioButton"),c.option("checked",!0));this.exportSettings.widgetSelection!==""&&(l=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance"),l.selectItemByValue(this.exportSettings.widgetSelection))},_initiateGetWidgetTitleInfo:function(){if(this.actualPages.length!==this.pageInformations){var n=this.model.localeSettings.resourcePath,t=this.model.localeSettings.culture,i={type:"POST",url:this.serviceUrl()+"/GetWidgetTitleInfo",data:JSON.stringify({dashboardPath:this.dashboardPath(),token:this.token,customLanguagePath:n,customCulture:t,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName}),onSuccess:this._getWidgetTitleInfo,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(i)}},_getWidgetTitleInfo:function(n,i){var u=JSON.parse(i.d[0].Value),r=this.currentTabContentElement.find("#"+this._id+"_widgetsName").data("ejDashboardDropDownList");t.isNullOrUndefined(r)||r.option("dataSource",u)},_addSpaceForScrollbar:function(i){var u=null,f=0,e=null,r=null,s=this.currentTabContentElement.find("#"+this._id+"_widgetsName_wrapper").width(),o;n("#"+this._id+"_widgetsName_popup_list_wrapper").css({width:s});t.isNullOrUndefined(i)||i!==!0?(r=n("#"+this._id+"_widgetsName").data("ejDashboardDropDownList"),e=n("#"+this._id+"_widgetsName_popup"),u=e.children(".e-content"),f=parseInt(n("#"+this._id+"_widgetsName_popup_list_wrapper").css("max-height"))):(r=n("#"+this._dashboardId+"_dashboardDropdown").data("ejDashboardDropDownList"),e=n("#"+this._dashboardId+"_dashboardDropdown_popup"),u=e.children(".e-content"),f=parseInt(n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css("max-height")));t.isNullOrUndefined(r)||(o=u.width()+"px",u[0].style.setProperty("width",o,"important"),u.height(f),e.height(f),r.scrollerObj.model.width=o,r.scrollerObj.model.height=f,r.scrollerObj.refresh());this._addHorizontalScrollbar(i)},_addHorizontalScrollbar:function(i){var r=null;r=t.isNullOrUndefined(i)||i!==!0?n("#"+this._id+"_widgetsName").data("ejDashboardDropDownList"):n("#"+this._dashboardId+"_dashboardDropdown").data("ejDashboardDropDownList");t.isNullOrUndefined(r)||(r.ultag.children("li").css({"white-space":"nowrap"}),r.scrollerObj.model.width=r.popupListWrapper.outerWidth(),r.scrollerObj.refresh())},_getWidgetNames:function(){for(var f=[],i=0,u=this.currentTabContentElement.find(".e-dbrd-control-container"),o=u.length,r,n,e,i=0;i<o;i++)r=null,n=u.eq(i).attr("type"),t.isNullOrUndefined(n)||(n!=="FilterComboBox"&&n!=="IMAGE"&&n!=="DatePicker"&&n!=="CheckBox"&&n!=="RangeNavigator"&&n!=="RangeSlider"&&n!=="RadioButton"&&n!=="ListBox"&&n!=="Card"&&n!=="Label"&&(r=u.eq(i).find(".e-control-title").text()),n==="Card"&&(r=u.eq(i).find(".e-control-title").text(),r===""&&(r=u.eq(i).find(".e-title").text())),t.isNullOrUndefined(r)||(e={WidgetsName:r,WidgetsId:u.eq(i).attr("id")},f.push(e)));return f},_changeExportPageSize:function(n){this.exportSettings.pagesize=n.model.selectedItemIndex},_changeWidgetSelection:function(){var r=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance"),i;this.exportSettings.widgetSelection=r.getSelectedValue();i=r.getSelectedItem().length;i!==t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({display:"block"}).text(i+" "+this.locale.utils.Widget):i===t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({display:"block"}).text(this.locale.utils.All)},_excelExportContentCreation:function(){return'<div class ="e-brd-excel-export" style = "float: left; width:100%"><div class = "e-brd-inactive-left e-dbrd-filetype-label">'+this.locale.utils.FileType+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-excel-dropdown" ><input class = "e-brd-exportImageField" type ="text" id = "'+this._id+'_excelType" "readonly"= true> <\/input><\/div><\/div>'},_exportExcelDropDownCreation:function(){var i=this._mobileDropDownWidthCalc(),r=null,u,f;t.isNullOrUndefined(i)?(i="420px",r="25px"):r="30px";u=t.DashboardConstants.Zero;u=this.exportSettings.excelFileType!==""?this.exportSettings.excelFileType:t.DashboardConstants.Zero;f=[{ImageFormat:this.locale.utils.ExportToExcel2013},{ImageFormat:this.locale.utils.ExportToExcel97To2003}];this.currentTabContentElement.find("#"+this._id+"_excelType").ejDashboardDropDownList({dataSource:f,fields:{text:"ImageFormat",value:"ImageFormat"},create:"drpcreate",popupHide:"drppopuphide",popupShown:"drppopupshow",beforePopupShown:"drpbeforepopupshow",change:n.proxy(this._changeExportExcelFileTye,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",width:i,height:r,selectedIndex:u});n("#"+this._id+"_excelType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_changeExportExcelFileTye:function(n){this.exportSettings.excelFileType=n.model.selectedItemIndex},_mobileDropDownWidthCalc:function(){var i=null,r;return n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.currentTabContentElement.find(".e-dbrd-fileContentBar"),i=this.element.width()-parseInt(r.css("padding-left"))-parseInt(r.css("padding-right"))-5,i=i+"px"),i},_mobileExport:function(){var r;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:"MobileExport"}});this.exportSettings.isMobile=!0;this.exportSettings.isExportTriggered=!0;var i=n("<div class='e-dbrd-mobileExport' id="+this._id+"_mobileExport><\/div>"),f="<div class='e-dbrd-tiltleBar' id="+this._id+"_titleBar><div class='e-dbrd-exportBack' id="+this._id+"_exportBack><span class='e-dbrd-titleBackIcon' id="+this._id+"_titleBackIcon><\/span><\/div><div class='e-dbrd-exportTitle' id="+this._id+"_exportTitle>"+this.locale.utils.ExportAs+"<\/div><div class='e-dbrd-exportReset' id="+this._id+"_exportReset><span class='e-dbrd-exportResetIcon' id="+this._id+"_exportResetIcon><\/span><\/div><\/div>",u=n("<div class='e-dbrd-mobileContentWrap' id="+this._id+"_mobileContentWrap><\/div>"),e="<div class='e-dbrd-filemenuSelection' id="+this._id+"_fileMenuSelectionBar><div class='e-dbrd-mobileExportFilename' id="+this._id+"_mobileExportFilename>"+this.locale.utils.FileName+'<\/div><input class = "e-brd-mobileFilenameText" type = "text" name = "file_name" id = "'+this._id+'_mobileExportFilenameText" value = "'+this.exportSettings.filename+'" contentEditable = true><\/input><div class = "e-brd-filenameError" >'+this.locale.utils.FileNameError+"<\/div><div class='e-dbrd-mobileExportOption' id="+this._id+"_mobileExportOption><div class='e-dbrd-mobileExportImage e-dbrd-exportype' data-exportType='image' id="+this._id+"_mobileExportImage><div class='e-dbrd-mobileExportImageIconWrap' id="+this._id+"_mobileExportImageIconWrap><span class='e-dbrd-mobileExportImageIcon' id="+this._id+"_mobileExportImageIcon><\/span><\/div><span class='e-dbrd-mobileExportImageText' id="+this._id+"_mobileExportImageText>"+this.locale.utils.Image+"<\/span><\/div><div class='e-dbrd-mobileExportPdf e-dbrd-exportype' data-exportType='pdf' id="+this._id+"_mobileExportPdf><div class='e-dbrd-mobileExportPdfIconWrap' id="+this._id+"_mobileExportPdfIconWrap><span class='e-dbrd-mobileExportPdfIcon' id="+this._id+"_mobileExportPdfIcon><\/span><\/div><span class='e-dbrd-mobileExportPdfText' id="+this._id+"_mobileExportPdfText>"+this.locale.utils.Pdf+"<\/span><\/div><div class='e-dbrd-mobileExportExcel e-dbrd-exportype' data-exportType='excel' id="+this._id+"_mobileExportExcel><div class='e-dbrd-mobileExportExcelIconWrap' id="+this._id+"_mobileExportExcelIconWrap><span class='e-dbrd-mobileExportExcelIcon' id="+this._id+"_mobileExportExcelIcon><\/span><\/div><span class='e-dbrd-mobileExportExcelText' id="+this._id+"_mobileExportExcelText>"+this.locale.utils.Excel+"<\/span><\/div><div class='e-dbrd-mobileExportCsv e-dbrd-exportype' data-exportType='csv' id="+this._id+"_mobileExportCsv><div class='e-dbrd-mobileExportCsvIconWrap' id="+this._id+"_mobileExportCsvIconWrap><span class='e-dbrd-mobileExportCsvIcon' id="+this._id+"_mobileExportExcelIcon><\/span><\/div><span class='e-dbrd-mobileExportCsvText' id="+this._id+"_mobileExportCsvText>"+this.locale.utils.Csv+"<\/span><\/div><\/div><\/div>",o=n("<div class='e-dbrd-fileContentBar' id="+this._id+"_fileContentBar><\/div>"),s=n("<button class='e-dbrd-mobileExportBtn' id="+this._id+"_mobileExportBtn> "+this.locale.utils.ExportBtn+"<\/button>");i.append(f);n(u).append(e);n(u).append(o);i.append(u);i.append(s);r=this.currentTabContentElement.find(".e-dbrd-inactive");t.isNullOrUndefined(r)||r.length===t.DashboardConstants.Zero?this.currentTabContentElement.append(i):r.append(i);this._mobileDashboardMenu();this._heightScrollCalculation();this.exportSettings.exportType===""?(this._mobileExportDisableMenu(),this.exportSettings.exportType=this.currentTabContentElement.find(".e-dbrd-mobileExportOption").children().eq(t.DashboardConstants.Zero).attr("data-exporttype"),this._mobileExportContentCreate()):this._mobileExportDisableMenu();this.model.enableCustomTheming&&this._customTheme(["popup"]);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:"MobileExport"}})},_mobileExportDisableMenu:function(){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),n=null,u,f,i;if(!t.isNullOrUndefined(this.currentTabContentElementData)&&!t.isNullOrUndefined(this.currentTabContentElementData.attr("data-widget-id")))for(u=this.currentTabContentElementData.attr("data-widget-id"),f=r.length,i=0;i<f;i++)n=r.eq(i),t.isNullOrUndefined(n.attr("data-widget-id"))||n.attr("data-widget-id")!==u||((t.isNullOrUndefined(n.data("ExportImage"))||!n.data("ExportImage"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportImage").remove(),(t.isNullOrUndefined(n.data("ExportPdf"))||!n.data("ExportPdf"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").remove(),(t.isNullOrUndefined(n.data("ExportExcel"))||!n.data("ExportExcel"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").remove(),(t.isNullOrUndefined(n.data("ExportCSV"))||!n.data("ExportCSV"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").remove());this.model._exportSettings.canExportImage||this.currentTabContentElement.find(".e-dbrd-mobileExportImage").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportImage").remove();this.model._exportSettings.canExportPdf||this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").remove();this.model._exportSettings.canExportExcel||this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").remove();this.model._exportSettings.canExportCsv||this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").remove()},_mobileExportContentCreate:function(i){var r,u,f,e;if(t.isNullOrUndefined(i)||(n(i.currentTarget).hasClass("e-brd-multitab-mob-export-btn")?(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}),this.multiDashboardExport=!0,this.exportDashboard=!1,this.exportSettings.filename=this.locale.utils.Dashboard,this._mobileExport(),this._mobileDashboardMenu()):this.exportSettings.exportType=n(i.currentTarget).attr("data-exportType")),this.exportSettings.exportType!=="")switch(this.exportSettings.exportType){case"image":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportImage").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();r=this._imageExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(r);this._exportImageDropdownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();(this.exportSettings.exportDpi!==""||this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block")&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this._heightScrollCalculation();break;case"pdf":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();u=this._pdfExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(u);this.exportSettings.orientation!==""&&(this.orientation=this.exportSettings.orientation);this._exportPdfDropDownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this._selectPdfOrientation();f=n("<div class = 'e-dbrd-orientation-selection'><\/div>").text(this.orientation);this.currentTabContentElement.find(".e-brd-orientation").append(f);this._heightScrollCalculation();break;case"excel":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();e=this._excelExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(e);this._exportExcelDropDownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this._heightScrollCalculation();break;case"csv":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();this._heightScrollCalculation()}n(this.currentTabContentElement).find(".e-dbrd-fileContentBar .e-dbrd-hoverable").removeClass("e-dbrd-hoverable");n(this.currentTabContentElement).find(".e-dbrd-resolutionAlert").addClass("e-dbrd-hoverable");this.model.enableCustomTheming&&this._customTheme(["popup"])},_mobileDashboardMenu:function(){this.currentTabContentElement.find("#"+this._id+"_DashboardMenuPopup").length>t.DashboardConstants.Zero?(this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").hide(),this.exportDashboard=!0):(this.multiDashboardExport||this.exportSettings.exportDashboard)&&this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").hide()},_heightScrollCalculation:function(){var f=this.element.height(),r,e,o,i,u;this.currentTabContentElement.find(".e-dbrd-mobileExport").height(f);r=t.DashboardConstants.Zero;n(this.currentTabContentElement).find(".e-dbrd-mobileContentWrap").height(r);e=this.currentTabContentElement.find(".e-dbrd-tiltleBar").height();o=this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").height();r=f-(e+o);n(this.currentTabContentElement).find(".e-dbrd-mobileContentWrap").height(r);i=t.DashboardConstants.Zero;switch(this.exportSettings.exportType){case"image":i=t.DashboardConstants.Zero;u=20;n(this.currentTabContentElement.find(".e-dbrd-fileContentBar >")).children().each(function(){i+=n(this).height()});this.multiDashboardExport&&(i+=this.currentTabContentElement.find(".e-brd-imageExport-dropdown").height());this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i+u);break;case"pdf":i=t.DashboardConstants.Zero;u=30;i+=this.currentTabContentElement.find(".e-dbrd-dashPdf").height();i+=this.currentTabContentElement.find(".e-brd-pagesize").height();this.multiDashboardExport&&(i+=this.currentTabContentElement.find(".e-brd-multibrd-export").height());this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i+u);break;case"excel":i=t.DashboardConstants.Zero;n(this.currentTabContentElement.find(".e-dbrd-fileContentBar")).children().each(function(){i+=n(this).height()});this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i);break;case"csv":i=t.DashboardConstants.Zero;this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i)}},_mobileKeyBoardScroll:function(){var i,r;n(window).width()<t.DashboardConstants.MobileWidth?(i=this.currentTabContentElement.find(".e-brd-exportImageField.e-brd-imageResolution"),i.is(":focus")&&(r=i.offset().top+this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").height(),this.currentTabContentElement.find(".e-dbrd-mobileContentWrap").scrollTop(r))):this._heightScrollCalculation()},_exportSettingsClear:function(){this.exportSettings={exportType:"",exportFormat:"",exportDpi:"",filename:"",pagesize:"",orientation:"",widgetSelection:"",dashboardSelection:"",widgetDrpDwnDisplay:!1,excelFileType:"",exportDashboard:!1,isMobile:!1,isExportTriggered:!1}},_calculateExportDialogSize:function(){if(this.exportSettings.isExportTriggered){if(this.exportSettings.exportDashboard=this.exportDashboard,n(window).width()>t.DashboardConstants.MobileWidth&&this.exportSettings.isMobile){this.exportSettings.filename=n("#"+this._id+"_mobileExportFilenameText").val();switch(this.exportSettings.exportType){case"image":this.exportSettings.exportDpi=this.currentTabContentElement.find(".e-brd-imageResolution").val();this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this._validatingResolutionLimit();this.exportSettings.exportDpi===""&&this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this.exportSettings.isExportTriggered=!0;break;case"pdf":this.exportSettings.orientation=this.orientation;this.exportSettings.widgetDrpDwnDisplay=this.currentTabContentElement.find(".e-brd-widget-dropdown").css("display")==="block"?!0:!1;this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this.exportSettings.isExportTriggered=!0;break;case"excel":this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0;break;case"csv":this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0}}else if(n(window).width()<t.DashboardConstants.MobileWidth&&!this.exportSettings.isMobile){this.exportSettings.filename=this.currentTabContentElement.find(".e-brd-exportFilename").val();switch(this.exportSettings.exportType){case"image":this.exportSettings.exportDpi=this.currentTabContentElement.find(".e-brd-imageResolution").val();this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this._validatingResolutionLimit();this.exportSettings.exportDpi===""&&this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this.exportSettings.isExportTriggered=!0;break;case"pdf":this.exportSettings.orientation=this.orientation;this.exportSettings.widgetDrpDwnDisplay=this.currentTabContentElement.find(".e-brd-widget-dropdown").css("display")==="block"?!0:!1;this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this.exportSettings.isExportTriggered=!0;break;case"excel":this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();break;case"csv":this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this.exportSettings.isExportTriggered=!0}var i=this.currentTabContentElement.find(".e-dbrd-inactive-export");i.css({"margin-left":-n(".e-dbrd-inactive-export").width()/2,"margin-top":-n(".e-dbrd-inactive-export").height()/2})}this._validatingImageFilename();this.model.enableCustomTheming&&this._customTheme(["popup"]);this._heightScrollCalculation()}},_validatingImageResolution:function(i){var u=n(i.target).val(),r=i.which?i.which:i.keyCode;return!((r!==46||u.indexOf(".")!==t.DashboardConstants.IndexLowerBound)&&(r<48&&r!==8||r>57))},_validatingResolutionLimit:function(i){var r=null;t.isNullOrUndefined(i)?r=this.exportSettings.exportDpi:(r=n(i.target).val(),this.exportSettings.exportDpi=r);r<96?(n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"200px"}):this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"100%"}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").html(this.locale.utils.ResolutionLow).css({display:"block",float:"left"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"}),this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.imageValidation=!1,this.model.enableCustomTheming&&this._customTheme(["disableBtn"])):r>300?(this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"block",float:"left"}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"160px","margin-bottom":"10px"}):this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"92%","margin-bottom":"10px"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.imageValidation=!0,this.model.enableCustomTheming&&this._customTheme(["enableBtn"])):this.currentTabContentElement.find(".e-brd-filenameError").css("display")==="block"||n(this.currentTabContentElement.find(".e-brd-exportWidgetTitle")).val()===""?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"})):(n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"200px"}):this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"100%"}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.imageValidation=!0,this.model.enableCustomTheming&&this._customTheme(["enableBtn"]))},_validatingImageFilename:function(i){var r=null,u;r=t.isNullOrUndefined(i)?this.exportSettings.filename:n(i.target).val();u=/[!@#$%^&*()+\-=\[\]{};':"\\|,.<>\/?]/;t.isNullOrUndefined(r)||(r.match(u)||r===""||r.trim().length===t.DashboardConstants.Zero?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-filenameError").css({display:"block"}),this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"}),this.model.enableCustomTheming&&this._customTheme(["disableBtn"])):this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"||n(this.currentTabContentElement.find(".e-brd-exportWidgetTitle")).val()===""?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-filenameError").css({display:"none"}),this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"})):(this.imageValidation=!0,this.currentTabContentElement.find(".e-brd-filenameError").css({display:"none"}),this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"outline-color":"#dcdcdc","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.model.enableCustomTheming&&this._customTheme(["enableBtn"])))},_validatingImageWidgetTitle:function(t){var i=n(t.target).val();i===""?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"}),this.model.enableCustomTheming&&this._customTheme("disableBtn")):this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"||this.currentTabContentElement.find(".e-brd-filenameError").css("display")==="block"?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"})):(this.imageValidation=!0,this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc"}),this.model.enableCustomTheming&&this._customTheme("enableBtn"))},_hideExport:function(i){var r,u;if(t.isNullOrUndefined(i))(this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").length>t.DashboardConstants.Zero||this.element.find(".e-dbrd-mobileExport").length>t.DashboardConstants.Zero)&&(r=n(window).width()<t.DashboardConstants.MobileWidth?"MobileExport":this.currentTabContentElement.find(".e-dbrd-inactive-export").attr("id").split("_")[1],this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide(),this.isDialogNotCreated||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:r}}),n(window).width()<t.DashboardConstants.MobileWidth&&(this.element.find(".e-dbrd-tab-res-inactive").hide(),this.element.find(".e-dbrd-tab-res-popup").hide(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportSettingsClear()),this.multiDashboardExport=!1,this.exportDashboard=!1,this.currentTabContentElement.find("#"+this._id+"_imageType").ejDashboardDropDownList("destroy"),this.isPageTypeDropDownCreated&&this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList("destroy"),this.currentTabContentElement.find("#"+this._id+"_excelType").ejDashboardDropDownList("destroy"),this.orientation=this.locale.utils.DefaultOrientation,this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove(),this._exportSettingsClear(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:r}})));else{u=n(window).width()<t.DashboardConstants.MobileWidth?"MobileExport":n(i.target).parents().find(".e-dbrd-inactive-export").attr("id").split("_")[1];this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();var e=n(i.target).hasClass("e-dbrd-dialog-bgrnd-export"),o=n(i.target).hasClass("e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon"),s=n(i.target).hasClass("e-brd-ControlImageCancel"),f=n(i.target).hasClass("e-dbrd-titleBackIcon")||n(i.target).hasClass("e-dbrd-exportBack");f&&(this.element.find(".e-dbrd-tab-res-inactive").hide(),this.element.find(".e-dbrd-tab-res-popup").hide(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportSettingsClear());(e||o||s||f)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:u}}),this.multiDashboardExport=!1,this.exportDashboard=!1,this.currentTabContentElement.find("#"+this._id+"_imageType").ejDashboardDropDownList("destroy"),this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList("destroy"),this.currentTabContentElement.find("#"+this._id+"_excelType").ejDashboardDropDownList("destroy"),this.orientation=this.locale.utils.DefaultOrientation,this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove(),this._exportSettingsClear(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:u}}))}this.model.enableCustomTheming&&this._customTheme(["dashboard"])},_selectPdfOrientationforportrait:function(i){if(n(i.target).attr("id")===this.currentTabContentElement.attr("id")+"_pdfPortrait"&&(this.orientation="Portrait",this._selectPdfOrientation(),this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.popupSettings))){var r=this.model.customThemeSettings.popupSettings;!t.isNullOrUndefined(r["popup-container-background-color"])&&r["popup-container-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-brd-PdfOrientationforlandscape").css({"background-color":r["popup-container-background-color"]});!t.isNullOrUndefined(r["popup-icons-color"])&&r["popup-icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:r["popup-icons-color"]})}},_selectPdfOrientationforlandscape:function(i){if(n(i.target).attr("id")===this.currentTabContentElement.attr("id")+"_pdfLandscape"&&(this.orientation="Landscape",this._selectPdfOrientation(),this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.popupSettings))){var r=this.model.customThemeSettings.popupSettings;!t.isNullOrUndefined(r["popup-container-background-color"])&&r["popup-container-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({"background-color":r["popup-container-background-color"]});!t.isNullOrUndefined(r["popup-icons-color"])&&r["popup-icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:r["popup-icons-color"]})}},_selectPdfOrientation:function(){this.orientation==="Landscape"?(n("#"+this.currentTabContentElement.attr("id")+"_pdfPortrait").css({"background-color":"#fff"}),n("#"+this.currentTabContentElement.attr("id")+"_pdfLandscape").css({"background-color":"#3B99FC"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforlandscape").css({color:"#fff"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({color:"black"})):(n("#"+this.currentTabContentElement.attr("id")+"_pdfLandscape").css({"background-color":"#fff"}),n("#"+this.currentTabContentElement.attr("id")+"_pdfPortrait").css({"background-color":"#3B99FC"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({color:"#fff"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforlandscape").css({color:"black"}));this.currentTabContentElement.find(".e-dbrd-orientation-selection").text(this.orientation)},_ControlImageReset:function(){var r,i,u,f;this.filename=t.isNullOrUndefined(this.filename)?this.exportSettings.filename:this.filename;this.currentTabContentElement.find(".e-brd-mobileFilenameText").val(this.filename);this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({border:"1px solid #dcdcdc","outline-color":"#1E90FF"});this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"});this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"});this.currentTabContentElement.find(".e-brd-filenameError").css({display:"none"});this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"});this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"});this.imageValidation=!0;this.multiDashboardExport&&(r=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),r.unCheckAll(),r.hidePopup(),this._defaultSelection());switch(this.exportSettings.exportType){case"image":this._exportSettingsClear();this.exportSettings.exportType="image";this.imageValidation=!0;this.currentTabContentElement.find("#"+this._id+"_ExportImagefilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_ExportImagetitle").val(this.title);this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_ExportImageresolution").val(t.DashboardConstants.Resolution);this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_imageType").ejDashboardDropDownList({selectedIndex:0});break;case"pdf":this._exportSettingsClear();this.exportSettings.exportType="pdf";this.currentTabContentElement.find("#"+this._id+"_ExportPdffilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_ExportPdftitle").val(this.title);this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.orientation=this.locale.utils.DefaultOrientation;this.currentTabContentElement.find("#"+this._id+"_pdfLandscape").val(this.orientation).css({"background-color":"#3B99FC",color:"#fff"});this.currentTabContentElement.find("#"+this._id+"_pdfPortrait").val(this.orientation).css({"background-color":"#fff",color:"black"});this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList({selectedIndex:1});this.model.enableCustomTheming&&(t.isNullOrUndefined(this.model.customThemeSettings.popupSettings)||(i=this.model.customThemeSettings.popupSettings,!t.isNullOrUndefined(i["popup-container-background-color"])&&i["popup-container-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_pdfLandscape").css({"background-color":"#3B99FC"})),!t.isNullOrUndefined(i["popup-icons-color"])&&i["popup-icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:i["popup-icons-color"]})));this.exportDashboard&&(u=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance"),u.unCheckAll(),u.hidePopup(),this.currentTabContentElement.find(".e-brd-widget-dropdown").css({display:"none"}),f=this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").ejDashboardRadioButton("instance"),f.option("checked",!0),this.currentTabContentElement.find(".e-brd-choose-label").css({display:"none"}));this.currentTabContentElement.find(".e-dbrd-orientation-selection").text(this.orientation);break;case"excel":this._exportSettingsClear();this.exportSettings.exportType="excel";this.currentTabContentElement.find("#"+this._id+"_ExportExcelfilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_excelType").ejDashboardDropDownList({selectedIndex:0});break;case"csv":this._exportSettingsClear();this.exportSettings.exportType="csv";this.imageValidation=!0;this.currentTabContentElement.find("#"+this._id+"_ExportCSVfilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"})}this.exportSettings.isMobile=n(window).width()<t.DashboardConstants.MobileWidth?!0:!1;this.exportSettings.isExportTriggered=!0},_exportImagePopup:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exporting,source:{element:this.exportSettings,data:this.exportSettings.exportType}});switch(this.exportSettings.exportType){case"image":this._exportToImage();break;case"pdf":this._exportToPdf();break;case"excel":this.imageValidation&&this._exportToExcel();break;case"csv":this.imageValidation&&this._exportToCSV()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportCompleted,source:{element:this.exportSettings,data:this.exportSettings.exportType}})},_exportToExcel:function(){var u=null,f=!1,r=!1,n,i;u=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportExcelfilename").val();n=this.currentTabContentElement.find("#"+this._id+"_excelType").val();n===""&&(n=this.locale.utils.ExportToExcel97To2003);this.currentTabContentElement.find(".e-dbrd-exportExcel").remove();this.exportDashboard=!1;i=t.isNullOrUndefined(this.currentTabContentElementData)?this.currentTabContentElementData:this.currentTabContentElementData.attr("data-widget-id");(t.isNullOrUndefined(this.currentTabContentElementData)||t.isNullOrUndefined(i))&&(f=!0);this.multiDashboardExport&&this.multiTabs||(r=!0);t.isNullOrUndefined(i)||(r=!1);this.exportToExcel(i,u,n,!1,f,[],r)},_exportToCSV:function(){var n=null;n=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportCSVfilename").val();this.currentTabContentElement.find(".e-dbrd-exportCSV").remove();this.exportDashboard=!1;this._exportControlData(this.currentTabContentElementData.attr("type"),this.currentTabContentElementData.attr("control-id"),n)},_exportToImage:function(){var i=null,r,e,o,s;i=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportImagefilename").val();var h=this.exportSettings.subtitleName,n=this.currentTabContentElement.find("#"+this._id+"_imageType").val(),u=this.title,f=this.currentTabContentElement.find("#"+this._id+"_ExportImageresolution").val();n=n.substr(n.lastIndexOf(".")+1);n=n.substring(0,n.length-1);this.imageValidation&&(r=!1,this.exportDashboard===!1&&this.multiDashboardExport===!1&&(this.currentTabContentElement.find(".e-dbrd-exportImage").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this.multiDashboardExport=!1,e={type:this.currentTabContentElementData.attr("type"),element:this.currentTabContentElementData.attr("control-id"),imageType:n,resolution:f,filename:i,title:u,subtitle:h},this._exportControlImage(e,r)),this.exportDashboard&&this.multiDashboardExport===!1&&(this.exportDashboard=!1,this.currentTabContentElement.find(".e-dbrd-exportImage").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),o={imageType:n,resolution:f,filename:i,title:u},this._exportDashboardImage(o,r)),this.multiDashboardExport&&(this.exportDashboard=!1,this.currentTabContentElement.find(".e-dbrd-exportImage").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),s={imageType:n,resolution:f,filename:i,title:u,fileType:"zip"},this._exportDashboardImage(s,r)))},_exportToPdf:function(){var r=null,f,c;r=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportPdffilename").val();var e=this.title,l=this.exportSettings.subtitleName,i=this.currentTabContentElement.find("#"+this._id+"_pageSizeType").val(),o=this.currentTabContentElement.find("#"+this._id+"_widgetsName").data("ejDashboardDropDownList"),u=o.getSelectedItemsID();u.length===t.DashboardConstants.Zero&&(n(".e-brd-radio-widgets").is(":checked")&&o.option("checkAll",!0),u=o.getSelectedItemsID());var h=null,s=!1;i===""&&(i=this.locale.utils.A4);n(".e-brd-radio-widgets").is(":checked")&&(s=!0);this.imageValidation&&(f=!1,this.exportDashboard===!1&&this.multiDashboardExport===!1&&(this.multiDashboardExport=!1,this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this.currentTabContentElement.find(".e-dbrd-exportPdf").remove(),c={type:this.currentTabContentElementData.attr("type"),element:this.currentTabContentElementData.attr("control-id"),filename:r,pageSizeType:i,title:e,subtitle:l},this._exportControlPdf(c,f)),this.exportDashboard&&this.multiDashboardExport===!1&&(this.exportDashboard=!1,this.multiDashboardExport=!1,this.currentTabContentElement.find(".e-dbrd-exportPdf").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this._exportDashboardPdf(r,i,e,null,f,u,s)),this.multiDashboardExport&&(this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this.currentTabContentElement.find(".e-dbrd-exportPdf").remove(),h="pdf",this._exportDashboardPdf(r,i,e,h,f,u,s,!1)))},_exportDashboardPdf:function(i,r,u,f,e,o,s){var ft,ct,d,w,a,et,lt,at,vt,yt,y,g,tt,bt,ut,kt,dt,gt;this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();e||this._showwaitingpdfpopup("pdf");ft=JSON.parse(JSON.stringify(this.dashboardParameters));this.newfilename=i;var c=null,p="",ot=null,st=[],v=null,h=0,l=0,k=0,ht=[];for(this.filterDetials=!0,ct=this.appliedFilterData.length,l=0;l<ct;l++)this.filterDetials=!1,ht.push(this.appliedFilterData[l]);if(this.multiDashboardExport){for(yt=this.multiSelectCollection.length,y=0;y<yt;y++)this.multiSelectCollection[y].widgetInfo!==""&&(g=JSON.parse(this.multiSelectCollection[y].widgetInfo),g=this._setWidgetStringForPivotGrid(g),this.multiSelectCollection[y].widgetInfo=JSON.stringify(g));ot=JSON.stringify(this.multiSelectCollection)}else{if(c=this.dashboardControls.getAllControlsForImageExport(i),this._getDatePickerData(c),p="",d="",v=JSON.parse(JSON.stringify(this.currentReport.layout)),w=[],a=0,s)for(a=c.length,h=0;h<a;h++)if(c[h].controlType!=="parameterColumnData"&&c[h].controlType!=="Title"){for(et=!1,lt=o.length,l=0;l<lt;l++)at=this.currentTabContentElement.find("#"+o[l]).attr("data-widget-id"),at===c[h].reportName&&(et=!0);et&&w.push(c[h])}else w.push(c[h]);if(w.length>t.DashboardConstants.Zero&&(c=w),this.model.enableCustomTheming)for(a=c.length,h=0;h<a;h++)c[h].controlType!=="parameterColumnData"&&c[h].controlType!=="Title"&&(d=this._id+"_"+c[h].controlType+"_"+c[h].reportName+"_style",vt=n("head").find("#"+d).html(),p=p+'<style id = "'+d+'">'+vt+"<\/style>");for(c=this._setWidgetStringForPivotGrid(c),a=c.length,h=0;h<a;h++)c[h].controlType==="parameterColumnData"&&(c[h].controlRelations=this.controlRelations,c[h].appliedFilterData=this.appliedFilterData);c=JSON.stringify(c)}var pt=n(window).height(),wt=n(window).width(),nt=this.orientation;t.isNullOrUndefined(nt)&&(nt=this.locale.utils.DefaultOrientation);tt=null;t.isNullOrUndefined(this.model.customThemeSettings)||(tt=JSON.stringify(this.model.customThemeSettings));var b=null,it=null,rt=this.dashboardControls.getAllControlsMasterData();if(this.multiDashboardExport)it={type:"POST",url:this.serviceUrl()+"/MultipleDashboardsExport",data:JSON.stringify({selectedDashboards:ot,widgetCssString:p,pageSize:r,pageLayout:JSON.stringify(nt),data:t.isNullOrUndefined(rt)?null:JSON.stringify(rt),fileType:f,height:pt,width:wt,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,customThemeSettings:tt,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(b),currentUser:JSON.stringify(this.currentUser),dashboardPath:this.dashboardPath(),isFilterDetials:this.filterDetials,subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(ft),isExtendedLayout:this.isExtendedLayout}),onSuccess:this._captureFiles,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(it);else{if(b=this._getGridSettings(),b.length===t.DashboardConstants.Zero&&(b=""),s&&o.length>t.DashboardConstants.Zero)for(bt=v.length,h=0;h<bt;h++)if(v[h].Key==="LayoutInformation"){for(ut=JSON.parse(v[h].Value),kt=o.length,k=0;k<kt;k++)for(dt=ut.length,l=0;l<dt;l++)ut[l].Guid===o[k]&&st.push(ut[l]);gt=JSON.stringify(st);v[h].Value=gt;break}it={type:"POST",url:this.serviceUrl()+"/SavePdf",data:JSON.stringify({layoutString:JSON.stringify(v),widgetString:c,widgetCssString:p,data:t.isNullOrUndefined(rt)?null:JSON.stringify(rt),pageSize:r,pageLayout:JSON.stringify(nt),height:pt,width:wt,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",dashboardPath:this.dashboardPath(),customThemeSupport:this.model.enableCustomTheming,customThemeSettings:tt,gridSettings:JSON.stringify(b),currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,dashboardName:this.dashboardName,isWidgetSpecific:s,initialDashboard:JSON.stringify(this.initialDashboard),masterControls:JSON.stringify(ht),isFilterDetials:this.filterDetials,subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(ft),isloadCompletes:this.actualPages.length===this.pageInformations.length,isExtendedLayout:this.isExtendedLayout,widgetsToExport:JSON.stringify(o)}),onSuccess:this._capturePdf,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(it)}},_capturePdf:function(t,i){var u,r;this._destroyWaitingPdfPopup();this.orientation=this.locale.utils.DefaultOrientation;this._ExportedPdfFileName=this.newfilename;u=JSON.parse(i);r=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(r=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(r)):r=this.currentTabContentElement.find("#"+this._id+"_exportIframe");var e=this._ExportedPdfFileName?this._ExportedPdfFileName+".pdf":"Dashboard.pdf",f=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.savePdfFile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),o=JSON.stringify({pdfFile:u.SavePdfResult,fileName:e,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});f.append(n('<input type="hidden">').attr({name:"arguments",value:o}));f.appendTo(r).submit().remove();r.hide()},_exportDashboardImage:function(i,r){var y,l,o,s,a,k,d,e,v,h;this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();r||this._showwaitingpdfpopup("image");y=JSON.parse(JSON.stringify(this.dashboardParameters));this._ExportedImageFileName=i.filename;var u="",c="",w=null,b=[],f=0,tt=this.appliedFilterData.length;for(l=0;l<tt;l++)b.push(this.appliedFilterData[l]);if(o="",s=0,this.multiDashboardExport){for(d=this.multiSelectCollection.length,e=0;e<d;e++)this.multiSelectCollection[e].widgetInfo!==""&&(v=JSON.parse(this.multiSelectCollection[e].widgetInfo),v=this._setWidgetStringForPivotGrid(v),this.multiSelectCollection[e].widgetInfo=JSON.stringify(v));w=JSON.stringify(this.multiSelectCollection)}else{if(u=this.dashboardControls.getAllControlsForImageExport(i.title),this._getDatePickerData(u),a="",this.model.enableCustomTheming)for(s=u.length,f=0;f<s;f++)u[f].controlType!=="parameterColumnData"&&u[f].controlType!=="Title"&&(a=this._id+"_"+u[f].controlType+"_"+u[f].reportName+"_style",k=n("head").find("#"+a).html(),c=c+'<style id = "'+a+'">'+k+"<\/style>");for(u=this._setWidgetStringForPivotGrid(u),s=u.length,u=JSON.stringify(u),f=0;f<s;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData);o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="")}var g=n(window).height(),nt=n(window).width(),p=null;t.isNullOrUndefined(this.model.customThemeSettings)||(p=JSON.stringify(this.model.customThemeSettings));h=null;this.multiDashboardExport&&this.multiSelectCollection.length!==t.DashboardConstants.One?(h={type:"POST",url:this.serviceUrl()+"/MultipleDashboardsExport",data:JSON.stringify({selectedDashboards:w,widgetCssString:c,isControl:!1,height:g,width:nt,imageType:i.imageType,fileType:i.fileType,resolution:i.resolution,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customThemeSettings:p,currentUser:JSON.stringify(this.currentUser),dashboardPath:this.dashboardPath(),subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),isExtendedLayout:this.isExtendedLayout}),onSuccess:this._captureFiles,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(h)):(h={type:"POST",url:this.serviceUrl()+"/SaveImage",data:JSON.stringify({layoutString:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].layoutInfo:JSON.stringify(this.currentReport.layout),widgetString:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].widgetInfo:u,widgetCssString:c,isControl:!1,height:g,width:nt,imageType:i.imageType,resolution:i.resolution,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,customThemeSettings:p,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].gridSettings:JSON.stringify(o),currentUser:JSON.stringify(this.currentUser),dashboardName:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].id:this.dashboardName,masterControls:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].masterControls:JSON.stringify(b),dashboardPath:this.dashboardPath(),subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),isloadCompletes:this.actualPages.length===this.pageInformations.length,isExtendedLayout:this.isExtendedLayout}),onSuccess:this._captureImage,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(h))},_setWidgetStringForPivotGrid:function(n){for(var r=n.length,i=0;i<r;i++)n[i].controlType===t.dashboardViewer.Controls.PivotGrid&&(n[i].data[n[i].data.length-t.DashboardConstants.One].pagedata=n[i].data[0].pagedata);return n},_captureImage:function(i,r){var f,u,e,o,s;this._destroyWaitingPdfPopup();f=r.SaveImageResult.substr(r.SaveImageResult.lastIndexOf(".")+t.DashboardConstants.One);u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===t.DashboardConstants.Zero?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");e=null;e=t.isNullOrUndefined(this._ExportedImageFileName)?"Dashboard."+f:this._ExportedImageFileName+"."+f;o=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.saveImagefile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"});s=JSON.stringify({imageFile:r.SaveImageResult,fileName:e,type:f,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});o.append(n('<input type="hidden">').attr({name:"argument",value:s}));o.appendTo(u).submit().remove();u.hide()},_getDatePickerData:function(n){for(var r,u,f=n.length,i=0;i<f;i++)r=[],n[i].controlType!==t.dashboardViewer.Controls.DatePicker||t.isNullOrUndefined(n[i].data[0])||(u=n[i].data[0].pagedata.length,u>t.DashboardConstants.Zero&&r.push(n[i].data[0].pagedata[0]),u>t.DashboardConstants.One&&r.push(n[i].data[0].pagedata[u-t.DashboardConstants.One]),n[i].data[0].pagedata=r)},_getDashboardSelectionDetails:function(t){for(var c,i,r,e,o=[],u=[],s=[],h=t.length,f=0;f<h;f++)for(c=this.dashboardDetails.length,i=0;i<c;i++)t[f].toLocaleLowerCase().trim()===this.dashboardDetails[i].DashboardDisplayName.toLocaleLowerCase().trim()&&(o.push(this.dashboardDetails[i]),s.push(this.dashboardDetails[i].DashboardDisplayName));for(r=0;r<h;r++)e=t[r].trim(),n.inArray(e,s)===-1&&n.inArray(e,u)===-1&&u.push(t[r]);return[{selectedItems:o,nonMatchedItems:u}]},_getWidgetSelectionDetails:function(t){for(var l,i,r,s,h=[],f=[],e=[],u=this._getWidgetNames(),c=t.length,o=0;o<c;o++)for(l=u.length,i=0;i<l;i++)t[o].toLocaleLowerCase().trim()===u[i].WidgetsName.toLocaleLowerCase().trim()&&(e.push(u[i].WidgetsName),h.push(u[i].WidgetsId));for(r=0;r<c;r++)s=t[r].trim(),n.inArray(s,e)===-1&&n.inArray(s,f)===-1&&f.push(t[r]);return[{selectedWidgetsList:h,nonMatchedItems:f,selectedWidgetNames:e}]},_getStatus:function(n){var i=0,r=[],f=n[t.DashboardConstants.Zero].selectedItems.length,u;if(f>t.DashboardConstants.Zero)for(i=0;i<f;i++)r.push({status:this.locale.utils.Success,name:n[t.DashboardConstants.Zero].selectedItems[i].DashboardDisplayName});if(u=n[t.DashboardConstants.Zero].nonMatchedItems.length,u>t.DashboardConstants.Zero)for(i=0;i<u;i++)r.push({status:this.locale.utils.Failure,name:n[t.DashboardConstants.Zero].nonMatchedItems[i],Reason:this.locale.errorMessages.ErrorInMultiDbrdExport});return r},_getSuccessStatus:function(n,t){var r=[],u,i;if(t)for(u=this.dashboardDetails.length,i=0;i<u;i++)r.push({status:this.locale.utils.Success,name:this.dashboardDetails[i].DashboardDisplayName});else r.push({status:this.locale.utils.Success,name:n});return r},_getFailureStatusForWidget:function(n){var t=[];return t.push({status:this.locale.utils.Failure,name:n,Reason:this.locale.errorMessages.ErrorInMultipleWidgetExport}),t},_b64toBlob:function(n,t,i){for(var r,l,a=t||"",f=i||512,e=atob(n),o=[],u=0;u<e.length;u+=f){var s=e.slice(u,u+f),h=s.length,c=new Array(h);for(r=0;r<h;r++)c[r]=s.charCodeAt(r);l=new Uint8Array(c);o.push(l)}return new Blob(o,{type:a})},_processWebpageImageForExport:function(i,r){for(var l,p,a,w,u,o,s,v,y,f,h,c=r.find("svg"),b=c.length,e=0;e<b;e++)l=n("<div>"),p=n(c[e]).clone(),l.append(p),a=document.createElement("canvas"),canvg(a,l[0].innerHTML),w=i.getContext("2d"),w.drawImage(a,n(c[e]).offset().left,n(c[e]).offset().top);r===this.currentTabContentElement.attr("id")?(u=n("#"+r),!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&(o=u.width()-30,y=u.offset().left,v=u.offset().top,s=u.height())):(o=i.width,s=i.height,v=0,y=0);f=document.createElement("canvas");f.width=o;f.height=s;f.getContext("2d").drawImage(i,y,v,o,s,t.DashboardConstants.Zero,t.DashboardConstants.Zero,o,s);this.isPrintTriggered?(this.isPrintTriggered=!1,h=window.open(),h.document.write("<br><img src='"+f.toDataURL()+"'/>"),h.print(),h.location.reload(),h.close()):this.saveFileFromServer("IMAGE",f.toDataURL("image/png"))},_exportControlData:function(t,i,r){var f=null,u,e;(t==="ComparisonChart"||t==="Grid"||t==="PivotGrid"||t==="TreeMap"||t==="BubbleMap"||t==="ChoroplethMap"||t==="Card"||t==="CircularGauge"||t==="Chart"||t==="ProportionChart"||t==="CustomWidget")&&(f=n("#"+i).parents(".e-dbrd-layout-cell").find(".e-dbrd-control"),u={},u.controlId=f.attr("data-controlId"),u.controlType=n("#"+i).parents(".e-dbrd-layout-cell").attr("data-controlType"),u.headerText=r,u.controlType==="CircularGauge"&&(u.controlType="Gauge"),e=[],this._exportDataAsCSV(u,e))},_getGridSettings:function(i,r){var s=[],u=null,o=null,h,f,e;for(this.multiDashboardExport?(u=i.controls,o=r):(u=this.dashboardControls.controls,o=this._id),h=u.length,f=0;f<h;f++)u[f].controlType==="Grid"&&(e=n("#"+o+"_Widget_"+u[f].reportName).data("ejDashboardGrid"),t.isNullOrUndefined(e)||s.push({reportName:u[f].reportName,sortSettings:e.model.sortSettings,filterSettings:e.model.filterSettings}));return s},_exportDataAsCSV:function(n,t){this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();this._showwaitingpdfpopup("csv");this._ExportedCSVFileName=n.headerText;this.model.enableAutorefresh&&this._resetAutoRefresh();var i=JSON.parse(JSON.stringify(this.dashboardParameters)),r=this._getGridSettings(),u=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),f=JSON.stringify(this.rangeData),e=JSON.stringify(this.initialFilters),o=JSON.stringify(t),s=this.modifiedConnectionStrings,h=JSON.stringify(this.currentUser),c={type:"POST",url:this.serviceUrl()+"/exportAsCsv",data:JSON.stringify({dashboardPath:this.dashboardPath(),controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,data:u,rangeData:f,drilledData:o,modifiedConnectionStrings:s,fileName:n.headerText,currentUser:h,isPublic:this.isPublicDashboard,itemId:this.itemId,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,filterParameters:e,gridSettings:JSON.stringify(r),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(i)}),onSuccess:this._captureCSV,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(c)},_captureCSV:function(i,r){var f,u;this._destroyWaitingPdfPopup();this._ExportedPdfFileName=this.newfilename;f=r;t.isNullOrUndefined(f.ExportAsCsvResult)&&(f=JSON.parse(f));u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");var o=this._ExportedCSVFileName?this._ExportedCSVFileName+".csv":"Dashboard.csv",e=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.saveCsvFile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),s=JSON.stringify({csvFile:f.ExportAsCsvResult+".csv",fileName:o,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});e.append(n('<input type="hidden">').attr({name:"arguments",value:s}));e.appendTo(u).submit().remove();u.hide()},_exportDataAsExcel:function(n,t,i,r){var a=this.model.localeSettings.resourcePath,v=this.model.localeSettings.culture,e,u,c,l;this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();r||this._showwaitingpdfpopup("excel");this.model.enableAutorefresh===!0&&this._resetAutoRefresh();e=JSON.parse(JSON.stringify(this.dashboardParameters));this._ExportedExcelFileName=n.headerText;u=t===this.locale.utils.ExportToExcel2013;this._excelfileVersion=u?".xlsx":".xls";var o=JSON.stringify(this.currentUser),s=JSON.stringify(this.initialFilters),h=this.modifiedConnectionStrings,f=null;if(this.multiDashboardExport)c=this._multiTabExportExcel(),l=JSON.stringify(c),f={type:"POST",url:this.serviceUrl()+"/MultipleDashboardsExport",data:JSON.stringify({dashboardPath:this.dashboardPath(),excelDashboards:l,controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,modifiedConnectionStrings:h,fileName:n.headerText,currentUser:o,isExcel2013Version:u,isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:s,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,fileType:i,version:this._excelfileVersion,dashboardParameterSettings:this._setAjaxDashboardParameterValue(e)}),onSuccess:this._captureExcel,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(f);else{var y=this._getGridSettings(),p=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),w=JSON.stringify(this.rangeData);f={type:"POST",url:this.serviceUrl()+"/exportAsExcel",data:JSON.stringify({dashboardPath:this.dashboardPath(),controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,data:p,rangeData:w,modifiedConnectionStrings:h,fileName:n.headerText,currentUser:o,isExcel2013Version:u,isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:s,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(y),dashboardName:this.dashboardName,customCulture:v,customLanguagePath:a,dashboardParameterSettings:this._setAjaxDashboardParameterValue(e)}),onSuccess:this._captureExcel,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(f)}},_captureExcel:function(i,r){var u,f;if(this._destroyWaitingPdfPopup(),u=r,f=null,this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(f=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(f)):f=this.currentTabContentElement.find("#"+this._id+"_exportIframe"),!t.isNullOrUndefined(u)&&(!t.isNullOrUndefined(u.ExportAsExcelResult)||!t.isNullOrUndefined(u.MultipleDashboardsExportResult))){var o=t.isNullOrUndefined(u.ExportAsExcelResult)?u.MultipleDashboardsExportResult:u.ExportAsExcelResult,s=this._ExportedExcelFileName+this._excelfileVersion,e=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.saveExcelfile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),h=JSON.stringify({excelFile:o+this._excelfileVersion,fileName:s,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});e.append(n('<input type="hidden">').attr({name:"arguments",value:h}));e.appendTo(f).submit().remove();f.hide()}},_exportControlImage:function(i,r){var u=0,s,l,h,a,c,o,v;this.model.enableAutorefresh&&this._resetAutoRefresh();r||this._showwaitingpdfpopup("image");var y=JSON.parse(JSON.stringify(this.dashboardParameters)),e="",p=JSON.parse(JSON.stringify(this.currentReport.layout)),f=this.dashboardControls.getControlForImageExport(n("#"+i.element).attr("data-controlid"));if(n("#"+i.element).hasClass("e-Card-Single")&&n("#"+i.element).find(".e-dbrd-param-column").text()!==""){for(u=0;u<this.dashboardControls.controls.length;u++)this.dashboardControls.controls[u].controlType==="parameterColumnData"&&f.push(this.dashboardControls.controls[u]);for(u=0;u<f.length;u++)f[u].controlType==="parameterColumnData"&&(f[u].controlRelations=this.controlRelations,f[u].appliedFilterData=this.appliedFilterData)}for(s=this._getHeightAndWidthForExport(i.type,i.element),this._ExportedImageFileName=i.filename,l=this.getMasterControlsBySlave(i.element),this.model.enableCustomTheming&&(h=this._id+"_"+f[0].controlType+"_"+f[0].reportName+"_style",e=n("head").find("#"+h).html(),e='<style id = "'+h+'">'+e+"<\/style>"),f=this._setWidgetStringForPivotGrid(f),f=JSON.stringify(f),a=f.length,u=0;u<a;u++)f[u].controlType==="parameterColumnData"&&(f[u].controlRelations=this.controlRelations,f[u].appliedFilterData=this.appliedFilterData);c=null;t.isNullOrUndefined(this.model.customThemeSettings)||(c=JSON.stringify(this.model.customThemeSettings));o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="");v={type:"POST",url:this.serviceUrl()+"/SaveImage",data:JSON.stringify({layoutString:JSON.stringify(p),widgetString:f,widgetCssString:e,isControl:!0,controlHeader:i.title,height:s.height,width:s.width,imageType:i.imageType,resolution:i.resolution,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:i.type,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customThemeSupport:this.model.enableCustomTheming,customThemeSettings:c,gridSettings:JSON.stringify(o),currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,masterControls:JSON.stringify(l),initialDashboard:JSON.stringify(this.initialDashboard),dashboardPath:this.dashboardPath(),subtitleName:i.subtitle,dashboardParameterSettings:this._setAjaxDashboardParameterValue(y)}),onSuccess:this._captureImage,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(v)},_exportControlPdf:function(i,r){var o,w,s,c,l,a,v,y,k;this.model.enableAutorefresh&&this._resetAutoRefresh();var p=[],f=0,e="";p=this.dashboardControls.getAllControlsMasterData();o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="");r||this._showwaitingpdfpopup("pdf");w=JSON.parse(JSON.stringify(this.dashboardParameters));this.newfilename=i.filename;var h=this.orientation,b=!1,d=this.getMasterControlsBySlave(i.element),g=JSON.parse(JSON.stringify(this.currentReport.layout)),u=this.dashboardControls.getControlForImageExport(n("#"+i.element).attr("data-controlid"));if(n("#"+i.element).hasClass("e-Card-Single")&&n("#"+i.element).find(".e-dbrd-param-column").text()!==""){for(f=0;f<this.dashboardControls.controls.length;f++)this.dashboardControls.controls[f].controlType==="parameterColumnData"&&u.push(this.dashboardControls.controls[f]);for(f=0;f<u.length;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData)}s=u.length>t.DashboardConstants.Zero?u[0].reportName:null;u=this._setWidgetStringForPivotGrid(u);c=u.length>t.DashboardConstants.Zero?u[0].totalCount:null;l=t.DashboardConstants.Zero;c>50&&(b=!0);this.model.enableCustomTheming&&(a=this._id+"_"+u[0].controlType+"_"+s+"_style",e=n("head").find("#"+a).html(),e='<style id = "'+a+'">'+e+"<\/style>");u=JSON.stringify(u);v=this._getHeightAndWidthForExport(i.type,i.headerWidthelement);t.isNullOrUndefined(i.pageSizeType)||(l=JSON.parse(JSON.stringify(i.pageSizeType)));t.isNullOrUndefined(h)&&(h=this.locale.utils.DefaultOrientation);this._ExportedImageFileName=i.filename;y=null;t.isNullOrUndefined(this.model.customThemeSettings)||(y=JSON.stringify(this.model.customThemeSettings));[].push({Method:"LoadWidget",Control:s,ErrorOccured:!1});k={type:"POST",url:this.serviceUrl()+"/SavePdf",data:JSON.stringify({layoutString:JSON.stringify(g),widgetString:u,widgetCssString:e,isControl:!0,controlHeader:i.title,pageSize:l,pageLayout:JSON.stringify(h),height:v.height,width:v.width,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:i.type,customThemeSupport:this.model.enableCustomTheming,customThemeSettings:y,isVirtualScrolling:b,dashboardPath:this.dashboardPath(),controlId:s,totalCount:c,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(o),data:JSON.stringify(p),currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,masterControls:JSON.stringify(d),initialDashboard:JSON.stringify(this.initialDashboard),subtitleName:i.subtitle,dashboardParameterSettings:this._setAjaxDashboardParameterValue(w)}),onSuccess:this._capturePdf,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(k)},_showwaitingpdfpopup:function(i){this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();this._exportSettingsClear();var u=null,e=n("<div>").attr({id:this._id+"_popupPdfDiv"}).addClass("e-dbrd-dialog-bgrnd-export-waiting").css({"z-index":"100000","background-color":"rgba(0, 0, 0, 0.5)",top:this.currentTabContentElement.scrollTop()+"px"}),r=n("<div>").attr({id:this._id+"_imageExport"}).addClass("e-dbrd-waiting-inactive-export").css({height:"126px",width:"256px"}),f='<div class = "e-waitingLoadedPopup" id = "'+this._id+'_popupContainerDiv" style = "position:initial"><svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class="waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div>';i==="pdf"||i==="csv"?(r.append(f),u=i==="pdf"?this.locale.utils.ExportToPdfWaitingText:this.locale.utils.ExportToCSVWaitingText,r.append(n("<div>").addClass("e-brd-showDashoardMenu-ExportimageTitle ").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"16px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this.currentTabContentElement.attr("id")+"_pdfExport"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel))):i==="scroll"?(r.append(f),u=this.locale.utils.FetchingData,r.append(n("<div>").addClass("e-dbrd-datafetching-indicator").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"14px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this.currentTabContentElement.attr("id")+"_datafetchingindicator"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel))):(r.append(f),u=i==="image"?this.locale.utils.ExportToImageWaitingText:this.locale.utils.ExportToExcelWaitingText,r.append(n("<div>").addClass("e-brd-showDashoardMenu-ExportimageTitle ").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"14px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this.currentTabContentElement.attr("id")+"_pdfExport"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel)));e.append(r);this.currentTabContentElement.append(e);this.model.enableCustomTheming&&this._customTheme(["popup"])},_cancelWaitingIndicator:function(i){n(i.target).parents(".e-dbrd-dialog-bgrnd-export-waiting").remove();t.isNullOrUndefined(this.slaveDataRequest)||this.slaveDataRequest.abort()},_destroyWaitingPdfPopup:function(){this.currentTabContentElement.find("#"+this._id+"_popupPdfDiv").remove()},_mobileExportDropdownResize:function(){var r,i,u,f,e;if(n(window).width()<t.DashboardConstants.MobileWidth&&this.exportSettings.isExportTriggered){this.multiDashboardExport&&(r=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),r.option("height","30px"),r.option("width","100%"));switch(this.exportSettings.exportType){case"image":i=n("#"+this._id+"_imageType").ejDashboardDropDownList("instance");!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&(i.option("height","30px"),i.option("width","100%"));break;case"pdf":u=n("#"+this._id+"_pageSizeType").ejDashboardDropDownList("instance");u.option("height","30px");u.option("width","100%");f=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance");f.option("height","30px");f.option("width","100%");break;case"excel":e=n("#"+this._id+"_excelType").ejDashboardDropDownList("instance");e.option("height","30px");e.option("width","100%")}}},_drppopupshow:function(){this.model.enableCustomTheming&&this._customTheme(["popup"])},_handleKeyPress:function(n){n.keyCode===27&&(this.currentTabContentElement.find(".e-brd-exportPopupWindowClose").length===t.DashboardConstants.One?this.currentTabContentElement.find(".e-brd-exportPopupWindowClose").click():this.currentTabContentElement.find(".e-dbrd-inactive").length===t.DashboardConstants.One&&this.currentTabContentElement.find(".e-dbrd-inactive-header-close").length===t.DashboardConstants.One&&this.currentTabContentElement.find(".e-dbrd-inactive-header-close").click())},_exportEnter:function(i){var f;if(!t.isNullOrUndefined(i)){var r=n(document.activeElement).attr("class"),e=n(document.activeElement).parents(".e-brd-export-dropdown"),u=e.attr("class");if(t.isNullOrUndefined(u)||u.indexOf("e-brd-export-dropdown")===t.DashboardConstants.IndexLowerBound)i.keyCode===13&&this.exportSettings.exportType!==""&&r.indexOf("e-brd-export-dropdown")===t.DashboardConstants.IndexLowerBound&&r.indexOf("e-brd-ControlImageReset")===t.DashboardConstants.IndexLowerBound&&r.indexOf("e-brd-ControlImageCancel")===t.DashboardConstants.IndexLowerBound&&(f=this.currentTabContentElement.find(".e-brd-ControlImageExport"),this._exportImagePopup(f));else if(i.keyCode===27&&this.exportSettings.exportType!=="")this._hideExport(i);else return}},_manageFocusWithInElement:function(i){var u=this,r=function(f){i!==null&&i.length>t.DashboardConstants.Zero&&i.find(f.target).length===t.DashboardConstants.Zero&&(n("#"+u.currentTabContentElement.attr("id")).find(i).length===t.DashboardConstants.Zero||n(".e-dbrd-exportImage").css("display")==="block"||n(".e-dbrd-exportPdf").css("display")==="block"||n(".e-dbrd-exportExcel").css("display")==="block"?document.removeEventListener("focus",r,!0):i.focus())};document.addEventListener("focus",r,!0)},_getHeightAndWidthForExport:function(t,i){var r=Math.max(650,n("#"+i).find("table").height()),u=Math.max(1366,n("#"+i).find("table").width());return(t==="Card"||t==="CircularGauge"||t==="Grid"||t==="ProportionChart"||t==="PivotGrid")&&n("#"+i).find("td").length>1&&(r=n("#"+i).find("table").height(),u=n("#"+i).find("table").width(),t==="Grid"&&(r=n("#"+i).find(".e-gridcontent").find("table").height()-20,u=n("#"+i).find(".e-gridcontent").find("table").width(),r>1560&&(r=1560)),t==="PivotGrid"&&(r=n("#"+i).find(".pivotGridTable").height(),u=n("#"+i).find(".pivotGridTable").width())),{height:parseInt(r+0).toString(),width:parseInt(u+0).toString()}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.misc={_renderLabel:function(i,r){var c=i.getCurrentPageData(),u=c.pagedata,f=null,s,e,o,h;u&&(s=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}),this.isWidget&&(u.Row=0,u.Column=0),f=r?n("#"+this._id+"_filterCell_"+u.Row+"_"+u.Column).addClass("dashboardLabelControl"):n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).addClass("dashboardLabelControl"),f.attr({"data-controlId":u.Id,"data-controltype":"Label"}),f.find(".e-dbrd-control").remove(),e=n(f).find(".e-dbrd-control-container"),o=n("<div>").addClass("e-dbrd-control"),f.css({"background-color":"transparent"}),s.css({overflow:"hidden",position:"relative",height:"100%",width:"100%",display:"table-cell","vertical-align":u.VerticalTextAlignment}).addClass("e-dbrd-label-control"),o.css({display:"table",border:"none","background-color":u.Background,overflow:"hidden",height:"100%",width:"100%"}),h={span:s,div:e},this._appendLabelText(u.FormatText,u.ParamColumns,h),o.append(h.span),e.append(o),o.ejDashboardScroller({scrollerSize:13,height:e.height(),width:e.width()}))},_renderImage:function(i){var e=i.getCurrentPageData(),r=null,o,u,f,s;if(e.isError){this._showControlError(e.pagedata,n("#"+this.id+"_cell"+configInfo.Row+"_"+configInfo.Column+" .e-dbrd-control "),configInfo);return}r=e.pagedata;this._hideControlError(n("#"+this._id+"_cell_"+r.Row+"_"+r.Column));o=n("#"+this._id+"_cell_"+r.Row+"_"+r.Column);o.addClass("dashboardImageControl").attr({"data-controlId":r.Id,"data-controltype":"Image"});u=n(o).find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+r.Id});i.configInfo.IsLinked===!0&&i.configInfo.ControlLinkData!==null&&(u.addClass("e-dbrd-imageControl").attr({"data-controlId":i.configInfo.Id,"data-controlLinkData":JSON.stringify(i.configInfo.IsLinked?i.configInfo.ControlLinkData:""),imageLink:e.pagedata.Data}),u.css({cursor:"pointer"}));f=n(o).find(".e-dbrd-containerWrapper");u.css({position:"absolute"});switch(r.Stretch){case"Fill":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"100% 100%","-webkit-background-repeat":"no-repeat"});break;case"None":s=n("<img>").attr({id:this._id+"_"+r.Id,src:r.Image});s.css({visibility:"hidden"});u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-repeat":"no-repeat"});u.append(s);setTimeout(function(n,t){n.height()<t.height()&&u.css({"background-position-y":"50%","background-position-x":"50%"})},100,s,u);this._emptyImageContenyCreate(i.data[0].pagedata.IsImageExist,r);return;case"Uniform":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"contain","-webkit-background-size":"contain","background-position":"50% 50%","background-repeat":"no-repeat"});break;case"UniformToFill":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"cover","-webkit-background-size":"cover","background-repeat":"no-repeat"})}},_emptyImageContenyCreate:function(i,r){var e=this.element.find(".emptyImage").length===t.DashboardConstants.Zero,f;if(!i&&e){var u=n("<div class = 'emptyImage'><\/div>").attr({id:this._id+"_empty"+r.Id}),o=n('<div class="emptyImageIcon"><\/div>'),s=n('<div class="emptyImagemsg"><\/div>').attr({id:this._id+"_emptyImgMsg"+r.Id}).text(this.locale.utils.EmptyImageMsg);u.append(o);u.append(s);f=this.currentTabContentElement.find("#"+this._id+"_"+r.Id).parents(".e-dbrd-control");f.append(u)}else this.element.find(".emptyImage").remove()},_appendLabelText:function(i,r,u){var rt=3,ut,h,v,ot,e,w,ht,y,ct,s,nt,p,tt,lt,at,it;if(i!==null)for(ut=i.RichTextParagraphs.length,h=0;h<ut;h++){var b=i.RichTextParagraphs[h],vt=b.Runs.length,a=n("<p>"),k=8;for(v=0;v<vt;v++){var ft=0,d=[],et=!1,f=i.RichTextParagraphs[h].Runs[v],o=n("<span>"),c=f.Text||"",l=c,yt=l.indexOf("{"),pt=l.lastIndexOf("}");if(l=l.substring(yt,pt+t.DashboardConstants.One),r!==null&&r.length!==t.DashboardConstants.Zero){for(ot=r.length,e=0;e<ot;e++){var wt=l.split(/[{,\/}]/),g=wt.filter(Boolean),bt=r[e].ParameterText.split(/[{,\/}]/),st=bt.filter(Boolean);for(w=0;w<d.length;w++)if(d[w]===st[t.DashboardConstants.Zero]){et=!0;break}for(ht=g.length,y=0;y<ht;y++)g[y]!==st[t.DashboardConstants.Zero]||et||(d.push(g[y]),ct=r[e].ParameterText.replace(/(?!\w|\s)./g,"").replace(/\s+/g," ").replace(/^(\s*)([\W\w]*)(\b\s*$)/g,"$2"),s=c.split(r[e].ParameterText),(s.length!==t.DashboardConstants.One||s.length!==t.DashboardConstants.Zero)&&(s.length!==t.DashboardConstants.Zero&&(o.append(s[0]),s.splice(t.DashboardConstants.Zero,t.DashboardConstants.One)),l.indexOf(r[e].ParameterText)!==t.DashboardConstants.IndexLowerBound?f.Bold?(o.append(n("<span>").html("All").addClass("e-dbrd-param-column").css({"font-weight":"bold"}).attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" ")):(o.append(n("<span>").html("All").addClass("e-dbrd-param-column").attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" ")):l===ct?(nt=/[{}:]/,p=v,v!==t.DashboardConstants.Zero&&nt.test(i.RichTextParagraphs[h].Runs[p-t.DashboardConstants.One].Text)&&nt.test(i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text)&&(tt=a.children().last(),lt=tt.text().replace("{{:",""),tt[t.DashboardConstants.Zero].innerHTML=lt,at=i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text.replace("}}",""),i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text=at,o.empty(),o.append(n("<span>").html("All").addClass("e-dbrd-param-column").attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" "))):c=s.join()))}o.append(c)}else o.append(c);k<f.FontSize&&(k=f.FontSize);o.css({"font-size":f.FontSize+"px","font-weight":f.Bold?"bold":"normal","font-style":f.Italic?"italic":"normal","text-decoration":f.Underline?"underline":"initial"});t.isNullOrUndefined(f.FontFamily)||o.css({"font-family":f.FontFamily});t.isNullOrUndefined(f.ForegroundColor)||o.css({color:"#"+f.ForegroundColor.substr(rt)});t.isNullOrUndefined(f.BackgroundColor)||o.css({"background-color":"#"+f.BackgroundColor.substr(rt)});f.IsHyperlink&&!t.isNullOrUndefined(f.HyperlinkData)&&(ft=1,f.HyperlinkData.NavigateUrl.match(/^[a-zA-Z]+:\/\//)||f.HyperlinkData.NavigateUrl.toUpperCase().startsWith("MAILTO:")||(f.HyperlinkData.NavigateUrl="http://"+f.HyperlinkData.NavigateUrl),it=n("<a>").attr({href:f.HyperlinkData.NavigateUrl,target:this._getTargetType(f.HyperlinkData.Target)}).html(f.HyperlinkData.Alias),it.html(o),a.append(it));ft!==t.DashboardConstants.One&&a.append(o)}t.isNullOrUndefined(b.TextAlignment)||a.css({"text-align":b.TextAlignment.toLowerCase()});a.css({"min-height":k+"px",width:u.div.width()});u.span.append(a)}},_loadimageSlaves:function(i){var r=0,e=null,h=[],c=[],o=[],l=n(i.target),v=this,u,s,a,f;if(e=l.parents(".e-dbrd-control-container").find(".e-dbrd-imageControl").eq(r).attr("data-controlLinkData"),u=n.parseJSON(l.parents(".e-dbrd-control-container").find(".e-dbrd-imageControl").eq(r).attr("imageLink")),u.length!==r&&u!==null){for(s=Object.keys(u[r]),a=Object.values(u[r]),f=0;f<s.length;f++)h.push({Column:s[f],Value:a[f]});c.push({Items:h})}if(t.isNullOrUndefined(e)||(o=n.parseJSON(e)),!t.isNullOrUndefined(o)){v._controlNavigate(o,c,null);return}},_getTargetType:function(n){switch(n){case"New Window":case"New Tab":return"_blank";case"Same Window":return"_self"}return"_blank"}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.treemap={_renderTreeMap:function(r,u){var l=r.getCurrentPageData(),f=r.configInfo,h=this.dashboardControls.getControlByReport(f.Id),c=r.drillLevels,a=!1,nt=null,tt=null,it=15,ct=null,e=null,p=0,rt=1,y=0,s=0,ut=[],v,ft,k,et,o,ot,w,d,b,st,ht,g;if(h.columnFormating=f.ColumnFormatting,this._dashboardData().isExportImage&&(f.EnableDrillDown=!1),v=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),e=v.find(".e-dbrd-control"),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),e.css({"margin-left":"-2px"}),f.ColorType==="range")for(ft=f.ColorMapping.ColorMapping.length,y=0;y<ft;y++)f.ColorMapping.ColorMapping[y].color=h.customTheme.rangeColorMap[y];if(f.ColorType==="desat"&&(k=JSON.parse(f.ColorMapping.ColorMapping),k.color=h.customTheme.desaturationColorMap,f.ColorMapping.ColorMapping=JSON.stringify(k)),l.isError){e.attr({"data-controlId":f.Id});e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id});this._showControlError(l.pagedata,e,f);return}if((this._hideControlError(e),this._applyOrRemoveNoDataAvailable(l.pagedata.length,e))&&(!f.isNodata||this._applyOrRemoveNoDataAvailable(p,e))){if(!t.isNullOrUndefined(u)&&u.isMaximize&&f.LoadOnDemand){if(ut.push(c[0]),c=[],c=ut,h.drillLevelInfo!==i&&h.drillLevelInfo.length>p)for(et=h.drillLevelInfo.length,s=et-t.DashboardConstants.One;s>=t.DashboardConstants.Zero;s--)h.drillLevelInfo[s].Key===f.Id+"_Maximize"&&h.drillLevelInfo.splice(s,t.DashboardConstants.One);h.drillLevelInfo.push({Key:f.Id+"_Maximize",Values:[]})}if(e.data("ejTreeMap")&&t.isNullOrUndefined(u)){for(o=e.data("ejTreeMap"),ot=l.pagedata.length,w=0;w<ot;w++)l.pagedata[w][o.model.weightValuePath]===p&&(ct+=rt);if(d="ColorMapping",o.model.dataSource=l.pagedata,o.model.rangeColorMapping=f.ColorType==="range"?f.ColorMapping[d]:[],o.model.tooltipTemplate=o.model.enableDrillDown?this._id+"_"+e.attr("data-controlId")+"_toolTip0":this._id+"_"+e.attr("data-controlId")+"_toolTip",o.model.desaturationColorMapping=f.ColorType==="desat"?JSON.parse(f.ColorMapping[d]):[],o.model.headerLabelClicked=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f):null,o.model.drillStarted=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f):null,o.model.drillDownLevel=0,o._drilldownHeaders=[],o._prevData=[],o._prevLevels=[],o._prevLegend=[],b=e.attr("data-controlId"),o.model.enableDrillDown)for(st=c.length,s=0;s<st;s++)n("#"+this._id+"_"+b+"_toolTip"+s).remove(),n("#"+this._id+"_"+b+"_labeltemplate"+s).remove();else n("#"+o.model.tooltipTemplate).remove(),n("#"+this._id+"_"+b+"_labeltemplate0").remove();this._createTreeMapTemplates(["label","tooltip"],f,c);o.refresh();this._treeMapInitialSelection(h,e,f.Id);return}if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.treemapDiv)?(v.find("e-dbrd-control-container").css({overflow:"hidden"}),v.attr({"data-controltype":"TreeMap"}),this.model._dashboardData.isExportImage?e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id}):e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id}).css({overflow:"hidden"}),v.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),v.find(".e-dbrd-export").attr({value:f.Id})):(e=u.treemapDiv,a=u.isMaximize),f.isNodata){this._applyOrRemoveNoDataAvailable(p,e);return}for(ht=c.length,s=0;s<ht;s++)c[s].labelTemplate=this._id+"_"+f.Id+"_labeltemplate"+s,c[s].labelVisibilityMode="hideonexceededlength";this._createTreeMapTemplates(["label","tooltip"],f,c);g=f.ColorMapping.Format;f.ColorType==="desat"&&(nt=this.formatLegend(JSON.parse(f.ColorMapping.ColorMapping).rangeMinimum,g),tt=this.formatLegend(JSON.parse(f.ColorMapping.ColorMapping).rangeMaximum,g));var lt=f.LabelPosition,at=h.customTheme.palette,vt=f.WeightValue,yt=f.ColorValue,pt=f.ShowLegend,wt=f.EnableDrillDown,bt=h.customTheme.drillDownSelectionColor,kt=f.ColumnFormatting[0].ColumnName,dt=h.customTheme.highlightColor,gt=f.LegendPosition.toLowerCase(),ni=f.ColorType==="range"?"default":"interactive",ti=f.ColorType==="desat"?nt:null,ii=f.ColorType==="desat"?tt:null,ri=f.ColorType==="range"?25:20,ui=f.ColorType==="range"?700:200,fi=f.IsMasterFilter||f.IsLinked,ei=f.EnableDrillDown?this._id+"_"+f.Id+"_toolTip0":this._id+"_"+f.Id+"_toolTip",oi=f.ColorType==="range"?f.ColorMapping.ColorMapping:[],si=f.ColorType==="desat"?JSON.parse(f.ColorMapping.ColorMapping):[],hi=n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a),ci=f.EnableDrillDown?n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a):null,li=f.EnableDrillDown&&c.length===rt,ai=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f,a):null;e.ejTreeMap({leafItemSettings:{showLabels:!0,labelPosition:lt,labelTemplate:this._id+"_"+f.Id+"_labeltemplate0",labelVisibilityMode:"hideonexceededlength"},palette:at,dataSource:l.pagedata,enableResize:!0,enableDrillDownArrow:!0,weightValuePath:vt,colorValuePath:yt,showLegend:pt,borderBrush:"green",enableDrillDown:wt,drillDownSelectionColor:bt,header:kt,selectionMode:"default",highlightBorderThickness:3,highlightBorderBrush:dt,legendSettings:{dockPosition:gt,mode:ni,iconWidth:it,iconHeight:it,leftLabel:ti,rightLabel:ii,height:ri,width:ui},highlightOnSelection:fi,showTooltip:!0,tooltipTemplate:ei,rangeColorMapping:oi,desaturationColorMapping:si,levels:c,enableRightClick:!0,doubleClick:n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a),treeMapItemSelected:hi,treeMapItemRightSelected:n.proxy(this._loadSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a),drillDownItemSelected:ci,isVirtualRender:li,showSubItems:!f.LoadOnDemand,drillDownItemAction:f.EnableDrillDown?n.proxy(this._widgetActionForTreemap,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a):null,drillDownHeaderColor:null,headerTemplateRendering:n.proxy(this.headerTemplate,this),preRender:ai});n(".tooltipelement").length>t.DashboardConstants.Zero&&(n(".tooltipelement")[0].style.zIndex="10000");this._treeMapInitialSelection(h,e,f.Id);!this._applyOrRemoveNoDataAvailable(l.pagedata.length,e)}},_setTreeMapConfigInfo:function(n){n.configInfo.ShowLegend=!t.isNullOrUndefined(n.configInfo.ShowLegend)&&n.configInfo.ShowLegend;n.configInfo.isNodata=!t.isNullOrUndefined(n.configInfo.isNodata)&&n.configInfo.isNodata;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.EnableDrillDown=!t.isNullOrUndefined(n.configInfo.EnableDrillDown)&&n.configInfo.EnableDrillDown;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.ColorMapping=t.isNullOrUndefined(n.configInfo.ColorMapping)?[]:n.configInfo.ColorMapping;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column},headerTemplate:function(n){n.connectorText=' <span class="e-glyphicon" style="color:black; margin-left:3px; margin-right:3px;"><\/span> '},_widgetActionForTreemap:function(n,i,r,u,f){var e,o,s;if(f.doubleClick){if(f.evt.type="DoubleClick",clearTimeout(this.ActionTreeMapTimer),f.evt.public=!0,f.treeMap.rectClick(f.evt),!n.LoadOnDemand)for(e=0;e<n.ActionSetting.length;e++)for(o=0;o<n.ActionSetting[e].Action.length;o++){if(n.ActionSetting[e].ActionType!=="ContextMenu"&&n.ActionSetting[e].Action[o]==="DrillDown"&&n.ActionSetting[e].ActionType===f.evt.type){f.cancel=!1;f.evt.private=!0;return}if(e===n.ActionSetting.length-t.DashboardConstants.One){f.cancel=!0;this._loadSlaves(n,i,r,u,f);break}}}else s=this,f.cancel=!0,this.ActionTreeMapTimer=setTimeout(function(){var e,o;if(!n.LoadOnDemand)for(f.evt.type==="mousedown"&&(f.evt.type="Click"),e=0;e<n.ActionSetting.length;e++)for(o=0;o<n.ActionSetting[e].Action.length;o++){if(n.ActionSetting[e].ActionType!=="ContextMenu"&&n.ActionSetting[e].Action[o]==="DrillDown"&&n.ActionSetting[e].ActionType===f.evt.type){f.cancel=!1;f.evt.private=!0;f.treeMap._headerClickFunction(f.evt);return}if(e===n.ActionSetting.length-t.DashboardConstants.One){f.cancel=!0;s._loadSlaves(n,i,r,u,f);break}}},300)},drillStartedForTreeMap:function(n,r,u){var s,o,f,h,e;if(!t.isNullOrUndefined(u)&&(n.ColorType==="range"&&u.type==="preRender"&&this._applyRangeColor(u.model.drillDownLevel,u,u.model.headerLabel,n),s=n.ColorMapping.Format,n.ColorType==="desat"&&(n.ShowLegend&&(u.model.legendSettings.leftLabel=this.formatLegend(u.minimumValue.colorWeight,s),u.model.legendSettings.rightLabel=this.formatLegend(u.maximumValue.colorWeight,s)),u.model.desaturationColorMapping.rangeMinimum=u.minimumValue.colorWeight,u.model.desaturationColorMapping.rangeMaximum=u.model.showSubItems?u.max.colorWeight:u.maximumValue.colorWeight),u.model.isVirtualRender?t.isNullOrUndefined(u)||(u.model.tooltipTemplate=this._id+"_"+n.Id+"_toolTip"+Number(u.model.drillDownLevel)):u.model.tooltipTemplate=this._id+"_"+n.Id+"_toolTip"+Number(u.level),o=0,f=this.dashboardControls.getControlByReport(n.Id),f.drillLevelInfo!==i&&f.drillLevelInfo.length>o))for(h=f.drillLevelInfo.length,e=0;e<h;e++)if(f.drillLevelInfo[e].Key===(r?n.Id+"_Maximize":n.Id)&&u.model.drillDownLevel!==f.drillLevelInfo[e].Values.length)if(f.drillLevels.pop(),f.drillLevelInfo[e].Values.pop(),f.drillLevelInfo[e].Values.length===o&&r)f.drillLevelInfo.pop();else if(f.drillLevelInfo[e].Values.length===o){f.drillLevelInfo=[];break}},_applyRangeColor:function(n,t,i,r){var e=0,h=1,l=-1,o=2,c=r.LoadOnDemand?t.maximumValue.colorWeight:t.max.colorWeight,u=t.minimumValue.colorWeight,s=(c-u)/3;u=u===e?l:u;c+=h;var a=u=u===l?e:u,v=u+s,y=u+o*s,p=u+s,w=u+o*s,b=c,f=r.ColorMapping.Format;t.model.rangeColorMapping[e]={from:a,to:p,legendLabel:this.formatLegend(a,f)+"-"+this.formatLegend(p,f),color:t.model.rangeColorMapping[e].color};t.model.rangeColorMapping[h]={from:v,to:w,legendLabel:this.formatLegend(v,f)+"-"+this.formatLegend(w,f),color:t.model.rangeColorMapping[h].color};t.model.rangeColorMapping[o]={from:y,to:b,legendLabel:this.formatLegend(y,f)+"-"+this.formatLegend(b,f),color:t.model.rangeColorMapping[o].color}},formatLegend:function(n,i){var u=10,f=3,s=5,e=6,h=7,o=9,r=null;if(t.isNullOrUndefined(i)&&(i={AbbreviationType:"AUTO",Culture:"en-US",DecimalPoints:2,MeasureFormat:"DEFAULT",NegativeValueFormat:"DEFAULT",Prefix:"",Suffix:""}),Math.abs(n)>1e15||Math.abs(n)<1e-15)return i.MeasureFormat.toLowerCase()==="number"||i.MeasureFormat.toLowerCase()==="default"?(t.isNullOrUndefined(i.DecimalSeparator)||t.isNullOrUndefined(i.GroupSeparator)||(r=n.toString().replaceAll(i.DecimalSeparator.CurrentValue,i.DecimalSeparator.AliasValue),r=n.toString().replaceAll(i.GroupSeparator.CurrentValue,i.GroupSeparator.AliasValue)),r=i.Prefix+n+i.Suffix):r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i),r;if(this.model.dashboardCulture==="en-IN")switch(i.AbbreviationType.toLowerCase()){case"auto":r=i.MeasureFormat.toLowerCase()==="percent"?this._truncateNumberForTreeMap(n,i)+"%":this._truncateNumberForTreeMap(n,i);break;case"ones":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i);break;case"thousands":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K%":this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K";break;case"lakhs":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,s),i)+"L%":this._applyCultureForTreeMap(n/Math.pow(u,s),i)+"L";break;case"millions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M%":this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M";break;case"crores":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,h),i)+"C%":this._applyCultureForTreeMap(n/Math.pow(u,h),i)+"C";break;case"billions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B%":this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B"}else switch(i.AbbreviationType.toLowerCase()){case"auto":r=i.MeasureFormat.toLowerCase()==="percent"?this._truncateNumberForTreeMap(n,i)+"%":this._truncateNumberForTreeMap(n,i);break;case"ones":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i);break;case"thousands":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K%":this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K";break;case"millions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M%":this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M";break;case"billions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B%":this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B"}return t.isNullOrUndefined(i.DecimalSeparator)||t.isNullOrUndefined(i.GroupSeparator)||(r=r.replaceAll(i.DecimalSeparator.CurrentValue,i.DecimalSeparator.AliasValue),r=r.replaceAll(i.GroupSeparator.CurrentValue,i.GroupSeparator.AliasValue)),i.Prefix+r+i.Suffix},_truncateNumberForTreeMap:function(n,t){var o=10,e=Math.pow(o,3),s=Math.pow(o,5),r=Math.pow(o,6),h=Math.pow(o,7),u=Math.pow(o,9),i=n,f=null;return this.model.dashboardCulture==="en-IN"?i>=e&&i<s||i<=-e&&i>-s?f=this._applyCultureForTreeMap(i/e,t)+"K":i>=s&&i<r||i<=-s&&i>-r?f=this._applyCultureForTreeMap(i/s,t)+"L":i>=r&&i<h||i<=-r&&i>-h?f=this._applyCultureForTreeMap(i/r,t)+"M":i>=h&&i<u||i<=-h&&i>-u?(f=this._applyCultureForTreeMap(i/h,t)+"C",f=this._applyCultureForTreeMap(i/r,t)+"M"):f=i>=u||i<=-u?this._applyCultureForTreeMap(i/u,t)+"B":this._applyCultureForTreeMap(i,t):f=i>=e&&i<r||i<=-e&&i>-r?this._applyCultureForTreeMap(i/e,t)+"K":i>=r&&i<u||i<=-r&&i>-u?this._applyCultureForTreeMap(i/r,t)+"M":i>=u||i<=-u?this._applyCultureForTreeMap(i/u,t)+"B":this._applyCultureForTreeMap(i,t),f},_applyCultureForTreeMap:function(n,i){var u=0,r;return(t.isNullOrUndefined(i)&&(i={AbbreviationType:"AUTO",Culture:"en-US",DecimalPoints:2,MeasureFormat:"DEFAULT",NegativeValueFormat:"DEFAULT",Prefix:"",Suffix:""}),i.AbbreviationType.toLowerCase()==="auto")?this._adjustZerosForTreeMap(n,i):(r=t.globalize.parseFloat(n.toString(),i.Culture),isNaN(r))?"NAN":(i.MeasureFormat.toLowerCase()==="percentage"&&(r*=100),t.preferredCulture(i.Culture),i.MeasureFormat.toLowerCase()==="currency")?parseInt(r)===u?t.globalize.format(r,"C",i.Culture):t.globalize.format(r,"C"+i.DecimalPoints,i.Culture):i.MeasureFormat.toLowerCase()==="number"&&r<u?this._applyNegativeFormattingForTreeMap(r,i):t.globalize.format(r,"N"+i.DecimalPoints,i.Culture)},_adjustZerosForTreeMap:function(n,i){var e=0,r,u,f,s,o;if(t.preferredCulture(i.Culture),r=n,u="",i.MeasureFormat.toLowerCase()==="percentage"?(r*=100,u="P"+i.DecimalPoints):u=i.MeasureFormat.toLowerCase()==="currency"?"C"+i.DecimalPoints:"N"+i.DecimalPoints,f=u,r===e?(r=e,f=u.replace(i.DecimalPoints,"0")):(r===parseInt(r)||r%i.DecimalPoints===e)&&(f=u.replace(i.DecimalPoints,"0")),i.MeasureFormat.toLowerCase()==="number"&&r<e){s=Math.abs(t.globalize.parseFloat(r.toString(),i.Culture));o=t.globalize.format(s,f,i.Culture);switch(i.NegativeValueFormat.toLowerCase()){case"default":return"-"+o;case"nonegativesignwithbracket":return"("+o+")";case"negativesigninsuffix":return o+"-"}}return t.globalize.format(t.globalize.parseFloat(r.toString(),i.Culture),f,i.Culture)},_applyNegativeFormattingForTreeMap:function(n,i){var u=Math.abs(t.globalize.parseFloat(n.toString(),i.Culture)),r=t.globalize.format(u,"N"+i.DecimalPoints,i.Culture);switch(i.NegativeValueFormat.toLowerCase()){case"default":return"-"+r;case"nonegativesignwithbracket":return"("+r+")";case"negativesigninsuffix":return r+"-";default:return"-"+r}},_treeMapInitialSelection:function(t,i,r){var l,a,v,h;if(t.SelectedFilterInfo.length>0){var c=[],u=0,f=0;n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0");n("#"+i.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0});l=i.data("ejTreeMap");l.selectedItems=[];var e=[],o=[],s=[],y=t.SelectedFilterInfo.length;for(u=0;u<y;u++){if(t.SelectedFilterInfo[u].DimensionFilterInfo!==null)for(a=t.SelectedFilterInfo[u].DimensionFilterInfo.Text.length,f=0;f<a;f++)e.push({Column:t.SelectedFilterInfo[u].UniqueColumnName.toLowerCase().replace(" ",""),Value:t.SelectedFilterInfo[u].DimensionFilterInfo.Text[f]}),o.push(t.SelectedFilterInfo[u].UniqueColumnName.toUpperCase().replace(" ","")),s.push(t.SelectedFilterInfo[u].DimensionFilterInfo.Text[f]);if(t.SelectedFilterInfo[u].DateFilterInfo!==null)for(v=t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length,f=0;f<v;f++)e.push({Column:t.SelectedFilterInfo[u].UniqueColumnName.toLowerCase().replace(" ",""),Value:t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[f]}),o.push(t.SelectedFilterInfo[u].UniqueColumnName.toUpperCase().replace(" ","")),s.push(t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[f])}c.push({Items:e});i.ejTreeMap("selectItemByPath",o.join(":"),s.join(":"),":");h=this._checkMasterData(r);h!==null&&this.masterData.splice(h,1);this.masterData.push({Key:r,Value:c,MultiSelection:!0})}},_createTreeMapTemplates:function(n,t,i,r,u){for(var h,o,f=null,e=t.ColorType==="desat"?JSON.parse(t.ColorMapping.ColorMapping):[],c=n.length,s=0;s<c;s++)switch(n[s]){case"label":if(!t.EnableDrillDown){for(f='<script id="'+this._id+"_"+t.Id+'_labeltemplate0" type="application/jsrender"><div>',h=i.length,o=0;o<h;o++)f+='<label style="color:'+(t.ColorType==="desat"?'{{:~labelColor(#data["'+t.ColorValue+'"],"'+e.rangeMinimum+'","'+e.rangeMaximum+'", "'+e.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+i[o].groupPath+'"]}}<\/label><br />';f+="<\/div><\/script>  ";this.currentTabContentElement.append(f)}break;case"tooltip":this._generateTreeMapToolTiptemplate(t,i,e,r,u)}},_generateTreeMapToolTiptemplate:function(i,r,u,f,e){var nt=0,k=1,tt=".",it=",",h=i.ColumnFormatting.slice(),s=[],o,ut,w,rt,ft,et,ot,st,ht,ct;if(i.WeightValue!==null){for(o=0,o=h.length-k;o>=nt;o--)i.WeightValue.toLowerCase()===h[o].fieldName.toLowerCase()&&(s.push(h[o]),h.splice(o)),i.WeightValue!==i.ColorValue&&typeof h[o]!="undefined"&&i.ColorValue.toLowerCase()===h[o].fieldName.toLowerCase()&&(s.push(h[o]),h.splice(o));var y=[],d=[],g=null,l=null,b=null,lt=s.length;for(o=0;o<lt;o++)l=n("<tr>"),b=n("<td>").html(s[o].ColumnName).addClass("e-tool-value"),l.append(b,n("<td>").html(":").addClass("e-tool-value")),y.push(l.clone()),d.push(l.clone()),t.isNullOrUndefined(s[o].DecimalSeparator)||t.isNullOrUndefined(s[o].GroupSeparator)?(d[o].append(n("<td>").html('{{:~TreeMapFirstLevelToolTipFormat(data,"'+s[o].fieldName.replace(/\s/g,"").replace(/^\w\s/gi,"")+'","'+s[o].FormatType+'","'+s[o].Format+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+tt+'","'+tt+'","'+it+'","'+it+'","'+s[o].Prefix+'","'+s[o].Suffix+'","'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()),y[o].append(n("<td>").html('{{:~MapToolTipFormat("'+s[o].FormatType+'","'+s[o].Format+'","'+tt+'","'+tt+'","'+it+'","'+it+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+s[o].Prefix+'","'+s[o].Suffix+'",#data["'+s[o].fieldName+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone())):(d[o].append(n("<td>").html('{{:~TreeMapFirstLevelToolTipFormat(data,"'+s[o].fieldName.replace(/\s/g,"").replace(/^\w\s/gi,"")+'","'+s[o].FormatType+'","'+s[o].Format+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+s[o].DecimalSeparator.CurrentValue+'","'+s[o].DecimalSeparator.AliasValue+'","'+s[o].GroupSeparator.CurrentValue+'","'+s[o].GroupSeparator.AliasValue+'","'+s[o].Prefix+'","'+s[o].Suffix+'","'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()),y[o].append(n("<td>").html('{{:~MapToolTipFormat("'+s[o].FormatType+'","'+s[o].Format+'","'+s[o].DecimalSeparator.CurrentValue+'","'+s[o].DecimalSeparator.AliasValue+'","'+s[o].GroupSeparator.CurrentValue+'","'+s[o].GroupSeparator.AliasValue+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+s[o].Prefix+'","'+s[o].Suffix+'",#data["'+s[o].fieldName+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()));var p=null,v=null,c=0,a=0;if(i.EnableDrillDown)for(ut=r.length,o=0;o<ut;o++){for(p=n("<div>").attr({style:"white-space: nowrap;"}),v=n("<table>").addClass("e-tree-tool-table"),c=0;c<=o;c++){if(l=n("<tr>"),b=n("<td>").html(h[c].ColumnName).addClass("e-tool-value"),l.append(b,n("<td>").html(":").addClass("e-tool-value")),o===(i.LoadOnDemand?r.length:h.length-k)?t.isNullOrUndefined(h[c].displayName)?l.append(n("<td>").html("{{:(#data['"+h[c].fieldName+"'])}}").addClass("e-tool-value")):l.append(n("<td>").html("{{:(#data['"+h[c].displayName+"'])}}").addClass("e-tool-value")):c===(i.LoadOnDemand?h.length:o)?l.append(n("<td>").html("{{:label}}").addClass("e-tool-value")):l.append(n("<td>").html("{{:~GetRowName(data,'"+h[c].fieldName+"')}}").addClass("e-tool-value")),!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(e.drillLevelInfo[nt])&&f.model.drillDownLevel>=k&&i.LoadOnDemand)for(w=0;w<f.model.drillDownLevel;w++)rt=n("<tr>"),ft=n("<td>").html(t.isNullOrUndefined(e.drillLevels[w].Values)?e.drillLevels[w].column:e.drillLevels[w].Values.column).addClass("e-tool-value"),rt.append(ft,n("<td>").html(":").addClass("e-tool-value")),rt.append(n("<td>").html(e.drillLevelInfo[nt].Values[w]).addClass("e-tool-value")),v.append(rt);v.append(l)}if(o===h.length-(i.LoadOnDemand?nt:k))for(et=y.length,a=0;a<et;a++)v.append(y[a].clone());else for(ot=d.length,a=0;a<ot;a++)v.append(d[a].clone());if(p.append(v),t.isNullOrUndefined(f)?(this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+o+"]").length>t.DashboardConstants.Zero&&i.LoadOnDemand&&this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+o+"]").remove(),this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+"_toolTip"+o+'" type="application/jsrender">'+p[0].outerHTML+"<\/script>")):(this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+"]").length>t.DashboardConstants.Zero&&i.LoadOnDemand&&this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+"]").remove(),this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+'" type="application/jsrender">'+p[0].outerHTML+"<\/script>")),g=t.isNullOrUndefined(f)?'<script id="'+this._id+"_"+i.Id+"_labeltemplate"+o+'" type="application/jsrender">':'<script id="'+this._id+"_"+i.Id+"_labeltemplate"+f.model.drillDownLevel+'" type="application/jsrender">',o===h.length-k)for(st=h.length,c=0;c<st;c++)g+='<label style="color:'+(i.ColorType==="desat"?'{{:~labelColor(#data["'+i.ColorValue+'"],"'+u.rangeMinimum+'","'+u.rangeMaximum+'", "'+u.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+r[c].groupPath+'"]}}<\/label><br />';else for(a=0;a<=o;a++)g+='<label style="color:'+(i.ColorType==="desat"?'{{:~labelColor(#data["'+i.ColorValue+'"],"'+u.rangeMinimum+'","'+u.rangeMaximum+'", "'+u.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+r[a].groupPath+'"]}}<\/label><br />';g+="<\/script>  ";this.currentTabContentElement.append(g)}else{for(p=n("<div>").attr({style:"white-space: nowrap;"}),v=n("<table>").addClass("e-tree-tool-table"),p.append(v),ht=h.length,c=0;c<ht;c++)l=n("<tr>"),b=n("<td>").html(h[c].ColumnName).addClass("e-tool-value"),l.append(b,n("<td>").html(":").addClass("e-tool-value")),t.isNullOrUndefined(h[c].displayName)?(l.append(n("<td>").html("{{:#data['"+h[c].fieldName+"']}}").addClass("e-tool-value")),v.append(l)):(l.append(n("<td>").html("{{:#data['"+h[c].displayName+"']}}").addClass("e-tool-value")),v.append(l));for(ct=y.length,a=0;a<ct;a++)v.append(y[a]);this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+'_toolTip" type="application/jsrender">'+p[0].outerHTML+"<\/script>")}}},_getValuesFromDrillLevelInfo:function(n,t,i){for(var u=n.drillLevelInfo.length,r=0;r<u;r++)if(n.drillLevelInfo[r].Key===(i?t+"_Maximize":t))return n.drillLevelInfo[r].Values;return[]},_updateValuesInDrillLevelInfo:function(n,t,i,r){for(var f=n.drillLevelInfo.length,u=0;u<f;u++)if(n.drillLevelInfo[u].Key===(r?t+"_Maximize":t)){n.drillLevelInfo[u].Values=i;break}},_drillDownTemplate:function(i,r,u){var e=this.dashboardControls.getControlByReport(i.Id),c=1,s=0,o=null,l,v;if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.selectedItems)&&u.selectedItems.length>s&&(o=!t.isNullOrUndefined(u.selectedItems[0])&&!t.isNullOrUndefined(u.selectedItems[0][0])?u.selectedItems[0]:u.selectedItems),this.levels.hasOwnProperty(i.Id)||(this.levels[i.Id]=[]),!t.isNullOrUndefined(o)&&o.length>s&&!this.levels[i.Id].includes(o[0])&&this.levels[i.Id].push(o[0]),i.rowCount<=u.model.drillDownLevel||i.rowCount===u.model.drillDownLevel){u.data.cancelDrilldown=!0;return}var y=r?this.element.find(".e-dbrd-MaximizedControl"):this.element.find("#"+this._id+"_Widget_"+i.Id),h=[],a=!1,f=[];if(!t.isNullOrUndefined(o)&&o.length>s&&u.model.drillDownLevel>s&&n.each(o[0],function(n,t){f.push({Key:n,Value:t})}),!t.isNullOrUndefined(e.drillLevelInfo)&&e.drillLevelInfo.length>s)for(l=0;l<e.drillLevelInfo.length;l++)e.drillLevelInfo[l].Key===(r?i.Id+"_Maximize":i.Id)&&(a=!0);a&&(h=this._getValuesFromDrillLevelInfo(e,i.Id,r));t.isNullOrUndefined(f)||t.isNullOrUndefined(f[f.length-c])||h.push(f[f.length-c].Value);a?this._updateValuesInDrillLevelInfo(e,i.Id,h,r):e.drillLevelInfo.push({Key:r?i.Id+"_Maximize":i.Id,Values:h});this._createControlWaitingIndicator(y.parents(".e-dbrd-control-container"),!0);v=JSON.stringify({action:"GetInnerLevelDrill",dashboardPath:this.dashboardPath(),data:h,controlId:i.Id,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,customLanguagePath:this.model.localeSettings.resourcePath,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(JSON.parse(JSON.stringify(this.dashboardParameters)))});this.doAjaxPost({type:"POST",url:this.serviceUrl()+"/GetDrillControlData",data:v,onSuccess:n.proxy(this._loadDrilledTreeMap,this,u,i,r,!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(f[f.length-c])?f[f.length-c].Value:null)});this.dashboardControls.updateCurrentReport(e);u.model.tooltipTemplate=this._id+"_"+i.Id+"_toolTip"+u.model.drillDownLevel},_loadDrilledTreeMap:function(t,i,r,u,f,e){for(var a=[],k=[],h=this.dashboardControls.getControlByReport(i.Id),c=[],y=15,o=[],v=null,s=0,p,l,w,b,s=0;s<e.d.length-1;s++)k.push({Key:e.d[s].Key,Value:n.parseJSON(e.d[s].Value)}),e.d[s].Key==="Data"&&a.push(n.parseJSON(e.d[s].Value)),e.d[s].Key==="DynamicData"&&(c=n.parseJSON(e.d[s].Value).SerializeLevelInfo),e.d[s].Key==="ConfigInfo"&&(o=n.parseJSON(e.d[s].Value));for(h.drillLevelData.push(a[0]),h.drillLevels.push({Key:r?o.Id+"_Maximize":o.Id,Values:c[0]}),p=n.map(h.columnFormating,function(n){return n.columnName}),l=0;l<o.ColumnFormatting.length;l++)p.indexOf(o.ColumnFormatting[l].columnName)===-1&&h.columnFormating.push(o.ColumnFormatting[l]);w={columnCount:0,template:"",dockPosition:o.LegendPosition.toLowerCase(),mode:o.ColorType==="range"?"default":"interactive",iconWidth:y,iconHeight:y,height:o.ColorType==="range"?25:20,width:o.ColorType==="range"?700:200};v=r?this.element.find(".e-dbrd-MaximizedControl"):this.element.find("#"+this._id+"_Widget_"+o.Id);b=v.ejTreeMap("instance");c[0].labelTemplate=this._id+"_"+o.Id+"_labeltemplate"+t.model.drillDownLevel;c[0].labelVisibilityMode="hideonexceededlength";this._createTreeMapTemplates(["label","tooltip"],o,c,t,h);b.runTimeSubitems(a[0],u,c[0],w);this._destroyAllControlWaitingIndicator();n(".tooltipelement").length>this.zero&&(n(".tooltipelement")[0].style.zIndex="10000");this._treeMapInitialSelection(h,v,o.Id);!this._applyOrRemoveNoDataAvailable(a[0].length,v)},_loadSlaves:function(i,r,u,f,e){var ot=0,g=-1,w=null,b=1,lt=null,y=null,nt=null,l,rt,ut,ft,k,ht,v,wt,ct,d,p,et;if(!t.isNullOrUndefined(e)&&(e.doubleClick?w=t.dashboardViewer.ActionType.DBClick:e.rightClick?w=t.dashboardViewer.ActionType.ContextMenu:(e.type==="drillDownItemSelected"||e.type==="treeMapItemSelected"||e.type==="drillDownItemAction"||e.type==="ejTreeMapdrillDownItemSelected"||e.type==="ejTreeMapdrillDownItemAction"||e.type==="ejTreeMaptreeMapItemSelected")&&(w=t.dashboardViewer.ActionType.Click),!t.isNullOrUndefined(i)))for(y=0;y<i.ActionSetting.length;y++)if(i.ActionSetting[y].ActionType===w&&i.ActionSetting[y].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(nt=0;nt<i.ActionSetting[y].Action.length;nt++)if(i.ActionSetting[y].Action[nt]==="Filter"&&!t.isNullOrUndefined(e))if(e.doubleClick&&e.type!=="doubleClick"){t.isNullOrUndefined(e.evt)||e.evt.stopPropagation();e.isSelected=!e.isSelected;e.isSelected&&(e.selectedItems=[]);break}else{e.isSelected&&(e.selectedItems=[]);break}if(this.controlRelations.length!==ot||!t.isNullOrUndefined(r)||i.EnableDrillDown){t.isNullOrUndefined(e)||(lt={id:i.Id,evt:e,configInfo:i,event:e.evt,treeMap:t.isNullOrUndefined(e)?null:e.treeMap});!t.isNullOrUndefined(e)&&e.rightClick&&this._setHoverSelectionForWidget(lt);var at=0,tt=null,vt=null,o=0,c=0,s=[],yt=[],pt=[],h=0,it=null,a=null,st=null;if(this.treeMapLinking=!1,l=this.dashboardControls.getControlByReport(i.Id),!t.isNullOrUndefined(e)&&(rt=!t.isNullOrUndefined(e.selectedItems)&&!t.isNullOrUndefined(e.selectedItems[0])&&!t.isNullOrUndefined(e.selectedItems[0][0])?e.selectedItems[0]:e.selectedItems,!t.isNullOrUndefined(rt)))for(o=0;o<rt.length;o++){ut=rt[o];for(c in ut)ut.hasOwnProperty(c)&&s.push({Column:this._getColumnName(c.toLowerCase(),l.columnFormating),Value:ut[c]});pt.push({Items:s})}if(l.SelectedFilterInfo=[],s.length>ot)for(ft=s.length,o=0;o<ft;o++)if(h=this._checkFilterInfo(s[o].Column,l.SelectedFilterInfo),k=i.DateTimeColumns,t.isNullOrUndefined(h)||h===g){if(a=new selectedFilterInfo,t.isNullOrUndefined(k)||k.indexOf(s[o].Column.toUpperCase())===g)a.DimensionFilterInfo.Text.push(s[o].Value);else for(a.DateFilterInfo.DateFilterList.push(s[o].Value),c=0;c<ft;c++)if(s[c].Column===s[o].Column+"_displayvalue"){a.DateFilterInfo.DisplayDateFilterList.push(s[c].Value);break}a.DimensionFilterInfo.Conditions=4;a.UniqueColumnName=s[o].Column;a.ReportName=l.reportName;yt.push(a)}else{if(t.isNullOrUndefined(k)||k.indexOf(s[o].Column.toUpperCase())===g)l.SelectedFilterInfo[h].DimensionFilterInfo.Text.push(s[o].Value);else for(l.SelectedFilterInfo[h].DateFilterInfo.DateFilterList.push(s[o].Value),c=0;c<ft;c++)if(s[c].Column===s[o].Column+"_displayvalue"){l.SelectedFilterInfo[h].DateFilterInfo.DisplayDateFilterList.push(s[c].Value);break}l.SelectedFilterInfo[h].DimensionFilterInfo.Conditions="Include";l.SelectedFilterInfo[h].ReportName=l.reportName}for(ht=n("#"+this._id+t.DashboardConstants.Widget+i.Id).data("ejTreeMap"),o=0;o<this.controlRelations.length;o++)if(this.controlRelations[o].Master.lastIndexOf("_"+i.Id)!==g){if(tt=this.controlRelations[o].Slaves,tt.length===ot&&(vt=this._checkFilterOverviewData(i.Id),this._addFilterDataToTitle(vt)),v=this._checkMasterData(i.Id),v!==null){for(h=0;h<this.masterData[v].Value.length;h++)this.masterData[v].Value.length===s.length&&this.masterData[v].Value[h].Column===s[h].Column&&this.masterData[v].Value[h].value===s[h].value&&(at+=b);at===this.masterData[v].Value.length;this.masterData.splice(v,b)}this.target=[];wt={master:i.Id,masterData:this.masterData,slaves:tt,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};t.isNullOrUndefined(e)&&this._makeSlaveDataRequest(wt);break}for(t.isNullOrUndefined(e)||(i.LoadOnDemand&&!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(e.treeMap)&&e.treeMap.model.drillDownLevel<i.rowCount-b?(it={configInfo:i,isMaximizedView:f,evt:e},st=this._drillDownTemplate):t.isNullOrUndefined(e.evt)||t.isNullOrUndefined(e.selectedItemLevel)||i.rowCount===e.selectedItemLevel+b||(e.evt.type="mousedown",e.evt.which=1,it={value:e.selectedItemLabel,evt:e,treeMap:e.treeMap,drillDownLevel:e.selectedItemLevel+b},e.evt.DrillDownData=it,st=ht.drillDown)),ct={id:i.Id,isSelected:t.isNullOrUndefined(e)?!1:e.isSelected,filterInfo:yt,treeMap:t.isNullOrUndefined(e)?null:e.treeMap,evt:e,isMaximizedView:f,actionType:w,dataWrapper:pt,widgetInstance:ht,masterData:this.masterData,slaves:tt,callbackfn:st,drillDownData:it},this._widgetActionHandler(ct),d=this._id+t.DashboardConstants.Widget+i.Id,p=0;p<i.ActionSetting.length;p++)if(i.ActionSetting[p].ActionType===ct.actionType&&i.ActionSetting[p].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(et=0;et<i.ActionSetting[p].Action.length;et++)i.ActionSetting[p].Action[et]==="Filter"&&(t.isNullOrUndefined(a)?(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+d+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+d+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}},_loadTreeMapSlaves:function(n,i,r,u,f){var e;(!n.EnableDrillDown||f.type!=="treeMapItemSelected"||t.isNullOrUndefined(f.treeMap)||n.rowCount===f.treeMap._drilldownHeaders.length)&&(f.doubleClick?(clearTimeout(this.treeMapTimer),this._loadSlaves(n,i,r,u,f)):(e=this,this.treeMapTimer=setTimeout(function(){e._loadSlaves(n,i,r,u,f)},300)))},_getColumnName:function(n,i){for(var u=i.length,r=0;r<u;r++){if(n===i[r].columnName.toLowerCase().replace("&",""))return i[r].columnName.toLowerCase();if(!t.isNullOrUndefined(i[r].displayName)&&n===i[r].displayName.toLowerCase().replace("&",""))return i[r].displayName.toLowerCase()}return""},_overrideTreemapDrillHeader:function(){var n=1;t.datavisualization.TreeMap.prototype.getDrillDownHeader=function(t){var r="",u=t.length,i;if(t.length===n)return t[0]=this.model.header,t[0];for(i=0;i<u;i++)r+=t[i],i!==t.length-n&&(r+=" > ");return r}}}}(jQuery,SyncfusionDashboard);$.views.helpers({TreeMapFirstLevelToolTipFormat:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var w=0,y=[],b,p,k;for(ejDashboard.isNullOrUndefined(n.length)?y.push(n):y=n,b=y.length,p=0;p<b;p++)k=y[p][t],w+=k;return $.views.helpers.MapToolTipFormat(i,r,o,s,h,c,u,f,e,l,a,w,v)},GetRowName:function(n,t){var r=0,i=[];return ejDashboard.isNullOrUndefined(n.length)&&(i.push(n),i!==null&&i.length>r)?i[0][t]:n!==null&&n.length>r?n[0][t]:""},labelColor:function(n,t,i){var r=Number(t),u=Number(i);return n<(u-r)/3+r?"black":"white"}}),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.widgets={_renderWidget:function(i,r,u){var l,y,c,a,k,e;try{var f=null,h=i.getCurrentPageData(),o=i.configInfo,s=0,p=[];if(i.configInfo.ColumnUrlDetails.length>s)for(l=0;l<i.configInfo.ColumnUrlDetails.length;l++)p.push({uniqueColumnName:i.configInfo.ColumnUrlDetails[l].UniqueColumnName,urlLink:i.configInfo.ColumnUrlDetails[l].UrlLink});var w=i.configInfo.ColumnUrlDetails.length>s?p:t.isNullOrUndefined(i.configInfo.ControlLinkData)?"":i.configInfo.ControlLinkData.Path,v=!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r.isMaximize)&&r.isMaximize,b=this._id+"_Widget_"+o.Id+"_iframe"+(v?"_maximized":"");if(t.isNullOrUndefined(r)||t.isNullOrUndefined(r.Div)?(y=n("#"+this._id+"_cell_"+o.Row+"_"+o.Column),y.attr({"data-controltype":"CustomWidget"}),f=y.find(".e-dbrd-control"),f.attr({id:this._id+"_Widget_"+o.Id,"data-controlId":o.Id}).addClass("dashboardCustomWidget")):f=r.Div,c=this.dashboardControls.getControlByReport(i.reportName),c.getCurrentPageData().isError){this._showControlError(c.getCurrentPageData(),f,c.configInfo);return}if(!(i.configInfo.BoundColumns==="{}")&&!this._applyOrRemoveNoDataAvailable(h.pagedata.length,f))return;if(!f.hasClass("dependenciesLoadStarted")&&(v&&!f.hasClass("isInitialized")&&t.isNullOrUndefined(u)||this.model._dashboardData.isExportImage||this.model._dashboardData.isExportPdf)&&this._createCustomWidgetInstance(c,f,v),c.widgetSettings.capabilities.EnableIFrame){if(a=document.getElementById(b).contentWindow,f.hasClass("isInitialized")||f.hasClass("dependenciesLoadStarted"))k={customThemeSettings:jQuery.isEmptyObject(i.customTheme)?null:i.customTheme,dataSource:h.pagedata,boundColumns:JSON.parse(i.configInfo.BoundColumns),enableLinking:i.configInfo.ColumnUrlDetails.length>s||!t.isNullOrUndefined(i.configInfo.ControlLinkData),linkSettings:{enableTabularUrlLinking:i.configInfo.ColumnUrlDetails.length>s,urlPatterns:w},isDataBound:!(i.configInfo.BoundColumns==="{}"),isIFrameEnable:!0,initMode:this.model._dashboardData.isExportImage?"export":"runtime",properties:this._parseCustomProperties(o.Properties)},f.removeClass("isInitialized"),f.removeClass("dependenciesLoadStarted"),this._createCustomWidgetWaitingIndicator(f,!1),a.postMessage(JSON.stringify({action:"init",type:"initialize",data:k}),"*");else if(n(document.getElementById(b)).length>s){t.isNullOrUndefined(u)?a.postMessage(JSON.stringify({action:"update",type:"refresh",data:h.pagedata}),"*"):u.type==="resize"&&(u.action="update",a.postMessage(JSON.stringify(u),"*"));return}}else if(e=null,f.addClass("dataLoaded"),f.hasClass("isInitialized"))f.removeClass("isInitialized"),e=ej.dashboard.getWidgetInstance(f[0]),e.model.dataSource=h.pagedata,e.model.isIFrameEnable=!1,e.model.customThemeSettings=jQuery.isEmptyObject(i.customTheme)?null:JSON.stringify(i.customTheme),e.model.enableLinking=i.configInfo.ColumnUrlDetails.length>s||!t.isNullOrUndefined(i.configInfo.ControlLinkData),e.model.linkSettings={enableTabularUrlLinking:i.configInfo.ColumnUrlDetails.length>s,urlPatterns:w},e.model.boundColumns=JSON.parse(i.configInfo.BoundColumns),e.model.isDataBound=!(i.configInfo.BoundColumns==="{}"),e.model.initMode=this.model._dashboardData.isExportImage?"export":"runtime",e.model.properties=this._parseCustomProperties(o.Properties),e.init();else if(!t.isNullOrUndefined(ej.dashboard.getWidgetInstance(f[0]))){e=ej.dashboard.getWidgetInstance(f[0]);t.isNullOrUndefined(u)?(e.model.dataSource=h.pagedata,e.update({type:"refresh",data:h.pagedata})):u.type==="resize"&&e.update(u);return}}catch(d){return}},_createCustomWidgetWaitingIndicator:function(i,r){var u,f,e,o;n(i).length===t.DashboardConstants.Zero||n(i).parents(".e-dbrd-filter-control-wrapper").length>t.DashboardConstants.Zero||n(i).hasClass("e-dbrd-filterpanel-wrapper")||(u=n("<div>").addClass("e-dbrd-customwidget-waiting"),r&&u.css({background:" rgba(255, 255, 255, 0.30) "}),u.css({width:"100%",height:"100%","z-index":"5",position:"absolute",top:"0",left:"0"}),f=20,e=4,(t.browserInfo().name==="mozilla"||t.browserInfo().name==="msie")&&(f=10,e=2),(t.browserInfo().name==="chrome"||t.browserInfo().name==="edge"||t.browserInfo().name==="webkit")&&(u.css({zoom:"0.5"}),t.browserInfo().name==="edge"&&(f=15)),o='<svg class = "e-dbrd-blueWaitingIndcator"><circle class = "e-dbrd-circlePath" cx = "27" cy = "27" r = "'+f+'" fill = "none" stroke-width = "'+e+'" stroke-miterlimit = "10"><\/circle><\/svg>',u.append(o),n(i).css({position:"relative"}),n(i).append(u))},_receiveIFramePostMessage:function(i){try{var r=JSON.parse(i.data),h=0,u=n("#"+r.dashboardId).data("ejDashboardViewer"),f=null,e=null,o=null,s=null;if(!t.isNullOrUndefined(r.action))switch(r.action){case"interaction":u._loadWidgetSlaves(r.widgetId,r.selectedData);break;case"linking":u._navigationThroughLinking(r.selectedData,r.url,r.widgetId);break;case"destroyindicator":f=u.dashboardControls.getControlByReport(JSON.parse(i.data).widgetId);e=n("#"+u._id+"_Widget_"+f.configInfo.Id+"_iframe_maximized").parent(".e-dbrd-control");e.length>h?e.find(".e-dbrd-customwidget-waiting").remove():(o=n("#"+u._id+"_cell_"+f.configInfo.Row+"_"+f.configInfo.Column),s=o.find(".e-dbrd-control"),n(s).find(".e-dbrd-customwidget-waiting").remove());break;case"initialized":f=u.dashboardControls.getControlByReport(JSON.parse(i.data).widgetId);e=n("#"+u._id+"_Widget_"+f.configInfo.Id+"_iframe_maximized").parent(".e-dbrd-control");e.length>h?n(e).addClass("isInitialized"):(o=n("#"+u._id+"_cell_"+f.configInfo.Row+"_"+f.configInfo.Column),s=o.find(".e-dbrd-control"),n(s).addClass("isInitialized"))}}catch(c){return}},_navigationThroughLinking:function(n,i,r){var s=this.dashboardControls.getControlByReport(r),c=s.configInfo.ControlLinkData,u,e,o,h,f;if(t.isNullOrUndefined(c)){for(u=i,e=0;e<s.configInfo.ColumnUrlDetails.length;e++)for(o=0;o<n[0].Items.length;o++)n[0].Items[o].Column===s.configInfo.ColumnUrlDetails[e].UniqueColumnName&&(u=u.replaceAll("{{:"+s.configInfo.ColumnUrlDetails[e].CaptionName+"}}",n[0].Items[o].Value));h=u.match(/~currentdomain~ *?/gi);h!==null&&h.length!==t.DashboardConstants.Zero&&(u=u.replace(h[0],encodeURI(location.protocol+"//"+location.host)));u.match(/^[a-zA-Z]+:\/\//)||(u="http://"+u);f={url:u,target:t.dashboardViewer.navigationTargets.Blank,handled:!1,source:null};this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:f});this._trigger("beforeNavigate",{data:f});f.url===""||t.isNullOrUndefined(f.url)||t.DashboardConstants.Window.open(f.url,f.target);f={url:i,target:t.dashboardViewer.navigationTargets.Blank,source:null};this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:f});this._trigger("afterNavigate",{data:f})}else t.isNullOrUndefined(i)||(c.Path=i),this._controlNavigate(c,n,null)},_loadWidgetSlaves:function(t,i){var u=0,r=0,e=this.dashboardControls.getControlByReport(t),f=null;for(e.SelectedFilterInfo=[],i!==null&&i.length>u&&(e.SelectedFilterInfo=i),r=0;r<this.controlRelations.length;r++)if(this.controlRelations[r].Master.lastIndexOf("_"+t)+t.length===this.controlRelations[r].Master.length-1){if(f=this.controlRelations[r].Slaves,f.length===u)return;this._makeSlaveDataRequest({master:t,slaves:f,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}i!==null&&i.length>u?(n("#"+this._id+t+"_filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+this._id+t+"_filter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+this._id+t+"_filter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+this._id+t+"_filter").parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))},_getViewData:function(n){var t=this.dashboardControls.getControlByReport(n)},_parseCustomProperties:function(n){for(var i={},t=0;t<n.length;t++)try{i[n[t].PropertyName]=JSON.parse(n[t].PropertyValue)}catch(r){i[n[t].PropertyName]=n[t].PropertyValue}return i}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.widgetscore={_renderWidgetControl:function(i){var a=null,c=0,e=0,p=1,v=3,w=i.widgetType,f=i.dynamicData,r=i.control,it=i.staticFiles,o=i.controldata,u=f.SelectedValues,y=100,b=50,k,l,d,s,g,nt,tt,h;switch(w){case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.RadioButton:r.controlType=t.dashboardViewer.Controls.CheckBox;r.scrollSetting.controlPerPage=100;this._updateVirtualScrollSettings(i,r,y);r.totalPages=r.data.length+p;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.ListBox:r.controlType=t.dashboardViewer.Controls.ListBox;r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.DatePicker:r.controlType=t.dashboardViewer.Controls.DatePicker;r.maxMinData=f.Data;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Image:r.controlType=t.dashboardViewer.Controls.Image;r.reportName=o.pagedata.Id;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Grid:r.controlType=t.dashboardViewer.Controls.Grid;r.scrollSetting.controlPerPage=200;r.configInfo.AllowPaging?r.totalCount=f.totalCount:this._updateVirtualScrollSettings(i,r,b);r.SelectedFilterInfo=t.isNullOrUndefined(u)?[]:u;r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.PivotGrid:r.controlType=t.dashboardViewer.Controls.PivotGrid;r.PivotReport=f.PivotReport;r.PivotJSONData=r.data[t.DashboardConstants.Zero].pagedata;t.isNullOrUndefined(f.SelectedCells)||(r.SelectedFilterInfo=f.SelectedCells);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.Chart:if(r.controlType=w,r.customTheme=JSON.parse(JSON.stringify(chartsettings)),!t.isNullOrUndefined(r.configInfo.Properties)&&!t.isNullOrUndefined(r.configInfo.SeriesColorPalette))for(k=r.configInfo.Properties.SeriesColorPalette.length,e=0;e<k;e++)r.customTheme.palette[e]=r.configInfo.Properties.SeriesColorPalette[e].CustomColor;if(r.SeriesList=[],t.isNullOrUndefined(f.SeriesList)||(r.SeriesList=f.SeriesList),this._updateVirtualScrollSettings(i,r,b),r.scrollSetting.controlPerPage=100,!t.isNullOrUndefined(f.ComparisonChartProp))for(l=f.ComparisonChartProp,r.ComparisonChartProp={Type:[],Field:[]},d=l.length,s=0;s<d;s++)r.ComparisonChartProp.Type.push(l[s].Type),r.ComparisonChartProp.Field.push(l[s].Field);t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Gauge:if(r.customTheme=JSON.parse(JSON.stringify(gaugesettings)),t.isNullOrUndefined(r.configInfo.Properties)||t.isNullOrUndefined(r.configInfo.Properties.RangeColor)||(r.customTheme.rangeColor2="#"+r.configInfo.Properties.RangeColor.substr(v),r.customTheme.border2="#"+r.configInfo.Properties.RangeColor.substr(v)),!r.data[0].isError)for(g=r.data[0].pagedata.length,c=0;c<g;c++)a=JSON.parse(r.data[0].pagedata[c]),a.StatusColor!=="undefined"&&(r.customTheme.statusData=a.StatusColor);r.controlType=t.dashboardViewer.Controls.Gauge;this._updateVirtualScrollSettings(i,r,y);r.scrollSetting.controlPerPage=100;r.totalPages=r.data.length+p;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.RangeNavigator:r.customTheme=JSON.parse(JSON.stringify(rangenavigatorsettings));r.controlType=t.dashboardViewer.Controls.RangeNavigator;r.SelectedFilterInfo=u;r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.BubbleMap:r.controlType=t.dashboardViewer.Controls.BubbleMap;r.customTheme=JSON.parse(JSON.stringify(bubblemapsettings));t.isNullOrUndefined(r.configInfo.BubbleSettings)||r.configInfo.BubbleSettings.ColorMaping===null||(r.customTheme.bubbleColor="#"+r.configInfo.BubbleSettings.ColorMaping.substr(v));t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.ChoroplethMap:r.controlType=t.dashboardViewer.Controls.ChoroplethMap;r.customTheme=JSON.parse(JSON.stringify(choroplethmapsettings));t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);o.rangeColor=f.RangeAndColor;o.legendPrefx=f.LegendPrefx;o.legendPostfix=f.LegendPostfix;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.TreeMap:if(r.customTheme=JSON.parse(JSON.stringify(treemapsettings)),r.configInfo.ColorType==="desat"&&(nt=n.parseJSON(r.configInfo.ColorMapping.ColorMapping),r.customTheme.desaturationColorMap=nt.color),r.configInfo.ColorType==="range")for(tt=r.configInfo.ColorMapping.ColorMapping.length,h=0;h<tt;h++)r.customTheme.rangeColorMap[h]=r.configInfo.ColorMapping.ColorMapping[h].color;r.controlType=t.dashboardViewer.Controls.TreeMap;r.currentPage=1;r.drillLevels=f.SerializeLevelInfo;t.isNullOrUndefined(f.SelectedValue)||(r.SelectedFilterInfo=f.SelectedValue);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.Card:r.controlType=t.dashboardViewer.Controls.Card;this._updateVirtualScrollSettings(i,r,y);u=f.SelectedValue;r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=f.SelectedValue);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.RangeSlider:r.controlType=t.dashboardViewer.Controls.RangeSlider;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Label:r.controlType=t.dashboardViewer.Controls.Label;r.reportName=o.pagedata.Id;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.FilterComboBox:r.controlType=t.dashboardViewer.Controls.FilterComboBox;r.scrollSetting.controlPerPage=100;u!==null&&(r.SelectedFilterInfo=t.isNullOrUndefined(u)?[]:u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.CustomWidget:r.controlType=t.dashboardViewer.Controls.CustomWidget;r.staticFiles=it;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r)}},_renderFilter:function(n){var i=n.control,f=n.controldata,r=n.dynamicData,u=n.filterId;switch(u){case"datepicker":i.controlType=t.dashboardFilterPanel.controls.DatePicker;i.maxMinData=r.Data;r.SelectedValues&&(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"checkbox":case"radiobutton":i.controlType=u==="checkbox"?t.dashboardFilterPanel.controls.CheckBox:t.dashboardFilterPanel.controls.RadioButton;i.scrollSetting.controlPerPage=200;i.totalCount=r.totalCount||200;t.isNullOrUndefined(r.SelectedValues)||(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"rangeslider":i.controlType=t.dashboardFilterPanel.controls.RangeSlider;r.SelectedValues&&(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"combobox":i.controlType=t.dashboardFilterPanel.controls.FilterComboBox;i.totalCount=r.totalCount||200;i.scrollSetting.controlPerPage=200;f.rowCount=r.totalCount||200;r.SelectedValues&&(i.SelectedFilterInfo=t.isNullOrUndefined(r.SelectedValues)?[]:r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"listbox":i.controlType=t.dashboardViewer.Controls.ListBox;i.scrollSetting.controlPerPage=100;i.totalCount=r.totalCount;r.SelectedValues&&(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i)}},_clearSelectedFilterInfoIfNeeded:function(n){return this.isExtendedLayout&&this.isInitialFilterCleared&&(this.initialFilterClearedList.length>t.DashboardConstants.Zero&&this.initialFilterClearedList.indexOf(n.reportName)!==t.DashboardConstants.IndexLowerBound&&n.configInfo.IsMasterFilter&&n.SelectedFilterInfo.length>t.DashboardConstants.Zero&&(n.SelectedFilterInfo=[],this.initialFilterClearedList.splice(this.initialFilterClearedList.indexOf(n.reportName),t.DashboardConstants.One)),this.pageInformations.length===this.actualPages.length&&(this.isInitialFilterCleared=!1,this.initialFilterClearedList=[])),n},_updateVirtualScrollSettings:function(n,i,r){var u=0,f;Array.isArray(n.controldata.pagedata)?u=n.controldata.pagedata.length:typeof n.controldata.pagedata=="string"?u=0:typeof n.controldata.pagedata=="object"&&(n.widgetType===t.dashboardViewer.Controls.ComparisonChart||n.widgetType===t.dashboardViewer.Controls.Chart)&&(f=this._objectValues(n.controldata.pagedata),u=f.length?t.isNullOrUndefined(JSON.parse(f[0]).points)?t.DashboardConstants.Zero:JSON.parse(f[0]).points.length:t.DashboardConstants.Zero);n.widgetType===t.dashboardViewer.Controls.ComparisonChart||n.widgetType===t.dashboardViewer.Controls.Chart?(i.hasMoreData=n.dynamicData.HasMoreData,i.hasMoreData&&(i.totalCount=n.dynamicData.TotalCount)):u<r?i.totalCount+=u:i.totalCount=u+r},_objectValues:function(n){var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(n[i]);return t},_renderControlsForStarting:function(n){for(var r=null,u=n.length,i=0;i<u;i++){this.isGetLinkDashboard&&!t.isNullOrUndefined(n[i].SelectedFilterInfo)&&n[i].SelectedFilterInfo.length>t.DashboardConstants.Zero&&(n[i].SelectedFilterInfo=[]);switch(n[i].controlType){case t.dashboardViewer.Controls.Card:this._callFunction(this._renderCards,n[i],null,!0);break;case t.dashboardViewer.Controls.CheckBox:this._callFunction(this._renderCheckBoxandRadioButton,n[i],null,!0);break;case t.dashboardViewer.Controls.Gauge:this._callFunction(this._renderGauges,n[i],null,!0);break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:this._callFunction(this._renderChart,n[i],null,!0);break;case t.dashboardViewer.Controls.ComparisonChart:this._callFunction(this._renderComparisonChart,n[i],null,!0);break;case t.dashboardViewer.Controls.RangeNavigator:this._callFunction(this._renderRangeNavigator,n[i],null,!0);break;case t.dashboardViewer.Controls.RangeSlider:this._callFunction(this._renderRangeSlider,n[i],null,!0);break;case t.dashboardViewer.Controls.DatePicker:this._callFunction(this._renderDatePicker,n[i],null,!0);break;case t.dashboardViewer.Controls.TreeMap:this._callFunction(this._renderTreeMap,n[i],null,!0);break;case t.dashboardViewer.Controls.ListBox:this._callFunction(this._renderListBox,n[i],null,!0);break;case t.dashboardViewer.Controls.FilterComboBox:n[i].configInfo.ShowAsListBox?this._callFunction(this._renderListBox,n[i],null,!0):this._callFunction(this._renderFDropDownList,n[i],null,!0);break;case t.dashboardViewer.Controls.Grid:this._dashboardData().isExportImage?this._renderGrid(n[i],null):this._callFunction(this._renderGrid,n[i],null,!0);break;case t.dashboardViewer.Controls.PivotGrid:this._callFunction(this._renderPivotGrid,n[i],null,!0);break;case t.dashboardViewer.Controls.BubbleMap:this._callFunction(this._renderBubbleMap,n[i],null,!0);break;case t.dashboardViewer.Controls.ChoroplethMap:this._callFunction(this._renderChoroplethMap,n[i],null,!0);break;case t.dashboardViewer.Controls.Image:this._callFunction(this._renderImage,n[i],null,!0);break;case t.dashboardViewer.Controls.Label:this._callFunction(this._renderLabel,n[i],null,!0);break;case"parameterColumnData":r=n[i].data[0].pagedata;t.isNullOrUndefined(n[i].controlRelations)||n[i].controlRelations.length===t.DashboardConstants.Zero||(this.controlRelations=n[i].controlRelations);t.isNullOrUndefined(n[i].appliedFilterData)||n[i].appliedFilterData.length===t.DashboardConstants.Zero||(this.appliedFilterData=n[i].appliedFilterData);this._callFunction(this._updateParameterColumns,n[i].data[0].pagedata);break;case"Title":this._dashboardData().isExportImage||t.isNullOrUndefined(r)||r.length!==t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-banner-title").append("<p>"+n[i].reportName+"<\/p>");break;case"NoData":this._callFunction(this._WidgetNotConfigured,n[i]);break;case"CustomWidget":this._callFunction(this._renderWidget,n[i],null,!0)}}this.isGetLinkDashboard&&this.actualPages.length>t.DashboardConstants.Zero&&(this.isGetLinkDashboard=Math.max.apply(Math,this.actualPages)!==this.pageInfo[t.DashboardConstants.Zero]);this._callFunction(this._updateParameterColumns,r)},_processWidgetData:function(n,i){switch(n.controlType){case t.dashboardViewer.Controls.Card:this._renderCards(n,{id:"",cardDiv:i,isMaximize:!1});break;case t.dashboardViewer.Controls.CheckBox:this._renderCheckBoxandRadioButton(n);break;case t.dashboardViewer.Controls.Gauge:this._renderGauges(n,{id:"",gaugeDiv:i,isMaximize:!1});break;case t.dashboardViewer.Controls.TreeMap:this._renderTreeMap(n,{id:"",treemapDiv:i,isMaximize:!1})}},_removeAppliedFilter:function(i,r,u){var v,y,d,g,w,nt,b,k,a,tt,ft,et,c;this.CurrentMaster===""||t.isNullOrUndefined(this.CurrentMaster)||this._removeAllControlSelectedValues(this.CurrentMaster);v=this._checkMasterData(this.CurrentMaster);y=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All;v!==null&&this.masterData.splice(v,t.DashboardConstants.One);var s=[],e=0,f=null,h=!1;switch(r){case"Grid":n("#"+i).ejDashboardGrid("clearSelection");this._loadGridSlaves(this.CurrentMaster,null,null,!1,null,null,null);break;case"PivotGrid":n("#"+i).find(".e-pivotgrid .selected").removeClass("selected");f=n("#"+i+"_div").data("ejDashboardPivotGrid");f.model.selectedCells=null;this._loadPivotGridSlaves(this.CurrentMaster,null);break;case"Chart":case"ProportionChart":case"DrillDownChart":if(this._loadChartSlaves(null,this.CurrentMaster,null,null,!0,null),s=n("#"+i).find(".e-datavisualization-chart"),r==="ProportionChart"&&s.length>t.DashboardConstants.Zero)for(d=s.length,e=0;e<d;e++)f=s.eq(e).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();else f=n("#"+i).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();break;case"ComparisonChart":if(this._loadComparisonChartSlaves(null,this.CurrentMaster,null,null,!1,null),s=n("#"+i+" .e-datavisualization-chart"),s.length>t.DashboardConstants.Zero)for(g=s.length,e=0;e<g;e++)f=s.eq(e).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();else f=n("#"+i).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();break;case"CircularGauge":case"Gauge":n("#"+i).find(".e-circularGauge-Selected").removeClass("e-circularGauge-Selected");this._loadGaugeSlaves(u,this.CurrentMaster,!1,null,null);break;case"Linear":this._loadGaugeSlaves(null,this.CurrentMaster);break;case"RangeNavigator":this.flag=!1;f=n("#"+i).data("ejDashboardRangeNavigator");f.model.zoomPosition="0";f.model.zoomFactor="1";f.model.selectedRangeSettings={start:"",end:""};f.renderNavigator();this.flag=!0;this._loadRangeNaviSlaves(this.CurrentMaster,null,null,null);break;case"BubbleMap":this._loadBubbleMapSlaves(this.CurrentMaster,null,!1,!1,null,null,null);this._clearMapSelectedShapes(i);break;case"ChoroplethMap":this._loadChoroplethMapSlaves(this.CurrentMaster,null,!1,!1,null,null,null);this._clearMapSelectedShapes(i);break;case"TreeMap":var o=n("#"+i).data("ejTreeMap"),l=n("#"+i).attr("data-controlid"),p=this.dashboardControls.getControlByReport(l);p.configInfo.EnableDrillDown&&p.configInfo.ColorType==="range";o.selectedItems=[];o.model.tooltipTemplate=o.model.enableDrillDown?o.model.isVirtualRender?this._id+"_"+l+"_toolTip"+o.model.drillDownLevel:this._id+"_"+l+"_toolTip"+o._drilldownItems.length:this._id+"_"+l+"_toolTip";this._loadSlaves(p.configInfo,null,{Id:this.CurrentMaster},null,null);!o.model.isVirtualRender&&o._drilldownItems.length>t.DashboardConstants.Zero?(w=o._drilldownItems.length,o.model.drilledStateLevel=w,o.model.drillDownDataValue=o._drilldownItems[w-t.DashboardConstants.One].header,o.refresh(!0)):o.model.isVirtualRender||o._drilldownItems.length!==t.DashboardConstants.Zero?n("#"+i).ejTreeMap("refresh"):(o.model.drilledStateLevel=0,o.model.drillDownDataValue="",o.refresh(!0));break;case"Card":nt=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;n("#"+i).find(".e-dbrd-selected-card").hide().prop({"data-selected-widget":""});t.isNullOrUndefined(u)||(u.name="");this._LoadCardSlaves(this.CurrentMaster,"",null,!1,null,null,nt,u);break;case"CheckBox":if(b=!n("#"+i).hasClass("e-dbrd-control-checkbox"),b)k=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+y+"]"),k.length!==t.DashboardConstants.Zero&&k.ejDashboardRadioButton("instance").option("checked",!0);else if(a=n("#"+i+" .e-checkbox.e-js.e-input"),a.length!==t.DashboardConstants.Zero)for(tt=a.length,e=0;e<tt;e++)a.eq(e).ejDashboardCheckBox("instance").option("checked",!0);this._loadCheckBoxSlaves(this.CurrentMaster,b);break;case"RangeSlider":f=n("#"+i).data("ejDashboardSlider");t.isNullOrUndefined(f._isDate)?(f.option("values",[f.model.minValue,f.model.maxValue]),f.option("value",f.model.maxValue)):f.model.sliderType==="range"?f.option("dateValue",[f.model.minDate,f.model.maxDate]):f.option("dateValue",f.model.maxDate);f.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[0]:this._applyFormattingForSlider(f.model.formatColumn,f.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[1]:this._applyFormattingForSlider(f.model.formatColumn,f.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[1]:this._applyFormattingForSlider(f.model.formatColumn,f.model.maxValue));this._onRangeSliderChange(this.CurrentMaster,"",null);break;case"DatePicker":f=n("#"+i).ejDashboardDashboardDatePicker("instance");f&&(f.model.value=null,f.redraw());this._onDatePickerChange(this.CurrentMaster,null);break;case"FilterComboBox":f=n("#"+i).data("ejDashboardDropDownList");var ot=JSON.parse(JSON.stringify(this.dashboardParameters)),it="false",rt="false",ut=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;if(t.isNullOrUndefined(f))f=n("#"+i+"_lstbx").data("ejDashboardListBox"),h=!1,t.isNullOrUndefined(f)||(h=f.model.showCheckbox,h?(f.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(f.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0))),this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",h,null);else{for(ft=f.model.change,f.model.change=null,f._isFilterCleared=!0,f._totalSelectedItems=[],ut.SelectFirstItem=!1,et=f.model.query._params.length,c=0;c<et;c++)switch(f.model.query._params[c].key){case"masterData":f.model.query._params[c].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":f.model.query._params[c].value=JSON.stringify([]);break;case"searchSelectedCount":f.model.query._params[c].value=0}for(e=0;e<f.model.query._params.length;e++)f.model.query._params[e].key==="hasNull"?it=f.model.query._params[e].value:f.model.query._params[e].key==="hasEmpty"&&(rt=f.model.query._params[e].value);f.model.showCheckbox?f.option("checkAll",!1):f.unselectItemsByIndices(f.model.selectedItems);f.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",ut.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",f._totalCount).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("selectedItems",JSON.stringify([])).addParams("searchSelectedCount",t.DashboardConstants.Zero).addParams("hasNull",it).addParams("hasEmpty",rt).addParams("isPublic",this.isPublicDashboard).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("itemId",this.itemId).addParams("dashboardName",this.dashboardName).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(ot))));f.clearText();f.option("watermarkText",y);this._onGlobalFilterChange(!1,f.model.showCheckbox,!0,this.CurrentMaster,null);f.model.change=ft}break;case"ListBox":f=n("#"+i+"_lstbx").data("ejDashboardListBox");h=!1;t.isNullOrUndefined(f)||(h=f.model.showCheckbox,h?(f.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):f.unSelectAll());this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",h,null);break;case"CustomWidget":this._loadWidgetSlaves(this.CurrentMaster,null)}},_refreshWidgetData:function(i,r,u){var a=3,v=null,f={},h=200,y=1,p,e,w,b,c,k,o,d,l,g,nt,s;switch(i){case t.dashboardViewer.Controls.ListBox:r.controlType=t.dashboardViewer.Controls.ListBox;r.totalCount=this._updateWidgetTotalCount(r,h);this._callFunction(this._renderListBox,r);break;case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.RadioButton:f=this.dashboardControls.getControlByReport(r.reportName);r.configInfo.Row=f.configInfo.Row;r.configInfo.Column=f.configInfo.Column;r.controlType=t.dashboardViewer.Controls.CheckBox;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);this._callFunction(this._renderCheckBoxandRadioButton,r);break;case t.dashboardViewer.Controls.DatePicker:r.controlType=t.dashboardViewer.Controls.DatePicker;r.maxMinData=u.Data;this._callFunction(this._renderDatePicker,r);break;case t.dashboardViewer.Controls.Grid:r.controlType=t.dashboardViewer.Controls.Grid;r.scrollSetting.controlPerPage=200;r.totalCount=r.configInfo.AllowPaging?u.totalCount:this._updateWidgetTotalCount(r,50);r.maxMinData=u.MaxminData;this._callFunction(this._renderGrid,r);break;case t.dashboardViewer.Controls.PivotGrid:r.controlType=t.dashboardViewer.Controls.PivotGrid;r.PivotReport=u.PivotReport;r.PivotJSONData=r.data[t.DashboardConstants.Zero].pagedata;this._callFunction(this._renderPivotGrid,r);break;case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:if(r.controlType=i,f=this.dashboardControls.getControlByReport(r.reportName),r.configInfo=f.configInfo,r.customTheme=JSON.parse(JSON.stringify(chartsettings)),r.drillLevelInfo=f.drillLevelInfo,r.drillLevelData=f.drillLevelData,r.drillLevels=f.drillLevels,!t.isNullOrUndefined(r.configInfo.Properties)&&!t.isNullOrUndefined(r.configInfo.SeriesColorPalette))for(p=r.configInfo.Properties.SeriesColorPalette.length,e=0;e<p;e++)r.customTheme.palette[e]=r.configInfo.Properties.SeriesColorPalette[e].CustomColor;if(r.SeriesList=[],t.isNullOrUndefined(u.SeriesList)||(r.SeriesList=u.SeriesList),w={widgetType:i,dynamicData:u,control:r,controldata:r.data[0].pagedata},b=100,this._updateVirtualScrollSettings(w,r,b),!t.isNullOrUndefined(u.ComparisonChartProp))for(c=u.ComparisonChartProp,r.ComparisonChartProp={Type:[],Field:[]},k=c.length,o=0;o<k;o++)r.ComparisonChartProp.Type.push(c[o].Type),r.ComparisonChartProp.Field.push(c[o].Field);r.configInfo.Properties.CustomLegends=u.CustomLegends;r.configInfo.Properties.SeriesCustomLegends=u.SeriesCustomLegends;this.dashboardControls.updateCurrentReport(r);i===t.dashboardViewer.Controls.ComparisonChart?this._callFunction(this._renderComparisonChart,r):this._callFunction(this._renderChart,r);break;case t.dashboardViewer.Controls.Gauge:if(r.customTheme=JSON.parse(JSON.stringify(gaugesettings)),f=this.dashboardControls.getControlByReport(r.reportName),r.configInfo.ColumnInfo=f.configInfo.ColumnInfo,r.configInfo.Row=f.configInfo.Row,r.configInfo.Column=f.configInfo.Column,t.isNullOrUndefined(r.configInfo.Properties)||t.isNullOrUndefined(r.configInfo.Properties.RangeColor)||(r.customTheme.rangeColor2="#"+r.configInfo.Properties.RangeColor.substr(a),r.customTheme.border2="#"+r.configInfo.Properties.RangeColor.substr(a)),!r.data[0].isError)for(d=r.data[0].pagedata.length,l=0;l<d;l++)v=JSON.parse(r.data[0].pagedata[l]),v.StatusColor!=="undefined"&&(r.customTheme.statusData=v.StatusColor);r.controlType=t.dashboardViewer.Controls.Gauge;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);r.totalPages=r.data.length+y;this._callFunction(this._renderGauges,r);break;case t.dashboardViewer.Controls.RangeNavigator:r.customTheme=JSON.parse(JSON.stringify(rangenavigatorsettings));r.controlType=t.dashboardViewer.Controls.RangeNavigator;this._callFunction(this._renderRangeNavigator,r);break;case t.dashboardViewer.Controls.BubbleMap:r.customTheme=JSON.parse(JSON.stringify(bubblemapsettings));t.isNullOrUndefined(r.configInfo.BubbleSettings)||r.configInfo.BubbleSettings.ColorMaping===null||(r.customTheme.bubbleColor="#"+r.configInfo.BubbleSettings.ColorMaping.substr(a));r.controlType=t.dashboardViewer.Controls.BubbleMap;this._callFunction(this._renderBubbleMap,r);break;case t.dashboardViewer.Controls.ChoroplethMap:r.customTheme=JSON.parse(JSON.stringify(choroplethmapsettings));r.controlType=t.dashboardViewer.Controls.ChoroplethMap;r.data.length!==t.DashboardConstants.Zero&&(r.data[0].rangeColor=u.RangeAndColor,r.data[0].legendPrefx=u.LegendPrefx,r.data[0].legendPostfix=u.LegendPostfix);this._callFunction(this._renderChoroplethMap,r);break;case t.dashboardViewer.Controls.TreeMap:if(r.customTheme=JSON.parse(JSON.stringify(treemapsettings)),r.configInfo.ColorMapping=u.ColorMapping,r.configInfo.isNodata=u.isNodata,r.configInfo.ColorType==="desat"&&(g=n.parseJSON(r.configInfo.ColorMapping.ColorMapping),r.customTheme.desaturationColorMap=g.color),r.configInfo.ColorType==="range")for(nt=r.configInfo.ColorMapping.ColorMapping.length,s=0;s<nt;s++)r.customTheme.rangeColorMap[s]=r.configInfo.ColorMapping.ColorMapping[s].color;r.controlType=t.dashboardViewer.Controls.TreeMap;r.drillLevels=u.SerializeLevelInfo;this._callFunction(this._renderTreeMap,r);break;case t.dashboardViewer.Controls.Card:r.controlType=t.dashboardViewer.Controls.Card;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);r.totalPages=r.data.length+y;this._callFunction(this._renderCards,r);break;case t.dashboardViewer.Controls.RangeSlider:r.controlType=t.dashboardViewer.Controls.RangeSlider;this._callFunction(this._renderRangeSlider,r);break;case t.dashboardViewer.Controls.CustomWidget:r.controlType=t.dashboardViewer.Controls.CustomWidget;this._callFunction(this._renderWidget,r);break;case t.dashboardViewer.Controls.Image:r.controlType=t.dashboardViewer.Controls.Image;this._callFunction(this._renderImage,r);break;case t.dashboardViewer.Controls.FilterComboBox:r.configInfo.ShowAsListBox?(r.controlType=t.dashboardViewer.Controls.FilterComboBox,r.scrollSetting.controlPerPage=100,r.totalCount=200,this._callFunction(this._renderListBox,r)):(r.controlType=t.dashboardViewer.Controls.FilterComboBox,r.data[0].selectedValues=u.SelectedValues,r.data[0].rowCount=u.totalCount,r.configInfo.SelectFirstItem&&u.SelectedValues!==null?r.SelectedFilterInfo=t.isNullOrUndefined(u.SelectedValues)?[]:u.SelectedValues:r.configInfo.SelectFirstItem&&u.SelectedValues===null&&(r.SelectedFilterInfo=[]),r.scrollSetting.controlPerPage=100,this._callFunction(this._renderFDropDownList,r));break;case t.dashboardViewer.Controls.Label:r.controlType=t.dashboardViewer.Controls.Label;this.dashboardControls.addControl(r)}},_updateWidgetTotalCount:function(n,t){var r=0,i;return n.data.length>r?(i=n.data[r].pagedata.length,i<t)?i:i+t:r},_getWidgetType:function(n){if(!t.isNullOrUndefined(n)){var i=n.split("_")[0];switch(i){case"ComboBox":return t.dashboardViewer.Controls.FilterComboBox;case"ListBox":return t.dashboardViewer.Controls.ListBox;case"RangeSlider":return t.dashboardViewer.Controls.RangeSlider;case"DatePicker":return t.dashboardViewer.Controls.DatePicker;case"RadioButton":case"CheckBox":return t.dashboardViewer.Controls.CheckBox}}return""},_removeAllControlSelectedValues:function(n){var i=[],u,r;for(t.isNullOrUndefined(n)?i=this.dashboardControls.getAllControls():i.push(this.dashboardControls.getControlByReport(n)),u=i.length,r=0;r<u;r++)switch(i[r].controlType){case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardViewer.Controls.Gauge:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.TreeMap:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.Grid:case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:case t.dashboardViewer.Controls.RangeNavigator:case t.dashboardViewer.Controls.ListBox:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.CustomWidget:i[r].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.PivotGrid:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.RangeSlider:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[]}},_getControlClassName:function(n,i,r,u){switch(r){case"Grid":switch(n){case"header":if(i==="background-color")return".e-grid .e-gridheader";if(i==="font-color"||i==="font-family")return".e-grid .e-headercell";break;case"content":return".e-grid .e-gridcontent";case"hover":return".e-grid .e-gridcontent tr.e-hover";case"border":return".e-grid .e-rowcell, .e-grid .e-indentcell";case"selection":return".e-grid td.e-active"}break;case"PivotGrid":switch(n){case"grouping-bar":return".e-pivotgrid .valueColumn,.e-pivotgrid .grpRow";case"grouping-button":return".e-pivotgrid .pivotButton,.e-pivotgrid .pivotButton .e-btn.e-select";case"icon":if(i==="sort-icon-color")return".e-pivotgrid .sorting:before";if(i==="filter-icon-color")return".e-pivotgrid .filter:before";break;case"header":return".e-pivotgrid .colheader,.e-pivotgrid .rowheader,.e-pivotgrid .calc";case"content":return".e-pivotgrid .value";case"summary":return".e-pivotgrid .summary";case"hover":return".e-pivotgrid .colheader:hover,.e-pivotgrid .rowheader:hover,.e-pivotgrid .calc:hover"}break;case"Card":switch(n){case"title":return" td .e-card-header";case"value":return" td .e-value";case"variation":return" .e-card .e-variation";case"card":return" .e-card";case"selection":return" .e-dbrd-selected-card, .e-dbrd-selected-card .e-corner-triangle border-left-color"}break;case"FilterComboBox":switch(n){case"combobox":return"_container .e-input,_container ::-webkit-input-placeholder,_container ::-moz-placeholder,_container :-ms-input-placeholder,_container :-moz-placeholder";case"button":return"_container .e-select";case"dropdownlist":return"_popup_wrapper .e-dbrd-canvas.e-ddl-popup";case"icon":return i==="tick-color"?"_popup_wrapper .e-ddl-popup .e-check-act:before":i==="search-icon-color"?"_popup_wrapper .e-atc.e-search .e-isearch:before, .e-atc.e-search .e-iclose:before":"_popup_wrapper .e-ddl-popup .e-checkwrap";case"hover":return"_popup_wrapper li.e-hover";case"searchbox":return"_popup_wrapper .e-atc .e-input";case"selection":return"_popup_wrapper.e-drbd-cntrl-combobox .e-active"}break;case"CheckBox":if(u.indexOf("RadioButton")!==t.DashboardConstants.IndexLowerBound)switch(n){case"label":return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-rad-active:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-spanicon"}else switch(n){case"label":return".e-dbrd-control-checkbox .e-dbrd-checkbox-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-image:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-act"}break;case"RangeSlider":switch(n){case"container":return"_wrapper.rangeslider_wrapper";case"range":return i==="range-color"?".e-slider .e-range":".e-slider.e-widget";case"handle":return" .e-handle.e-select";case"label":return"leftcontainer_"+u+" label","rightcontainer_"+u+" label"}break;case"ListBox":switch(n){case"listbox":return" .e-content";case"icon":return i==="tick-color"?" .e-chkbox-wrap .e-chk-image:before":" .e-chkbox-wrap .e-chk-act";case"hover":return" .e-listbox .e-hover"}break;case"DatePicker":switch(n){case"textbox":return".e-FilterBox.e-dashboarddatepicker.e-js.e-input-main";case"calendar":return i==="currentmonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-current-month":i==="week-header-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-week-header th":i==="days-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td":i==="othermonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .other-month":i==="next-arrow-color"?"_wrapper .e-dashboarddatepicker-icon i:before":"_popup_wrapper.e-dashboarddatepicker-popup-wrapper";case"selection":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td.selected";case"hover":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td:hover";case"icon":if(i==="calendar-color")return"_wrapper .e-dashboarddatepicker-icon:before";if(i==="arrow-color")return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-arrow-enabled  i:before"}}},_generateAPIFromJson:function(n,i){var f=null,h=0,u=[],o=null,r=null,e=null,s=t.DashboardConstants.Zero;switch(n){case"BubbleMap":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"hover":u.highlightColor=r["background-color"];u.highlightBorderColor=r["border-color"];break;case"shape":u.fillColor=r["background-color"];u.borderColor=r["border-color"];break;case"select":u.selecionColor=r["background-color"];u.selectionBorderColor=r["border-color"];break;case"bubble":u.bubbleColor=r["background-color"]}}break;case"ChoroplethMap":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"hover":u.highlightColor=r["background-color"];u.highlightBorderColor=r["border-color"];break;case"shape":u.fillColor=r["background-color"];u.borderColor=r["border-color"];break;case"select":u.selecionColor=r["background-color"];u.selectionBorderColor=r["border-color"];break;case"range":u.rangecolor=r["background-color"]}}break;case"TreeMap":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"drilldownhover":u.drillDownSelectionColor=r["background-color"];break;case"select":u.highlightColor=r["border-color"];break;case"drilldownheader":u.drillDownHeaderColor=r["background-color"];break;case"desaturatecolor":u.desaturationColorMap=r["background-color"];break;case"rangecolormap":u.rangeColorMap=r["background-color"]}}break;case"RangeNavigator":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"tooltip":u.toolTipBackground=r["background-color"];u.toolTipData=r["font-color"];break;case"selected":u.backgroundColor=r["background-color"];break;case"unselected":u.unSelectedRegionColor=r["background-color"];break;case"border":u.borderColor=r["border-color"];break;case"navigator":u.navigatorBackgroundColor=r["background-color"];u.navigatorBorderColor=r["border-color"]}}break;case"Gauge":for(e=Object.keys(i),s=e.length,f=t.DashboardConstants.Zero;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"range1":u.rangeColor1=r["background-color"];u.border1=r["border-color"];break;case"range2":u.rangeColor2=r["background-color"];u.border2=r["border-color"];break;case"data":u.statusData=r["font-color"]}}break;case"Chart":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"x-axis":u.xAxisLineColor=r["xaxisline-color"];u.primaryXAxismajorGridLines=r["primaryxaxis-majorgridlines"];u.primaryXAxisfontcolor=r["primaryxaxis-fontcolor"];u.primaryXAxistitlecolor=r["primaryxaxis-titlecolor"];break;case"y-axis":u.yAxisLineColor=r["yaxisline-color"];u.primaryYAxismajorGridLines=r["primaryyaxis-majorgridlines"];u.primaryYAxisfontcolor=r["primaryyaxis-fontcolor"];u.primaryYAxistitlecolor=r["primaryyaxis-titlecolor"];break;case"axes":u.axisLineColor=r["axisline-color"];u.titletextcolor=r["title-color"];break;case"series":u.palette=r["background-color"];u.dataLabelColor=r["font-color"];break;case"legend":u.legendfontcolor=r["legendfont-color"];break;case"tick":u.majorTickColor=r["majortick-color"]}}break;case"ComparisonChart":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"x-axis":u.primaryXAxisfontcolor=r["font-color"];u.primaryXAxistitlecolor=r["title-color"];break;case"y-axis":u.primaryYAxisfontcolor=r["font-color"];u.primaryYAxistitlecolor=r["title-color"];break;case"series":u.palette=r["background-color"];u.dataLabelColor=r["font-color"]}}}return u},_widgetMaximize:function(i,r,u){var l=0,s=0,d=1,w=10,e="",b=null,c=null,g=u.elementType,f=u.control,o=u.reportName,h=u.element,nt,a,y,v,it;switch(g){case t.dashboardViewer.Controls.Grid:e=h.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-w});this._renderGrid(f,{id:e,gridDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:if(c=h.find(".e-dbrd-control"),e=c.attr("id"),i[0].id=this._id+"_maximized_"+o,nt=this._getValuesFromDrillLevelInfo(f,o,!1),a=this._getValuesFromDrillLevelData(f,o,!1),!t.isNullOrUndefined(a)&&a.length>t.DashboardConstants.Zero){y=a.length;b=a[y-t.DashboardConstants.One];var k=JSON.parse(JSON.stringify(nt)),tt=this._containsKey(f.drillLevelInfo,o+"_Maximize"),p=[];if(t.isNullOrUndefined(tt)){for(f.drillLevelInfo.push({Key:o+"_Maximize",Values:k}),l=0;l<y-d;l++)p.push(a[l]);f.drillLevelData.push({Key:o+"_Maximize",Values:p})}else{for(s=0;s<f.drillLevelInfo.length;s++)f.drillLevelInfo[s].Key===o+"_Maximize"&&f.drillLevelInfo.splice(s);for(f.drillLevelInfo.push({Key:o+"_Maximize",Values:k}),l=0;l<y-d;l++)p.push(a[l]);for(s=0;s<f.drillLevelData.length;s++)f.drillLevelData[s].Key===o+"_Maximize"&&f.drillLevelData.splice(s);f.drillLevelData.push({Key:o+"_Maximize",Values:p});tt.Values=k}f.isExportFromMaximizedView=!0;this.dashboardControls.updateCurrentReport(f);this._drawDrilledChart(b.ConfigInfo,b.Data,{id:this._id+"_maximized_"+o,chartDiv:i,isMaximize:!0},!0,u.control.configInfo)}else f.drillLevelInfo.push({Key:o+"_Maximize",Values:[]}),f.isExportFromMaximizedView=!0,this.dashboardControls.updateCurrentReport(f),this._renderChart(f,{id:e,chartDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.ComparisonChart:e=h.find(".e-dbrd-control").attr("data-controlId");this._renderComparisonChart(f,{id:e,chartDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:v=t.buildTag("div");it=h.find(".e-dbrd-control").attr("id")+"_Maximized";v.css({width:"100%",height:"100%","background-color":"white"}).attr({id:it});i.append(v).attr({id:"mapParent"}).css({width:"100%",height:"100%","margin-left":"-2px"});g===t.dashboardViewer.Controls.BubbleMap?this._renderBubbleMap(f,{id:e,bubbleMapDiv:v,isMaximize:!0}):this._renderChoroplethMap(f,{id:e,choroplethMapDiv:v,isMaximize:!0});break;case t.dashboardViewer.Controls.TreeMap:c=h.find(".e-dbrd-control");e=c.attr("id");f.currentPage=t.DashboardConstants.One;i.css({"margin-left":"-2px"});this._renderTreeMap(f,{id:e,treemapDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Card:c=h.find(".e-dbrd-control");e=c.attr("id");f.loadedPages=[];f.currentPage=t.DashboardConstants.One;f.scrollSetting.scrollTop=t.DashboardConstants.Zero;f.scrollSetting.controlPerPage=100;this._renderCards(f,{id:e,cardDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Gauge:c=h.find(".e-dbrd-control");e=c.attr("id");i.attr({"data-controlLinkData":c.attr("data-controlLinkData")});f.loadedPages=[];f.currentPage=t.DashboardConstants.One;f.scrollSetting.scrollTop=t.DashboardConstants.Zero;this._renderGauges(f,{id:e,gaugeDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.PivotGrid:r.css({"background-color":"white"});e=h.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-w});var ut=h.find(".e-dbrd-control").attr("id"),rt=n("#"+ut).children().data("ejDashboardPivotGrid"),ft=f.PivotJSONData,et=n.extend(!0,[],rt._tempFilterData),ot=rt.getOlapReport();this._renderPivotGrid(f,{id:e,pivotgridDiv:i,isMaximize:!0,jsonRecords:ft,filterInfo:et,pvtReport:ot});break;case"CustomWidget":r.css({"background-color":"white"});e=h.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-w});this._renderWidget(f,{id:e,Div:i,isMaximize:!0})}},_heightOfCell:function(n,i){var r=null,u=2;switch(n){case t.dashboardViewer.Controls.PivotGrid:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.DrillDownChart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.CustomWidget:case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:case t.dashboardViewer.Controls.TreeMap:case t.dashboardViewer.Controls.Grid:case t.dashboardViewer.Controls.ListBox:case t.dashboardViewer.Controls.Gauge:r=3*i;break;case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.RangeNavigator:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.Label:case t.dashboardViewer.Controls.Image:r=u*i;break;case t.dashboardViewer.Controls.RangeSlider:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.FilterComboBox:r=u*i;break;default:r=i}return r},_chartmaximizefind:function(n){switch(n){case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:return!0}return!1},_widgetIconInformation:function(i,r){var s=150,o,u,e,f;i[0].layoutInformation.Name!=="CustomWidget"&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Gauge&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Card&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Chart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ProportionChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ComparisonChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Grid&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ChoroplethMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.BubbleMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.TreeMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.DrillDownChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.PivotGrid||!i[0].layoutInformation.Label.ShowMaximize||this.isWidget||this.model.enableWidgetMode||(o={tabindex:"0",role:"button",removeClass:"e-dbrd-widget-icons",name:"Maximize",id:this._id+i[0].layoutInformation.ReportName+"_Maximize",classname:"e-dbrd-hide-maximize",arialabel:"Maximize",datatooltip:this.locale.utils.Maximize,type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id},i[0].width<s?r.push(o):(o.classname="e-dbrd-maximize",r.push(o)));this.isFilterWidget=i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeNavigator||i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeSlider||i[0].layoutInformation.Name===t.dashboardViewer.Controls.DatePicker||i[0].layoutInformation.Name===t.dashboardViewer.Controls.FilterComboBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.CheckBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.ListBox?!0:!1;u=null;(!this.model.allowComment||this.model.enableWidgetMode||i[0].layoutInformation.Label.EnableCsvExport||i[0].layoutInformation.Label.EnableImageExport||i[0].layoutInformation.Label.EnablePdfExport||i[0].layoutInformation.Label.EnableExcelExport)&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.RangeSlider&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.DatePicker&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.FilterComboBox&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.CheckBox&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ListBox||(u={tabindex:"0",role:"menu",name:"menu",id:this._id+i[0].layoutInformation.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-small-menu",removeClass:"e-dbrd-border e-dbrd-widget-icons",type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datatooltip:this.locale.utils.Export,margintop:"3.5px",marginright:"6px"},u.display=n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment?"block":"none",i[0].width<s?r.push(u):(u.classname="e-dbrd-widget-menu e-dbrd-border",r.push(u)));e=null;i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeNavigator||i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeSlider||i[0].layoutInformation.Name===t.dashboardViewer.Controls.DatePicker||i[0].layoutInformation.Name===t.dashboardViewer.Controls.FilterComboBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.CheckBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.ListBox||!(i[0].layoutInformation.Label.EnableCsvExport&&this.model._exportSettings.canExportCsv||i[0].layoutInformation.Label.EnableImageExport&&this.model._exportSettings.canExportImage||i[0].layoutInformation.Label.EnablePdfExport&&this.model._exportSettings.canExportPdf||i[0].layoutInformation.Label.EnableExcelExport&&this.model._exportSettings.canExportExcel||i[0].layoutInformation.Label.ShowDescription&&!this.model.allowComment)||this.isWidget||this.model.enableWidgetMode||(f="",i[0].layoutInformation.Label.EnableCsvExport&&this.model._exportSettings.canExportCsv&&(f+=" enable-csv-export"),i[0].layoutInformation.Label.EnableExcelExport&&this.model._exportSettings.canExportExcel&&(f+=" enable-excel-export"),i[0].layoutInformation.Label.EnableImageExport&&this.model._exportSettings.canExportImage&&(f+=" enable-image-export"),i[0].layoutInformation.Label.EnablePdfExport&&this.model._exportSettings.canExportPdf&&(f+=" enable-pdf-export"),e={tabindex:"0",role:"menu",name:"menu",id:this._id+i[0].layoutInformation.ReportName+"_menu",ariahaspopup:"true",menuIcon:f,arialabel:"Export Option",classname:"e-dbrd-control-small-menu",removeClass:"e-dbrd-border e-dbrd-widget-icons",type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datatooltip:this.locale.utils.Export,margintop:"3.5px",marginright:"4px"},i[0].width<s?r.push(e):(e.classname="e-dbrd-control-menu e-dbrd-border",r.push(e)))},_resizeControls:function(i,r,u){var h,c;this.resize=!0;var e=0,o=null,f=this,s=t.DashboardConstants.Zero;switch(u.controlType){case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.Gauge:case t.dashboardViewer.Controls.CheckBox:this.timers.push(setTimeout(function(h){var a=[],l,v,y,c;for(s=h.data.length,e=0;e<s;e++)if(h.data[e].pageNumber===t.DashboardConstants.One){h.data[e].scrollTop=0;a.push(h.data[e]);break}if(h.data=a,h.currentPage=1,h.loadedPages=[],h.scrollSetting.scrollTop=0,l=null,h.controlType===t.dashboardViewer.Controls.Card){for(v=f.currentTabContentElement.find(".e-dbrd-control-container[type=Card]"),l=f.currentTabContentElement.find(".e-dbrd-control-container[type=Card] .e-control-heading"),y=l.length,c=t.DashboardConstants.Zero;c<y;c++)n(l[c]).css({width:n(v[c]).width()});i&&h.reportName===r.attr("data-controlid")&&(o=new Dbrdcontrol,o=o.clone(JSON.parse(JSON.stringify(u))),f._renderCards(o,{id:"",cardDiv:r,isMaximize:!1}));h.loadedPages=[];f._callFunction(f._renderCards,h)}else h.controlType===t.dashboardViewer.Controls.Gauge?(i&&u.reportName===r.attr("data-controlid")&&(o=new Dbrdcontrol,o=o.clone(h),f._renderGauges(o,{id:"",gaugeDiv:r,isMaximize:!1})),h.loadedPages=[],f._callFunction(f._renderGauges,h)):f._callFunction(f._renderCheckBoxandRadioButton,h)},t.DashboardConstants.Zero,u));break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:this.timers.push(setTimeout(function(n){var h=[],u;for(s=n.data.length,e=0;e<s;e++)if(n.data[e].pageNumber===t.DashboardConstants.One){h.push(n.data[e]);break}n.data=h;n.currentPage=1;n.loadedPages=[];u=f._getValuesFromDrillLevelData(n,n.reportName,i);i&&n.reportName===r.attr("data-controlid")&&(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?f._resizeDrilledChart(n.reportName):n.reportName.indexOf("ProportionChart")!==t.DashboardConstants.IndexLowerBound&&n.configInfo.MultipleSeries&&(o=new Dbrdcontrol,o=o.clone(n),f.target.push(""+f._id+"_maximized_"+n.reportName),f._callFunction(f._renderChart,n,{id:""+f._id+"_maximized_"+n.reportName,chartDiv:r,isMaximize:!0})));!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?f._resizeDrilledChart(n.reportName):n.reportName.indexOf("ProportionChart")!==t.DashboardConstants.IndexLowerBound&&n.configInfo.MultipleSeries&&(f.target.push(""+f._id+t.DashboardConstants.Widget+n.reportName),f._callFunction(f._renderChart,n))},t.DashboardConstants.Zero,u));break;case"parameterColumnData":for(h=[],c=u.data.length,e=0;e<c;e++)if(u.data[e].pageNumber===t.DashboardConstants.Zero){u.data[e].scrollTop=0;h.push(u.data[e]);break}h.length>t.DashboardConstants.Zero&&(this.isDashboardResize=!0,this._callFunction(this._updateParameterColumns,h[0].pagedata))}},_widgetContextMenu:function(i,r,u){var f=u;return r===t.dashboardViewer.Controls.FilterComboBox?f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dropdownlist").attr("id"):r===t.dashboardViewer.Controls.DatePicker?f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-datepicker").attr("id"):r===t.dashboardViewer.Controls.RangeSlider&&(f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-slider").attr("id")),f},_dashboardDrillThrough:function(n){var t={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.navigateTo,data:JSON.stringify({reportName:this.dashboardPath(),controlName:n}),onSuccess:this._navigate,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(t)},_navigate:function(i,r){var a,h,l,p;!this._isAjaxCacheEnabled()||t.isNullOrUndefined(i)||t.isNullOrUndefined(i.data)||(this._getValueFromStore(i.data)||this._addToStore(i.data,r),this._cleanUpStore());var c=n.parseJSON(r.d),f=[],e="",o=null,u=t.DashboardConstants.Zero;if(c.IsReport){for(f=c.ReportName.split("\\"),e="",a=f.length,u=0;u<a;u++)e=u===t.DashboardConstants.Zero?f[u]:e+"\\\\"+f[u];h=t.buildTag("div");h.append(n('<div style="width:100%;height:100%;">').attr({id:"drilledDashboard"}));l=' $("#drilledDashboard").ejDashboardViewer({ dashboardPath:"'+e+'",url:"'+this.serviceUrl()+'"  });';o=window.open("","_blank","");var v=n("head").find("link").add("style"),y=n("head").find("script").add("style"),s="";t.browserInfo().name==="msie"?(v.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);s+=i.outerHTML}),y.each(function(t,i){i.tagName==="SCRIPT"&&n(i).attr("src",i.src);s+=i.outerHTML}),o.document.write('<html style="width:100%;height:100%;"><head><\/head><body style="width:100%;height:100%;">'+s+h[0].innerHTML+"<script>"+l+"<\/script><\/body><\/html>")):(o.document.write('<html style="width:100%;height:100%;"/>'),v.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);s+=i.outerHTML}),y.each(function(t,i){i.tagName==="SCRIPT"&&n(i).attr("src",i.src);s+=i.outerHTML}),o.document.writeln(s+'<\/head><body style="width:100%;height:100%;">'),o.document.writeln(h[0].innerHTML+"<script>"+l+"<\/script><\/body><\/html>"));o.focus()}else{for(f=c.CustomURL.split("\\"),e="",p=f.length,u=0;u<p;u++)e=u===t.DashboardConstants.Zero?f[u]:e+"\\\\"+f[u];o=window.open(e,"_blank");o.focus()}},_truncateNumber:function(n){var f=Math.pow(10,3),e=Math.pow(10,5),i=Math.pow(10,6),o=Math.pow(10,7),r=Math.pow(10,9),u=Math.pow(10,12),t=n;if(this.model.dashboardCulture==="en-IN"){if(t>=f&&t<e||t<=-f&&t>-e)return{fraction:this._calculateFraction(t,f),symbol:"K"};if(t>=e&&t<i||t<=-e&&t>-i)return{fraction:this._calculateFraction(t,e),symbol:"L"};if(t>=i&&t<o||t<=-i&&t>-o)return{fraction:this._calculateFraction(t,i),symbol:"M"};if(t>=o&&t<r||t<=-o&&t>-r)return{fraction:this._calculateFraction(t,o),symbol:"C"};if(t>=r&&t<u||t<=-r&&t>-u)return{fraction:this._calculateFraction(t,r),symbol:"B"};if(t>=u||t<=-u)return{fraction:this._calculateFraction(t,u),symbol:"T"}}else if(t>=f&&t<i||t<=-f&&t>-i)return{fraction:this._calculateFraction(t,f),symbol:"K"};return t>=i&&t<r||t<=-i&&t>-r?{fraction:this._calculateFraction(t,i),symbol:"M"}:t>=r&&t<u||t<=-r&&t>-u?{fraction:this._calculateFraction(t,r),symbol:"B"}:t>=u||t<=-u?{fraction:this._calculateFraction(t,u),symbol:"T"}:{fraction:Number(t),symbol:""}},_calculateFraction:function(n,i){return!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)?n/i:null},_applyPercentage:function(n,i,r,u){if(!t.isNullOrUndefined(n&&i&&r&&u)){t.preferredCulture(i);var f=t.globalize.parseFloat(u.toString(),i);return isNaN(f)?u:(f*=100,f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),!t.isNullOrUndefined(f.symbol))?t.globalize.format(f.fraction,n.replace("P","N"),i)+f.symbol+"%":t.globalize.format(f.fraction,n.replace("P","N"),i)+"%"}return null},_applyPercentageForChart:function(n,i,r,u){if(!t.isNullOrUndefined(n&&i&&r&&u)){t.preferredCulture(i);var f=t.globalize.parseFloat(u.toString(),i);return isNaN(f)?u:(f*=100,f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),!t.isNullOrUndefined(f.symbol))?t.globalize.format(f.fraction,n.replace("P","N"),i)+f.symbol+"%":t.globalize.format(f.fraction,n.replace("P","N"),i)+"%"}return null},_applyStringFormatting:function(n,i,r,u){var f=u;return isNaN(f)?u:(f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),this._adjustZeros(f,r,n,i))},_applyStringFormattingForGrid:function(n,i,r,u,f,e,o,s,h){var l="",c=o;if(isNaN(c))return o;if((Math.abs(c)>1e15||Math.abs(c)<1e-15)&&n.indexOf("N")!==-1)return f+c+e;if(n.toString().indexOf("N")>-1&&c<0){c=Math.abs(c);c=r===t.DashboardConstants.Zero?this._truncateNumber(c):this._applyNumberUnit(r,c);l=this._adjustZeros(c,r,n,i);switch(u){case"Default":l="-"+l;break;case"NoNegativeSignWithBracket":l="("+l+")";break;case"NegativeSignInSuffix":l+="-"}}else c=r===t.DashboardConstants.Zero?this._truncateNumber(c):this._applyNumberUnit(r,c),l=this._adjustZeros(c,r,n,i);return t.isNullOrUndefined(h)||t.isNullOrUndefined(s)||(l=l.replaceAll(s.CurrentValue,s.AliasValue),l=l.replaceAll(h.CurrentValue,h.AliasValue)),f+l+e},_adjustZeros:function(n,i,r,u){if(!t.isNullOrUndefined(u&&r&&i&&n)){t.preferredCulture(u);var e=r,f=n,o=parseInt(r.replace(/^\D+/g,""));return i===t.DashboardConstants.Zero?(f.fraction===t.DashboardConstants.Zero?(f={fraction:t.DashboardConstants.Zero,symbol:""},e=r.replace(o,"0")):(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.symbol):i===""?f.fraction:(f.fraction===t.DashboardConstants.Zero&&(f={fraction:t.DashboardConstants.Zero,postFixLabel:""},e=r.replace(o,"0")),(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.postFixLabel)}return null},_removeWidgetSelection:function(i,r){var v=this._checkMasterData(this.CurrentMaster),y,p,b,a,k,h,d,g,nt,tt,it,o;v!==null&&this.masterData.splice(v,t.DashboardConstants.One);var e=[],f=0,u=null,s=!1,rt=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All;switch(r){case"Grid":n("#"+i).ejDashboardGrid("clearSelection");break;case"PivotGrid":n("#"+i).find(".e-pivotgrid .selected").removeClass("selected");u=n("#"+i+"_div").data("ejDashboardPivotGrid");u.model.selectedCells=null;break;case"Chart":case"ProportionChart":case"DrillDownChart":if(e=n("#"+i).find(".e-datavisualization-chart"),r==="ProportionChart"&&e.length>t.DashboardConstants.Zero)for(y=e.length,f=0;f<y;f++)u=e.eq(f).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());else u=n("#"+i).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());break;case"ComparisonChart":if(e=n("#"+i+" .e-datavisualization-chart"),e.length>t.DashboardConstants.Zero)for(p=e.length,f=0;f<p;f++)u=e.eq(f).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());else u=n("#"+i).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());break;case"CircularGauge":case"Gauge":n("#"+i).find(".e-circularGauge-Selected").removeClass("e-circularGauge-Selected");n("#"+i).find(".e-dbrd-selected-card").removeClass("e-dbrd-selected-card");break;case"RangeNavigator":this.flag=!1;u=n("#"+i).data("ejDashboardRangeNavigator");t.isNullOrUndefined(u)||(u.model.zoomPosition="0",u.model.zoomFactor="1",u.model.selectedRangeSettings={start:"",end:""},u.renderNavigator());this.flag=!0;break;case"BubbleMap":case"ChoroplethMap":this._clearMapSelectedShapes(i);break;case"TreeMap":var c=n("#"+i).data("ejTreeMap"),l=n("#"+i).attr("data-controlid"),w=this.dashboardControls.getControlByReport(l);w.configInfo.EnableDrillDown&&w.configInfo.ColorType==="range";c.selectedItems=[];c.model.tooltipTemplate=c.model.enableDrillDown?this._id+"_"+l+"_toolTip0":this._id+"_"+l+"_toolTip";n("#"+i).ejTreeMap("refresh");break;case"Card":n("#"+i).find(".e-dbrd-selected-card").hide().prop({"data-selected-widget":""});break;case"CheckBox":if(b=!n("#"+i).hasClass("e-dbrd-control-checkbox"),b)a=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+t.DashboardConstants.All+"]"),a.length!==t.DashboardConstants.Zero&&(u=a.ejDashboardRadioButton("instance"),t.isNullOrUndefined(u)||(k=t.isNullOrUndefined(u.model)?"":u.model.change,u.model.change=null,u.option("checked",!0),u.model.change=k));else if(h=n("#"+i+" .e-checkbox.e-js.e-input"),h.length!==t.DashboardConstants.Zero)for(d=h.length,f=0;f<d;f++)t.isNullOrUndefined(u)||(u=h.eq(f).ejDashboardCheckBox("instance"),g=t.isNullOrUndefined(u.model)?"":u.model.change,u.model.change=null,u.option("checked",!0),u.model.change=g);break;case"RangeSlider":u=n("#"+i).data("ejDashboardSlider");t.isNullOrUndefined(u)||t.isNullOrUndefined(u._isDate)?(u.option("values",[u.model.minValue,u.model.maxValue]),u.option("value",u.model.maxValue)):u.model.sliderType==="range"?u.option("dateValue",[u.model.minDate,u.model.maxDate]):u.option("dateValue",u.model.maxDate);u.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[0]:this._applyFormattingForSlider(u.model.formatColumn,u.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[1]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[1]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue));break;case"DatePicker":u=n("#"+i).ejDashboardDashboardDatePicker("instance");!t.isNullOrUndefined(u)&&u&&(u.model.value=null,u.redraw());break;case"FilterComboBox":if(u=n("#"+i).data("ejDashboardDropDownList"),nt=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo,t.isNullOrUndefined(u))u=n("#"+i+"_lstbx").data("ejDashboardListBox"),s=!1,t.isNullOrUndefined(u)||(s=u.model.showCheckbox,s?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(u.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0)));else{for(tt=u.model.change,u.model.change=null,u._isFilterCleared=!0,u._totalSelectedItems=[],nt.SelectFirstItem=!1,it=u.model.query._params.length,o=0;o<it;o++)switch(u.model.query._params[o].key){case"masterData":u.model.query._params[o].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":u.model.query._params[o].value=JSON.stringify([]);break;case"searchSelectedCount":u.model.query._params[o].value=0}u.model.showCheckbox?u.option("checkAll",!1):u.unselectItemsByIndices(u.model.selectedItems);u.clearText();u.option("watermarkText",rt);u.model.change=tt}break;case"ListBox":u=n("#"+i+"_lstbx").data("ejDashboardListBox");s=!1;t.isNullOrUndefined(u)||(s=u.model.showCheckbox,s?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):u.unSelectAll())}},_applyNumberUnit:function(n,t){var i=10,e=2,o=4,s=5,h=3,u=6,f=7,r=1,c=Math.pow(i,h),y=Math.pow(i,s),l=Math.pow(i,u),p=Math.pow(i,f),a=Math.pow(i,9),v=Math.pow(i,12);if(this.model.dashboardCulture==="en-IN")switch(n){case r:return{fraction:t/r,postFixLabel:""};case e:return{fraction:t/c,postFixLabel:"K"};case h:return{fraction:t/y,postFixLabel:"L"};case o:return{fraction:t/l,postFixLabel:"M"};case s:return{fraction:t/p,postFixLabel:"C"};case u:return{fraction:t/a,postFixLabel:"B"};case f:return{fraction:t/v,postFixLabel:"T"};default:return{fraction:t,postFixLabel:""}}else switch(n){case r:return{fraction:t/r,postFixLabel:""};case e:return{fraction:t/c,postFixLabel:"K"};case o:return{fraction:t/l,postFixLabel:"M"};case u:return{fraction:t/a,postFixLabel:"B"};case f:return{fraction:t/v,postFixLabel:"T"};default:return{fraction:t,postFixLabel:""}}},_startSelectionMaintanenceForWidget:function(i,r){var u,a,v,c;if(!t.isNullOrUndefined(i)){var h=null,o=null,f=0,e=-1;if(t.isNullOrUndefined(i.id)||i.id.indexOf("TreeMap")===e)if(i.id.indexOf("Card")===e||t.isNullOrUndefined(i.evt))if(i.id.indexOf("PivotGrid")===e||t.isNullOrUndefined(i.evt))if(i.id.indexOf("Map")===e||t.isNullOrUndefined(i.evt))if(i.id.indexOf("Grid")===e||t.isNullOrUndefined(i.widgetInstance)){if(i.id.indexOf("Chart")!==e&&!t.isNullOrUndefined(i.sender)&&!t.isNullOrUndefined(i.widgetInstance)){var y=i.sender.data.region.Region.PointIndex,p=i.sender.data.region.SeriesIndex,w=i.widgetInstance.model.series[0].selectionSettings,l=this.currentActionSettings.target,s=null;l&&(s=n("#"+l)[0].parentNode.id);var b=s.split("_svg"),k="."+b[0]+"SelectionStyleseries0",d=n("#"+s).find(k);d.length>f&&i.widgetInstance.removeSelection(p,y,i.widgetInstance.model.series,w.mode,!1,!1,!0);i.widgetInstance.selection(i.widgetInstance,i.sender,i.widgetInstance.model.series[0],!1,!1,p,y,s,l)}}else r.text==="Apply Filter"&&(this.contextMenu=!0),c=i.widgetInstance,c.selectRows(c.getIndexByRow(i.selectionEvent.row));else i.evt.model.layers[0]._prevSelectedShapes.length>f&&this._clearSelectionForWidget(i,i.id,i.widgetInstance),u=i.evt.originalEvent[0].shape,a=i.evt.model.layers[0].shapeSettings[window.applyColor||"selectionColor"],u.setAttribute("fill",a),u.removeSelectionCSS=window.applyColor==="selectionColor",u.removeSelectionCSS=!1,v=i.evt.model.layers[0],v._prevSelectedShapes.push(u),u&&!u.getAttribute("data-addFill")&&u.getAttribute("data-nodeValue")&&(u.setAttribute("fill",u.getAttribute("data-nodeValue")),u.setAttribute("data-addFill",!0));else n(i.evt.target).find("tbody tr .selected").length>f&&n(i.evt.target).find("tbody tr .selected").removeClass("selected"),n(i.evt.target).find("thead tr .selected").length>f&&n(i.evt.target).find("thead tr .selected").removeClass("selected"),o=i.evt.JSONRecords[0].Index,n(i.evt.target).find('tbody tr th[p="'+o+'"]').length>f?n(i.evt.target).find('tbody tr th[p="'+o+'"]').addClass("selected").css({"background-color":""}):n(i.evt.target).find('thead tr th[p="'+o+'"]').length>f&&n(i.evt.target).find('thead tr th[p="'+o+'"]').addClass("selected").css({"background-color":""});else n(i.evt.currentTarget).css("background-color")==="rgb(247, 247, 247)"&&n(i.evt.currentTarget).css({"background-color":"white"}),n(i.evt.currentTarget).addClass("e-dbrd-clicked-card"),this._AddCardSelection([n(i.evt.currentTarget).attr("id")],n(i.evt.currentTarget).parents(".e-dbrd-control"),i.cardCount,!1,i.evt);else!t.isNullOrUndefined(i.treeMap)&&i.treeMap.model.enableDrillDown&&(h=i.evt.evt.target,n(h).hasClass("drillGroupRect")&&n(h).css({"background-color":""})),i.evt.evt.which=1,r.ID!=="50"||i.isSelected||(i.evt.evt.public=!0,i.evt.treeMap.rectClick(i.evt.evt))}},_clearSelectionForWidget:function(i,r,u){var o,e,c,a,s,h,v,y;if(!t.isNullOrUndefined(i)){var l=null,f=-1;if(t.isNullOrUndefined(r)||r.indexOf("TreeMap")===f||t.isNullOrUndefined(i.evt))if(t.isNullOrUndefined(r)||r.indexOf("PivotGrid")===f)if(t.isNullOrUndefined(r)||r.indexOf("Card")===f||t.isNullOrUndefined(i.evt.currentTarget))if(t.isNullOrUndefined(r)||r.indexOf("Map")===f||!r.indexOf("TreeMap")===f||t.isNullOrUndefined(u))if(t.isNullOrUndefined(r)||r.indexOf("Grid")===f){if(!t.isNullOrUndefined(r)&&r.indexOf("Chart")!==f&&(s=n("#"+i.sender.target.id).find('[class*="Selection"]'),s.length>0))for(h=0;h<s.length;h++)v=n(s[h]).attr("data-controlid"),y=n(s[h]).attr("value"),v==="contextMenu"&&y!=="filter"&&n("#"+s[h].id).attr("class","")}else n("table .ehover").removeClass("ehover");else{for(u.clearShapeSelection(),o=i.evt.originalEvent[0].shape,e=i.evt.model.layers[0],c=0;e&&c<e._prevSelectedShapes.length;c++)o=e._prevSelectedShapes[c],a=o.getAttribute("nodeValue"),a&&(o.setAttribute("fill",a),o.setAttribute("class","mapShape"),o.removeSelectionCSS=!1);e&&(e._clearShapeWidth(),e._prevSelectedShapes=[])}else n(i.evt.currentTarget).css("background-color")==="rgb(247, 247, 247)"&&n(i.evt.currentTarget).css({"background-color":"white"});else n(u.element).find("th").filter(function(){return n(this).css("background-color")==="rgb(119, 167, 251)"&&n(this).css("background-color",""),null});else l=i.evt.target,n(l).css("background-color")==="white"&&n(l).css({"background-color":""})}},_setHoverSelectionForWidget:function(i,r,u,f){var w=0,s=-1,a,o,b,k,e,d,c,v,g,h,rt,p;if(!t.isNullOrUndefined(i))if(t.isNullOrUndefined(i.id)||t.isNullOrUndefined(i.configInfo)||(i.configInfo&&i.configInfo.Id.indexOf("TreeMap")!==s&&i.treeMap.model.enableDrillDown?(a=i.event.target,n(a).hasClass("drillGroupRect")&&n(a).css({"background-color":"white"})):i.id.indexOf("Card")!==s?(n(i.evt.currentTarget).css("background-color")==="rgb(255, 255, 255)"||n(i.evt.currentTarget).css("background-color")==="rgb(247, 247, 247)")&&n(i.evt.currentTarget).css({"background-color":"#f7f7f7"}):i.id.indexOf("PivotGrid")!==s&&n(i.evt.args.args.target).length>w&&(n(i.evt.args.args.target).is("span")?n(n(i.evt.args.args.target).parents()[0]).css({"background-color":"#77a7fb"}):n(i.evt.args.args.target).css({"background-color":"#77a7fb"}))),t.isNullOrUndefined(r)||r.indexOf("Map")===s)if(t.isNullOrUndefined(r)||r.indexOf("Grid")===s){if(!t.isNullOrUndefined(r)&&r.indexOf("Chart")!==s&&!t.isNullOrUndefined(u)){if(e={},d=u._id.split("_child"),e=t.isNullOrUndefined(f)||f.MultipleSeries?n("#"+d[0]).find('[class*="Selection"]'):n("#"+u._id).find('[class*="Selection"]'),e.length>w)for(c=0;c<e.length;c++)v=n(e[c]).attr("data-controlid"),g=n(e[c]).attr("value"),(v!=="contextMenu"||g==="filter")&&(v!=="click-filter"||i.rightClick)||n("#"+e[c].id).attr("class","");for(h=0;h<e.length;h++){var nt=n(e[h]).attr("data-controlid"),ut=n(e[h]).attr("class"),ft=n(e[h]).attr("value");(i.rightClick||nt!=="dbclick"||ut.indexOf("Selection")===s)&&(nt!=="filter"||i.type!=="chartDoubleClick")&&(ft!=="filter"||i.type!=="chartDoubleClick")||n("#"+e[h].id).attr("class","")}var tt=i.data.region.Region.PointIndex,it=i.data.region.SeriesIndex,y=null,l=i.data.id;l&&(y=n("#"+l)[0].parentNode.id);rt={id:y};p={target:{id:l,parentNode:rt}};u.selection(u,p,u.model.series[0],!1,!1,it,tt,y,l);u.model.selectedDataPointIndexes.push({event:p,seriesIndex:it,pointIndex:tt,data:i.data})}}else n(i.row).closest("tr[role='row']").addClass("ehover");else o=i.originalEvent[0].shape,i.model.layers[0].shapeSettings.highlightColor="#d3d3d3",b=i.model.layers[0].shapeSettings[window.applyColor||"highlightColor"],o.setAttribute("fill",b),o.removeSelectionCSS=window.applyColor==="highlightColor",o.removeSelectionCSS=!0,k=i.model.layers[0],k._prevSelectedShapes.push(o),o&&!o.getAttribute("data-addFill")&&o.getAttribute("data-nodeValue")&&(o.setAttribute("fill",o.getAttribute("data-nodeValue")),o.setAttribute("data-addFill",!0))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.sdk={exportToPdf:function(n,i,r,u,f,e,o,s,h){var w="pdf",a=[],c=0,d,v,l,b,g,nt,y,p,it;if(o&&this.multiTabs)this._defaultSelection(),this.multiDashboardExport=!0,this._exportDashboardPdf(i,r,u,w,e),a=this._getSuccessStatus(null,this.multiTabs);else if(o&&!this.multiTabs)this._exportDashboardPdf(i,r,u),d=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),a=this._getSuccessStatus(d,this.multiTabs);else if(!o&&s.length>t.DashboardConstants.Zero)v=this._getDashboardSelectionDetails(s),this._getSelectedDashboardInfo(v),v[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,this._exportDashboardPdf(i,r,u,w,e)),a=this._getStatus(v);else if(h.length>t.DashboardConstants.Zero){if(l=this._getWidgetSelectionDetails(h),b=!1,l[t.DashboardConstants.Zero].selectedWidgetsList.length>t.DashboardConstants.Zero){for(b=!0,this._exportDashboardPdf(i,r,u,w,e,l[t.DashboardConstants.Zero].selectedWidgetsList,b),g=l[t.DashboardConstants.Zero].selectedWidgetNames.length,c=0;c<g;c++)a.push({status:this.locale.utils.Success,name:l[t.DashboardConstants.Zero].selectedWidgetNames[c]});if(l[t.DashboardConstants.Zero].nonMatchedItems.length>t.DashboardConstants.Zero)for(nt=l[t.DashboardConstants.Zero].nonMatchedItems.length,c=0;c<nt;c++)a.push({status:this.locale.utils.Failure,name:l[t.DashboardConstants.Zero].nonMatchedItems[c],Reason:this.locale.errorMessages.ErrorInMultipleWidgetExport})}}else{var k=this.currentTabContentElement.find(".e-dbrd-control-container"),tt=!1,rt=t.isNullOrUndefined(k)?t.DashboardConstants.Zero:k.length;for(y=0;y<rt;y++)if(p=k.eq(y),it=p.attr("data-widget-id"),it===n){this.orientation=f;var ut=p.find(".e-dbrd-control").attr("id"),ft=p.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype"),et={type:ft,element:ut,filename:i,pageSizeType:r,title:u};this._exportControlPdf(et,e);tt=!0;break}a=tt?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return a},resizeDashboard:function(){this._resizeDashboard()},refreshData:function(n){!t.isNullOrUndefined(n)&&n&&this.clearAllFilters();!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters.trim().length>t.DashboardConstants.Zero?this._initializeFilterParameters():this.initialFilters=[];this.refreshDashboard(null,!1)},applyComments:function(i){var o=null,r=null,s=null,h=null,u=null,a,f,v,c,y,e,p,l;if(this.model.allowComment){if(this.model.commentSettings=i,!t.isNullOrUndefined(i.widgets)){for(o=i.widgets.length>t.DashboardConstants.Zero?i.widgets:"",r=this.currentTabContentElement.find(".e-dbrd-control-container"),u=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),a=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,f=0;f<a;f++)for(v=n(r[f]).attr("id"),c=0;c<o.length;c++)o[c]===v&&(t.isNullOrUndefined(i.isWidgetCommented)||(i.isWidgetCommented?(s=n(r[f]).find(".e-dbrd-banner-widget-withoutcomments"),s.length>t.DashboardConstants.Zero&&s.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")):(s=n(r[f]).find(".e-dbrd-banner-widget-withcomments"),s.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"))));for(y=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,e=0;e<y;e++)for(p=n(u[e]).attr("id"),l=0;l<o.length;l++)o[l]===p&&(t.isNullOrUndefined(i.isWidgetCommented)||(i.isWidgetCommented?(h=n(u[e]).find(".e-dbrd-filterPanel-widget-withoutcomments"),h.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")):(h=n(u[e]).find(".e-dbrd-banner-widget-withcomments"),h.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-filterPanel-widget-withoutcomments"))))}t.isNullOrUndefined(i.isDashboardCommented)||(i.isDashboardCommented?this.currentTabContentElement.find(".e-dbrd-banner .e-dbrd-banner-dashboardwithoutcomment").removeClass("e-dbrd-banner-dashboardwithoutcomment").addClass("e-dbrd-banner-dashboardwithcomment"):this.currentTabContentElement.find(".e-dbrd-banner .e-dbrd-banner-dashboardwithcomment").removeClass("e-dbrd-banner-dashboardwithcomment").addClass("e-dbrd-banner-dashboardwithoutcomment"))}},setFocus:function(t){n(t).focus()},applyCustomTheme:function(i,r){var b,k,d,a,y,v;if(this.model.enableCustomTheming&&!t.isNullOrUndefined(r)&&r!==""){this._filterPanelCustomValues(i,r);for(var w=0,u=null,e=null,f=this.dashboardControls.controls,g=f.length,u=w;u<g;u++)if(f[u].controlType===i.controlType&&f[u].reportName===i.reportName)if(f[u].controlType==="CustomWidget"){if(b=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLocaleLowerCase()],k=b[r],f[u].customTheme=k,this.model.enableCustomTheming&&!t.isNullOrUndefined(f[u].customTheme))for(var o=0,s=0,l=Object.keys(f[u].customTheme),nt=t.isNullOrUndefined(f[u].configInfo.Properties)?t.DashboardConstants.Zero:f[u].configInfo.Properties.length,o=0;o<nt;o++)for(d=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length,s=0;s<d;s++)if(l[s]===f[u].configInfo.Properties[o].PropertyName){f[u].configInfo.Properties[o].PropertyValue=f[u].customTheme[l[s]];break}}else if(f[u].controlType==="BubbleMap"||f[u].controlType==="ChoroplethMap"||f[u].controlType==="TreeMap"||f[u].controlType==="RangeNavigator"||f[u].controlType==="Gauge"||f[u].controlType==="Chart"||f[u].controlType==="ComparisonChart")this._customThemeforAPI(i,f[u],r);else if(a=i.isMaximize?i.Id:this._id+t.DashboardConstants.Widget+i.reportName,f[u].controlThemeName=r,this.model.customThemeSettings.widgetThemeSettings!==null&&(y=n("<style>").attr("id",a+"_style"),v=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLowerCase()],v!==null&&v[r]!==null)){var p=v[r],h=Object.keys(p),c=null,tt=h.length;for(e=w;e<tt;e++)t.isNullOrUndefined(c)?c=this._generateCSSFromJson(a,i.controlType,h[e],p[h[e]],i.isMaximize?i.reportName:i.configInfo.Id):c+=" "+this._generateCSSFromJson(a,i.controlType,h[e],p[h[e]],i.isMaximize?i.reportName:i.configInfo.Id);t.isNullOrUndefined(c)||(y.append(c),n("head").append(y))}}},getWidgetTitle:function(n){return this._getWidgetDetails(n)===""?this._getWidgetDetails(n):{type:this._getWidgetDetails(n).type,title:this._getWidgetDetails(n).title}},getWidgetId:function(n){return this._getWidgetDetails(n)===""?this._getWidgetDetails(n):this._getWidgetDetails(n).id},clearAllFilters:function(){var n=this.dashboardControls.getAllControlsMasterData();n.length!==t.DashboardConstants.Zero&&this._clearAllFilters()},clearWidgetFilter:function(n,i){var e=null,o,f;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(this._isFilterPanelWidget(n)){this.filterPanelObj.CurrentMaster=n;o=this.filterPanelObj._id+"_"+i+"_"+n;this.filterPanelObj._removeAppliedFilter(o,i);return}var r=this._id+t.DashboardConstants.Widget+n,s=r+"_removeControlFilter",u=this.currentTabContentElement.find("#"+s);if(!t.isNullOrUndefined(u)||u.length===t.DashboardConstants.Zero){if(u.hasClass("e-remove-control-filter-disable"))return;u.addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");u.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}i==="Gauge"&&(f=this.currentTabContentElement.find("#"+r),f.find(".e-dbrd-selected-card").length!==t.DashboardConstants.Zero&&f.find(".e-dbrd-selected-card").removeClass("e-dbrd-selected-card"));(i==="Gauge"||i==="Card")&&(e={target:this.currentTabContentElement.find("#"+r)});i==="ProportionChart"&&(r=this._id+t.DashboardConstants.Widget+n);this.CurrentMaster=n;this._removeAppliedFilter(r,i,e)}},getCurrentFilters:function(){var n=this.dashboardControls.getAllControlsMasterData(),i=this._getAppliedDashboardParameters(),r;return n.length===t.DashboardConstants.Zero&&i.length===t.DashboardConstants.Zero?null:(n=this.dashboardControls.minifySelectedFilterInfo(n),n=n.concat(i),r="filterQuery="+encodeURI(JSON.stringify(n)),{masterData:this.appliedFilterData,encryptedData:r})},getCurrentDashboardFilters:function(){for(var o,u,s,f,r=null,n="",e=0,i=t.DashboardConstants.Zero;i<this.dashboardDetails.length;i++){for(o=!1,u=t.DashboardConstants.Zero;u<this.tabInfoCollection.length;u++)if(this.tabInfoCollection[u].initPrivatePropertiesInfo._id.indexOf(this.dashboardDetails[i].DashboardName)!==t.DashboardConstants.IndexLowerBound){if(o=!0,r=this.tabInfoCollection[u].initPrivatePropertiesInfo.dashboardControls.getAllControlsMasterData(),s=this._getAppliedDashboardParameters(),r.length===t.DashboardConstants.Zero&&s.length===t.DashboardConstants.Zero){n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId:n+"::"+this.dashboardDetails[i].DashboardId;e+=t.DashboardConstants.One;break}r=this.dashboardControls.minifySelectedFilterInfo(r);r=r.concat(s);n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId+":"+encodeURI(JSON.stringify(r)):n+"::"+this.dashboardDetails[i].DashboardId+":"+encodeURI(JSON.stringify(r));break}o||(f=this.getCurrentFiltersRevamp(),this.dashboardDetails[i].DashboardId===this.model._selectedTabGuid&&f!==null?n=n===""?f.encryptedData:n+"::"+f.encryptedData.substr(12):(e+=t.DashboardConstants.One,n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId:n+"::"+this.dashboardDetails[i].DashboardId))}return this.dashboardDetails.length===e?null:{encryptedData:n}},getCurrentFiltersRevamp:function(){var n=this.dashboardControls.getAllControlsMasterData(),i=this._getAppliedDashboardParameters(),r;return n.length===t.DashboardConstants.Zero&&i.length===t.DashboardConstants.Zero?null:(n=this.dashboardControls.minifySelectedFilterInfo(n),n=n.concat(i),r="filterQuery="+this.model._selectedTabGuid+":"+encodeURI(JSON.stringify(n)),{masterData:this.appliedFilterData,encryptedData:r})},updateFilterOverview:function(i,r){var s,h,l;if(!t.isNullOrUndefined(this.model.filterOverviewSettings)){this.model.filterOverviewSettings.viewName=i;this.model.filterOverviewSettings.viewId=r;this.filterDataLength=this.appliedFilterData;var f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),e=f.find(".e-dbrd-save-filterData"),c=f.find(".e-dbrd-saveAs-filterData"),u=f.find(".e-dbrd-filter-nameList"),o=f.find(".e-dbrd-filterOverView-menu");t.isNullOrUndefined(i)||(n(window).width()<t.DashboardConstants.MobileWidth?(s=!1,h=f.find(".e-dbrd-saveViewed-filters").css({height:"45px",display:"block"}),u.length===t.DashboardConstants.Zero?(u=n("<div>").addClass("e-dbrd-filter-nameList").css({padding:"14px 10px"}),u.html(i)):(s=!0,u.html(i)),e.length!==t.DashboardConstants.Zero&&e.css({display:"none"}),t.isNullOrUndefined(o)||o.length===t.DashboardConstants.Zero?(l=n("<div>").addClass("e-dbrd-filterOverView-menu"),s||h.append(u),(this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon)&&h.append(l)):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon||o.remove()):(this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showSaveAsIcon?(e.css({cursor:"default",color:"#dbdbdb"}),c.css({cursor:"pointer",color:"#6d6e70"}),u.html(i)):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?this.model.filterOverviewSettings.showSaveIcon?(e.css({cursor:"default",color:"#dbdbdb"}),u.html(i)):(c.css({cursor:"pointer",color:"#6d6e70"}),u.html(i)):u.html(i),this.model.filterOverviewSettings.showViewSavedFilterIcon&&f.find(".e-dbrd-view-saved").css({display:"block"})))}},showViewSavedFilter:function(n){var i=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),r=i.find(".e-dbrd-view-saved");i.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(n)&&n?r.css({display:"block"}):r.css({display:"none"})},redrawDashboard:function(){this._clearTimers();this._unWireEvents();this._destroy();this.element.empty().addClass("e-dashboardviewer"+this.model.cssClass);this._init()},refreshDashboard:function(i,r,u,f){this.pagesToRefresh.length===t.DashboardConstants.Zero&&(this.pagesToRefresh=this._getPageForCurrentView());this._clearTimers();this._clearCacheOnRefresh();var e=this,o={},s=!1,h=JSON.parse(JSON.stringify(e.dashboardParameters));setTimeout(function(){var p=f,w={},tt=[],v,it,l,c,k,rt,d,b,nt,ut;t.isNullOrUndefined(i)?w=e.dashboardControls.getAllControlsForRefresh():(v=e.dashboardControls.getControlByReport(i),it={currentPage:t.isNullOrUndefined(v)?null:v.currentPage,reportName:t.isNullOrUndefined(v)?null:v.reportName,controlPerPage:!t.isNullOrUndefined(v)&&!t.isNullOrUndefined(v.scrollSetting)?v.scrollSetting.controlPerPage:null},tt.push(it),w=tt);e._trigger("actionBegin",{eventType:t.dashboardViewer.event.refresh,source:{element:i,data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(e.dashboardControls.getAllControlsMasterData())}});l=e._isFilterPanelWidget(i)&&!t.isNullOrUndefined(e.model.filterPanelSettings.filterPanelId)&&!t.isNullOrUndefined(e.filterPanelDiv)?e.filterPanelDiv.find(".e-dbrd-control"):e.currentTabContentElement.find(".e-dbrd-control");c=0;t.isNullOrUndefined(e.filterPanelObj)||e.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||e.filterPanelObj.showLoader();var y=null,a="",ft=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length;for(c=0;c<ft;c++)y=n(l[c]).parents(".e-dbrd-control-container"),a=l.eq(c).attr("data-controlid"),l[c].id!==""&&e.target.push(l[c].id),e._isFilterPanelWidget(a)||t.isNullOrUndefined(a)||(i===null?(k=e.dashboardControls.getControlByReport(a),e.isExtendedLayout&&!t.isNullOrUndefined(k)&&e.pagesToRefresh.indexOf(k.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?e._createControlWaitingIndicator(y,!0):e.isExtendedLayout||e._createControlWaitingIndicator(y,!0)):a===i&&e._createControlWaitingIndicator(y,!0));for(l=e.currentTabContentElement.find(".e-FilterBox"),rt=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length,c=0;c<rt;c++)y=n(l[c]).parents(".e-dbrd-control-container"),l[c].id!==""&&e.target.push(l[c].id),a=l.eq(c).attr("data-controlid"),e._isFilterPanelWidget(a)||t.isNullOrUndefined(a)||(i===null?(d=e.dashboardControls.getControlByReport(a),e.isExtendedLayout&&!t.isNullOrUndefined(d)&&e.pagesToRefresh.indexOf(d.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?e._createControlWaitingIndicator(y,!0):e.isExtendedLayout||e._createControlWaitingIndicator(y,!0)):a===i&&e._createControlWaitingIndicator(y,!0));var et=e.model.localeSettings.resourcePath,ot=e.model.localeSettings.dateFormat,st=e.model.localeSettings.culture,g=e._getGridSettings();for(g.length===t.DashboardConstants.Zero&&(g=""),t.isNullOrUndefined(p)&&!e.isFromHistory&&(p=e.dashboardControls.getAllControlsMasterData()),c=0;c<w.length;c++)b=e.dashboardControls.getControlByReport(w[c].reportName),b.expandedNodes&&b.expandedNodes.length!==t.DashboardConstants.Zero&&(o[b.reportName]=b.expandedNodes);nt=e.currentTabContentElement.find(".e-dbrd-filterListMenu");t.isNullOrUndefined(p)||p.length!==t.DashboardConstants.Zero||t.isNullOrUndefined(nt)||nt.css("display")!=="none"||(s=!0);e.refreshedPages=e.refreshedPages.concat(e.pagesToRefresh.filter(function(n){return e.refreshedPages.indexOf(n)<t.DashboardConstants.Zero}));ut={type:"POST",url:e.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:e.dashboardPath(),data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(p),rangeData:JSON.stringify(e.rangeData),widgetInfo:JSON.stringify(w),modifiedConnectionStrings:e.modifiedConnectionStrings,rowCountList:e.model.autoRefreshSettings.trackData?e.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(e.currentUser),itemId:e.itemId,isRefresh:r,isPublic:e.isPublicDashboard,customLanguagePath:et,dateFormat:ot,timeFormat:e.model.localeSettings.timeFormat,customCulture:st,isWidget:e.model.enableWidgetMode,widgetName:e.widgetModeSettings.name,widgetId:e.widgetModeSettings.id,filterParameters:JSON.stringify(e.initialFilters),dashboardName:e.dashboardName,dashboardParameterSettings:e._setAjaxDashboardParameterValue(h),gridSettings:JSON.stringify(g),page:JSON.stringify(e.pagesToRefresh),expandedmembers:JSON.stringify(o),isInitialFilterCleared:s}),onSuccess:e._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};e.doAjaxPost(ut);e._destroyDashboardMenu();e._trigger("actionComplete",{eventType:t.dashboardViewer.event.refreshComplete,source:{element:i,data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(e.dashboardControls.getAllControlsMasterData())}})},t.DashboardConstants.Zero)},loadLayout:function(i,r){var f,u,e;this.currentTabContentElement.html("");this.initialDashboard=null;f=!1;r&&(this.initialDashboard={id:this.model._selectedTabGuid,index:this.model.selectedTabIndex,name:this.model.selectedTabName});this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip"));n("#"+this._id).append('<div class="e-dbrd-desc-tooltip"><\/div>');this.model.enableCustomTheming&&this._customTheme(["font"]);this.isWidget||this._showWaitingPopup(!1);i!==null&&this.dashboardPath(i);u={Id:null,IsGroup:!1,UserName:null,FullName:null,Email:null,AccessToken:this.model.accessToken};this._trigger("setCurrentUser",{model:this.model,data:u});t.isNullOrUndefined(u.Id)&&t.isNullOrUndefined(u.AccessToken)||(this.currentUser=u);(this.dashboardParameters.length===t.DashboardConstants.Zero||r)&&(f=!0);var o=this.model.localeSettings.resourcePath,s=this.model.localeSettings.dateFormat,h=this.model.localeSettings.culture;this.dashboardPath()!==""&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeLayoutRender,source:{element:this.dashboardPath(),data:null}}),this.isLink&&this.isExtendedLayout&&(this.pageInfo=[t.DashboardConstants.One],this.pageInformations=[t.DashboardConstants.One]),e={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.initializeControl,data:JSON.stringify({dashboardPath:this.dashboardPath(),action:JSON.stringify([{Method:"LoadLayout"}]),data:null,serverSideCache:this.model.enableServerSideCache,modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,customLanguagePath:o,dateFormat:s,timeFormat:this.model.localeSettings.timeFormat,customCulture:h,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:JSON.stringify(this.initialDashboard),dashboardParameterSettings:this._stringifyParameterValue(this.model.dashboardParameterSettings),isDashboardParametersNeed:f}),onSuccess:this._renderDashboardLayout,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(e),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.layoutRendered,source:{element:this.dashboardPath(),data:null}}))},loadDashboard:function(n){this._destroyWaitingPopup();this._destroyWaitingPopup();n!==null&&this.dashboardPath(n);this._fillDashboardParametersfromIntialFiltersifAny(this.initialFilters);var i=this,u=this.model.localeSettings.resourcePath,f=this.model.localeSettings.dateFormat,e=this.model.localeSettings.culture,o=JSON.parse(JSON.stringify(this.dashboardParameters)),r={dashboardPath:i.dashboardPath(),action:JSON.stringify([{Method:"Initialize"}]),data:t.isNullOrUndefined(i.model.currentMasterReport)?null:JSON.stringify(i.model.currentMasterReport),serverSideCache:i.model.enableServerSideCache,filterParameters:JSON.stringify(i.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,customLanguagePath:u,dateFormat:f,timeFormat:this.model.localeSettings.timeFormat,customCulture:e,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(o),isDashboardParametersNeed:!1,page:JSON.stringify(this.pageInfo),isGetLinkDashboard:this.isGetLinkDashboard,isLinking:this.isLink};this._trigger("onApplyConnection",{model:this.model,data:r,tabId:this._id});r.token=this.token;setTimeout(function(){if(i.dashboardPath()!==""){i._trigger("actionBegin",{eventType:t.dashboardViewer.event.onApplyConnection,source:{element:i.dashboardPath(),data:r}});i.modifiedConnectionStrings=r.modifiedConnectionStrings;var n={type:"POST",url:i.serviceUrl()+"/"+i.model.serviceMethods.initializeControl,data:JSON.stringify(r),onSuccess:i._renderControl,needRequestParameter:!1,additionalParameter:null};i.doAjaxPost(n)}},100)},loadDashboardOnDemand:function(){var r;this._destroyWaitingPopup();this._fillDashboardParametersfromIntialFiltersifAny(this.initialFilters);var n=this,e=this.model.localeSettings.resourcePath,o=this.model.localeSettings.dateFormat,s=this.model.localeSettings.culture,h=JSON.parse(JSON.stringify(this.dashboardParameters)),i=this.dashboardControls.getAllControlsMasterData(),u=!1,f=n.currentTabContentElement.find(".e-dbrd-filterListMenu");t.isNullOrUndefined(i)||i.length!==t.DashboardConstants.Zero||t.isNullOrUndefined(f)||f.css("display")!=="none"||(u=!0);r={dashboardPath:n.dashboardPath(),action:JSON.stringify([{Method:"Initialize"}]),data:t.isNullOrUndefined(i)?null:JSON.stringify(i),serverSideCache:n.model.enableServerSideCache,filterParameters:JSON.stringify(n.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,customLanguagePath:e,dateFormat:o,timeFormat:this.model.localeSettings.timeFormat,customCulture:s,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(h),isDashboardParametersNeed:!1,page:JSON.stringify(this.pageInfo),isInitialFilterCleared:u,isGetLinkDashboard:this.isGetLinkDashboard};r.token=this.token;setTimeout(function(){if(n.dashboardPath()!==""){n.modifiedConnectionStrings=r.modifiedConnectionStrings;var t={type:"POST",url:n.serviceUrl()+"/"+n.model.serviceMethods.initializeControl,data:JSON.stringify(r),onSuccess:n._renderControl,needRequestParameter:!1,additionalParameter:null};n.doAjaxPost(t)}},100)},exportToImage:function(n,i,r,u,f,e,o,s){var h=0,c=[],v,y,p,l,w,k;if(o&&this.multiTabs)this._defaultSelection(),this.multiDashboardExport=!0,v={imageType:i,resolution:r,filename:u,title:f,fileType:"zip"},this._exportDashboardImage(v,e),c=this._getSuccessStatus(null,this.multiTabs);else if(o&&!this.multiTabs)y={imageType:i,resolution:r,filename:u,title:f},this._exportDashboardImage(y,e),p=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),c=this._getSuccessStatus(p,this.multiTabs);else if(!o&&s.length>t.DashboardConstants.Zero)l=this._getDashboardSelectionDetails(s),this._getSelectedDashboardInfo(l),l[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,w={imageType:i,resolution:r,filename:u,title:f,fileType:"zip"},this._exportDashboardImage(w,e)),c=this._getStatus(l);else{var a=this.currentTabContentElement.find(".e-dbrd-control-container"),b=!1,g=t.isNullOrUndefined(a)?t.DashboardConstants.Zero:a.length;for(h=0;h<g;h++)if(k=a.eq(h).attr("data-widget-id"),k===n){var d=a.eq(h),nt=d.find(".e-dbrd-control").attr("id"),tt=d.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype"),it={type:tt,element:nt,resolution:r,imageType:i,filename:u,title:f};this._exportControlImage(it,e);b=!0;break}c=b?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return c},exportToExcel:function(n,i,r,u,f,e,o){var a=this.currentTabContentElement.find(".e-dbrd-control-container"),l=[],s={},c,h,w,v,y,b,k,p;s.headerText=i;c=0;h="";switch(r){case"xlsx":case this.locale.utils.ExportToExcel2013:h=this.locale.utils.ExportToExcel2013;break;default:h=this.locale.utils.ExportToExcel97To2003}if(f&&this.multiTabs&&!o)this.multiDashboardExport=!0,this._exportDataAsExcel(s,h,r,u),l=this._getSuccessStatus(null,this.multiTabs);else if(f&&!this.multiTabs||o)this._exportDataAsExcel(s,h,r,u),w=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),l=this._getSuccessStatus(w,this.multiTabs);else if(!f&&e.length>t.DashboardConstants.Zero)v=this._getDashboardSelectionDetails(e),this._getSelectedDashboardInfo(v),v[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,this._exportDataAsExcel(s,h,r,u)),l=this._getStatus(v);else{for(y=!1,b=t.isNullOrUndefined(a)?t.DashboardConstants.Zero:a.length,c=0;c<b;c++)if(k=a.eq(c).attr("data-widget-id"),k===n){p=a.eq(c);s.controlId=n;s.controlType=p.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype");(t.isNullOrUndefined(i)||i==="")&&(s.headerText=p.find(".e-control-title").html());s.controlType==="CircularGauge"&&(s.controlType="Gauge");this._exportDataAsExcel(s,h,r,u);y=!0;break}l=y?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return l},removeCommentToggleState:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked"),n;i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");n=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");n.length>t.DashboardConstants.Zero&&n.removeClass("e-dbrd-banner-widget-withcomments-menuClicked")},dynamicwithCommentIconChange:function(i){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),f,o,e,s,u,h;if(!t.isNullOrUndefined(this.filterPanelId))for(f=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,e=0;e<o;e++)r.push(f[e]);for(s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)if(h=n(r[u]).attr("id"),i===h){var c=n(r[u]).find(".e-dbrd-banner-widget-withoutcomments"),l=n(r[u]).parents(".e-dbrd-inactive").find(".e-dbrd-banner-widget-withoutcomments"),a=n(r[u]).find(".e-dbrd-filterPanel-widget-withoutcomments");c.length>t.DashboardConstants.Zero?c.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"):a.length>t.DashboardConstants.Zero?a.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-filterPanel-widget-withcomments"):l.length>t.DashboardConstants.Zero&&l.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")}},dynamicwithoutCommentIconChange:function(i){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),f,o,e,s,u,h;if(!t.isNullOrUndefined(this.filterPanelId))for(f=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,e=0;e<o;e++)r.push(f[e]);for(s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)if(h=n(r[u]).attr("id"),i===h){var c=n(r[u]).find(".e-dbrd-banner-widget-withcomments"),l=n(r[u]).parents(".e-dbrd-inactive").find(".e-dbrd-banner-widget-withcomments"),a=n(r[u]).find(".e-dbrd-filterPanel-widget-withcomments");c.length>t.DashboardConstants.Zero?c.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"):a.length>t.DashboardConstants.Zero?a.removeClass("e-dbrd-filterPanel-widget-withcomments").addClass("e-dbrd-filterPanel-widget-withoutcomments"):l.length>t.DashboardConstants.Zero&&l.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments")}},toggleDashboardComment:function(){var n=this.currentTabContentElement.find(".e-dbrd-banner-dashboardwithcomment"),i=this.currentTabContentElement.find(".e-dbrd-banner-dashboardwithoutcomment");n.length>t.DashboardConstants.Zero?n.removeClass("e-dbrd-banner-dashboardwithcomment").addClass("e-dbrd-banner-dashboardwithoutcomment"):i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-dashboardwithoutcomment").addClass("e-dbrd-banner-dashboardwithcomment")},toggleWidgetComment:function(){this.element.find(".e-dbrd-tooltip").hide();var n=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments"),i=this.currentTabContentElement.find(".e-dbrd-banner-widget-withoutcomments");n.length>t.DashboardConstants.Zero?n.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"):i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")},toggleFavoriteIcon:function(){if(this.model.favoriteSettings.enabled){var n=this.element.find(".e-dbrd-dashboardfavIcon"),i=this.element.find(".e-dbrd-dashboardunfavIcon");n.length===t.DashboardConstants.Zero?i.removeClass("e-dbrd-dashboardunfavIcon").addClass("e-dbrd-dashboardfavIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite}):n.removeClass("e-dbrd-dashboardfavIcon").addClass("e-dbrd-dashboardunfavIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite})}},toggleDashboardParameterIcon:function(){this.model.dashboardParameterSettings.showIcon?this.element.find(".e-dbrd-banner-params").css({display:"block"}):this.element.find(".e-dbrd-banner-params").css({display:"none"})},getWidgetDataByReportName:function(n){for(var s,e,i=this.currentTabContentElement.find(".e-dbrd-control-container"),u=null,o=null,f=null,h=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<h;r++)if(o=i.eq(r).attr("id"),u=i.eq(r).attr("data-widget-id"),o===n||u===n){f=this.dashboardControls.getControlByReport(u);break}return t.isNullOrUndefined(f)?null:(s=this.dashboardControls.getControlByReport("parameterColumnData"),e=[],e.push(f,s),e)},doAjaxPost:function(i){var u=null,o=null,r=this,s,f,e,h;if(this.model.enableAutoRefresh&&this.rendered&&(s=this._getSlaveIdList(JSON.parse(i.data)),s.length>t.DashboardConstants.Zero&&this._restartTimerForSlaves(s)),f=JSON.parse(i.data),o={data:f.data,tabId:this.dashboardName,page:f.page},e=null,!t.isNullOrUndefined(f.action)&&this._isJsonString(f.action)&&(e=JSON.parse(f.action)),this.slaveDataRequest&&this.slaveDataRequest.readyState!==4&&!t.isNullOrUndefined(e)&&e[0].Method!=="LoadLayout"&&e[0].Method!=="Initialize"&&i.url.indexOf("GetControlDataOnDemand")===t.DashboardConstants.IndexLowerBound&&this.slaveDataRequest.abort(),this._isAjaxCacheEnabled()&&!this.model._isLiveData&&(u=n.parseJSON(i.data),delete u.context,!t.isNullOrUndefined(u.action)&&(this._isJsonString(u.action)&&!t.isNullOrUndefined(JSON.parse(u.action))&&JSON.parse(u.action).length>t.DashboardConstants.Zero&&JSON.parse(u.action)[0].Method!=="LoadLayout"&&JSON.parse(u.action)[0].Method!=="Initialize"||u.action==="GetInnerLevelDrillChart")&&i.url.indexOf("GetControlDataOnDemand")===t.DashboardConstants.IndexLowerBound&&(this._cleanUpStore(),h=this._generateKeyFromDataForCache(u,null,u.action),this._checkKeyInStore(h,i.onSuccess)))){this._destroyErrorMsg();return}this.slaveDataRequest=n.ajax({type:i.type,url:i.url,data:i.data,datatype:"json",contentType:"application/json;charset=utf-8",success:i.needRequestParameter?n.proxy(this.postAction,this,i.onSuccess,o,i.data):t.isNullOrUndefined(i.additionalParameter)?n.proxy(this.postAction,this,i.onSuccess,o):n.proxy(this.postAction,this,i.onSuccess,o,i.additionalParameter),beforeSend:n.proxy(function(u){var f,e,o,s;if(r.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(f=t.DashboardConstants.Zero;f<r.requestHeaders.customHeaders.length;f++)e=r.requestHeaders.customHeaders[f],u.setRequestHeader(e.Key,e.Value);u.setRequestHeader("X-Sync-Header",JSON.stringify(r.requestHeaders.customHeaders))}r.isFromAutoRefresh||(r.isDashboardScrolled||(o=n("<div/>").attr({id:r._id+"_InactiveDiv"}).addClass("e-inactivediv"),s=r.element.find(".e-tab"),s.length!==t.DashboardConstants.Zero&&o.css({top:s.find("ul").height()}),r.currentTabContentElement.append(o)),r._trigger("actionBegin",{eventType:t.dashboardViewer.event.ajaxRequest,source:{element:i.url,data:i.data}}))},this),complete:n.proxy(function(n){if(n.status===200&&!r.isFromFilterDialog){r.currentTabContentElement.find(".e-error-notification").remove();r.currentTabContentElement.css({position:""});var u=r.currentTabContentElement.find(".e-dbrd-banner");u.css({"margin-top":"0px"})}r.slaveDataRequest=null;r.element.find(".e-inactivediv").remove();r._trigger("actionComplete",{eventType:t.dashboardViewer.event.ajaxRequestCompleted,source:{element:i.url,data:i.data}})},this),error:n.proxy(function(u,f,e){if(!r._isUnLoad){if(e==="timeout")r._errorMsgPopup(r.locale.utils.DashboardServerTimedOut);else{if(e==="abort")return;u.responseText.indexOf("Session Expired")!==t.DashboardConstants.IndexLowerBound?r._errorMsgPopup(r.locale.utils.SessionExpired):e==="Internal Server Error"?t.isNullOrUndefined(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()])?r._errorMsgPopup(n(u.responseXML.childNodes).find("Message").text()):r._errorMsgPopup(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()]):r._errorMsgPopup(r.locale.utils.DashboardServerFail)}e!=="abort"&&(r._destroyWaitingPopup(),r._destroyAllControlWaitingIndicator(),r._destroyWaitingPdfPopup());r._trigger("actionBegin",{eventType:t.dashboardViewer.event.ajaxRequestFailure,source:{element:i.url,data:e}})}},this),timeout:52e4})},doPostBack:function(t,i){var u=n("<form>").attr({action:t,method:"POST",name:"export"}),f=function(t,i){n('<input type="hidden" title="params">').attr({id:t,name:t,value:i}).appendTo(u)};for(var r in i)i.hasOwnProperty(r)&&f(r,i[r]);u.appendTo(document.body).submit().remove()},saveFileFromServer:function(n,t){var i={FileType:n.toString(),base64String:t};this.doPostBack(this.serviceUrl()+"\\SaveFile",i)},postAction:function(n,i,r,u){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeRendering,source:{element:this,data:r}});n.call(this,i,r,u);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterRendering,source:{element:this,data:r}})},getMasterControlsBySlave:function(n){for(var u,r,f=[],e=null,s=t.isNullOrUndefined(this.controlRelations)?t.DashboardConstants.Zero:this.controlRelations.length,o=null,i=0;i<s;i++)for(u=0;u<this.controlRelations[i].Slaves.length;u++)if(this.controlRelations[i].Slaves[u]===n)for(e=this.controlRelations[i].Master,o=this.appliedFilterData.length,r=0;r<o;r++)e.indexOf(this.appliedFilterData[r].Control)!==-1&&f.push(this.appliedFilterData[r]);return f},refreshWidgetData:function(n){var u,o,f,r,s;if(!t.isNullOrUndefined(n)){var e=[],i=[],h=n.length,c=e.length,l=JSON.parse(JSON.stringify(this.dashboardParameters));if(jQuery.type(n)==="string"&&(n=[n]),jQuery.type(n)==="array")for(e=this.currentTabContentElement.find(".e-dbrd-control"),u=0;u<h;u++)for(o=n[u],f=0;f<c;f++)if(r=e.eq(f),r.id!==""&&this.target.push(r.id),r.attr("data-controlid")===o){this._createControlWaitingIndicator(r,!0);i.push(this.dashboardControls.getControlByReport(o));break}this._initializeFilterParameters();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetRefresh,source:{element:n,data:i}});s={type:"POST",url:this.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:this.dashboardPath(),data:t.isNullOrUndefined(i)?null:JSON.stringify(i),rangeData:JSON.stringify(this.rangeData),widgetInfo:JSON.stringify([]),modifiedConnectionStrings:this.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(this.currentUser),itemId:this.itemId,isRefresh:!1,isPublic:this.isPublicDashboard,customLanguagePath:this.model.localeSettings.resourcePath,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,filterParameters:JSON.stringify(this.initialFilters),dashboardParameterSettings:this._setAjaxDashboardParameterValue(l)}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(s);this._destroyDashboardMenu();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetRefresh,source:{element:n,data:i}})}},selectTabByName:function(n){if(!t.isNullOrUndefined(n)){var i=this._getTabIndexByTabName(n);this.selectTabByIndex(i)}},selectTabByIndex:function(n){this._renderSelectedDashboard(n,null)},getCurrentTab:function(){for(var t={tabId:"",tabName:"",tabIndex:null,tabElement:null},i=this.dashboardDetails.length,n=0;n<i;n++)this.dashboardName===this.dashboardDetails[n].DashboardName&&(t.tabId=this.dashboardDetails[n].DashboardName,t.tabIndex=this._getTabIndexById(this.dashboardDetails[n].DashboardName),t.tabName=this.dashboardDetails[n].DashboardDisplayName,t.tabElement=this.currentTabContentElement);return t},openParameterDialog:function(){!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero&&this._openDashboardParametersDialog(this.dashboardParameters.data,!1)},getDashboardTabsInfo:function(){for(var i,t=[],r=this.dashboardDetails.length,n=0;n<r;n++)i={tabId:this.dashboardDetails[n].DashboardName,tabName:this.dashboardDetails[n].DashboardDisplayName,tabIndex:this._getTabIndexById(this.dashboardDetails[n].DashboardName)},t.push(i);return t},getFilterPanelState:function(){return t.isNullOrUndefined(this.filterPanelObj)?null:this.filterPanelObj.getState()},openFilterPanel:function(){t.isNullOrUndefined(this.filterPanelObj)?this._showFilterPanel():this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open&&this.filterPanelObj.open()},closeFilterPanel:function(){t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Close||this.filterPanelObj.close()},getFilterPanel:function(){return this.filterPanelObj},getFilterPanelParent:function(){return this.filterPanelDiv},closeAllWindows:function(){this._closeMaximize();this._hideExport();this._closeFilterOverviewDialog();this._hideDescription();this._closeFilterPanel();this._cancelDashboardParameters();this._hideGetLinkDialog()},openGetLinkDialog:function(){var r={element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:{url:this.getCurrentViewUrl(),handled:!1}},i;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:r});r.data.handled||(n(window).width()<t.DashboardConstants.MobileWidth?this._showGetLinkDialogForMobile():(this._on(n("body"),"keydown",this._hideErrorDialog),i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog"),i.css({"max-width":this.currentTabContentElement.width()-100+"px"}),i.length===t.DashboardConstants.Zero&&(this._renderGetLinkDialog(),i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog")),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").show(),i.show(),this.model.enableCustomTheming&&this._customTheme(["popup"])));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:{element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:r}})},_parseParameterQuery:function(i){var l,s,v,h,c,a,f,y,e,r,p,u,o,w,b;if(t.isNullOrUndefined(i)||i===""||i.length===t.DashboardConstants.Zero)return null;l=[];try{for(l=decodeURIComponent(i).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),s=l.split("|,|"),v=t.isNullOrUndefined(s)?t.DashboardConstants.Zero:s.length,h=0;h<v;h++)if(c=s[h].split("|:|"),c.length>=2){if(a=c[0],f=c[1],a===String.fromCharCode(254)+"filterQuery"+String.fromCharCode(254))return y=CryptoJS.AES.decrypt(f,"RGFzaGJvYXJkIFVybCBLZXk=").toString(CryptoJS.enc.Utf8).replaceAll(String.fromCharCode(254),":"),this._getDashboardViewsData(n.parseJSON(y));if(a.trim().toUpperCase()==="FILTERQUERY"){if(e=null,r=f.split("::"),!t.isNullOrUndefined(f)&&r.length>t.DashboardConstants.One){for(p=r.length,u=t.DashboardConstants.Zero;u<p;u++)if(o=r[u].indexOf(":"),w=o!==t.DashboardConstants.IndexLowerBound?r[u].substring(t.DashboardConstants.Zero,o):r[u],w===this.model._selectedTabGuid&&o!==t.DashboardConstants.IndexLowerBound){b=n.parseJSON(r[u].substring(o+t.DashboardConstants.One));e=this.dashboardControls.unMinifySelectedFilterInfo(b);this.dashboardControls.initialDashboardParameters=e.dashboardParams;break}}else t.isNullOrUndefined(f)||(e=this.dashboardControls.unMinifySelectedFilterInfo(n.parseJSON(f)),this.dashboardControls.initialDashboardParameters=e.dashboardParams);return this._getDashboardViewsData(e.masterData)}}}catch(k){return null}return null},_getDashboardViewsData:function(n){for(var i=[],o=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,f=0;f<o;f++){var r=n[f],u=[],e=this._getMasterInfo(r,i);t.isNullOrUndefined(e)?(this._pushMasterData(u,r),i[i.length]={Control:r.ReportName,Data:u[0],ControlTitle:this.getWidgetTitle(r.ReportName)}):(this._pushMasterData(u,r),e.data=u[t.DashboardConstants.Zero],this._updateMasterInfo(e,i))}return i},_getMasterInfo:function(n,i){for(var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<u;r++)if(i[r].Control===n.ReportName)return i[r];return null},_updateMasterInfo:function(n,i){for(var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<u;r++)i[r].Control===n.Control&&i[r].Data.push(n.data[t.DashboardConstants.Zero])},_pushMasterData:function(n,i){var r=this.getWidgetTitle(i.ReportName);!t.isNullOrUndefined(i.DateFilterInfo)&&i.DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&n.push(i.DateFilterInfo.DateFilterList);!t.isNullOrUndefined(i.DimensionFilterInfo)&&i.DimensionFilterInfo.Text.length>t.DashboardConstants.Zero&&n.push(i.DimensionFilterInfo.Text);!t.isNullOrUndefined(i.MeasureFilterInfo)&&i.MeasureFilterInfo.Values.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(r)&&r.type!==t.dashboardViewer.Controls.Chart&&r.type!==t.dashboardViewer.Controls.ProportionChart&&n.push(i.MeasureFilterInfo.Values)},loadHistoryData:function(n){var t=!1;return this.isFromHistory=!0,t=this._loadDashboardFromSessionData(n),t&&this._replaceState(n),t},getCurrentViewUrl:function(){var n=this._isRenderWithInframe();return this._updateQueryStringParam("filterQuery",n)},disableAutoRefreshTimer:function(n){var u,i,r,f;if(t.isNullOrUndefined(n))this._clearAutoRefreshTimerAndCollection(),this.model.enableAutoRefresh=!1;else{for(u=n.length,i=0;i<u;i++)r=n[i].dashboardName,f=this._isCheckUserValidTabName(r),f&&(t.isNullOrUndefined(this.autoRefreshUserCollection[r])&&(this.autoRefreshUserCollection[r]=[]),t.isNullOrUndefined(n[i].widgets)||n[i].widgets.length===t.DashboardConstants.Zero?(this.autoRefreshUserCollection[r].disable=null,this.autoRefreshUserCollection[r].enable=[]):n[i].widgets.length>t.DashboardConstants.Zero&&(this.autoRefreshUserCollection[r].disable=n[i].widgets),this._enableToDisableOrDisableToEnableWidgetStatus(r,!1));this._disableAutoRefreshCollection()}},enableAutoRefreshTimer:function(n){var u,i,r,f;if(t.isNullOrUndefined(n))this._clearAutoRefreshTimerAndCollection(),this.model.enableAutoRefresh=!0,this._clearAllDisablecollection(),this._resetAutoRefreshRevamp(!0);else{for(u=n.length,i=0;i<u;i++)r=n[i].dashboardName,f=this._isCheckUserValidTabName(r),f&&(t.isNullOrUndefined(this.autoRefreshUserCollection[r])&&(this.autoRefreshUserCollection[r]=[]),t.isNullOrUndefined(n[i].widgets)||n[i].widgets.length===t.DashboardConstants.Zero?(this.autoRefreshUserCollection[r].enable=null,this.autoRefreshUserCollection[r].disable=[]):n[i].widgets.length>t.DashboardConstants.Zero&&(this.autoRefreshUserCollection[r].enable=n[i].widgets),this._enableToDisableOrDisableToEnableWidgetStatus(r,!0));this._enableAutoRefreshCollection()}},getCurrentDashboardDetails:function(){var h=[],i=null,u=null,s=null,o=null,r=0,f=0,e=new dashboardInfo,c;if(i=t.isNullOrUndefined(this.currentReport)?null:this.currentReport.layout,e.isMultiTabbedDashboard=this.multiTabs,!t.isNullOrUndefined(i))for(c=i.length,r=0;r<c;r++)if(!t.isNullOrUndefined(i[r].Key)&&!t.isNullOrUndefined(i[r].Value))switch(i[r].Key){case"Title":e.currentDashboard.dashboardTitle=JSON.parse(i[r].Value).Title;break;case"Description":e.currentDashboard.dashboardDescription=i[r].Value;break;case"TabInformation":this.multiTabs?(e.currentDashboard.dashboardTabIndex=this.model.selectedTabIndex,e.currentDashboard.dashboardGuid=this.model._selectedTabGuid):e.currentDashboard.dashboardGuid=JSON.parse(i[r].Value)[t.DashboardConstants.Zero].DashboardId;break;case"LayoutInformation":for(o=JSON.parse(i[r].Value),f=0;f<o.length;f++)u=new widgetDetails,s=n.isEmptyObject(o[f])?null:this._getWidgetDetails(o[f].ReportName),n.isEmptyObject(s)||s===""||(u.widgetId=o[f].ReportName,u.widgetTitle=s.title,u.widgetGuid=s.id,u.widgetType=s.type,u.widgetDescription=o[f].Label.Description,u.widgetSubTitle=o[f].Label.SubTitle,n.isEmptyObject(u)||h.push(u))}return h.length!==t.DashboardConstants.Zero&&(h=n.unique(h),e.currentDashboard.widgets=h),e}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.multiTabs={_createDashboardTabs:function(){var i,f,a,r,o,w,c;if(this.tabObj=this._getDashboardName(this.dashboardDetails),this.count=0,this.multiDashboardExport=!1,i=!t.isNullOrUndefined(this.model._selectedTabGuid)&&this.model._selectedTabGuid!==""?this._getTabIndexByDashboardId(this.model._selectedTabGuid):null,f=t.isNullOrUndefined(this.model.selectedTabName)||this.model.selectedTabName===""?this.model.selectedTabIndex:this._getTabIndexByTabName(this.model.selectedTabName),!t.isNullOrUndefined(this.tabObj)&&this.tabObj.length>t.DashboardConstants.One){var l=n("<div class='e-dbrd-tab-wrapper' id="+this._id+"_tabWrapper><\/div>"),u=n("<div class='e-dbrd-tab-container' id="+this._id+"_tabContainer><\/div>"),s=n("<ul><\/ul>").css({height:"40px",display:this.model.showTab?"block":"none"});for(this.model.enableWidgetMode&&s.css({display:"none"}),a=this.tabObj.length,r=0;r<a;r++){var h=this.dashboardDetails[r],v=n("<li data-tabId='"+this.tabObj[r]+"'><\/li>"),y=n("<span>");this._appendControlTitle(h.DashboardDisplayName,h.Parameters,y);u.append("<div id="+this._id+"_"+this.tabObj[r].replace(/ /g,"_")+"><\/div>");v.append(n("<a>").attr({href:"#"+this._id+"_"+this.tabObj[r].replace(/ /g,"_"),"data-tooltip":h.DashboardDisplayName,oncontextmenu:"return false"}).append(y));s.append(v)}l.append(u);this.element.append(l);u.prepend(s);var e=!t.isNullOrUndefined(i)&&i!==t.DashboardConstants.IndexLowerBound&&i!==""?i:f!==t.DashboardConstants.IndexLowerBound&&f!==""?f:t.DashboardConstants.Zero,b=u.ejDashboardTab({selectedItemIndex:e,beforeActive:n.proxy(this._beforeTabSwitch,this),itemActive:n.proxy(this._afterTabActive,this)}).ejDashboardTab("instance"),p=this.element.find(".e-tab .e-header li a "),k=p.length;for(o=0;o<k;o++)w=p.eq(o).find("span").eq(t.DashboardConstants.Zero),this._adjustParameterColumn(w);this.element.find(".e-content").css({border:"none"});this.multiTabs=!0;this.currentTabContentElement=n(u).find(".e-active-content");u.removeClass("e-widget");this._id=this.currentTabContentElement.attr("id");this.dashboardName=this.dashboardDetails.length>e?this.dashboardDetails[e].DashboardName:this.dashboardDetails[0].DashboardName;b.refreshTabScroll();i!==null&&e!==i&&this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this._getCurrentDashboardGuid()});this.tabInformation=this.element.find(".e-tab>.e-header>.e-item");this.tabInfoCollection=[];this.length=0;this._scrollCheck();this._createTabIcons();this._createMobResDiv();c=this.getCurrentTab();this.model.selectedTabIndex=c.tabIndex;this.model.selectedTabName=c.tabName;this.model._selectedTabGuid=this._getCurrentDashboardGuid();this.model.showTab||(this.element.find(".e-active-content").css({"padding-top":"0px"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}));n(window).width()<t.DashboardConstants.MobileWidth&&this._hideTab();this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.model.enableCustomTheming&&this._customTheme(["font"])}},_getDashboardName:function(n){for(var i=[],r=n.length,t=0;t<r;t++)i.push(n[t].DashboardName);return i},_getTabIndexByTabName:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardDisplayName.trim()===n.trim())return i;return t.DashboardConstants.IndexLowerBound},_getTabIndexById:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardName===n)return i;return t.DashboardConstants.IndexLowerBound},_getCurrentDashboardGuid:function(){for(var i=this.dashboardDetails.length,n=0;n<i;n++)if(this.dashboardDetails[n].DashboardName===this.dashboardName)return this.dashboardDetails[n].DashboardId;return t.DashboardConstants.IndexLowerBound},_getTabInfoByDashboardName:function(n){for(var i=this.dashboardDetails.length,t=0;t<i;t++)if(this.dashboardDetails[t].DashboardName===n)return{tabId:this.dashboardDetails[t].DashboardName,tabName:this.dashboardDetails[t].DashboardDisplayName,tabIndex:this._getTabIndexById(this.dashboardDetails[t].DashboardName)};return""},_beforeTabSwitch:function(i){var u,r,f,e;t.isNullOrUndefined(i)||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.tabSelect,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),this._clearTimers(),u=this._getTabInfoByDashboardName(this.dashboardName),this._tabObjectInformationCollection(i),r=n(i.activeHeader),r.find(".e-link").css({padding:"12px 15px 0px"}),n(i.prevActiveHeader).find(".e-link").css({padding:"9px 15px 0px"}),f=r.data("tabid"),e=this._getTabInfoByDashboardName(f),this._trigger("tabSelect",{tabArgs:i,currentTab:u,nextTab:e}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.tabSelect,source:{element:n(i.activeHeader),data:r.data("tabid")}}))},_afterTabActive:function(i){var e,f,o,r,s,u;if(!t.isNullOrUndefined(i)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.tabActive,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),e=this._getTabInfoByDashboardName(this.dashboardName),f=n(i.activeHeader),this.currentTabContentElement=this.element.find(".e-dbrd-tab-container").find(".e-active-content"),this.dashboardName=f.data("tabid"),o=this._reinitializeTabObjChk(i),this._id=this._dashboardId+"_"+f.attr("data-tabid").replace(/ /g,"_"),r=this._getTabInfoByDashboardName(this.dashboardName),this.model.reportName=r.tabName,this.model.selectedTabIndex=r.tabIndex,this.model.selectedTabName=r.tabName,this.model._selectedTabGuid=this._getCurrentDashboardGuid(),this._errorMsgPos(),this._scrollTabSwitch(i),this._closeExternalFilterPanels(),this._hasDataForCurrentTab(this.dashboardName)&&!this.isLinking)this._applyHiddenTabDataIfAny(this.dashboardName);else if(o||this.isLinking)this.model.currentMasterReport=this.isLinking?this.model.currentMasterReport:null,this.isLink=this.isLinking,this.isLinking=!1,this.filterPanelObj=null,t.widget.destroyAll(this.currentTabContentElement.find(".e-js")),this.currentTabContentElement.data({rendered:"false"}),this.loadLayout(null,!0),this.tabSwitchFromHistory=!0;else{if(this.isFilterPanelOpen&&this.externalFilterPanel&&(this.filterPanelObj!==null?(this.filterPanelObj.open(),this.filterPanelObj.refreshData(this.tempDataForFilter)):(this.preventFilterPanelEvents=!0,this._showFilterPanel(),this.preventFilterPanelEvents=!1)),!t.isNullOrUndefined(this.multiTabDashboardParameter.data)&&this.multiTabDashboardParameter.data.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero){for(s=this.multiTabDashboardParameter.data.length,u=0;u<s;u++)if(this.multiTabDashboardParameter.data[u].value!==this.dashboardParameters.data[u].value){this.multiTabDashboardParameter=[];this.refreshDashboard(null,!1);break}}else this.currentTabContentElement.find(".e-dbrd-controlWaiting").length>t.DashboardConstants.Zero&&(this._destroyAllControlWaitingIndicator(),this.refreshDashboard(null,!1));this._updateHiddenTabRefreshTimeOnSwitch();this._resizeDashboard();this._updateDashboardTitle();this.model.enableAutoRefresh&&this._resetCurrentTabRefreshTimer();this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("none")}this._trigger("tabActive",{tabArgs:i,currentTab:r,previousTab:e});this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.isFromHistory=!1;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.tabActive,source:{element:n(i.activeHeader),data:f.data("tabid")}})}},_closeExternalFilterPanels:function(){var e,r,u,o,i,s,f;if(this.preventFilterPanelEvents=!0,e=this.isFilterPanelOpen,this.externalFilterPanel&&!t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)&&(r=n("#"+this.model.filterPanelSettings.filterPanelId),r.length!==t.DashboardConstants.Zero))for(u=r.find(".e-dashboardfilterpanel"),o=u.length,i=0;i<o;i++)s=u.eq(i),f=s.data("ejDashboardDashboardFilterPanel"),t.isNullOrUndefined(f)||f.close();this.isFilterPanelOpen=e;this.preventFilterPanelEvents=!1},_tabInitPrivatePropertiesInformation:function(){return{reportCultures:this.reportCultures,hasFilterPanel:this.hasFilterPanel,filterPanelId:this.filterPanelId,filterPanelDiv:this.filterPanelDiv,filterPanelObj:this.filterPanelObj,slaveDataRequest:this.slaveDataRequest,tempDataForFilter:this.tempDataForFilter,isFromAutoRefresh:this.isFromAutoRefresh,rendered:this.rendered,locale:this.locale,isReloaded:this.isReloaded,isFilterWidget:this.isFilterWidget,_isUnLoad:this._isUnLoad,widgetModeSettings:this.widgetModeSettings,theme:this.theme,controlRelations:n.parseJSON(JSON.stringify(this.controlRelations)),Context:this.Context,requestTimer:this.requestTimer,autorefreshTimer:this.autorefreshTimer,_id:this._id,flag:this.flag,isWidget:this.isWidget,rangeData:this.rangeData,masterData:this.masterData,mapControlsData:this.mapControlsData,isMouseClick:this.isMouseClick,target:this.target,lastFocusElement:this.lastFocusElement,currentReport:this.currentReport,CurrentMaster:this.CurrentMaster,MapType:this.MapType,customRange:this.customRange,defaultRange:this.defaultRange,modifiedConnectionStrings:this.modifiedConnectionStrings,customRangeApplied:this.customRangeApplied,DrillableMapEntries:this.DrillableMapEntries,rtl:this.rtl,stackChartConfig:this.stackChartConfig,TitleLabels:this.TitleLabels,scrollTop:this.scrollTop,previousDashboardSize:this.previousDashboardSize,isPrintTriggered:this.isPrintTriggered,reportName:this.reportName,reportDescription:this.reportDescription,dashboardControls:this.dashboardControls,maximizeddashboardControls:this.maximizedashboardControls,appliedFilterData:this.appliedFilterData,_gaugeTooltipTarget:this._gaugeTooltipTarget,_gaugetoolTipTimer:this._gaugetoolTipTimer,_ExportedImageFileName:this._ExportedImageFileName,fileName:this.fileName,title:this.title,exportDashboard:this.exportDashboard,imageValidation:this.imageValidation,isPublicDashboard:this.isPublicDashboard,itemId:this.itemId,dashboardHeight:this.dashboardHeight,dashboardWidth:this.dashboardWidth,containerWidth:this.containerWidth,containerHeight:this.containerHeight,month:this.month,weekDays:this.weekDays,clearFilter:this.clearFilter,removeFilter:this.removeFilter,orientation:this.orientation,isExtendedLayout:this.isExtendedLayout,availableRowCount:this.availableRowCount,layoutControls:this.layoutControls,pageInfo:this.pageInfo,pageInformations:this.pageInformations,heightOfCell:this.heightOfCell,isDashboardScrolled:this.isDashboardScrolled,isWidgetExceedCurrentPage:this.isWidgetExceedCurrentPage,isRowsAvailable:this.isRowsAvailable,actualPages:this.actualPages,layoutWrapperHeight:this.layoutWrapperHeight,pageHeight:this.pageHeight,currentScrollTop:this.currentScrollTop,currentScrollHeight:this.currentScrollHeight,hiddenPageWidgetsForRefresh:this.hiddenPageWidgetsForRefresh,exportImageHeightForExtendedLayout:this.exportImageHeightForExtendedLayout,previousCacheKey:this.previousCacheKey,isFromCache:this.isFromCache,noNeedToUpdateTimeSpan:this.noNeedToUpdateTimeSpan,isRefreshClicked:this.isRefreshClicked,pagesToRefresh:this.pagesToRefresh,refreshedPages:this.refreshedPages}},_tabObjectInformationCollection:function(i){var o=n(i.prevActiveHeader).children().attr("href"),f,r,e,u;if(n(o).children(".e-error-notification").length===t.DashboardConstants.Zero)if(f=this._tabInitPrivatePropertiesInformation(i),this.tabInfoCollection.length>t.DashboardConstants.Zero&&this.tabInfoCollection.length<=this.tabObj.length){for(r=-1,e=this.tabInfoCollection.length,u=0;u<e;u++)if(n(i.prevActiveHeader).data("tabid")===this.tabInfoCollection[u].tabIdInfo){r=u;break}r===-1?this.tabInfoCollection.push({tabIdInfo:n(i.prevActiveHeader).data("tabid"),initPrivatePropertiesInfo:jQuery.extend(!0,{},f)}):(this.count=0,this.tabInfoCollection[r].initPrivatePropertiesInfo={},this.tabInfoCollection[r].initPrivatePropertiesInfo=jQuery.extend(!0,{},f))}else this.tabInfoCollection.push({tabIdInfo:n(i.prevActiveHeader).data("tabid"),initPrivatePropertiesInfo:jQuery.extend(!0,{},f)})},_reInitializationOfInitPrivateProperties:function(t){this.hasFilterPanel=t.hasFilterPanel;this.filterPanelId=t.filterPanelId;this.filterPanelDiv=t.filterPanelDiv;this.filterPanelObj=t.filterPanelObj;this.tempDataForFilter=t.tempDataForFilter;this.slaveDataRequest=t.slaveDataRequest;this.isFromAutoRefresh=t.isFromAutoRefresh;this.rendered=t.rendered;this.locale=t.locale;this.isReloaded=t.isReloaded;this.isFilterWidget=t.isFilterWidget;this._isUnLoad=t._isUnLoad;this.widgetModeSettings=t.widgetModeSettings;this.theme=t.theme;this.controlRelations=n.parseJSON(JSON.stringify(t.controlRelations));this.Context=t.Context;this.requestTimer=t.requestTimer;this.autorefreshTimer=t.autorefreshTimer;this._id=t._id;this.flag=t.flag;this.isWidget=t.isWidget;this.rangeData=t.rangeData;this.masterData=t.masterData;this.mapControlsData=t.mapControlsData;this.isMouseClick=t.isMouseClick;this.target=t.target;this.lastFocusElement=t.lastFocusElement;this.currentReport=t.currentReport;this.CurrentMaster=t.CurrentMaster;this.MapType=t.MapType;this.customRange=t.customRange;this.defaultRange=t.defaultRange;this.modifiedConnectionStrings=t.modifiedConnectionStrings;this.customRangeApplied=t.customRangeApplied;this.DrillableMapEntries=t.DrillableMapEntries;this.rtl=t.rtl;this.stackChartConfig=t.stackChartConfig;this.TitleLabels=t.TitleLabels;this.scrollTop=t.scrollTop;this.previousDashboardSize=t.previousDashboardSize;this.isPrintTriggered=t.isPrintTriggered;this.reportName=t.reportName;this.reportDescription=t.reportDescription;this.dashboardControls=t.dashboardControls;this.maximizedashboardControls=t.maximizeddashboardControls;this.appliedFilterData=t.appliedFilterData;this._gaugeTooltipTarget=t._gaugeTooltipTarget;this._gaugetoolTipTimer=t._gaugetoolTipTimer;this._ExportedImageFileName=t._ExportedImageFileName;this.fileName=t.fileName;this.title=t.title;this.exportDashboard=t.exportDashboard;this.imageValidation=t.imageValidation;this.isPublicDashboard=t.isPublicDashboard;this.itemId=t.itemId;this.dashboardHeight=t.dashboardHeight;this.dashboardWidth=t.dashboardWidth;this.containerWidth=t.containerWidth;this.containerHeight=t.containerHeight;this.month=t.month;this.weekDays=t.weekDays;this.clearFilter=t.clearFilter;this.removeFilter=t.removeFilter;this.orientation=t.orientation;this.isExtendedLayout=t.isExtendedLayout;this.availableRowCount=t.availableRowCount;this.layoutControls=t.layoutControls;this.pageInfo=t.pageInfo;this.pageInformations=t.pageInformations;this.heightOfCell=t.heightOfCell;this.isDashboardScrolled=t.isDashboardScrolled;this.isWidgetExceedCurrentPage=t.isWidgetExceedCurrentPage;this.isRowsAvailable=t.isRowsAvailable;this.actualPages=t.actualPages;this.layoutWrapperHeight=t.layoutWrapperHeight;this.pageHeight=t.pageHeight;this.currentScrollTop=t.currentScrollTop;this.currentScrollHeight=t.currentScrollHeight;this.hiddenPageWidgetsForRefresh=t.hiddenPageWidgetsForRefresh;this.exportImageHeightForExtendedLayout=t.exportImageHeightForExtendedLayout;this.previousCacheKey=t.previousCacheKey;this.isFromCache=t.isFromCache;this.noNeedtoUpdateTimeSpan=t.noNeedtoUpdateTimeSpan;this.isRefreshClicked=t.isRefreshClicked;this.pagesToRefresh=t.pagesToRefresh;this.refreshedPages=t.refreshedPages},_reinitializeTabObjChk:function(i){var f=!0,u,o,r,e;if(this.tabInfoCollection.length>t.DashboardConstants.Zero&&this.tabInfoCollection.length<=this.tabObj.length){for(u=-1,o=this.tabInfoCollection.length,r=0;r<o;r++)if(n(i.activeHeader).data("tabid")===this.tabInfoCollection[r].tabIdInfo){u=r;break}u===-1||this.errorMsg?this._initPrivateProperties():(this._reInitializationOfInitPrivateProperties(this.tabInfoCollection[u].initPrivatePropertiesInfo),e=this.currentTabContentElement.data("rendered"),t.isNullOrUndefined(e)||e==="false"?(this.currentTabContentElement.html(""),f=!0):f=!1)}else this._initPrivateProperties();return f},_createTabIcons:function(){var t=n("<div  class='e-dbrd-tab-menu-container e-dbrd-hoverable' id="+this._dashboardId+"_tabMenu tabindex = '0'><\/div>").attr({"data-tooltip":this.locale.utils.MoreOptions}).css({display:this.model.showTab?"block":"none"}),r=n("<div class='e-dbrd-tab-menu-border'><\/div>"),i=n("<span class='e-dbrd-tab-menu'><\/div>");t.insertAfter(this.element.find(".e-tab .e-header"));t.append(i);r.insertBefore(i)},_showTabMenu:function(i){var h,f,u,o,c,s;if(this.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&this._closeFilterOverviewDialog(i),n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide(),this.element.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")&&this._destroyReportDescription(),this._destroyContextMenu(),this._destroyControlMenu(),this._destroyDashboardMenu(),this._onControlDescriptionMouseLeave(i),this.element.find("#"+this._dashboardId+"_tabMenuPopup").length===t.DashboardConstants.Zero){i.stopImmediatePropagation();h=[];f=[];this.dashboardParameters.showIcon&&this.HasDashboardParameter&&f.push({id:this._id+"_dashboardparameters",text:this.locale.utils.DashboardParameters,sprite:"e-dbrd-banner-params"});(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel)&&f.push({id:this._dashboardId+"_tabExport",text:this.locale.utils.ExportDashboards,sprite:"e-dbrd-tab-menu-export-image"});var r=n('<div class="e-dbrd-tab-menu-popup">').attr({id:this._dashboardId+"_tabMenuPopup",oncontextmenu:"return false"}).css({"z-index":"1000"}),e=this.tabInformation,l=e.length;for(u=0;u<l;u++)h=n(e[u]).hasClass("e-active")?{id:this._dashboardId+"_"+n(e[u]).attr("data-tabid").replace(/ /g,"_"),text:e[u].textContent,sprite:"e-dbrd-tab-menu-popup-image"}:{id:this._dashboardId+"_"+n(e[u]).attr("data-tabid").replace(/ /g,"_"),text:e[u].textContent},f.push(h);for(o=[],this.model._exportSettings.canExportImage&&o.push({id:1,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToImage}),this.model._exportSettings.canExportPdf&&o.push({id:2,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToPdf}),this.model._exportSettings.canExportExcel&&o.push({id:3,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToExcel}),c=o.length,s=0;s<c;s++)f.push(o[s]);t.isNullOrUndefined(this.model.beforeTabMenuCreate)||this._trigger("beforeTabMenuCreate",{menuData:f});r.ejDashboardMenu({orientation:"vertical",fields:{dataSource:f,parentId:"parentId",text:"text",spriteCssClass:"sprite"},click:n.proxy(this._tabSelection,this,r)});this.element.append(r);i.type==="keydown"?(r.css({position:"absolute",top:n(i.target).find(".e-dbrd-tab-menu").offset().top-n(this.element).offset().top+n(i.target).find(".e-dbrd-tab-menu").height()+2,width:"auto","z-index":10002}),r.css({left:n(window).width()-22-n(this.element).offset().left-r.width()})):(r.css({position:"absolute",top:n(i.target).offset().top-n(this.element).offset().top+n(i.target).height()+2,width:"auto","z-index":10002}),r.css({left:i.pageX-n(this.element).offset().left-r.width()}));this.model.enableCustomTheming&&this._customTheme(["menu"])}else this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"?this._tabMenuPopupHide(i):this._showMenuPopupHide(i)},_tabSelection:function(i,r){var f,e,u,o,s,h,c;if(r.parentId===null&&r.text===this.locale.utils.DashboardParameters)this._openDashboardParametersDialog(this.dashboardParameters.data,!1);else if(r.parentId===null){for(f=this.tabInformation,e=f.length,u=0;u<e+t.DashboardConstants.One;u++)if(u===t.DashboardConstants.Zero)continue;else if(o=this._dashboardId+"_"+n(f[u-t.DashboardConstants.One]).data("tabid").replace(/ /g,"_"),r.ID===o){s=this.element.find(".e-dbrd-tab-container").attr("id");h=n("#"+s).data("ejDashboardTab");h.showItem(u-t.DashboardConstants.One);break}}else c=this.locale.utils.Dashboard,this._controlMenuSelected(i,c,"",r)},_tabMenuPopupHide:function(i){t.isNullOrUndefined(i)||(this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide(),n(i.target).parent().attr("id")!==this._dashboardId+"_tabExport"&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide())},_showMenuPopupHide:function(t){var i,e,r,u;t.stopImmediatePropagation();var o=this.element.find(".e-dbrd-tab-menu-popup .e-dbrd-tab-menu-popup-image").detach(),f=this.element.find(".e-dbrd-tab-menu-popup > .e-list"),s=f.length;for(i=0;i<s;i++)e=this.element.find(".e-tab .e-header .e-active").children("a").text(),r=n(f[i]).children("a"),e===r.text()&&r.prepend(o);u=this.element.find("#"+this._dashboardId+"_tabMenuPopup");this.model.showGetLinkIcon||u.find("#"+this._dashboardId+"_Link").remove();u.show()},_resizeContentPadding:function(){this.element.find(".e-dbrd-tab-menu-popup").remove();this.length=0;n(window).width()<t.DashboardConstants.MobileWidth?(this._hideTab(),this.element.find(".e-active-content").css({"padding-top":"0px"}),this.model.showTab&&(this.element.find(".e-dbrd-tab-res-icon-container").css({display:"block"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"20px"})),this.element.find(".e-error-notification").length>t.DashboardConstants.Zero&&this.element.find(".e-error-notification").css({top:"2px"})):(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}),!this.model.showTab||this.model.enableWidgetMode?this._hideTab():(this._showTab(),this._scrollCheck(),this._scrollResizeHandler()),this._errorMsgPos())},_createMobResDiv:function(){var t=n("<div class='e-dbrd-tab-res-icon-container' id="+this._dashboardId+"_tabResIconContainer><\/div>"),i=n("<span class='e-dbrd-tab-res-icon' id="+this._dashboardId+"_tabResIcon><\/span>");t.append(i);this.element.find(".e-dbrd-tab-wrapper").prepend(t)},_createNavigationDrawers:function(){var s,u,i,e,o,c,l;if(this.element.find(".e-dbrd-tab-res-inactive").length===t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tab-res-popup").length===t.DashboardConstants.Zero){s=n("<div class='e-dbrd-tab-res-inactive' id="+this._dashboardId+"_tabResInactive><\/div>");u=n("<div class='e-dbrd-tab-res-popup' id="+this._dashboardId+"_tabResPopup><\/div>");this.element.prepend(s);this.element.prepend(u);var h=n("<ul class='e-dbrd-res-ulist'><\/ul>"),r=null,f=null,a=this.tabInformation.length;for(i=0;i<a;i++)e=n(this.tabInformation[i]).data("tabid").replace(/ /g,"_"),o=n(this.tabInformation[i]).children(".e-link").text(),n(this.tabInformation[i]).hasClass("e-active")?(r=n("<li class='e-dbrd-tab-res-element' data-tabid="+e+"><\/li>").addClass("e-res-selected-element"),f=n("<div class='e-dbrd-tab-res-text'><\/div>").text(o).addClass("e-res-selected-font")):(r=n("<li class='e-dbrd-tab-res-element' data-tabid="+e+"><\/li>"),f=n("<div class='e-dbrd-tab-res-text'><\/div>").text(o)),r.append(f),h.append(r);u.append(h);this.dashboardParameters.showIcon&&this.multiTabs&&this.HasDashboardParameter&&(c=n("<button class='e-brd-multitab-mob-params-btn'><div class = 'e-brd-multitab-mob-params-btn'><\/div><\/button>").text(this.locale.utils.DashboardParameters),this.element.find(".e-dbrd-tab-res-popup").append(c));(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel)&&(l=n("<button class='e-brd-multitab-mob-export-btn'><div class = 'e-brd-multitab-mob-export-btn-icon'><\/div><\/button>").text(this.locale.utils.ExportBtn),this.element.find(".e-dbrd-tab-res-popup").append(l));this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.model.enableCustomTheming&&this._customTheme(["font"])}else this.element.find(".e-dbrd-tab-res-inactive").show(),this.element.find(".e-dbrd-tab-res-popup").show();this._on(this.element,"click",".e-dbrd-tab-res-inactive",this._hideResPopup)},_navigationItemClick:function(t){var c=n(t.currentTarget).parent().data("tabid"),r=this._dashboardId+"_"+c,u,i,f,e,o,s,h;if(r!==this.element.find(".e-active-content").attr("id")){for(u=this.tabInformation.length,i=0;i<u;i++)f=this._dashboardId+"_"+n(this.tabInformation[i]).data("tabid").replace(/ /g,"_"),r===f&&(e=this.element.find(".e-dbrd-tab-container").attr("id"),o=n("#"+e).data("ejDashboardTab"),o.showItem(i));s=this.element.find(".e-res-selected-font");s.removeClass("e-res-selected-font");h=this.element.find(".e-res-selected-element");h.removeClass("e-res-selected-element");n(t.currentTarget).parent().addClass("e-res-selected-element");n(t.currentTarget).addClass("e-res-selected-font")}this._hideResPopup()},_hideResPopup:function(){this.element.find(".e-dbrd-tab-res-popup").hide();this.element.find(".e-dbrd-tab-res-inactive").hide();this._off(this.element,"click",".e-dbrd-tab-res-inactive",this._hideResPopup)},_selectTabById:function(n){if(!t.isNullOrUndefined(n)){var i=this._getTabIndexByDashboardId(n);this.selectTabByIndex(i)}},_getTabIndexByDashboardId:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardId===n)return i;return t.DashboardConstants.IndexLowerBound},_scrollIconCreation:function(){var e,h;if(this.element.find(".e-dbrd-ryt-scroll-container").length===t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length===t.DashboardConstants.Zero){var u=n("<div class='e-dbrd-ryt-scroll-container'><\/div>"),i=n("<div class='e-dbrd-scroll-wrap'><\/div>"),f=n("<div class='e-dbrd-ryt-icon-scroll-wrap'><\/div>"),c=n("<span class='e-dbrd-scroll-right'><\/span>");f.append(c);i.append(f);u.append(i);this.element.find(".e-tab").prepend(u);e=n("<div class='e-dbrd-scroll-ryt-trans'><\/div>");i.append(e);var o=n("<div class='e-dbrd-left-scroll-container'><\/div>"),r=n("<div class='e-dbrd-scroll-wrap'><\/div>"),s=n("<div class='e-dbrd-left-icon-scroll-wrap'><\/div>"),l=n("<span class='e-dbrd-scroll-left'><\/span>");s.append(l);r.append(s);o.append(r);this.element.find(".e-tab").prepend(o);h=n("<div class='e-dbrd-scroll-left-trans'><\/div>");r.append(h);this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable");this._scrollTransCheck();this.model.enableCustomTheming&&this._customTheme(["multitabSettings"])}else this.element.find(".e-dbrd-ryt-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-left-scroll-container").css({display:"block"}),this._scrollTransCheck()},_scrollCheck:function(){var f,e,u,i,o,s,r,h;if(n(window).width()>t.DashboardConstants.MobileWidth){for(f=this.tabInformation,e=f.length,u=0;u<e;u++)this.length=this.length+n(f[u]).outerWidth();this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero?(i=this.element.find(".e-tab>.e-header").width(),o=n(".e-dbrd-tab-wrapper").width(),i<o&&(this._scrollIconRemove(),i=n(".e-dbrd-tab-wrapper").width(),this.element.find(".e-tab>.e-header").width(i),this.element.find(".e-tab>.e-header").css({width:i,"margin-left":"0px"}))):(s=n(".e-dbrd-tab-wrapper").width(),r=0,s<this.length?(this._scrollIconCreation(),r=this.length+this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width(),this.element.find(".e-tab>.e-header").width(r),h=this.element.find(".e-dbrd-left-icon-scroll-wrap").width(),this.element.find(".e-tab>.e-header").css({"margin-left":h+"px","margin-right":"0px"}),this.initialForward=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))):(r=n(".e-dbrd-tab-wrapper").width(),this.element.find(".e-tab>.e-header").width(r)))}},_hideTab:function(){this.element.find(".e-tab>.e-header").css({display:"none"});this.element.find(".e-active-content").css({"padding-top":"0px"});this.element.find(".e-dbrd-ryt-scroll-container").css({display:"none"});this.element.find(".e-dbrd-left-scroll-container").css({display:"none"});this.model.showTab||(this.element.find(".e-dbrd-banner").css({"border-top":"none"}),this.element.find(".e-dbrd-tab-menu-container").css({display:"none"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"0px"}))},_showTab:function(){this.model.showTab&&n(window).width()>=t.DashboardConstants.MobileWidth?(this.element.find(".e-tab>.e-header").css({display:"block"}),this.element.find(".e-dbrd-ryt-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-left-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-tab-menu-container").css({display:"block"}),this.element.find(".e-dbrd-banner").css({"border-top":"1px solid #c8c8c8"})):this.model.showTab&&n(window).width()<t.DashboardConstants.MobileWidth&&(this.element.find(".e-dbrd-tab-res-icon-container").css({display:"block"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"20px"}))},_scrollForward:function(){var r=this.element.find(".e-dbrd-ryt-scroll-container"),f,e;if(!r.hasClass("e-dbrd-navi-disable")){var u=60,i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),o=r.offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();i===this.initialForward?(i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u,this.element.find(".e-tab>.e-header").css({"margin-left":"-"+i+"px"}),this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable")):(this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))-u,this.element.find(".e-tab>.e-header").css({"margin-left":i+"px"}));f=this.element.find(".e-tab>.e-header").find("li").last().offset().left+this.element.find(".e-tab>.e-header").find("li").last().width();f<o&&(r.addClass("e-dbrd-navi-disable"),this.element.find(".e-dbrd-left-scroll-container").removeClass(".e-dbrd-navi-disable"));this._scrollTransCheck();n(".e-dbrd-ryt-scroll-container").hasClass("e-dbrd-navi-disable")&&(e=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+this.element.find(".e-dbrd-scroll-ryt-trans").width(),this.element.find(".e-tab>.e-header").css({"margin-left":e}))}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollBackward:function(){var r=this.element.find(".e-dbrd-left-scroll-container"),e,o;if(!r.hasClass("e-dbrd-navi-disable")){var u=60,i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),s=r.offset().left,f=r.width(),h=this.initialForward+f;i===-h?(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u+f,this.element.find(".e-tab>.e-header").css({"margin-left":i})):i!==-this.initialForward?(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u,this.element.find(".e-tab>.e-header").css({"margin-left":i})):(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),this.element.find(".e-tab>.e-header").css({"margin-left":this.initialForward+"px"}));e=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"));e>=s&&(this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable"),this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"));this._scrollTransCheck();n(".e-dbrd-left-scroll-container").hasClass("e-dbrd-navi-disable")&&(o=this.element.find(".e-dbrd-left-scroll-container").width()-this.element.find(".e-dbrd-scroll-left-trans").width(),this.element.find(".e-tab>.e-header").css({"margin-left":o}))}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollIconRemove:function(){this.element.find(".e-dbrd-left-scroll-container").remove();this.element.find(".e-dbrd-ryt-scroll-container").remove()},_scrollTabSwitch:function(){var l;if(this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero){var n=this.element.find(".e-tab>.e-header"),e=this.element.find(".e-tab .e-header .e-active"),i=e.offset().left,o=e.width(),a=i+o,s=this.element.find(".e-dbrd-left-icon-scroll-wrap").width(),v=this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width(),h=this.element.find(".e-dbrd-tab-menu-container").width(),y=this.element.find(".e-dbrd-tab-wrapper").width()-(s+v+h),p=parseInt(this.element.find(".e-dbrd-tab-wrapper").css("margin-left")),c=null,r=null,u=this.element.find(".e-tab>.e-header").children("li").last().offset().left+n.children("li").last().width(),f=this.element.find(".e-dbrd-ryt-scroll-container").offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();if(u>f&&this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i>p&&a<=y)return;i<=t.DashboardConstants.Zero?(c=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),r=c+-i+s,n.css({"margin-left":r})):(l=this.element.find(".e-dbrd-ryt-icon-scroll-wrap").offset().left,r=i+o-(l+this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width()-h),n.css({"margin-left":parseInt(n.css("margin-left"))-r+"px"}));parseInt(n.css("margin-left"))<this.element.find(".e-dbrd-left-icon-scroll-wrap").width()?this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable"):parseInt(n.css("margin-left"))>=this.element.find(".e-dbrd-left-icon-scroll-wrap").width()&&this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable");u=n.children("li").last().offset().left+n.children("li").last().width();f=this.element.find(".e-dbrd-ryt-scroll-container").offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();u<=f?this.element.find(".e-dbrd-ryt-scroll-container").addClass("e-dbrd-navi-disable"):this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable");this._scrollTransCheck()}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollResizeHandler:function(){var n=this.element.find(".e-tab .e-header");if(this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero){var r=this.element.width(),i=parseFloat(n.css("margin-left")),u=n.width()+i,f=r-u;n.css({"margin-left":i+f+"px"})}this._scrollTabSwitch()},_currentlyEleVisibleOrNot:function(){var n=this.element.find(".e-tab .e-header .e-active"),t=n.offset().left+n.width(),i=this.element.find(".e-dbrd-ryt-icon-scroll-wrap"),u=this.element.find(".e-dbrd-left-icon-scroll-wrap").offset().left+i.width(),f=i.offset().left,r=!1;return t>u&&t<=f&&(r=!0),r},_errorMsgPos:function(){if(this.element.find(".e-error-notification").length>t.DashboardConstants.Zero){var n=this.element.find(".e-tab .e-header").height()+5;this.element.find(".e-error-notification").css({top:n})}},_scrollTransCheck:function(){var n=this.element.find(".e-dbrd-scroll-left-trans"),i=this.element.find(".e-dbrd-scroll-ryt-trans"),r=n.parents(".e-dbrd-left-scroll-container"),u=i.parents(".e-dbrd-ryt-scroll-container");r.hasClass("e-dbrd-navi-disable")?(n.css({display:"none"}),this.element.find(".e-dbrd-scroll-left").css({color:"#dbdbdb"})):u.hasClass("e-dbrd-navi-disable")&&(i.css({display:"none"}),this.element.find(".e-dbrd-scroll-right").css({color:"#dbdbdb"}));r.hasClass("e-dbrd-navi-disable")||(n.css({display:"block"}),this.element.find(".e-dbrd-scroll-left").css({color:"#6d6e70"}));u.hasClass("e-dbrd-navi-disable")||(i.css({display:"block"}),this.element.find(".e-dbrd-scroll-right").css({color:"#6d6e70"}));this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_saveHiddenTabData:function(n,t){this.hiddenTabData[n]=t},_isHiddenTabData:function(n){return this.dashboardName!==n},_hasDataForCurrentTab:function(n){return!t.isNullOrUndefined(this.hiddenTabData[n])},_applyHiddenTabDataIfAny:function(n){if(this._hasDataForCurrentTab(n)){var t=this.hiddenTabData[n];switch(t.type){case"layout":this._renderDashboardLayout(null,t.data);break;case"refreshData":this._refreshControlData(null,t.data);break;case"initData":this._renderControl(null,t.data)}delete this.hiddenTabData[n]}},_getTabNameByTabIndex:function(n){for(var r=null,i=this.getDashboardTabsInfo(),u=i.length,t=0;t<u;t++)if(i[t].tabIndex===n){r=i[t].tabName;break}return r},_clearTimers:function(){if(this.timers!==null){for(var n=0;n<this.timers.length;n++)clearTimeout(this.timers[n]);this.timers=[]}this.updateTimer!==null&&clearTimeout(this.updateTimer);this.autorefreshTimer!==null&&clearTimeout(this.autorefreshTimer);t.isNullOrUndefined(this.showContextMenu)||clearTimeout(this.showContextMenu);this.longPress!==null&&clearTimeout(this.longPress);t.isNullOrUndefined(this.tooltip)||clearTimeout(this.tooltip);this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);this.requestTimer!==null&&clearTimeout(this.requestTimer);this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer)}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.history={_pushSessionStorage:function(n){var c,i;if(this.model.interactionSettings.allowHistoryMaintenance){var f=null,e=null,o=[],s=this._dashboardId,u=this.dashboardControls.controls,h=[];for(this.multiTabs&&(f=this._getCurrentTabInfo(),s=this.currentTabContentElement.attr("id")),this.hasFilterPanel&&!t.isNullOrUndefined(this.filterPanelObj)&&(e=this.filterPanelObj.dashboardControls.getAllControlsMasterData(),o=this.filterPanelObj.dashboardControls.getAllcontrolsSelectedItems()),c=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,i=0;i<c;i++)h.push({id:u[i].reportName,loadedPages:n==="initial"?[]:u[i].loadedPages});var l={type:n,masterData:this.dashboardControls.getAllControlsMasterData(),selectedItems:this.dashboardControls.getAllcontrolsSelectedItems(),appliedFilterData:this.appliedFilterData,filterPanelMasterData:e,filterPanelSelectedItems:o,tabId:s,tabInfo:f,widgetProp:h,dashboardPath:this.dashboardPath(),dashboardParameters:this._getAppliedDashboardParameters(!0)},r=this._getSessionKey(),a=sessionStorage.getItem(r);t.isNullOrUndefined(a)?sessionStorage.setItem(r,JSON.stringify(l)):r=this._getSessionKey();n!=="initial"?this._pushBrowserHistory(r):this._replaceState(r)}},_getSessionKey:function(){return this._getGUIDFromRandom()},_getGUIDFromRandom:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})},_popSessionStorageData:function(n){var i=sessionStorage.getItem(n);return t.isNullOrUndefined(i)?null:JSON.parse(i)},_replaceState:function(n){var i,r;t.isNullOrUndefined(n)||n===""||(i=JSON.stringify({"sync-dbrd-key":n}),this._updateCookie(n),r=this._isRenderWithInframe(),!t.isNullOrUndefined(n)&&r?window.top.history.replaceState(i,"DashboardViewer",top.location.href):t.isNullOrUndefined(n)||window.history.replaceState(i,"DashboardViewer",location.href))},_pushBrowserHistory:function(n){var u,i,r;t.isNullOrUndefined(n)||n===""||(u=this._isRenderWithInframe(),this._updateCookie(n),i=JSON.stringify({"sync-dbrd-key":n}),r="DashboardViewer",!t.isNullOrUndefined(i)&&u?window.top.history.pushState(i,r,top.location.href):t.isNullOrUndefined(i)||window.history.pushState(i,r,location.href))},_updateCookie:function(n){var t=new Date;t.setHours(t.getHours()+24);document.cookie="sync-dbrd-key="+n+";expires="+t.toUTCString()},_getKeyFromCookie:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)sync-dbrd-key\s*\=\s*([^;]*).*$)|^.*$/,"$1")},_updateQueryStringParam:function(n,i){var u=null,f=null,o=null,c=null,s=null,r,h,a,l,e;return t.isNullOrUndefined(this.model._baseUrl)?i?(u=[parent.location.protocol,"//",parent.location.host,parent.location.pathname].join(""),f=window.top.location.search):(u=[location.protocol,"//",location.host,location.pathname].join(""),f=document.location.search):u=this.model._baseUrl,r=this.getCurrentFilters(),h=t.isNullOrUndefined(r),t.isNullOrUndefined(r)&&f===""?(u+=this.multiTabs?"?~tabname~="+this.model.selectedTabName+"&~isGetLinkDashboard~="+h:"?~isGetLinkDashboard~="+h,c=u):t.isNullOrUndefined(r)&&f!==""?c=u+f:(a=this._checkUrlHasTabName(),this.multiTabs&&!a?(o="~tabname~="+this.model.selectedTabName+"&~isGetLinkDashboard~="+h+(t.isNullOrUndefined(r)?"":"&"+r.encryptedData),s=t.isNullOrUndefined(r)?"":"?"+o):(o="~isGetLinkDashboard~="+h+(t.isNullOrUndefined(r)?"":"&"+r.encryptedData),s=t.isNullOrUndefined(r)?"":"?"+o),l=new RegExp("([?&])"+n+"[^&]*"),e=f.replace("?~isGetLinkDashboard~=true",""),e=f.replace("&~isGetLinkDashboard~=true",""),e&&(s=e.match(l)!==null?e.replace(l,"$1"+o):!t.isNullOrUndefined(s)&&s.length>t.DashboardConstants.Zero?e+"&"+o:e),c=u+s),c},_checkUrlHasTabName:function(){for(var f,e,o=!1,i=[],n=null,r=this._isRenderWithInframe()?window.top.location.href.slice(window.top.location.href.indexOf("?")+t.DashboardConstants.One).split("&"):window.location.href.slice(window.location.href.indexOf("?")+t.DashboardConstants.One).split("&"),s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=t.DashboardConstants.Zero;u<s;u++)n=r[u].split("="),f=n[t.DashboardConstants.Zero]==="~tabname~"?"tab":n[t.DashboardConstants.Zero],i.push(f),i[f]=n[1];return e=decodeURIComponent(i.tab),t.isNullOrUndefined(e)||this.model.selectedTabName!==e||(o=!0),o},_isRenderWithInframe:function(){return self===top?!1:self!==top||document.location.origin===parent.location.origin?!0:!1},_popBrowserHistory:function(i){var e;if(!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.originalEvent.state)&&this.model.interactionSettings.handleHistoryEvent){var f=JSON.parse(i.originalEvent.state),r=null,u=null;t.isNullOrUndefined(f)||t.isNullOrUndefined(f["sync-dbrd-key"])||f["sync-dbrd-key"]===""||(r=f["sync-dbrd-key"]);t.isNullOrUndefined(r)||r===""||(u=this._popSessionStorageData(r),u!==null&&this._updateCookie(r));e={event:i,handled:!1,sessionData:u};this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onHistoryPopstateChange,source:{element:n(i.currentTarget),data:u}});this._destroyInactiveElements();this._trigger("onHistoryPopstateChange",e);e.handled||t.isNullOrUndefined(u)||this._loadDashboardFromSessionData(r);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onHistoryPopstateChange,source:{element:n(i.currentTarget),data:u}})}},_destroyInactiveElements:function(){this.currentTabContentElement.find(".e-dbrd-inactive").remove();this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this.currentTabContentElement.find(".e-dbrd-dialog.e-dbrd-alert").remove();this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove();this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").remove()},_loadDashboardFromSessionData:function(n){var r=!1,i;if(!t.isNullOrUndefined(n)&&n!==""&&(i=this._popSessionStorageData(n),!t.isNullOrUndefined(i))){i.tabId!==this._id&&this._tabSwitchingFromHistory(i);switch(i.type){case"initial":case"TabSwitch":case"refreshControls":this._initialRenderingFromHistory(i);r=!0;break;case"none":this._tabSwitchingFromHistory(i);r=!0}}return r},_initialRenderingFromHistory:function(n){var i=this;setTimeout(function(){var r,v,o,y,s,c,f,p,e,h,l;if(i._id===n.tabId){i.isFromHistory=!0;var u=i.dashboardControls.controls,a=n.masterData,w=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length;for(r=0;r<w;r++){for(v=t.isNullOrUndefined(n.widgetProp)?t.DashboardConstants.Zero:n.widgetProp.length,o=0;o<v;o++)u[r].reportName===n.widgetProp[o].id&&(u[r].loadedPages=n.widgetProp[o].loadedPages);for(y=t.isNullOrUndefined(n.selectedItems)?t.DashboardConstants.Zero:n.selectedItems.length,s=0;s<y>t.DashboardConstants.Zero;s++)c=n.selectedItems[s],u[r].reportName===c.ReportName&&(u[r].SelectedItems=c.SelectedItems)}if(n.length!==t.DashboardConstants.Zero&&i._loadDashboardParamData(n.dashboardParameters),!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(a)){if(i._reassignFilterData(n,i.dashboardControls.controls),i.hasFilterPanel&&!t.isNullOrUndefined(i.filterPanelObj)){for(f=i.filterPanelObj.dashboardControls.controls,p=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,e=0;e<p;e++)for(n.filterPanelSelectedItems.length===t.DashboardConstants.Zero&&(f[e].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}}),h=0;h<n.filterPanelSelectedItems.length>t.DashboardConstants.Zero;h++)l=n.filterPanelSelectedItems[h],f[e].reportName===l.ReportName&&(f[e].SelectedItems=l.SelectedItems);i._reassignFilterData(n,i.filterPanelObj.dashboardControls.controls)}i.refreshDashboard(null,!1,null,a)}}},250)},_updateFilterOverviewFromHistory:function(n){var t=this;setTimeout(function(){var i=[];i.InteractionData=n;t._addFilterDataToTitle(i)},500)},_reassignFilterData:function(i,r){var h=[],v=[],o=i.masterData,c=r.length,u,f,l,e,a,s;if(o.length>t.DashboardConstants.Zero)for(u=0;u<c;u++)for(f=r[u].reportName,l=o.length,e=0;e<l;e++)a=o[e].ReportName,f===a&&r[u].configInfo.IsMasterFilter?n.inArray(f,h)===-1&&(this._applySelectedFilterInfo(f,o[e],r[u]),h.push(f)):f!==""&&r[u].configInfo.IsMasterFilter&&n.inArray(f,h)===-1&&(this._filterRemoveForSlave(r[u],f),v.push(r[u]));else for(s=0;s<c;s++)this._filterRemoveForSlave(r[s])},_applySelectedFilterInfo:function(n,i,r){if(r.SelectedFilterInfo.length===t.DashboardConstants.Zero||t.isNullOrUndefined(r.SelectedFilterInfo[0]))r.SelectedFilterInfo.length===t.DashboardConstants.Zero&&r.SelectedFilterInfo.push({DateFilterInfo:i.DateFilterInfo,DimensionFilterInfo:i.DimensionFilterInfo,MeasureFilterInfo:i.MeasureFilterInfo,PointIndex:i.PointIndex,SeriesIndex:i.SeriesIndex,UniqueColumnName:i.UniqueColumnName,ReportName:i.ReportName,IsStdDateTime:i.IsStdDateTime,Value:i.Value});else{var u=r.SelectedFilterInfo[0];u.DateFilterInfo=i.DateFilterInfo;u.DimensionFilterInfo=i.DimensionFilterInfo;u.MeasureFilterInfo=i.MeasureFilterInfo;u.PointIndex=i.PointIndex;u.SeriesIndex=i.SeriesIndex;u.UniqueColumnName=i.UniqueColumnName}},_filterRemoveForSlave:function(n){n.SelectedFilterInfo=[]},_tabSwitchingFromHistory:function(n){if(n.length!==t.DashboardConstants.Zero&&this._loadDashboardParamData(n.dashboardParameters),!t.isNullOrUndefined(n.tabInfo)&&!t.isNullOrUndefined(n.tabInfo.tabName)){this.isFromHistory=!0;var i=n.tabInfo.tabName;this.selectTabByName(i)}},_getCurrentTabInfo:function(){for(var t={tabId:"",tabName:"",tabIndex:null,tabElement:null},i=this.dashboardDetails.length,n=0;n<i;n++)this.dashboardName===this.dashboardDetails[n].DashboardName&&(t.tabId=this.dashboardDetails[n].DashboardName,t.tabIndex=this._getTabIndexById(this.dashboardDetails[n].DashboardName),t.tabName=this.dashboardDetails[n].DashboardDisplayName);return t},_setSessionTabAndMaster:function(){var i=this._getKeyFromCookie(),n;t.isNullOrUndefined(i)||i===""||(n=this._popSessionStorageData(i),t.isNullOrUndefined(n)||n.dashboardPath!==this.dashboardPath()||(this.model.currentMasterReport=n.masterData.length>0?n.masterData:[],t.isNullOrUndefined(n.tabInfo)||t.isNullOrUndefined(n.tabInfo.tabName)||(this.model.selectedTabName=n.tabInfo.tabName)))},_getAppliedDashboardParameters:function(n){var u=[],r,i;if(!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length!==t.DashboardConstants.Zero)for(r=t.DashboardConstants.Zero;r<this.dashboardParameters.data.length;r++)i=this.dashboardParameters.data[r],(i.defaultValue!==i.value||n)&&u.push({dprmn:i.parameterName,dprmv:i.value});return u},_loadDashboardParamData:function(n){var i,r,u;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length!==t.DashboardConstants.Zero)for(i=t.DashboardConstants.Zero;i<n.length;i++)r=n[i],u=this._isParamPresent(r),u!==t.DashboardConstants.IndexLowerBound&&(this.dashboardParameters.data[u].value=r.dprmv)},_isParamPresent:function(n){for(var r=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,i=t.DashboardConstants.Zero;i<r;i++)if(this.dashboardParameters.data[i].parameterName===n.dprmn)return i;return t.DashboardConstants.IndexLowerBound}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.scroller={_onControlMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);if(n(this.currentTabContentElement).find(".e-control-prop-onHover").removeClass("e-control-prop-Visible"),r.hasClass("e-waitingLoadedPopup")||r.find(".e-scrollbar").hasClass("onScrolling")){r.removeClass("mouseEntered");return}r.removeClass("mouseEntered")}},_onMaximizeLeave:function(i){var u,f,r;if(!t.isNullOrUndefined(i)&&!n(i.currentTarget).hasClass("mouseEntered"))for(u=n("body").find(".e-dbrd-active-scrollbar"),f=u.length,r=0;r<f;r++)if(!u.eq(r).hasClass("onScrolling")){if(u.eq(r).stop(!0).show().fadeOut(1500),!n(i.target).hasClass("e-vhandle")&&n(i.target).find(".e-vhandle").length===t.DashboardConstants.Zero)return;u.eq(r).removeClass("e-dbrd-active-scrollbar")}},_onControlMouseOver:function(i){var r,f,e,u;if(!t.isNullOrUndefined(i)&&(this.currentTabContentElement.find(".mouseEntered").removeClass("mouseEntered"),r=n(i.currentTarget),!n(r).hasClass("e-ejinputtext"))){for(r.addClass("mouseEntered"),f=n("body").find(".e-dbrd-active-scrollbar"),e=f.length,u=0;u<e;u++){if(f.eq(u).hasClass("onScrolling"))return;f.eq(u).stop(!0).show().fadeOut(1500);n(i.target).hasClass("e-vhandle")||n(i.target).hasClass("e-hhandle")||f.eq(u).trigger("mouseleave");f.eq(u).removeClass("e-dbrd-active-scrollbar")}n(this.currentTabContentElement).find(".e-control-prop-onHover").removeClass("e-control-prop-Visible");r.hasClass("e-dbrd-showMenuOnHover")&&r.find(".e-dbrd-control").children().length!==t.DashboardConstants.Zero&&r.find(".e-control-prop-onHover").addClass("e-control-prop-Visible");r.find(".e-vhandle").css({"background-color":"#B3B3B3",border:"3px solid #ececec","border-radius":"10px"});r.find(".e-scrollbar").addClass("e-dbrd-active-scrollbar");r.find(".e-hhandle").css({"background-color":"#B3B3B3",border:"3px solid #ececec",height:"8px",bottom:t.DashboardConstants.Zero,"border-radius":"10px"});r.find(".e-scrollbar").hasClass("onScrolling")||(r.find(".e-scrollbar").stop(!0).hide().fadeIn(1500),r.find(".e-hhandle").css({bottom:"3px"}));this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"block"})}},_onScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"rgba(255, 0, 0, 0)"});r.find(".e-vup").css({"font-size":"6px",left:"0px",top:"-2px"});r.find(".e-vdown").css({"font-size":"6px",left:"0px",top:"0.65px"});r.find(".e-vhandle").css({width:"7px","border-radius":"10px"});r.find(".e-hup").css({"font-size":"6px",left:"0px",top:"-1px"});r.find(".e-hdown").css({"font-size":"6px",left:"0px",top:"-2px"});r.find(".e-hhandle").css({height:"8px","margin-top":"2px",bottom:"3px"})}},_onScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vup").css({"font-size":"0"});r.find(".e-vdown").css({"font-size":"0"});r.find(".e-vhandle").css({width:"5px",left:"0"});r.find(".e-hup").css({"font-size":"0"});r.find(".e-hdown").css({"font-size":"0"});r.find(".e-hhandle").css({height:"5px"})}},_onDashboardScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"#F5F5F5"});r.find(".e-vhandle").css({width:"8px",left:"-2px","border-radius":"0px","border-left":"1px solid #ccccccab","border-top":"1px solid #ccccccab"})}},_onDashboardScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vhandle").css({width:"7px",left:"0"})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.tooltips={_unWireMouseMoveEvents:function(){this._off(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mousemove",this._wireMouseMoveEvents)},_wireMouseMoveEvents:function(){this._off(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._off(this.element,"mousemove",this._wireMouseMoveEvents)},_onControlTitleMouseLeave:function(t){n.isFunction(t.preventDefault)&&t.preventDefault();t.bubbles=!1;this.element.find(".e-dbrd-tooltip").hide()},_showTitleFilterToolTip:function(t){var r=n(t.currentTarget),i=this.currentTabContentElement.find(".e-dbrd-title-filter-wrapper");r.offset().left+i.width()>window.outerWidth?(i.find(".e-dbrd-title-filter-arrow").css({left:i.width()-66+"px"}),i.css({top:r.offset().top,left:r.offset().left-(i.width()-(r.offset().left+r.width()+2>window.outerWidth?12:18))})):(i.css({top:r.offset().top,left:r.offset().left-15}),i.find(".e-dbrd-title-filter-arrow").css({left:""}));i.stop(!0,!0,!0).show()},_hideTitleFilterToolTip:function(i){if(!(n(i.relatedTarget).parents(".e-dbrd-title-filter-wrapper").length>t.DashboardConstants.Zero)&&!n(i.relatedTarget).hasClass("e-dbrd-title-filter-wrapper")){var r=this.currentTabContentElement.find(".e-dbrd-title-filter-wrapper");r.stop(!0,!0,!0).hide()}},_onControlTitleMouseOver:function(i){var r,e,u,f;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(i.bubbles=!1,r=this,e=t.DashboardConstants.Zero,this.longPress!==null&&i.type==="touchend"){clearTimeout(this.longPress);return}if(u=null,f=null,t.isNullOrUndefined(i.originalEvent)?(u=i.target.offsetLeft,f=i.target.offsetTop):(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,f=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY),i.type==="touchstart")e=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mouseover"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.longPress=setTimeout(function(){var l=400,a=30,o="",s,h,c,e,v,y;if((n(i.target).hasClass("e-control-title")||n(i.target).hasClass("e-control-subtitle")||n(i.target).hasClass("e-spanned-header")||n(i.target).hasClass("e-dbrd-param-column"))&&(o=n(i.target)),s=null,h=null,o.length>t.DashboardConstants.Zero?(s=o.innerWidth(),h=o[0].scrollWidth):(s=n(i.currentTarget).innerWidth(),h=n(i.currentTarget)[0].scrollWidth),h<=s&&r._compareControlTitleWidth(n(i.target))&&!r._SubtitleTooltip(i)){r._onControlTitleMouseLeave(i);return}(c=t.EjSvgRender.utils._measureText(n(i.currentTarget).text().trim(),100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,e=r.element.find(".e-dbrd-tooltip"),n(i.target).hasClass("e-dbrd-param-column")||n(i.target).hasClass("e-spanned-header")?e.html(r._getParameterColumnValue(n(i.target).parent())):n(i.target).children(".e-dbrd-param-column").length>t.DashboardConstants.Zero||n(i.target).siblings(".e-dbrd-param.column").length>t.DashboardConstants.Zero?e.html(r._getParameterColumnValue(n(i.target))):n(i.target).hasClass("e-link")&&!t.isNullOrUndefined(n(i.target))?e.html(n(i.target)[t.DashboardConstants.Zero].innerText):e.html(n(i.target).html()),r._SubtitleTooltip(i)&&(v=n(i.target).parents(".e-dbrd-control-container"),y=v.find(".e-control-subtitle").text(),e.html(n(i.target).html()+"<br />"+y)),r.locale.utils.ExportDashboards!==e[0].innerText)&&(e.css({top:f+15-r.element.offset().top,left:(u-r.element.offset().left+c>n(r.currentTabContentElement).width()?u-r.element.offset().left-c:u-r.element.offset().left)+r.element.scrollLeft(),display:"block","max-width":l,"max-height":l}),e.hasClass("overflows")&&e.removeClass("overflows"),(n(i.target).hasClass("e-control-title")||n(i.target).hasClass("e-control-subtitle")||n(i.target).hasClass("e-spanned-header")||n(i.target).hasClass("e-dbrd-param-column")||n(i.target).hasClass("e-link"))&&e.addClass(e[t.DashboardConstants.Zero].scrollHeight>e.height()+10?"overflows":null),o.length>t.DashboardConstants.Zero&&e.css({left:u-f,"margin-left":"15px","margin-right":"15px"}),e.offset().left>r.element.width()-(e.width()+a)&&e.css({left:r.element.width()-(e.width()+a)+"px"}),e.offset().left<t.DashboardConstants.Zero&&e.css({left:"0px","margin-left":"15px","margin-right":"15px"}))},e)}},_compareControlTitleWidth:function(n){var r=!0,i,u,t;if(n.hasClass("e-spanned-header")||n.hasClass("e-dbrd-param-column")){for(i=n.parent().children(),u=i.length,t=0;t<u;t++)if((i.eq(t).hasClass("e-spanned-header")||i.eq(t).hasClass("e-dbrd-param-column"))&&i.eq(t)[0].scrollWidth>i.eq(t).innerWidth()){r=!1;break}r&&n.parent()[0].scrollWidth>n.parent().innerWidth()&&(r=!1)}return r},_SubtitleTooltip:function(i){var r=n(i.target).parents(".e-dbrd-control-container"),u;return n(window).width()>t.DashboardConstants.MobileWidth&&(u=105,r.height()<u&&r.find(".e-control-subtitle").length!==t.DashboardConstants.Zero)?!0:!1},_getParameterColumnValue:function(n){for(var r="",i=n.children(),u=i.length,t=0;t<u;t++)(i.eq(t).hasClass("e-spanned-header")||i.eq(t).hasClass("e-dbrd-param-column"))&&(r+=i.eq(t).html());return r},_onControlDescriptionMouseLeave:function(i){if(!t.isNullOrUndefined(i)&&!n(i.target).hasClass("e-control-description")&&!n(i.target).hasClass("e-dbrd-desc-tooltip")&&!n(i.target).parents().hasClass("e-dbrd-desc-tooltip")){var r=this.element.find(".e-dbrd-desc-tooltip");this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&(this.element.find(".e-dbrd-desc-tooltip").removeClass("e-dbrd-control"),this.element.find(".e-dbrd-desc-tooltip").ejDashboardScroller("destroy"));r.css({width:"auto",height:"auto"});this.element.find(".e-tooltip-active").removeClass("e-tooltip-active");r.hide()}},_showbreadscrumblevelChartToolTip:function(i){var r,f,u;(n(i.target).hasClass("e-dbrd-drill")||n(i.target).hasClass("e-dbrd-dropDown ul li"))&&(i.bubbles=!1,n.isFunction(i.stopPropagation)&&i.stopPropagation(),r=i.currentTarget.textContent,r!=="")&&(f=window.innerWidth,u=t.EjSvgRender.utils._measureText(i.currentTarget.textContent.trim(),100,{size:"11px",fontStyle:"Normal",fontFamily:"Roboto"}).width,n(i.target).width()<u&&(n(this.element).find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}),n(this.element).find(".e-dbrd-tooltip").html(r).css({top:i.pageY+15,left:i.pageX+f>n(window).width()?i.pageX-u:i.pageX}).stop(!0,!0).show()))},_hidebreadscrumblevelChartToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();n(this.element).find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},_showFilterToolTip:function(i){var r,u;n(i.target).hasClass("e-brd-list")&&(i.bubbles=!1,n.isFunction(i.stopPropagation)&&i.stopPropagation(),r=i.currentTarget.textContent,r!=="")&&(u=t.EjSvgRender.utils._measureText(r,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12,n(i.target).width()<u&&n(this.element).find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)","z-index":"1000000"}).html(r).css({top:i.pageY+15,left:i.pageX+u>n(window).width()?i.pageX-u:i.pageX}).stop(!0,!0).show())},_hideFilterToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();n(this.element).find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},_showDashboardToolTip:function(i){var r,e,u,f;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(r=this,e=t.DashboardConstants.Zero,!t.isNullOrUndefined(this.tooltip)&&i.type==="touchend"){clearTimeout(this.tooltip);return}if(u=null,f=null,t.isNullOrUndefined(i.originalEvent)?(u=i.target.offsetLeft,f=i.target.offsetTop):(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,f=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY),i.type==="touchstart")e=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mousemove"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.tooltip=setTimeout(function(){var s,e,o;if(n(i.currentTarget).hasClass("e-dbrd-hoverable")&&(i.bubbles=!1,n.isFunction(i.stopPropogation)&&i.stopPropagation(),n(i.currentTarget).parents(".e-dbrd-banner").siblings(".e-dbrd-fzone").length>t.DashboardConstants.Zero?r.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}):r.element.find(".e-dbrd-tooltip").css({"box-shadow":""}),s=n(i.currentTarget).attr("data-tooltip"),s!=="")){if(n(i.currentTarget).hasClass("e-remove-control-filter-disable")){r.element.find(".e-dbrd-tooltip").hide();return}e=t.EjSvgRender.utils._measureText(s,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12;e=e<300?e:300;r.element.find(".e-dbrd-tooltip").html(s).css({"z-index":"100001",top:f+15-r.element.offset().top,left:(u-r.element.offset().left+e>n(r.element).width()?u-r.element.offset().left-e<t.DashboardConstants.Zero?t.DashboardConstants.Zero:u-r.element.offset().left-e:u-r.element.offset().left)+r.element.scrollLeft()}).stop(!0,!0).show();o=r.element.find(".e-dbrd-tooltip");o.length&&o.offset().top+o.height()+10>n("body").height()&&o.css({top:o.offset().top-o.height()});r.model.enableCustomTheming&&r._customTheme(["tooltip"])}},e)}},_hideDashboardToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);var i=this;this.tooltipTimer=setTimeout(function(){i.element.find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},500)},_onControlDescriptionMouseOver:function(i){var e;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:n(i.target).find("p").html()}});n.isFunction(i.preventDefault)&&i.preventDefault();n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation();this._destroyControlMenu();this._destroyContextMenu();this._destroyDashboardMenu();this._closeFilterOverviewDialog(i);i.bubbbles=!1;var u=300,f=t.EjSvgRender.utils._measureText(n(i.currentTarget).text(),100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,r=this.element.find(n(".e-dbrd-desc-tooltip"));n(i.target).hasClass("e-tooltip-active")?(this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&this.element.find(".e-dbrd-desc-tooltip").removeClass("e-scroller e-js e-widget e-dbrd-control"),r.css({width:"auto",height:"auto"}),n(i.target).removeClass("e-tooltip-active"),r.hide()):(this.element.find(".e-tooltip-active").removeClass("e-tooltip-active"),this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&this.element.find(".e-dbrd-desc-tooltip").removeClass("e-scroller e-js e-widget e-dbrd-control"),r.css({top:i.pageY-this.element.offset().top+15,left:i.pageX-this.element.offset().left+f>n(window).width()?i.pageX-this.element.offset().left>f?i.pageX-this.element.offset().left-f:t.DashboardConstants.Zero:i.pageX-this.element.offset().left,display:"block","word-wrap":"break-word",margin:"0px 15px 0px 15px"}),r.css({width:"auto",height:"auto"}),r.html(n(i.currentTarget.children[0]).html()),n(i.target).addClass("e-tooltip-active"),r.addClass("e-dbrd-active"),r.width()>u&&(r.empty(),r.append('<div class="e-dbrd-scroll"><\/div>'),r.find(".e-dbrd-scroll").html(n(i.currentTarget.children[0]).html()),e=n(i.target).offset().left,e+u>this.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()?r.css({left:n(i.target).offset().left-this.currentTabContentElement.offset().left-u}):r.css({left:n(i.target).offset().left-this.currentTabContentElement.offset().left}),r.addClass("e-dbrd-active"),r.find(".e-dbrd-scroll").css({width:"300px"}),n(".e-dbrd-scroll").height()>150&&(r.addClass("e-dbrd-control"),r.ejDashboardScroller({width:"300px",height:"150px"}))));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:n(i.target).find("p").html()}});this.model.enableCustomTheming&&this._customTheme(["description"])},_descShowOrLess:function(i){var e=n(i.currentTarget),r=n(e).parents(".e-dbrd-inactive"),s=r.find(".e-dbrd-inactive-footer-description"),h=r.find(".e-dbrd-inactive-footer"),o=null,c=r.find(".e-dbrd-downArrow"),l=r.find(".e-dbrd-moreText"),a=r.find(".e-dbrd-upArrow"),v=r.find(".e-dbrd-lessText"),y=r.find(".e-dbrd-moreLessDiv"),p=n("#"+this._id+"_InActiveDiv"),f,w,u;if(e.hasClass("e-dbrd-desc-moreDiv"))for(f=n(e).children(),w=f.length,u=0;u<w;u++)(n(f[u]).hasClass("e-dbrd-moreText")||n(f[u]).hasClass("e-dbrd-lessText"))&&n(f[u]).css("display")==="block"&&(o=n(f[u]));o.length!==t.DashboardConstants.Zero&&(o[0].innerText===this.locale.utils.TextMore?(h.css({height:s.height()+55}),c.css({display:"none"}),l.css({display:"none"}),a.css({display:"block"}),v.css({display:"block"}),y.css({"margin-top":s.height()-e.height()-10+"px"}),p.css({"overflow-y":"auto"})):(h.css({height:"70px"}),c.css({display:"block"}),l.css({display:"block"}),a.css({display:"none"}),v.css({display:"none"}),y.css({"margin-top":"0px"}),p.css({"overflow-y":"hidden"})))},_hideDescription:function(){if(this.currentTabContentElement.find(".e-dbrd-control-desc").length>t.DashboardConstants.Zero){var n=this.currentTabContentElement.find(".e-control-descDiv p").html();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationClose,source:{element:null,data:n}});this.currentTabContentElement.find(".e-dbrd-control-desc").css({display:"none"});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.informationClose,source:{element:null,data:n}})}},_destroyReportDescription:function(){n(this.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick");n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active")},_showReportDescription:function(i){var r,o,f;if(!t.isNullOrUndefined(i)){var e=300,u=0;this._tabMenuPopupHide(i);n(this.currentTabContentElement).find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:this.currentTabContentElement.find(".e-dbrd-divHtml p").html()}}),n(this.currentTabContentElement).find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")?this._destroyReportDescription():(n(this.currentTabContentElement).find(".e-dbrd-banner-description").addClass("e-dbrd-banner-infoclick"),n(this.currentTabContentElement).find(".e-dbrd-report-desc").hasClass("e-dbrd-control")||n(this.currentTabContentElement).find(".e-dbrd-report-desc").addClass("e-dbrd-control"),r=n(this.currentTabContentElement).find(".e-dbrd-banner-description"),u=r.offset().left-this.element.offset().left+r.width(),o=r.offset().top-this.element.offset().top+r.height(),n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"block",left:u,top:o}).addClass("e-dbrd-descr-active")),u+e>this.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()&&n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({left:u-e+50}),t.isNullOrUndefined(i)||(this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv").css({width:"auto",height:"auto"}),f=this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv"),f.width()>e&&(this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv").css({width:"300px"}),this.currentTabContentElement.find(".e-dbrd-divHtml").height()>150?(this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv").addClass("e-dbrd-control"),f.ejDashboardScroller({height:"150px"})):f.css({height:"auto"})),this.model.enableCustomTheming&&this._customTheme(["description"])),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:this.currentTabContentElement.find(".e-dbrd-divHtml p").html()}}))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dataRefresh={_refreshMasterControl:function(){var f,n,e,i,r,u;if(!t.isNullOrUndefined(this.model.currentMasterReport))for(f=this.model.currentMasterReport.length,n=0;n<f;n++)for(e=this.dashboardControls.controls.length,i=0;i<e;i++)if(r=this.dashboardControls.controls[i],u=this.model.currentMasterReport[n],u.ReportName===r.reportName){r.SelectedFilterInfo.push(u);break}},_resetAutoRefreshRevamp:function(i){var r=null,f,u;if(this.multiTabs)for(f=this.model.autoRefreshSettings.length,u=0;u<f;u++)if(r=this._getTabsInfoForAutoRefresh(n.extend(!0,[],this.model.autoRefreshSettings[u])),!t.isNullOrUndefined(r)&&t.isNullOrUndefined(i)&&r.tabName===this.getCurrentTab().tabName){this._initializeAutoRefreshFunctions(r);break}else!t.isNullOrUndefined(r)&&i&&this._initializeAutoRefreshFunctions(r);else r=n.extend(!0,[],this.model.autoRefreshSettings[t.DashboardConstants.Zero]),r.reportName=this.reportName,this._stopDisableTimerWidgetsIntialization(r),this._initializeAutoRefreshFunctions(r)},_getTabsInfoForAutoRefresh:function(n){for(var i,e,u=null,f=this.getDashboardTabsInfo(),o=f.length,r=t.DashboardConstants.Zero;r<o;r++)if(i=f[r],i.tabName===n.tabName||t.isNullOrUndefined(n.tabName)&&i.tabIndex===n.tabIndex){n.tabName=i.tabName;e=this._checkDbrdIsRenderedOrNotByDbrdName(n.tabName);e&&(n.reportName=n.tabName,u=this._stopDisableTimerWidgetsIntialization(n));break}return u},_getDashboardTabControls:function(n,t){var r=null,u,i;if(n===this.reportName)r=t?this.dashboardControls.getAllControlsForRefresh():this.dashboardControls;else for(u=this.tabInfoCollection.length,i=0;i<u;i++)if(this.tabInfoCollection[i].initPrivatePropertiesInfo.reportName===n){r=t?this.tabInfoCollection[i].initPrivatePropertiesInfo.dashboardControls.getAllControlsForRefresh():this.tabInfoCollection[i].initPrivatePropertiesInfo.dashboardControls;break}return r},_initializeAutoRefreshFunctions:function(n){var i=this._getDashboardRefreshDetails(n);t.isNullOrUndefined(i)||this._initializeAutoRefresh(i);t.isNullOrUndefined(this.scheduler12ClkTimer)&&this._initialize24HrsTimerForScheduling(!0)},_getDashboardRefreshDetails:function(n){var r=null,u,i;return t.isNullOrUndefined(n)||(u=this._getIntervalTimeForDbrd(n),i=this._getWidgetListCollectionForRefresh(n),r={interval:u,isWidgetSpecific:n.isWidgetSpecific,widgets:t.isNullOrUndefined(i)?null:i.hourlyWidgets,reportName:n.reportName,showWaitingIndicator:n.showWaitingIndicator,scheduleWidgets:t.isNullOrUndefined(i)?null:i.scheduleWidgets},this._schedulerKeyGeneration(r)),r},_getIntervalTimeForDbrd:function(n){var i=null;return t.isNullOrUndefined(n.intervalSettings)||n.intervalSettings.mode!==t.dashboardViewer.refreshTimer.mode.hourly?t.isNullOrUndefined(n.intervalSettings)||(i=n.intervalSettings):i=this._getIntervalTimeToRefresh(n.intervalSettings),i},_getWidgetListCollectionForRefresh:function(n){var i=null,r,u;return n.isWidgetSpecific?i=this._checkWidgetHasMinTimeIntervalForRefresh(n.widgets,n.reportName):!t.isNullOrUndefined(n.widgets)&&n.widgets.length>t.DashboardConstants.Zero?i=this._getWidgetListForDbrdRefresh(n.widgets,n.reportName,n.intervalSettings):(t.isNullOrUndefined(n.widgets)||n.widgets.length===t.DashboardConstants.Zero)&&(r=this.multiTabs?this._getDashboardTabControls(n.tabName,!1):this.dashboardControls,u=r.getAllControlsId(),i=this._getWidgetListForDbrdRefresh(u,n.reportName,n.intervalSettings)),i},_checkWidgetHasMinTimeIntervalForRefresh:function(i,r){var f=n.extend(!0,[],i),o=[],c=null,a=[],l,s,e,v,h,u,y;if(!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero){for(l=f.length,s=0;s<l;s++)o.push(f[s].id);for(c=this._getDashboardControlsForAutoRefresh(o,r),o=[],e=0;e<l;e++)for(v=c.length,h=0;h<v;h++)c[h].reportName===f[e].id&&(u=f[e],y=!t.isNullOrUndefined(u.intervalSettings)&&!t.isNullOrUndefined(u.intervalSettings.mode)?u.intervalSettings.mode:t.dashboardViewer.refreshTimer.mode.hourly,t.isNullOrUndefined(y)||(u.interval=u.intervalSettings.mode===t.dashboardViewer.refreshTimer.mode.hourly?this._getIntervalTimeToRefresh(u.intervalSettings):null,t.isNullOrUndefined(u.interval)?a.push(u):(delete f[e].intervalSettings,o.push(u))));f=o}return{hourlyWidgets:f,scheduleWidgets:a}},_getWidgetListForDbrdRefresh:function(i,r,u){var f=n.extend(!0,[],i),e=[],c=null,p=null,l=!1,a,s,o,v,h,y;if(t.isNullOrUndefined(u)||u.mode===t.dashboardViewer.refreshTimer.mode.hourly||(l=!0),!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero){for(a=f.length,s=0;s<a;s++)e.push(f[s]);for(c=this._getDashboardControlsForAutoRefresh(e,r),e=[],o=0;o<a;o++)for(v=c.length,h=0;h<v;h++)c[h].reportName===f[o]&&e.indexOf(f[o])===t.DashboardConstants.IndexLowerBound&&(y=l?{id:f[o],intervalSettings:u}:f[o],e.push(y))}return p=l?{scheduleWidgets:e}:{hourlyWidgets:e}},_initializeAutoRefresh:function(n){var e=n.interval,c=n.isWidgetSpecific,i=n.widgets,o=n.reportName,s=n.showWaitingIndicator,f=null,r=[],h,u;if(!c&&!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero){for(h=i.length,u=0;u<h;u++)f=i[u],f!==""&&r.push({interval:e,id:f});this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(r=this._restrictPreviousPageWidgets(r));this._widgetAutoRefresh(r,o,s)}else!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&(this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(i=this._restrictPreviousPageWidgets(i)),this._widgetAutoRefresh(i,o,s))},_processAutoRefreshData:function(i,r){var g,et,c,h,f,e,u,s,b,it,ht,k,d;this.isFromAutoRefresh=!1;this.isDashboardResize=!1;var a=[],rt=null,ut=null,ft=null,l={},y=[],p={};for(this.currentSlaveInfo=[],this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)&&(g=this._generateKeyFromDataForCache(i),this._getValueFromStore(g)||this._addToStore(g,r),this._cleanUpStore()),et=r.d.length,c=0;c<et;c++)if(h=r.d[c],h.Key==="ParamColumns")r.d[c].Value!==null&&(l=new Dbrdcontrol,p=this.dashboardControls.getControlByReport("parameterColumnData"),ft=JSON.parse(r.d[c].Value),l.controlType="parameterColumnData",t.isNullOrUndefined(p)||(p.data=[],y=new dbrdcontrolData,y.pagedata=ft,l.data.push(y),l=p,l.data=[],l.data.push(y))),rt=n.parseJSON(h.Value);else if(h.Key==="FilterPanel"){this.tempDataForFilter=n.parseJSON(r.d[c].Value);t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.refreshData(this.tempDataForFilter);continue}else if(h.Key==="Widgets"){var nt=JSON.parse(h.Value),o=[],tt=[],ot=[],w=[],st=[],v=!1;for(f in nt)if(Object.prototype.hasOwnProperty.call(nt,f)&&(e=nt[f],w=[],o={},v=!1,e!==null&&(t.isNullOrUndefined(e.Data)||(w=JSON.parse(e.Data)),t.isNullOrUndefined(e.Error)||(v=!0),t.isNullOrUndefined(e.ConfigInfo)||t.isNullOrUndefined(e.ConfigInfo)||(tt=JSON.parse(e.ConfigInfo)),t.isNullOrUndefined(e.DynamicData)||(o=JSON.parse(e.DynamicData)),t.isNullOrUndefined(e.FormattedData)||(ot=JSON.parse(e.FormattedData)),t.isNullOrUndefined(e.ExpandedData)||(st=e.ExpandedData))),u=this.dashboardControls.getControlByReport(f.split(":")[0]),!t.isNullOrUndefined(u)){if(this.currentSlaveInfo.push(u.reportName),t.isNullOrUndefined(o)||(u.controlType===t.dashboardViewer.Controls.DatePicker?u.maxMinData=o.Data:u.controlType===t.dashboardViewer.Controls.ChoroplethMap&&(u.data[t.DashboardConstants.Zero].rangeColor=o.RangeAndColor,u.data[t.DashboardConstants.Zero].legendPrefx=o.LegendPrefx,u.data[t.DashboardConstants.Zero].legendPostfix=o.LegendPostfix)),f.split(":").length===t.DashboardConstants.One&&(f=f+":1"),f.split(":").length===2){if(s=this.dashboardControls.getControlByReport(f.split(":")[0]),s.getPageDataBypage(parseInt(f.split(":")[1])).pagedata=w,s.getPageDataBypage(parseInt(f.split(":")[1])).formattedData=ot,s.getPageDataBypage(parseInt(f.split(":")[1])).ExpandedNodeData=st,v===!1&&(s.getPageDataBypage(parseInt(f.split(":")[1])).isError=!1),s.configInfo=tt,this._updateConfigInfo(s.controlType,s),u.controlType==="PivotGrid"?(s.PivotReport=o.PivotReport,s.PivotJSONData=s.data[t.DashboardConstants.Zero].pagedata):u.controlType==="TreeMap"&&(s.drillLevels=o.SerializeLevelInfo),u=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f.split(":")[0])))),u.currentPage=parseInt(f.split(":")[1]),v===!0)for(b=t.DashboardConstants.Zero;b<u.data.length;b++)u.data[b].isError=v;a.push(u)}else this.dashboardControls.getControlByReport(f).getCurrentPageData().pagedata=w,u=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f)))),a.push(u);u.controlType!=="Grid"||tt.AllowPaging||t.isNullOrUndefined(u.totalCount)?t.isNullOrUndefined(o.totalCount)||o.totalCount===u.totalCount||(u.totalCount=o.totalCount,u.totalPages=Math.ceil(u.totalCount/u.scrollSetting.controlPerPage)):u.totalCount=this._updateWidgetTotalCount(u,50)}}else h.Key==="Title"&&(ut=JSON.parse(h.Value));if(this._dashboardData().isControl||this._callFunction(this._addFilterDataToTitle,ut),this._startRenderingControls(a,this._getPageForCurrentView()),this._callFunction(this._updateParameterColumns,rt),this.model.enableAutoRefresh===!0){for(it=[],ht=a.length,k=0;k<ht;k++)d=a[k],t.isNullOrUndefined(d.reportName)||d.reportName===""||it.push(d.reportName);this._restartTimerForSlaves(it)}this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("refreshControls")},_refreshControl:function(t){var i=n(t.currentTarget).parents(".e-dbrd-control").attr("data-controlid");this.refreshDashboard(i,!0)},_resetAutoRefresh:function(){var t=this,i;this.autorefreshTimer!==null&&clearTimeout(this.autorefreshTimer);i=[];this.autorefreshTimer=setTimeout(function(){t.rangeData=[];t._setSlaveData(i,n(t.currentTabContentElement).find(".e-dbrd-control"));t._setSlaveData(i,n(t.currentTabContentElement).find(".e-FilterBox"));var r={master:null,masterData:t.masterData,slaves:i,showIndicator:t.model.autoRefreshSettings.showWaitingIndicator,isAutoRefresh:!0};t._makeSlaveDataRequest(r)},this.model.autoRefreshSettings.interval*1e3)},_setSlaveData:function(n,t){for(var r=t.length,i=0;i<r;i++)t[i].id!==""&&n.push(t[i].id)},_widgetAutoRefresh:function(n,i,r){if(n.length>t.DashboardConstants.Zero){var u=this._getWidgetHasSameTimer(n,r),f=this._generateAutoRefreshCollection(u,i);this._setTimerForCurrentTabWidgets(f)}},_generateAutoRefreshCollection:function(n,i){for(var u,f=[],e=n.length,r=t.DashboardConstants.Zero;r<e;r++)u=i+t.DashboardConstants.AutoRefreshList+(Object.keys(this.autoRefreshCollection).length+t.DashboardConstants.One),this.autoRefreshCollection[u]=n[r],f.push(u);return f},_getWidgetHasSameTimer:function(n,i){for(var r,o,u,s,h=[],f=[],c=n.length,e=t.DashboardConstants.Zero;e<c;e++)if(r=n[e],f.length===t.DashboardConstants.Zero||f.indexOf(r.interval)===t.DashboardConstants.IndexLowerBound){for(o=[],u=t.DashboardConstants.Zero;u<c;u++)s=n[u],r.interval===s.interval&&o.push(s.id);f.push(r.interval);h.push({intervalTime:r.interval,showWaitingIndicator:i,refreshWidgets:o})}return h},_getDashboardControlsForAutoRefresh:function(n,i){for(var o,u,e=[],f=this.reportName===i?this.dashboardControls.getAllControlsForRefresh():this._getDashboardTabControls(i,!0),s=f.length,r=t.DashboardConstants.Zero;r<s;r++)for(o=n.length,u=t.DashboardConstants.Zero;u<o;u++)f[r].reportName!==""&&n[u]!==""&&f[r].reportName===n[u]&&e.push(f[r]);return e},_autoRefreshWaitingIndicatorCreate:function(i){var u,r,f;for(this.isFromAutoRefresh=!0,u=i.length,r=t.DashboardConstants.Zero;r<u;r++)f="#"+this._id+t.DashboardConstants.Widget+i[r].reportName,this._createControlWaitingIndicator(n(f).parents(".e-dbrd-control-container"),!0)},_autoRefreshCallSender:function(n){var r=JSON.parse(JSON.stringify(this.dashboardParameters)),i=this.dashboardControls.getAllControlsMasterData(),u={type:"POST",url:this.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:this.dashboardPath(),widgetInfo:JSON.stringify(n),data:i.length===t.DashboardConstants.Zero?null:JSON.stringify(i),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.model.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(r),page:JSON.stringify(this._getPageForCurrentView())}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(u)},_getSlaveIdList:function(n){var u=null,i=[],f,r;if(t.isNullOrUndefined(n.controlsIdList)&&!t.isNullOrUndefined(n.widgetInfo))for(u=JSON.parse(n.widgetInfo),f=u.length,r=t.DashboardConstants.Zero;r<f;r++)i.push(u[r].reportName);else t.isNullOrUndefined(n.controlsIdList)?!t.isNullOrUndefined(n.action)&&n.action.indexOf("GetInnerLevelDrill")>=t.DashboardConstants.Zero&&i.push(n.controlId):i=JSON.parse(n.controlsIdList);return i},_restartTimerForSlaves:function(n){if(n.length>t.DashboardConstants.Zero){var r=this._getRefreshListKeyFromAutoRefreshCollection(n),i=this._getCurrentTabKeyList(r);i.length>t.DashboardConstants.Zero&&this._restartWidgetTimer(i,n)}},_getCurrentTabKeyList:function(n){for(var i=null,u=[],f=n.length,r=t.DashboardConstants.Zero;r<f;r++)i=n[r],i.indexOf(this.reportName)===t.DashboardConstants.IndexLowerBound?this.hiddenTabRefreshKey.indexOf(i)===t.DashboardConstants.IndexLowerBound&&this.hiddenTabRefreshKey.push(i):i.indexOf(this.reportName)>=t.DashboardConstants.Zero&&u.push(i);return u},_getRefreshListKeyFromAutoRefreshCollection:function(n){for(var r,h,i=[],e=this.autoRefreshCollection,o=Object.keys(e),s=t.DashboardConstants.Zero,c=o.length,u=t.DashboardConstants.Zero;u<c;u++){if(s===n.length)break;var f=o[u],l=e[f].refreshWidgets,a=n.length;for(r=t.DashboardConstants.Zero;r<a;r++)h=n[r],(i===t.DashboardConstants.Zero||l.indexOf(h)!==t.DashboardConstants.IndexLowerBound)&&(s++,i.indexOf(f)===t.DashboardConstants.IndexLowerBound&&i.push(f))}return i},_restartWidgetTimer:function(n,i){var r=null,u=t.DashboardConstants.Zero,e,o,f;if(n.length>t.DashboardConstants.Zero)for(e=n.length,u=t.DashboardConstants.Zero;u<e;u++)r=n[u],o=this._checkAllItemsInRefreshCollection(this.autoRefreshCollection[r].refreshWidgets,i),o?(f=this.autoRefreshTimerCollection[r],f!==null&&clearTimeout(f),this._setAutoRefreshWidgetTimer(r,this.autoRefreshCollection[r].intervalTime)):this._removeItemAndStartIndividualWidgteTimer(n,i)},_setAutoRefreshWidgetTimer:function(n,i){var r=this;t.isNullOrUndefined(i)||i===t.DashboardConstants.Zero||(this.autoRefreshTimerCollection[n]=setTimeout(function(n){var i,u,f;n.indexOf(r.reportName)>=t.DashboardConstants.Zero?(i=r._getDashboardControlsForAutoRefresh(r.autoRefreshCollection[n].refreshWidgets,r.reportName),u=r.autoRefreshCollection[n].showWaitingIndicator,r.isFromAutoRefresh=!0,r.isExtendedLayout&&r.actualPages.length!==t.DashboardConstants.One&&(f=r._getPageForCurrentView(),i=r._getAutoRefreshWidgetsForCurrentPage(i,f)),u&&r._autoRefreshWaitingIndicatorCreate(i),r._autoRefreshCallSender(i)):n.indexOf(r.reportName)===t.DashboardConstants.IndexLowerBound&&r.hiddenTabRefreshKey.indexOf(n)===t.DashboardConstants.IndexLowerBound&&r.hiddenTabRefreshKey.push(n)},i*t.DashboardConstants.Thousand,n))},_removeItemAndStartIndividualWidgteTimer:function(n,i){for(var r,v,y,f,p,w,b,k,s=[],e=null,o=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero,c=null,l=[],a=null,d=n.length,h=0;h<d;h++)for(c=n[h],r=this.autoRefreshCollection[c],e=r.refreshWidgets,a=r.showWaitingIndicator,v=i.length,o=t.DashboardConstants.Zero;o<v;o++)for(y=e.length,u=t.DashboardConstants.Zero;u<y;u++)e[u]===i[o]&&(f=e[u],(s===t.DashboardConstants.Zero||s.indexOf(f)===t.DashboardConstants.IndexLowerBound)&&(s.push(f),p=f,r.refreshWidgets.splice(r.refreshWidgets.indexOf(p),t.DashboardConstants.One),w={interval:r.intervalTime,id:f},l.push(w)));b=this._getWidgetHasSameTimer(l,a);k=this._generateAutoRefreshCollection(b,this.reportName);this._setTimerForCurrentTabWidgets(k)},_setTimerForCurrentTabWidgets:function(n){for(var r,u=n.length,i=t.DashboardConstants.Zero;i<u;i++)r=n[i],this._setAutoRefreshWidgetTimer(r,this.autoRefreshCollection[r].intervalTime)},_checkAllItemsInRefreshCollection:function(n,i){for(var e,u=t.DashboardConstants.Zero,f=!1,o=i.length,r=0;r<o;r++)e=i[r],n.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&u++;return u===n.length&&(f=!0),f},_resetCurrentTabRefreshTimer:function(){var n,i,o,r,u,e,f;if(this.multiTabs&&this.hiddenTabRefreshKey.length>t.DashboardConstants.Zero&&(n=[],i=this._getCurrentTabKeyList(this.hiddenTabRefreshKey),i.length>t.DashboardConstants.Zero)){for(o=i.length,r=0;r<o;r++){var s=i[r],h=this.autoRefreshCollection[s].refreshWidgets,c=h.length;for(u=t.DashboardConstants.Zero;u<c;u++)e=h[u],n.indexOf(e)===t.DashboardConstants.IndexLowerBound&&n.push(e);this.hiddenTabRefreshKey.splice(this.hiddenTabRefreshKey.indexOf(s),t.DashboardConstants.One)}this._refreshHiddenTabWidgets(n)}this.multiTabs&&Object.keys(this.schedulerHiddenTabKeys).length>t.DashboardConstants.Zero&&(f=this.schedulerHiddenTabKeys[this.reportName],!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&(this._refreshHiddenTabWidgets(f),this.schedulerHiddenTabKeys.splice(this.schedulerHiddenTabKeys.indexOf(this.reportName),t.DashboardConstants.One)))},_refreshHiddenTabWidgets:function(n){var i=this._getDashboardControlsForAutoRefresh(n,this.reportName),r;this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(r=this._getPageForCurrentView(),i=this._getAutoRefreshWidgetsForCurrentPage(i,r));this._autoRefreshWaitingIndicatorCreate(i);this._autoRefreshCallSender(i)},_stopDisableTimerWidgetsIntialization:function(i){var o,f,r,e,u;if(!t.isNullOrUndefined(this.autoRefreshUserCollection)&&Object.keys(this.autoRefreshUserCollection).length>t.DashboardConstants.Zero)if(o=t.isNullOrUndefined(i.tabName)?i.reportName:i.tabName,f=this.autoRefreshUserCollection[o].disable,t.isNullOrUndefined(f))i.widgets=[];else if(r=t.DashboardConstants.Zero,e=null,!t.isNullOrUndefined(i.widgets)){for(u=n.extend(!0,[],i.widgets),r=0;r<u.length;r++)e=i.isWidgetSpecific?u[r].id:u[r],f.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&u.splice(r,t.DashboardConstants.One);i.widgets=u}return i},_clearAutoRefreshTimerAndCollection:function(){for(var i=[],r=Object.keys(this.autoRefreshCollection),u=r.length,n=t.DashboardConstants.Zero;n<u;n++)i.push(r[n]);this._clearAutoRefreshTimer(i);this.autoRefreshCollection=[];this.autoRefreshTimerCollection=[];this.hiddenTabRefreshKey=[];this.scheduleCollection=[];this.schedulerHiddenTabKeys=[];this.scheduler12ClkTimer!==null&&clearTimeout(this.scheduler12ClkTimer);this.scheduler12ClkTimer=null},_clearAutoRefreshTimer:function(n){for(var i=t.DashboardConstants.Zero,r=null,u=null,f=n.length,i=t.DashboardConstants.Zero;i<f;i++)r=n[i],u=this.autoRefreshTimerCollection[r],u!==null&&(clearTimeout(u),this.autoRefreshCollection[r].intervalTime=t.DashboardConstants.Zero)},_isCheckUserValidTabName:function(n){var f=this.reportName,i=!1,r,u,t;if(this.multiTabs||f!==n){if(this.multiTabs)for(r=this.getDashboardTabsInfo(),u=r.length,t=0;t<u;t++)n===r[t].tabName&&(i=!0)}else i=!0;return i},_checkDbrdIsRenderedOrNotByDbrdName:function(i){var f=!1,u,e,r,o;if(f=i===this.reportName&&!this.multiTabs&&n("#"+this._dashboardId).has(".e-dbrd-layout-wrapper").length>t.DashboardConstants.Zero,this.multiTabs)for(u=this.getDashboardTabsInfo(),e=u.length,r=0;r<e;r++)if(i===u[r].tabName){o=u[r].tabId;f=n("#"+this._dashboardId+"_"+o).has(".e-dbrd-layout-wrapper").length>t.DashboardConstants.Zero;break}return f},_disableAutoRefreshCollection:function(){var n=this._getDisableOrEnableWidgetCollection(!0),i;n.length>t.DashboardConstants.Zero&&(i=this._getRefreshListKeyFromAutoRefreshCollection(n),this._removeWidgetsToDisableAutoRefresh(i,n),this._removeWidgetsFromScheduleCollection(),this._clearTimerForDisableWidgets())},_getDisableOrEnableWidgetCollection:function(n){for(var r,a,u,v,f,y,o,c,s=this.autoRefreshUserCollection,e=[],i=null,l=Object.keys(s),p=l.length,h=0;h<p;h++)if(r=l[h],a=this._checkDbrdIsRenderedOrNotByDbrdName(r),a)if(u=n?s[r].disable:s[r].enable,t.isNullOrUndefined(u)||u.length===t.DashboardConstants.Zero)for(i=this._getControlsIdFromRefreshApi(r),v=i.length,f=0;f<v;f++)e.indexOf(i[f])===t.DashboardConstants.IndexLowerBound&&e.push(i[f]);else for(i=this._getControlsIdFromRefreshApi(r),y=u.length,o=0;o<y;o++)c=u[o],i.indexOf(c)!==t.DashboardConstants.IndexLowerBound&&e.push(c);return e},_removeWidgetsToDisableAutoRefresh:function(n,i){for(var f,u,o=n,s=o.length,e=t.DashboardConstants.Zero;e<s;e++){var h=o[e],r=this.autoRefreshCollection[h].refreshWidgets,c=i.length;for(f=t.DashboardConstants.Zero;f<c;f++)for(u=t.DashboardConstants.Zero;u<r.length;u++)r[u]===i[f]&&r.splice(r.indexOf(r[u]),t.DashboardConstants.One)}},_getControlsIdFromRefreshApi:function(i){for(var s,r,h,u,c,o=[],e=n.extend(!0,[],this.model.autoRefreshSettings),l=e.length,f=0;f<l;f++)if(s=this._getDashboardNameFromRefreshAPI(e[f]),!t.isNullOrUndefined(s)&&s===i)if(r=e[f].widgets,t.isNullOrUndefined(r))c=this.multiTabs?this._getDashboardTabControls(i,!1):this.dashboardControls,o=c.getAllControlsId();else for(h=r.length,u=t.DashboardConstants.Zero;u<h;u++)r[u].id!==""&&o.push(e[f].isWidgetSpecific?r[u].id:r[u]);return o},_getDashboardNameFromRefreshAPI:function(n){var i=null;return this.multiTabs&&!t.isNullOrUndefined(n.tabName)?i=n.tabName:this.multiTabs&&!t.isNullOrUndefined(n.tabIndex)?i=this._getTabNameByTabIndex(n.tabIndex):this.multiTabs||(i=this.reportName),i},_clearTimerForDisableWidgets:function(){for(var r,f,n=[],u=Object.keys(this.autoRefreshCollection),e=u.length,i=0;i<e;i++)r=u[i],f=this.autoRefreshCollection[r].refreshWidgets,f.length<=t.DashboardConstants.Zero&&n.push(r);n.length>t.DashboardConstants.Zero&&this._clearAutoRefreshTimer(n)},_enableAutoRefreshCollection:function(){var i=this._getDisableOrEnableWidgetCollection(!1),n;this._restartTimerForSlaves(i);var r=this._getEnableTimerwidgetListToRefresh(i),t=this._getIntervalTimeToEnableWidgets(r),u=t.length;for(n=0;n<u;n++)this._widgetAutoRefresh(t[n].hourlyWidgets,t[n].reportName,t[n].showWaitingIndicator),this._schedulerKeyGeneration(t[n])},_getEnableTimerwidgetListToRefresh:function(n){for(var i,r,u=Object.keys(this.autoRefreshCollection),f=u.length===t.DashboardConstants.Zero?n:[],o=u.length,e=0;e<o;e++){var s=u[e],h=this.autoRefreshCollection[s].refreshWidgets,c=n.length;for(i=0;i<c;i++)r=n[i],h.indexOf(r)===t.DashboardConstants.IndexLowerBound&&f.indexOf(r)===t.DashboardConstants.IndexLowerBound&&f.push(r)}return f},_getIntervalTimeToEnableWidgets:function(i){for(var e,s,u,o=[],f=n.extend(!0,[],this.model.autoRefreshSettings),h=f.length,r=0;r<h;r++)e=this._getDashboardNameFromRefreshAPI(f[r]),s=this._checkDbrdIsRenderedOrNotByDbrdName(e),s&&(u=this._getEnableWidgetListWithInterval(f[r],e,i),(u.hourlyWidgets.length||u.scheduleWidgets.length>t.DashboardConstants.Zero)&&o.push({reportName:e,hourlyWidgets:u.hourlyWidgets,scheduleWidgets:u.scheduleWidgets,showWaitingIndicator:f[r].showWaitingIndicator}));return o},_getEnableWidgetListWithInterval:function(n,t,i){n.reportName=t;var r=this._getWidgetListCollectionForRefresh(n),u=this._getIntervalSettingsFromAPI(r.hourlyWidgets,i,n),f=this._getIntervalSettingsFromAPI(r.scheduleWidgets,i,n);return{hourlyWidgets:u,scheduleWidgets:f}},_getIntervalSettingsFromAPI:function(n,i,r){var c=r.isWidgetSpecific,h=!t.isNullOrUndefined(r.intervalSettings)&&r.intervalSettings.mode!==t.dashboardViewer.refreshTimer.mode.hourly,s=[],f=null,e=null,l,u,a,o;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero)for(l=n.length,u=0;u<l;u++)for(a=i.length,o=0;o<a;o++)c&&!h?(f=n[u].id,e=i[o],f===e&&s.push(n[u])):c||h?h&&(f=n[u].id,e=i[o],f===e&&s.push(n[u])):(f=n[u],e=i[o],f===e&&s.push({id:n[u],interval:r.intervalSettings}));return s},_enableToDisableOrDisableToEnableWidgetStatus:function(i,r){var u,f,o,e;if(Object.keys(this.autoRefreshUserCollection[i]).length===2)for(u=n.extend(!0,[],this.autoRefreshUserCollection[i].enable),f=n.extend(!0,[],this.autoRefreshUserCollection[i].disable),o=0;o<u.length;o++)e=u[o],f.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&r&&(f.splice(f.indexOf(e),t.DashboardConstants.One),this.autoRefreshUserCollection[i].disable=f),u.indexOf(e)===t.DashboardConstants.IndexLowerBound||r||(u.splice(u.indexOf(e),t.DashboardConstants.One),this.autoRefreshUserCollection[i].enable=u)},_getIntervalTimeToRefresh:function(n){var i=t.DashboardConstants.Zero,r,u,f;return t.isNullOrUndefined(n)||t.isNullOrUndefined(n.mode)||(r=n.mode,r===t.dashboardViewer.refreshTimer.mode.hourly&&(u=n.hourlySchedule,i=this._getIntervalTimeForHourlyMode(u),f=parseInt(i),i=i<=t.DashboardConstants.Zero||isNaN(f)?t.DashboardConstants.AutoRefreshMinTimer:i)),i},_getIntervalTimeForHourlyMode:function(n){var i=t.DashboardConstants.Zero,r=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero,f=t.DashboardConstants.Zero;return i=t.isNullOrUndefined(n.hours)?i:this._getSecondsForHours(n.hours),r=t.isNullOrUndefined(n.minutes)?r:this._getSecondsForMins(n.minutes),u=t.isNullOrUndefined(n.seconds)?u:n.seconds,i+r+u},_getSecondsForHours:function(n){return n*3600},_getSecondsForMins:function(n){return n*60},_getCurrentTime:function(){return this._getSecondsForHours((new Date).getHours())+this._getSecondsForMins((new Date).getMinutes())+(new Date).getSeconds()},_schedulerKeyGeneration:function(n){var e=n.scheduleWidgets,i,a,r,o,s,h,u,y,f,l;if(!t.isNullOrUndefined(e)){for(i=[],a=e.length,r=0;r<a;r++)o=e[r],s=o.intervalSettings.mode,s!==t.dashboardViewer.refreshTimer.mode.hourly&&(h=this._generateCollectionForScheduling(o,s),t.isNullOrUndefined(h)||i.push(h));if(i.length>t.DashboardConstants.Zero&&t.isNullOrUndefined(this.scheduleCollection[n.reportName])&&!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero)this.scheduleCollection[n.reportName]={scheduleWidgets:i,showWaitingIndicator:n.showWaitingIndicator};else if(!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero){var c=this.scheduleCollection[n.reportName].scheduleWidgets,v=[],p=c.length;for(u=0;u<p;u++)v.push(c[u].id);for(y=i.length,f=0;f<y;f++)l=i[f],v.indexOf(l.id)===t.DashboardConstants.IndexLowerBound&&c.push(l)}}},_generateCollectionForScheduling:function(n,i){var f=null,r=null,e=n.id,u=null;switch(i){case t.dashboardViewer.refreshTimer.mode.daily:u=new Date;r=n.intervalSettings.dailySchedule;f={id:e,isSchedule:!1,mode:i,days:r.days,nextRenderDate:this._getNextRenderDateForDaily(r.days,u)};break;case t.dashboardViewer.refreshTimer.mode.weekly:u=new Date;r=n.intervalSettings.weeklySchedule;f={id:e,isSchedule:!1,mode:i,weeks:r.weeks,weekDay:r.weekDay,nextRenderDate:this._getNextRenderDateForWeekly(r.weeks,r.weekDay,u),dashboardName:this.reportName};break;case t.dashboardViewer.refreshTimer.mode.monthly:u=new Date;r=n.intervalSettings.monthlySchedule;f={id:e,isSchedule:!1,mode:i,day:r.day,months:r.months,nextRenderDate:this._getNextRenderDateForMonthly(r.day,r.months,u,!1),dashboardName:this.reportName};break;case t.dashboardViewer.refreshTimer.mode.yearly:u=new Date;r=n.intervalSettings.yearlySchedule;f={id:e,isSchedule:!1,mode:i,day:r.day,month:r.month,years:r.years,nextRenderDate:this._getNextRenderDateForYearly(r.day,r.month,r.years,u,!1),dashboardName:this.reportName}}return f},_getNextRenderDateForDaily:function(n,t){return new Date(new Date(t).setDate(new Date(t).getDate()+n))},_getNextRenderDateForWeekly:function(n,i,r){var u=new Date(r),f=this._getNextRenderDay(u,i),o=null,s=t.DashboardConstants.Zero,c,l,h;if(f!==t.DashboardConstants.Zero)if(c=this._getRemainingDaysOfTheWeek(u),l=c.indexOf(f)!==t.DashboardConstants.IndexLowerBound,l)h=this._getStartDateOfWeek(u),s=h.getDay()+(f-t.DashboardConstants.One),o=new Date(h.setDate(h.getDate()+s));else{var a=n*7,v=new Date(u.setDate(u.getDate()+a)),e=this._getStartDateOfWeek(v);e.getDay()===f-t.DashboardConstants.One?o=e:(s=e.getDay()+(f-t.DashboardConstants.One),o=new Date(e.setDate(e.getDate()+s)))}return o},_getNextRenderDay:function(n,i){for(var f,e,u=t.DashboardConstants.Zero,o=i.length,r=0;r<o;r++)if(f=n.getDay()+t.DashboardConstants.One,i[r]>f){u=i[r];break}else e=i.sort(function(n,t){return n>t}),u=e[t.DashboardConstants.Zero];return u},_getStartDateOfWeek:function(n){var i=n?new Date(Number(n)):new Date;return i.setHours(t.DashboardConstants.Zero,t.DashboardConstants.Zero,t.DashboardConstants.Zero,t.DashboardConstants.Zero),i.setDate(i.getDate()-n.getDay()),i},_getRemainingDaysOfTheWeek:function(n){for(var r=[],u=n.getDay()+t.DashboardConstants.One,i=1;i<=7;i++)i>u&&r.indexOf(i)===t.DashboardConstants.IndexLowerBound&&r.push(i);return r},_getNextRenderDateForMonthly:function(n,i,r,u){var f=new Date(r),o=null,a=32,c=new Date(f.getFullYear(),f.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero),v=new Date(f.getFullYear(),f.getMonth()+t.DashboardConstants.One+i,t.DashboardConstants.Zero),e,l,y;if((v.getDate()<n||c.getDate()<n)&&n!==a)o=i===t.DashboardConstants.One&&c.getDate()<n?c:v;else if(u&&n===f.getDate())o=new Date(f.setMonth(f.getMonth()+i));else if(e=n,l=t.DashboardConstants.Zero,e===a&&(y=new Date(f.getFullYear(),f.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero),e=y.getDate()),e>f.getDate())l=e-f.getDate(),o=new Date(f.setDate(f.getDate()+l));else{var s=new Date(f.setMonth(f.getMonth()+i)),h=new Date(s.getFullYear(),s.getMonth(),t.DashboardConstants.One),p=new Date(s.getFullYear(),s.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero);e===h.getDate()?o=h:e<=p.getDate()&&(o=new Date(h.setDate(h.getDate()+(e-t.DashboardConstants.One))))}return o},_getNextRenderDateForYearly:function(n,i,r,u,f){var e=new Date(u),o=null,a,v;if(f)n===e.getDate()&&i===e.getMonth()+t.DashboardConstants.One&&(o=new Date(e.setFullYear(e.getFullYear()+r)));else{var l=null,c=null,h=null,s=e.getMonth()+t.DashboardConstants.One;n>e.getDate()&&i===s?(l=n-e.getDate(),o=new Date(e.setDate(e.getDate()+l))):i>s?(h=i-s,a=new Date(e.setMonth(e.getMonth()+h)),o=this._getDateForYearlyMode(n,a)):i<=s&&(c=new Date(e.setFullYear(e.getFullYear()+r)),h=s-i,v=new Date(c.setMonth(c.getMonth()-h)),o=this._getDateForYearlyMode(n,v))}return o},_getDateForYearlyMode:function(n,i){var r=null,u=t.DashboardConstants.Zero;return n>i.getDate()?(u=n-i.getDate(),r=new Date(i.setDate(i.getDate()+u))):n===i.getDate()?r=i:n<i&&(u=i.getDate()-n,r=new Date(i.setDate(i.getDate()-u))),r},_initialize24HrsTimerForScheduling:function(n){if(Object.keys(this.scheduleCollection).length>t.DashboardConstants.Zero){var i=this._getBalanceTimeOfTheDay(n);this._setTimerForScheduling(i)}},_getBalanceTimeOfTheDay:function(n){var t=null,i=null;return t=new Date,i=n?new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,58,0):new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,-2,0),i-t},_setTimerForScheduling:function(n){var i=new Date,r=new Date(i.setDate(i.getDate()+t.DashboardConstants.One)),u=this;this.scheduler12ClkTimer!==null&&clearTimeout(this.scheduler12ClkTimer);this.scheduler12ClkTimer=setTimeout(function(){var n=u._getWidgetListForScheduling(r);Object.keys(n).length>t.DashboardConstants.Zero&&u._refreshSchecduleCollection(n,r)},n)},_getWidgetListForScheduling:function(n){for(var f=Object.keys(this.scheduleCollection),e=[],o=f.length,r=0;r<o;r++){var u=f[r],s=this.scheduleCollection[u].scheduleWidgets,i=this._getScheduleWidgetDetails(u,s,n);!t.isNullOrUndefined(i)&&i.scheduleWidgets.length>t.DashboardConstants.Zero&&i.dateResetWidgets.length>t.DashboardConstants.Zero&&(e[u]={scheduleWidgets:i.scheduleWidgets,dateResetWidgets:i.dateResetWidgets})}return e},_getScheduleWidgetDetails:function(n,i,r){for(var u,e=[],o=[],s=i.length,f=0;f<s;f++)u=i[f],!t.isNullOrUndefined(u.nextRenderDate)&&this._checkDateMonthYear(u.nextRenderDate,r)&&(e.push(u.id),o.push(u));return{scheduleWidgets:e,dateResetWidgets:o}},_checkDateMonthYear:function(n,t){var i=!1;return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&(i=!0),i},_refreshSchecduleCollection:function(n,i){var r,u;Object.keys(n).length>t.DashboardConstants.Zero&&(this._resetNextRenderDate(n,i),r=this._getCurrentTabScheduleCollection(n),t.isNullOrUndefined(r)||(u=this._getDashboardControlsForAutoRefresh(r,this.reportName),this.isFromAutoRefresh=!0,!t.isNullOrUndefined(this.scheduleCollection[this.reportName])&&this.scheduleCollection[this.reportName].showWaitingIndicator&&this._autoRefreshWaitingIndicatorCreate(u),this._autoRefreshCallSender(u),this._initialize24HrsTimerForScheduling(!1)))},_getCurrentTabScheduleCollection:function(n){for(var t,r=null,u=Object.keys(n),f=u.length,i=0;i<f;i++)t=u[i],t===this.reportName?r=n[t].scheduleWidgets:this._addHiddenTabScheduleKeys(n[t].scheduleWidgets,t);return r},_addHiddenTabScheduleKeys:function(n,i){var o=Object.keys(this.schedulerHiddenTabKeys),u,e,r,f;if(o.indexOf(i)===t.DashboardConstants.IndexLowerBound)this.schedulerHiddenTabKeys[i]=n;else for(u=this.schedulerHiddenTabKeys[i],e=n.length,r=0;r<e;r++)f=n[r],u.indexOf(f)===t.DashboardConstants.IndexLowerBound&&u.push(f)},_resetNextRenderDate:function(n,i){for(var u,r,s,e=Object.keys(n),f=0;f<e.length;f++){var h=e[f],o=n[h].dateResetWidgets,c=o.length;for(u=0;u<c;u++){r=o[u];r.isSchedule=!0;s=r.mode;switch(s){case t.dashboardViewer.refreshTimer.mode.daily:r.nextRenderDate=this._getNextRenderDateForDaily(r.days,i);break;case t.dashboardViewer.refreshTimer.mode.weekly:r.nextRenderDate=this._getNextRenderDateForWeekly(r.weeks,r.weekDay,i);break;case t.dashboardViewer.refreshTimer.mode.monthly:r.nextRenderDate=this._getNextRenderDateForMonthly(r.day,r.months,i,!0);break;case t.dashboardViewer.refreshTimer.mode.yearly:r.nextRenderDate=this._getNextRenderDateForYearly(r.day,r.month,r.years,i,!0)}}}},_removeWidgetsFromScheduleCollection:function(){var f=Object.keys(this.scheduleCollection),i,n,r;if(f.length>t.DashboardConstants.Zero){var e=this.autoRefreshUserCollection,u=Object.keys(e),o=u.length;for(i=0;i<o;i++)n=u[i],r=this.scheduleCollection[n],!t.isNullOrUndefined(r)&&r.scheduleWidgets.length>t.DashboardConstants.Zero&&(this._removeScheduleWidgetsByDashboardName(n,r.scheduleWidgets),this.scheduleCollection[n].scheduleWidgets.length===t.DashboardConstants.Zero&&delete this.scheduleCollection[n])}},_removeScheduleWidgetsByDashboardName:function(n,i){var u=this.autoRefreshUserCollection[n].disable,e,f,o,r,s;if(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero)for(e=u.length,f=0;f<e;f++)for(o=u[f],r=0;r<i.length;r++)s=i[r].id,o===s&&i.splice(i.indexOf(i[r]),t.DashboardConstants.One)},_clearAllDisablecollection:function(){var i,r,u,n;if(Object.keys(this.autoRefreshUserCollection).length>t.DashboardConstants.Zero)if(i=null,this.multiTabs)for(r=this.getDashboardTabsInfo(),u=r.length,n=0;n<u;n++)i=r[n].tabName,this._removeDisableListOfDbrd(i);else this._removeDisableListOfDbrd(this.reportName)},_removeDisableListOfDbrd:function(n){var i=this.autoRefreshUserCollection[n];!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.disable)&&i.disable.length>t.DashboardConstants.Zero&&(i.disable=[])},_getAutoRefreshWidgetsForCurrentPage:function(n,i){for(var s,u,f,e,o=[],h=this.pageInformations.filter(function(n){return i.indexOf(n)===t.DashboardConstants.IndexLowerBound}),c=n.length,r=0;r<c;r++)for(s=this.dashboardControls.controls.length,u=0;u<s;u++)f=this.dashboardControls.controls[u],e=n[r],f.reportName===e.reportName&&(i.indexOf(f.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?o.push(e):h.indexOf(f.configInfo.Page)!==t.DashboardConstants.IndexLowerBound&&this.hiddenPageWidgetsForRefresh.indexOf(n[r])===t.DashboardConstants.IndexLowerBound&&this.hiddenPageWidgetsForRefresh.push(e));return o},_refreshControlForUpdatedPages:function(){var i,f,r,u;if(this.hiddenPageWidgetsForRefresh.length>t.DashboardConstants.Zero){var e=this._getPageForCurrentView(),n=[],o=this.hiddenPageWidgetsForRefresh.length;for(i=0;i<o;i++)for(f=this.dashboardControls.controls.length,r=0;r<f;r++)u=this.dashboardControls.controls[r],u.reportName===this.hiddenPageWidgetsForRefresh[i].reportName&&e.indexOf(u.configInfo.Page)!==t.DashboardConstants.IndexLowerBound&&n.push(this.hiddenPageWidgetsForRefresh[i]);this.hiddenPageWidgetsForRefresh=this.hiddenPageWidgetsForRefresh.filter(function(i){return n.indexOf(i)<t.DashboardConstants.Zero});n.length>t.DashboardConstants.Zero&&(this._autoRefreshWaitingIndicatorCreate(n),this._autoRefreshCallSender(n))}},_restrictPreviousPageWidgets:function(n){for(var f,e,s,r,i,o=Object.keys(this.autoRefreshCollection),h=o.length,u=0;u<h;u++)if(f=o[u],e=this.autoRefreshCollection[f].refreshWidgets,f.indexOf(this.reportName)!==t.DashboardConstants.IndexLowerBound)for(s=e.length,r=0;r<s;r++)for(i=0;i<n.length;i++)if(e[r]===n[i].id){n.splice(n.indexOf(n[i]),t.DashboardConstants.One);break}return n},_setModelAutoRefreshSettingsAPI:function(n){var u=t.DashboardConstants.Zero,i=0,r=0;if(this._clearTimerForDisableWidgets(),this._clearAutoRefreshTimerAndCollection(),t.isNullOrUndefined(n.interval))if(this.multiTabs)for(i=0;i<n.length;i++)for(r=0;r<this.model.autoRefreshSettings.length;r++)t.isNullOrUndefined(this.model.autoRefreshSettings[r].tabName)||this.model.autoRefreshSettings[r].tabName!==n[i].tabName?t.isNullOrUndefined(this.model.autoRefreshSettings[r].tabName)&&(this.model.autoRefreshSettings[r].tabName=t.isNullOrUndefined(n[i].tabName)?this.model.autoRefreshSettings[r].tabName:n[i].tabName,this.model.autoRefreshSettings[r].tabIndex=t.isNullOrUndefined(n[i].tabIndex)?this.model.autoRefreshSettings[r].tabIndex:n[i].tabIndex,this.model.autoRefreshSettings[r].intervalSettings=t.isNullOrUndefined(n[i].intervalSettings)?this.model.autoRefreshSettings[r].intervalSettings:n[i].intervalSettings,this.model.autoRefreshSettings[r].showWaitingIndicator=t.isNullOrUndefined(n[i].showWaitingIndicator)?this.model.autoRefreshSettings[r].showWaitingIndicator:n[i].showWaitingIndicator,this.model.autoRefreshSettings[r].isWidgetSpecific=t.isNullOrUndefined(n[i].isWidgetSpecific)?this.model.autoRefreshSettings[r].isWidgetSpecific:n[i].isWidgetSpecific,this.model.autoRefreshSettings[r].widgets=t.isNullOrUndefined(n[i].widgets)?this.model.autoRefreshSettings[r].widgets:n[i].widgets,this.model.autoRefreshSettings[r].trackData=t.isNullOrUndefined(n[i].trackData)?this.model.autoRefreshSettings[r].trackData:n[i].trackData):(this.model.autoRefreshSettings[r].tabName=t.isNullOrUndefined(n[i].tabName)?this.model.autoRefreshSettings[r].tabName:n[i].tabName,this.model.autoRefreshSettings[r].tabIndex=t.isNullOrUndefined(n[i].tabIndex)?this.model.autoRefreshSettings[r].tabIndex:n[i].tabIndex,this.model.autoRefreshSettings[r].intervalSettings=t.isNullOrUndefined(n[i].intervalSettings)?this.model.autoRefreshSettings[r].intervalSettings:n[i].intervalSettings,this.model.autoRefreshSettings[r].showWaitingIndicator=t.isNullOrUndefined(n[i].showWaitingIndicator)?this.model.autoRefreshSettings[r].showWaitingIndicator:n[i].showWaitingIndicator,this.model.autoRefreshSettings[r].isWidgetSpecific=t.isNullOrUndefined(n[i].isWidgetSpecific)?this.model.autoRefreshSettings[r].isWidgetSpecific:n[i].isWidgetSpecific,this.model.autoRefreshSettings[r].widgets=t.isNullOrUndefined(n[i].widgets)?this.model.autoRefreshSettings[r].widgets:n[i].widgets,this.model.autoRefreshSettings[r].trackData=t.isNullOrUndefined(n[i].trackData)?this.model.autoRefreshSettings[r].trackData:n[i].trackData);else this.model.autoRefreshSettings[u].intervalSettings=t.isNullOrUndefined(n[u].intervalSettings)?this.model.autoRefreshSettings[u].intervalSettings:n[u].intervalSettings,this.model.autoRefreshSettings[u].showWaitingIndicator=t.isNullOrUndefined(n[u].showWaitingIndicator)?this.model.autoRefreshSettings[u].showWaitingIndicator:n[u].showWaitingIndicator,this.model.autoRefreshSettings[u].isWidgetSpecific=t.isNullOrUndefined(n[u].isWidgetSpecific)?this.model.autoRefreshSettings[u].isWidgetSpecific:n[u].isWidgetSpecific,this.model.autoRefreshSettings[u].widgets=t.isNullOrUndefined(n[u].widgets)?this.model.autoRefreshSettings[u].widgets:n[u].widgets,this.model.autoRefreshSettings[u].trackData=t.isNullOrUndefined(n[u].trackData)?this.model.autoRefreshSettings.trackData[u]:n[u].trackData;else this.model.autoRefreshSettings.interval=t.isNullOrUndefined(n.interval)?t.DashboardConstants.AutoRefreshMinTimer:n.interval,this.model.autoRefreshSettings.showWaitingIndicator=t.isNullOrUndefined(n.showWaitingIndicator)?!1:n.showWaitingIndicator,this.model.autoRefreshSettings.isWidgetSpecific=t.isNullOrUndefined(n.isWidgetSpecific)?!1:n.isWidgetSpecific,this.model.autoRefreshSettings.widgets=t.isNullOrUndefined(n.widgets)?[]:n.widgets,this.model.autoRefreshSettings.trackData=t.isNullOrUndefined(n.trackData)?!1:n.trackData,this._reassignDeprecatedApi();for(i=0;i<this.model.autoRefreshSettings.length;i++)t.isNullOrUndefined(this.model.autoRefreshSettings[i].widgets&&this.model.autoRefreshSettings[i].widgets.length>u)||this._replaceAutoRefreshWidgetGuid()}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.linking={_controlNavigate:function(n,i,r){var u=0,c=0,a=0,o="",tt={data:i,widgetInstance:r,viewerInstance:this},at=t.dashboardViewer.navigationTargets.Blank,et=!1,it,l,vt,p,w,yt,ot,st,pt,g,rt,k,ut,wt,d,f,ht,bt,e,kt,s,ft,gt,v,y,h,nt,lt,b;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){for(it=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,l=0;l<it;l++)for(vt=t.isNullOrUndefined(i[l].Items)?t.DashboardConstants.Zero:i[l].Items.length,p=0;p<vt;p++)i[l].Items[p].IsDateTime&&(i[l].Items[p].Value[t.DashboardConstants.Zero]=t.globalize.format(new Date(i[l].Items[p].Value),i[l].Items[p].Format.replace(/[{0:}]/gi,"")));if(n.LinkType===t.DashboardConstants.One){if(w="",o=n.Path,!t.isNullOrUndefined(n.ColumnsCollection))for(yt=t.isNullOrUndefined(n.ColumnsCollection)?t.DashboardConstants.Zero:n.ColumnsCollection.length,u=0;u<yt;u++){for(w="",ot=n.ColumnsCollection[u],c=0;c<it;c++)for(st=i[c].Items,pt=st.length,a=0;a<pt;a++)g=st[a],t.isNullOrUndefined(g.Column)||g.Column.toUpperCase().replaceAll(" ","").toString()!==ot.UColumn.toUpperCase().replaceAll(" ","").toString()||(w=w===""?g.Value:w+","+g.Value);w!==""&&(o=o.replaceAll("{{:"+ot.Column+"}}",w))}rt=o.match(/~currentdomain~ *?/gi);rt!==null&&rt.length!==t.DashboardConstants.Zero&&(o=o.replace(rt[0],encodeURI(location.protocol+"//"+location.host)));o.match(/^[a-zA-Z]+:\/\//)||(o="http://"+o);this._navigateLink(o,at,et,tt,n)}else if(k=[],!t.isNullOrUndefined(n.LinkedControls)){for(ut=[],wt=n.LinkedControls.length,d=0;d<wt;d++){for(f=n.LinkedControls[d].ColumnsCollection,c=0;c<it;c++)for(ht=i[c].Items,c!==t.DashboardConstants.Zero&&k.push("Or"),bt=ht.length,a=0;a<bt;a++)for(e=ht[a],kt=f.length,u=0;u<kt;u++)if(!t.isNullOrUndefined(f[u].SourceControl)&&e.Column.toUpperCase()===f[u].SourceColumn.replace(/[^\w\s]/gi,"").toUpperCase()&&!t.isNullOrUndefined(f[u].UColumn)){s=new selectedFilterInfo;s.UniqueColumnName=f[u].UColumn.toLowerCase().replaceAll(" ","").toString();s.ReportName=n.LinkedControls[d].MasterControl;var ni=this.dashboardControls.getControlByReport(f[u].SourceControl),ct=ni.configInfo.DateTimeColumns,ti=t.isNullOrUndefined(ct)?t.DashboardConstants.Zero:ct.length,dt=!1;for(ft=t.DashboardConstants.Zero;ft<ti;ft++)if(ct[ft]===f[u].SourceColumn){dt=!0;break}e.IsDateTime||dt?(e.Value.length>t.DashboardConstants.One?s.DateFilterInfo.DateFilterList.push(e.Value):(e.Value[t.DashboardConstants.Zero]=Number.isInteger(e.Value[t.DashboardConstants.Zero])?e.Value[t.DashboardConstants.Zero].toString():e.Value[t.DashboardConstants.Zero],s.DateFilterInfo.DateFilterList=e.Value),s.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(e.Value.length>t.DashboardConstants.One?s.DimensionFilterInfo.Text.push(e.Value):s.DimensionFilterInfo.Text=e.Value,s.DimensionFilterInfo.Conditions="Include");ut.push(s);k.length!==t.DashboardConstants.Zero&&k.push("And");k.push(f[u].Column+"="+e.Value);break}for(gt=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,u=0;u<gt;u++)t.isNullOrUndefined(f[u].SourceControl)||(v=this.dashboardControls.getAllControlsMasterData(),y=this._checkFilterInfoByReportName(f[u].SourceControl,v),y!==null&&(h=new selectedFilterInfo,h.UniqueColumnName=f[u].UColumn,h.ReportName=n.LinkedControls[d].MasterControl,h.DateFilterInfo=v[y].DateFilterInfo,h.DimensionFilterInfo=v[y].DimensionFilterInfo,h.MeasureFilterInfo=v[y].MeasureFilterInfo,h.PointIndex=v[y].PointIndex,h.SeriesIndex=v[y].SeriesIndex,h.Value=v[y].Value,ut.push(h)))}nt={masterReport:ut,path:n.Path,title:k,isPhysicalPath:n.IsPhysicalPath,tabName:n.ReportDisplayName,tabId:n.ReportUniqueName};n.LinkType===2?(lt=nt.path,b={tabName:lt,handled:et,source:tt},this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:b}),this._trigger("beforeNavigate",{data:b}),b.handled||this._renderLinkedDashboard(nt),b={tabName:lt,source:tt},this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:b}),this._trigger("afterNavigate",{data:b})):(o=nt.path,this._navigateLink(o,at,et,tt,n,nt))}}},_navigateLink:function(n,i,r,u,f,e){var o={url:n,target:i,handled:r,source:u};if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:o}),this._trigger("beforeNavigate",{data:o}),!o.handled){switch(o.target){case t.dashboardViewer.navigationTargets.Self:case t.dashboardViewer.navigationTargets.Top:case t.dashboardViewer.navigationTargets.Blank:case t.dashboardViewer.navigationTargets.Parent:break;default:if(this._isTargetFrame(o))return}f.LinkType===t.DashboardConstants.Zero?this._launchNewDashboardWindow(e,o):o.url!==""&&(o.url.indexOf("%")!==t.DashboardConstants.IndexLowerBound?t.DashboardConstants.Window.open(o.url,o.target):t.DashboardConstants.Window.open(encodeURI(o.url),o.target));o={url:n,target:i,source:u};this._trigger("afterNavigate",{data:o});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:o})}},_isTargetFrame:function(n){var i=null;return(i=document.getElementById(n.target),i===null&&(i=document.getElementsByName(n.target),t.isNullOrUndefined(i)||i.length===t.DashboardConstants.Zero||(i=i[t.DashboardConstants.Zero])),i!==null&&i.length!==t.DashboardConstants.Zero)?(i.setAttribute("src",n.url),!0):(n.target=t.dashboardViewer.navigationTargets.Blank,!1)},_renderLinkedDashboard:function(n){var i,r,u;t.isNullOrUndefined(n)||(i=254,r="",n.masterReport.length!==t.DashboardConstants.Zero?r=encodeURI(String.fromCharCode(i)+"filterQuery"+String.fromCharCode(i)+"="+CryptoJS.AES.encrypt(JSON.stringify(n.masterReport).replaceAll(":",String.fromCharCode(i)),"RGFzaGJvYXJkIFVybCBLZXk=").toString()):this.model.currentMasterReport=null,u=this._getTabIndexByTabName(n.tabName),this._renderSelectedDashboard(u,r))},_renderSelectedDashboard:function(i,r){var u,f,o,e,s;if(!t.isNullOrUndefined(i)){if(u=this.tabInformation,t.isNullOrUndefined(u))return;for(f=null,o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,e=0;e<o;e++)if(i===e){s=this.element.find(".e-dbrd-tab-container").attr("id");f=n("#"+s).data("ejDashboardTab");break}t.isNullOrUndefined(f)||(t.isNullOrUndefined(r)||(this.isLinking=!0,this.model.filterParameters=r,this._initializeFilterParameters()),f.option({selectedItemIndex:i}),this.model.selectedTabIndex=i)}},_launchNewDashboardWindow:function(i,r){var e,u;if(!t.isNullOrUndefined(i))if(e=t.buildTag("div"),u=i.path,i.isPhysicalPath){u=u.replace(/\\/g,"\\\\");e.append(n('<div style="width:100%;height:100%;">').attr({id:"drilledDashboard"}));var s=' $("#drilledDashboard").ejDashboardViewer({ dashboardPath:"'+u+'",currentMasterReport:'+JSON.stringify(i.masterReport)+',url:"'+this.serviceUrl()+'"  });',f=window.open("","_blank",""),h=n("head").find("link").add("style"),c=n("head").find("script").add("style"),o="";h.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);o+=i.outerHTML});c.each(function(t,i){i.tagName==="SCRIPT"&&i.src!==""&&n(i).attr("src",i.src);o+=i.outerHTML});t.browserInfo().name==="msie"?f.document.write('<html style="width:100%;height:100%;"><head  title="{{:reportName  }  } '+i.title.join(" ")+'"><title><\/title><\/head><body style="width:100%;height:100%;">'+o+e[0].innerHTML+"<script>"+s+"<\/script><\/body><\/html>"):(f.document.write('<html style="width:100%;height:100%;"/>'),f.document.writeln('<head title="{{:reportName  }  } '+i.title.join(" ")+'">'+o+'<title><\/title><\/head><body style="width:100%;height:100%;">'),f.document.writeln(e[0].innerHTML+"<script>"+s+"<\/script><\/body><\/html>"));f.focus()}else i.masterReport.length!==t.DashboardConstants.Zero?(u=u.match(/\?./)?u+"&"+encodeURI(this.multiTabs===!0?"~tabname~="+i.tabName+"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport))):"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport)))):u+"?"+encodeURI(this.multiTabs===!0?"~tabname~="+i.tabName+"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport))):"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport)))),r.url=u,t.DashboardConstants.Window.open(u,r.target,"")):(u=u+"?~tabname~="+i.tabName,r.url=u,t.DashboardConstants.Window.open(u,r.target,""))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.maximize={_maximizeControl:function(i,r){var h=n(this.currentTabContentElement).find("#"+i),gt=h.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlid"),ti,ii,f,it,st,ht,c,at,ri,w,ei,b,oi,si,g,hi,ut,yt,ci,li;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogOpen,source:{element:h,data:gt}});this.lastFocusElement=h;this.scrollTop=n(window).scrollTop();var u=t.buildTag("div"),o=h.closest(".e-dbrd-layout-cell"),l=h.attr("type"),ai=h.parents(".e-dbrd-control-container").attr("id"),ni=o.find(".e-control-title").html()||"",pt=o.children().find(".e-control-description"),vi="black",e=null,s=null,tt=h.parents(".e-dbrd-control-container"),p=o.find(".e-control-subtitle").html(),v=o.find(".e-dbrd-link-enable"),ft=o.find(".e-dbrd-drill-enable"),k=null,d=null,et=null,ot=null;if(this.element.find(".e-dbrd-tooltip").hide(),this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._dashboardId+"_toolTip"}).addClass("e-dbrd-tooltip")),this._closeCommentDialog(h),this._destroyControlMenu(),this._destroyContextMenu(),this._destroyDashboardMenu(),this._tabMenuPopupHide(),this.currentTabContentElement.css({"overflow-x":"hidden"}),this.element.css({"overflow-x":"hidden"}),tt.find(".e-control-title").length>t.DashboardConstants.Zero&&(vi=tt.find(".e-control-title").css("color")),ti=this._getControlHeaderAlignment(tt),t.isNullOrUndefined(pt)&&(pt=""),ii=n("#"+this.currentTabContentElement.attr("id")).children(),ii.attr("aria-hidden",!0),n(window).width()<t.DashboardConstants.MobileWidth?u.attr({role:"dialog",tabindex:"-1",id:this.currentTabContentElement.attr("id")+"_InActiveDiv",ChartMaximixed:this._chartmaximizefind(l),type:l,"data-id":o.find(".e-dbrd-control").attr("data-controlId")+"_Maximize"}).css({width:"100%",height:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)","z-index":"999"}):u.attr({role:"dialog",tabindex:"-1",id:this.currentTabContentElement.attr("id")+"_InActiveDiv",ChartMaximixed:this._chartmaximizefind(l),type:l,"data-id":o.find(".e-dbrd-control").attr("data-controlId")+"_Maximize"}).css({width:"100%",height:"100%",position:"absolute",top:"50%",left:"50%","background-color":"rgba(0, 0, 0, 0.6)",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)","z-index":"999"}),this.currentTabContentElement.append(u),f=n("<div>").addClass("e-dbrd-inactive-header").css({display:"none","margin-top":"45px"}),n(window).width()<t.DashboardConstants.MobileWidth&&f.css({height:"45px",display:"none","margin-top":"0px"}),e=n("<div>").addClass("e-dbrd-maxControl-title").css({"text-align":""+ti}),n(window).width()<=t.DashboardConstants.MobileWidth&&(e.append(n("<div>").addClass("e-dbrd-inactive-header-close e-dbrd-inactive-header-close-button e-dbrd-maxIcon")),ot=n("<div>").addClass("e-dbrd-maximize-titleDiv"),ot.append(n("<span>").addClass("e-dbrd-maxTitleText").html(ni)),e.append(ot),f.append(e)),it=h.siblings(".e-dbrd-banner-widget-withcomments"),st=h.siblings(".e-dbrd-banner-widget-withoutcomments"),s=n("<div>").addClass("e-dbrd-maximize-controlprop").css({float:"right",width:"auto",height:"30px"}),this.model.allowComment&&(it.length>0||st.length>0)&&(ht=it.length>t.DashboardConstants.Zero?n("<div>").attr({tabindex:"0",role:"button"}).addClass("e-dbrd-banner-widget-withcomments e-dbrd-hoverable e-dbrd-border e-dbrd-maxIcon").attr({"aria-label":"Maximize","data-tooltip":this.locale.utils.Comment,type:l,"data-widget-id":o.find(".e-dbrd-control-container")[0].id,id:it[0].id}).css({float:"left","border-top-width":"0px","padding-left":"10px","padding-right":"10px"}):n("<div>").attr({tabindex:"0",role:"button"}).addClass("e-dbrd-banner-widget-withoutcomments e-dbrd-hoverable e-dbrd-border e-dbrd-maxIcon").attr({"aria-label":"Maximize","data-tooltip":this.locale.utils.Comment,type:l,"data-widget-id":o.find(".e-dbrd-control-container")[0].id,id:st.length!==t.DashboardConstants.Zero?st[0].id:it[0].id}).css({float:"left","border-top-width":"0px","padding-left":"10px","padding-right":"10px"}),n(window).width()<t.DashboardConstants.MobileWidth&&ht.css({float:"left","border-left-width":"0px","border-right-width":"0px","padding-right":"20px"}),n(window).width()<t.DashboardConstants.MobileWidth&&ht.removeClass("e-dbrd-hoverable"),s.append(ht)),(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel||this.model._exportSettings.canExportCsv)&&(tt.find(".e-dbrd-control-menu").length>t.DashboardConstants.Zero||h.id==="dashboard_contextMenuPopup"&&h.siblings(".e-control-prop").children(".e-dbrd-control-menu").length>t.DashboardConstants.Zero||tt.find(".e-dbrd-control-small-menu").length>t.DashboardConstants.Zero)&&(n(window).width()<t.DashboardConstants.MobileWidth?s.append(n("<div>").addClass("e-dbrd-inactive-header-Menu-button e-dbrd-maxIcon").attr({"control-id":o.find(".e-dbrd-control").attr("id")})):s.append(n("<div>").addClass("e-dbrd-inactive-header-Menu-button e-dbrd-maxIcon e-dbrd-hoverable").attr({"control-id":o.find(".e-dbrd-control").attr("id"),"data-tooltip":this.locale.utils.Export}))),t.isNullOrUndefined(p)||(et=n("<div>").addClass("e-dbrd-inactive-subtitle").css({display:"none","margin-top":"0px"}),k=n("<div>").addClass("e-dbrd-maxcontrol-subTitle").css({float:"left"}),n(window).width()<t.DashboardConstants.MobileWidth?(d=n("<div>").addClass("e-dbrd-maximize-subTitleDiv").css({float:"left"}),d.append(n("<span>").addClass("e-dbrd-maxSubTitleText").html(p)),f.css({height:"52px"}),e.css({height:"49px"})):(k.html(p),et.append(k))),n(window).width()<t.DashboardConstants.MobileWidth&&(!t.isNullOrUndefined(v)&&v.length>t.DashboardConstants.Zero?v.clone().appendTo(e).css({"padding-left":"10px","padding-right":"10px"}):t.isNullOrUndefined(ft)||ft.clone().appendTo(e).css({"padding-left":"10px","padding-right":"15px","padding-top":"5px"}),e.append(s),f.append(e),t.isNullOrUndefined(p)||(f.append(d),d.css({"margin-left":"32px"}))),n(window).width()>t.DashboardConstants.MobileWidth){e.html(ni).css({float:"left"});f.append(e);!t.isNullOrUndefined(v)&&v.length>t.DashboardConstants.Zero?v.clone().appendTo(f).css({display:"inline-block","padding-left":"10px","padding-right":"10px","padding-top":"3px"}):t.isNullOrUndefined(ft)||ft.clone().appendTo(f).css({display:"inline-block","padding-left":"10px","padding-right":"15px","padding-top":"5px"});s.append(n("<div>").addClass("e-dbrd-inactive-header-close e-dbrd-inactive-header-close-button e-dbrd-maxIcon e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.Close}));var yi=e.find(".e-dbrd-inactive-header-Menu-button"),ct=s.find(".e-dbrd-banner-widget-withcomments"),lt=s.find(".e-dbrd-banner-widget-withoutcomments");n(window).width()<t.DashboardConstants.MobileWidth&&yi.length===t.DashboardConstants.Zero&&(ct.length!==t.DashboardConstants.Zero?ct.css({"margin-right":"10px"}):lt.length!==t.DashboardConstants.Zero&&lt.css({"margin-right":"10px"}));n(window).width()>=t.DashboardConstants.MobileWidth&&(ct.length!==t.DashboardConstants.Zero?ct.css({"margin-right":"5px"}):lt.length!==t.DashboardConstants.Zero&&lt.css({"margin-right":"5px"}));f.append(s)}c=n("<div>").addClass("e-dbrd-control-container e-dbrd-control-container-avoid ").attr({id:ai}).css({width:"80%",height:"calc(90% - 120px)","margin-left":"10%",display:"none","background-color":"white"});n(window).width()<t.DashboardConstants.MobileWidth&&c.css({width:"100%",height:"calc(100% - 94px)","margin-left":"0%",display:"none","background-color":"white"});t.browserInfo().name==="webkit"&&c.height(u.parent().height()*.9-80);var rt=n("<div class='e-dbrd-inactive-footer-description'>"),y=n("<div>").addClass("e-dbrd-inactive-footer").html(rt),a=null;t.isNullOrUndefined(pt)||(a=rt.append(o.children().find(".e-control-description").text()),n(window).width()<t.DashboardConstants.MobileWidth?rt.css({"padding-right":"0px","padding-left":"0px"}):(y.css({"overflow-y":"hidden"}),this._inactiveFooterWidth()));n(window).width()>t.DashboardConstants.MobileWidth&&a[0].innerText===""&&f.css({"margin-top":this.currentTabContentElement.find(".e-dbrd-banner").height()*2});var wt=n("<div>").addClass("e-dbrd-moreLessDiv").css({height:"25px",width:"100%","background-color":"#ffffff"}),bt=n("<div>").addClass("e-dbrd-desc-moreDiv").css({height:"25px",width:"80px","padding-left":"45%","background-color":"#ffffff",color:"#009aef"}),pi='<div class = "e-dbrd-downArrow"><\/div><div class = "e-dbrd-moreText">'+this.locale.utils.TextMore+"<\/div>",wi='<div class = "e-dbrd-upArrow"><\/div><div class = "e-dbrd-lessText">'+this.locale.utils.TextLess+"<\/div>";bt.append(pi);bt.append(wi);wt.append(bt);at=n("<div>").addClass("e-dbrd-descriptionDiv").css({"margin-top":"45px",height:"90px",width:"100%","background-color":"#ffffff"});at.append(y);n(window).width()<t.DashboardConstants.MobileWidth&&a!==null&&a[0].innerText!==""&&!t.isNullOrUndefined(p)?u.append(f,at).addClass("e-dbrd-inactive"):n(window).width()<t.DashboardConstants.MobileWidth&&a!==null&&a[0].innerText!==""?u.append(f,at).addClass("e-dbrd-inactive"):n(window).width()<t.DashboardConstants.MobileWidth&&!t.isNullOrUndefined(p)?u.append(f).addClass("e-dbrd-inactive"):a!==null&&a[0].innerText!==""?u.append(f,et,y).addClass("e-dbrd-inactive"):u.append(f,et).addClass("e-dbrd-inactive");n(window).width()<t.DashboardConstants.MobileWidth&&rt.height()>y.height()?(ri=wt.height()+f.height()+y.height()+32,c.css({height:"calc(100% - "+ri+"px)"}),u.append(wt,c).addClass("e-dbrd-inactive")):n(window).width()<t.DashboardConstants.MobileWidth&&a[0].innerText===""?(c.css({height:"calc(100% - "+f.height()+"px)","margin-top":f.height()}),u.append(c).addClass("e-dbrd-inactive")):u.append(c).addClass("e-dbrd-inactive");var bi=u.find(".e-dbrd-inactive-header-close-button"),ki=u.find(".e-dbrd-inactive-header-Menu-button"),di=!t.isNullOrUndefined(v)&&v.length>t.DashboardConstants.Zero?u.find(".e-dbrd-link-enable"):u.find(".e-dbrd-drill-enable"),kt=bi.width()+ki.width()+di.width()+60;if(this.model.allowComment&&n(window).width()<t.DashboardConstants.MobileWidth){var ui=u.find(".e-dbrd-banner-widget-withcomments"),fi=u.find(".e-dbrd-banner-widget-withoutcomments");(ui.length!==t.DashboardConstants.Zero||fi.length!==t.DashboardConstants.Zero)&&(kt+=ui.width()+fi.width()+30,u.find(".e-dbrd-maximize-titleDiv").css({"max-width":"calc(100% - "+kt+"px)",display:"inline-block","margin-left":"7px"}))}else u.find(".e-dbrd-maximize-titleDiv").css({"max-width":"calc(100% - "+kt+"px)",display:"inline-block","margin-left":"7px"});w=t.buildTag("div");c.append(w);u.children().show();u.children().show();n(window).width()>=t.DashboardConstants.MobileWidth?(y.find(".e-dbrd-inactive-footer-description").height()>y.height()&&(u.find(".e-dbrd-inactive-footer").ejDashboardScroller({height:y.height()}),u.find(".e-dbrd-inactive-footer-description").css({width:rt.width()-10})),e.width()>=f.width()-s.width()&&(ei=(s.children.length+1)*10,e.css({"max-width":f.width()-s.width()-ei+"px",width:"auto",display:"inline-block"}))):t.isNullOrUndefined(d)||d.find(".e-dbrd-maxSubTitleText").css({"max-width":f.width()-40+"px"});w.attr({id:this._id+"_maximized"}).css({height:"100%",width:"100%",position:"relative"}).addClass("e-dbrd-MaximizedControl e-dbrd-control");!t.isNullOrUndefined(r)&&r&&w.addClass("dashboardCustomWidget");b=o.find(".e-dbrd-control").attr("data-controlId");w.attr({"data-controlid":b});this.model.enableCustomTheming&&(this._customTheme(["maximize"]),oi={controlType:l,reportName:b,isMaximize:!0,Id:"dashboard_maximized"},si=this.dashboardControls.getControlByReport(b),this.applyCustomTheme(oi,si.controlThemeName));g=null;this.dashboardControls.getControlByReport(b)&&(g=new Dbrdcontrol,g=g.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(b)))),this.maximizedashboardControls.addControl(g));var nt=n("<div>").addClass("e-dbrd-max-wrapper").css({height:"100%",width:"100%",position:"absolute"}),gi=u.find(".e-dbrd-inactive-header").detach(),nr=u.find(".e-dbrd-inactive-subtitle").detach(),dt=null,vt=null;if(n(window).width()<t.DashboardConstants.MobileWidth?(dt=u.find(".e-dbrd-descriptionDiv").detach(),vt=u.find(".e-dbrd-moreLessDiv").detach()):dt=u.find(".e-dbrd-inactive-footer").detach(),hi=u.find(".e-dbrd-control-container").detach(),nt.append(gi),nt.append(nr),nt.append(dt),t.isNullOrUndefined(vt)||vt.length===t.DashboardConstants.Zero||nt.append(vt),nt.append(hi),u.append(nt),c=u.find(".e-dbrd-control-container"),o.find(".e-nodata").length>t.DashboardConstants.Zero&&l!=="ProportionChart")c.css({"background-color":"white"}),w.css({width:c.width()-10,"margin-left":"5px"}).append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));else{if(ut=t.DashboardConstants.Zero,n("body").find("#preventDiv").length!==t.DashboardConstants.Zero){for(n("body").find("#preventDiv").remove(),yt=n(".e-pivotgrid"),ci=t.isNullOrUndefined(yt)?t.DashboardConstants.Zero:yt.length,ut=0;ut<ci;ut++)yt.eq(ut).data("ejDashboardWaitingPopup").hide();n(".dashboardPivotGridControl").find(".e-dialog-wrap:visible").hide()}li={elementType:l,reportName:b,control:g,element:o};this._widgetMaximize(w,c,li)}n(window).width()>t.DashboardConstants.MobileWidth?e.css({"max-width":f.width()-s.width()}):ot.css({"max-width":f.width()-s.width()});t.isNullOrUndefined(p)||(k.css({"max-width":k.width()}),this._adjustParameterColumn(k));this._adjustParameterColumn(e);this._destroyWaitingPopup();this._manageFocusWithInElement(u);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogOpen,source:{element:h,data:gt}})},_hideMaximize:function(i){var s=n(i.target),h=n(i.currentTarget),c,u,o;if(s.hasClass("e-dbrd-viewdata")){c=n("#"+this._id+"_data_Div");c.data().ejDashboardGrid.destroy();s.remove();return}if(h.hasClass("canClose")&&(u=i.target.id.split("_DrilledCharts_"),h.attr("chartmaximixed")!=="true"||u[0]===this._id+"_InActiveDiv"||!(("#"+u[0]+"_DrilledChart_"+u[1]).indexOf("canvas")>t.DashboardConstants.IndexLowerBound||("#"+u[0]+"_DrilledChart_"+u[1]).indexOf("svg")>t.DashboardConstants.IndexLowerBound||u[0]!==""))){var e=n("#"+this._id+"_InActiveDiv"),l=this.currentTabContentElement.find(".e-dbrd-inactive").attr("data-id"),f=l.split("_Maximize")[0],r=new 673;if((this.dashboardControls.getControlByReport(f)&&(r=r.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f))))),f.indexOf("PivotGrid")>t.DashboardConstants.IndexLowerBound&&(n(i.target).hasClass("e-dbrd-inactive-header-close")||n(i.target).hasClass("canClose"))&&(o=n("#dashboard_PivotGrid_"+f).children().data("ejDashboardPivotGrid"),r.data[0].pagedata=o._JSONRecords,r.PivotReport=o._olapReport,this.dashboardControls.updateCurrentReport(r)),n(i.target).hasClass("e-dbrd-inactive-header-close")&&(r.isExportFromMaximizedView=!1,this._updateValuesInDrillLevelInfo(r,f,[],!0)),this.dashboardControls.updateCurrentReport(r),n(i.target).hasClass("e-dbrd-inactive")||n(i.target).hasClass("e-dbrd-inactive-header-close"))&&(i.type!=="keypress"||i.key==="Esc")){e.children().fadeOut("slow");n("html,body").animate({scrollTop:this.scrollTop},"slow");try{t.widget.destroyAll(e.find(".e-js").off())}catch(a){console.info(a.message)}e.remove();this.maximizedashboardControls=new dbrddashboardControls;this.setFocus(this.lastFocusElement)}}},_onMaximizeMove:function(t){n(t.currentTarget).hasClass("e-dbrd-viewdata")||n(t.currentTarget).addClass("canClose")}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.errordialogs={_showErrorDialog:function(i){var u,f,e;if(!t.isNullOrUndefined(i)){this._on(n("body"),"keydown",this._hideErrorDialog);var s=n(i.currentTarget).data("err-informative-msg"),o=n(i.target).attr("class"),r=this.currentTabContentElement.find("#"+this._id+"_error_dialog");r.length===t.DashboardConstants.Zero&&(this._renderErrorMsgDialog(),r=this.currentTabContentElement.find("#"+this._id+"_error_dialog"));u=r.find(".e-dbrd-dialog-content-wrapper");t.isNullOrUndefined(o)||o.indexOf("e-dbrd-learnMore")===t.DashboardConstants.IndexLowerBound?(r.find(".e-dbrd-dialog-title").html(this.locale.utils.DataRetrievalError),r.find(".e-info-msg").length>t.DashboardConstants.Zero&&r.find(".e-info-msg").remove(),u.children(".e-dbrd-content").prepend("<p class='e-info-msg'>"+s+"<\/p>")):(this.currentTabContentElement.find("#"+u.attr("id")).ejDashboardScroller({height:"130",orientation:"vertical"}),u.addClass("e-dbrd-control"),this.currentTabContentElement.find(".e-dbrd-showDetails, .e-dbrd-stacktrace.e-dbrd-control").css("display","none"),u.children(".e-dbrd-content").html(this.dashboardError));this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").show();this._off(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails);this._off(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails);this._on(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails);this._on(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails);r.show();f=this.currentTabContentElement.find(".e-dbrd-dialog.e-dbrd-alert");f.addClass("e-dbrd-error-desc");n(window).width()<t.DashboardConstants.MobileWidth&&f.addClass("e-dbrd-error-mob");e=u.data("ejDashboardScroller");t.isNullOrUndefined(e)||e.refresh();this.model.enableCustomTheming&&this._customTheme(["popup"])}},_hideErrorDialog:function(i){if(n.isFunction(i.preventDefault)){i.preventDefault();i.bubbles=!1;var r=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog");t.isNullOrUndefined(r)||r.length!==t.DashboardConstants.Zero?this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}}):r=this.currentTabContentElement.find("#"+this._id+"_error_dialog");t.isNullOrUndefined(r)||i.keyCode!==13&&i.keyCode!==27&&i.type!=="click"||(r.remove(),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove(),this._hideErrorDetails(),this._off(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails),this._off(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails),this._off(n("body"),"keydown",this._hideErrorDialog));this.currentTabContentElement.find(".e-dbrd-error-text-close").remove();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}})}},_hideGetLinkDialog:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}});var i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog");t.isNullOrUndefined(i)||(i.remove(),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove(),this._off(n("body"),"keydown",this._hideErrorDialog));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}})},_showControlError:function(i,r,u){var f,e;t.isNullOrUndefined(i&&r&&u)||(f=r,f.hasClass("e-dbrd-layout-cell")&&(f=f.children()),i.length===t.DashboardConstants.Zero&&(i=this.locale.utils.DataError),e=f.siblings(".e-dbrd-control-error")||f.children(".e-dbrd-control-error"),f.children().hide(),e.length===t.DashboardConstants.Zero?(e=n("<div>").addClass("e-dbrd-control-error align-center"),e.append(n("<div>").addClass("widget-error-icon").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable"),n("<div>").addClass("e-dbrd-controlError-msg").html(i),n("<div class='e-dbrd-link-btn'>").html(this.locale.utils.KnowMore).data({"error-msg":u.msg,"err-informative-msg":u.informativeMsg})),f.css({display:"table"}),e.append(n("<button type='button' class='reload-retrievalerror-icon reload-button'><span style = 'padding-left:6px'>"+this.locale.utils.Reload+"<\/span><\/button>").addClass("e-dbrd-refresh-link-btn").css({"font-size":"13px"}).data({control:f})),f.append(e),f.parents(".e-dbrd-layout-cell").attr("rowspan")==="1"&&f.parents(".e-dbrd-layout-cell").attr("colspan")==="1"?(e.find(".widget-error-icon").remove(),e.prepend(n("<div>").addClass("widget-error-icon-single").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable").css({"font-size":"18px"})),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-link-btn").css({"font-size":"7px"}),e.find(".e-dbrd-refresh-link-btn").css({border:"none","font-size":"7px",color:"#3b99fc",height:"15px","margin-top":"0px"})):f.parents(".e-dbrd-layout-cell").attr("rowspan")==="1"&&(e.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single"))):e.show().html(i),f.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"none"}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]))},_hideControlError:function(n){var i,r;t.isNullOrUndefined(n)||(i=n.find(".e-dbrd-control-error")||n.siblings(".e-dbrd-control-error"),i.length!==t.DashboardConstants.Zero&&(r=n.find(".e-control-heading"),r.length!==t.DashboardConstants.Zero&&r.css({display:"block"}),n.css({width:"100%"}),n.children().show(),i.remove(),n.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"block"})))},_displayNoDataAvailable:function(i){for(var f,r,e=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<e;u++)f=n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-dbrd-control"),r="",t.isNullOrUndefined(f)||(r=f.attr("data-controlid").toLowerCase()),r.indexOf("datepicker")!==t.DashboardConstants.IndexLowerBound||r.indexOf("rangenavigator")!==t.DashboardConstants.IndexLowerBound||r.indexOf("radiobutton")!==t.DashboardConstants.IndexLowerBound||r.indexOf("listbox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("combobox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("checkbox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("rangeslider")!==t.DashboardConstants.IndexLowerBound?(n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-nodata").length===t.DashboardConstants.Zero&&n("#"+i[u]).closest(".e-dbrd-control-container").append(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide()):this._applyOrRemoveNoDataAvailable(t.DashboardConstants.Zero,f)},_applyOrRemoveNoDataAvailable:function(i,r){var u=r,f,o,s,e;return(u&&u.find(".e-dbrd-control-nodatainfo").remove(),u.hasClass("e-dbrd-layout-cell")&&(u=u.children()),f=u.siblings(".e-dbrd-control-nodatainfo")||u.children(".e-dbrd-control-nodatainfo"),o=n("<div>").addClass("e-dbrd-control-nodatainfo align-center").css({display:"inline-block"}),i===t.DashboardConstants.Zero)?(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").addClass("e-disable").removeClass("e-dbrd-hoverable").css({cursor:"default"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").addClass("e-disable").removeClass("e-dbrd-hoverable").css({cursor:"default"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"}),f.length===t.DashboardConstants.Zero?(u.children().hide(),f=n('<div style="height:auto; width:100%; display:table">').addClass("e-dbrd-control-nodatainfo"),o.append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),u.css({display:"table"}),f.append(o),u.append(f)):(u.children().hide(),f.show().html(this.locale.utils.NoData).addClass("e-nodata")),s=u.height()-o.height(),o.css({"margin-top":s/2}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]),!1):(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").removeClass("e-disable").addClass("e-dbrd-hoverable"),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").removeClass("e-disable").addClass("e-dbrd-hoverable"),u.children().show(),u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.RangeSlider||u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.FilterComboBox||u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.DatePicker?u.children().show():u.css({display:"block"}),u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.FilterComboBox&&u.hasClass("e-dbrd-control-listbox")&&u.css({display:"block"}),this._hideControlError(u),f.remove(),n(window).width()<t.DashboardConstants.MobileWidth?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n(window).width()<t.DashboardConstants.MobileWidth?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}):(e=u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu"),n(e).hasClass("enable-csv-export")||n(e).hasClass("enable-excel-export")||n(e).hasClass("enable-image-export")||n(e).hasClass("enable-pdf-export")?e.css({display:"block"}):e.css({display:"none"})),this.model.responsiveSettings.isWidgetCommented?(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"block"})):n(window).width()<t.DashboardConstants.MobileWidth?(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"})):(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"block"})),!0)},_applyOrRemoveNoDataAvailableForFilters:function(i,r){return t.isNullOrUndefined(i,r)?null:i===t.DashboardConstants.Zero?(n(r).closest(".e-dbrd-control-container").find(".e-nodata").length===t.DashboardConstants.Zero&&n(r).closest(".e-dbrd-control-container").append(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide(),!1):(n(r).closest(".e-dbrd-control-container").find(".e-nodata").remove(),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").show(),!0)},_showErrorDetails:function(){var i=this.currentTabContentElement.find(".e-dbrd-dialog"),r=100,u;n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.currentTabContentElement.height()-(i.find(".e-dbrd-dialog-content-wrapper .e-dbrd-content").height()+60));i.find(".e-dbrd-showDetails").html(this.locale.utils.HideDetails).removeClass("e-dbrd-showDetails").addClass("e-dbrd-hideDetails");i.find(".e-dbrd-stacktrace").addClass("e-dbrd-err-visible").removeClass("e-dbrd-err-hide");u=this.currentTabContentElement.find(".e-dbrd-link-btn").data("error-msg");i.find(".e-dbrd-stacktrace").append("<div class='e-stackTrace-content'><p class ='e-err-stack-content'><\/p><\/div>");i.find(".e-stackTrace-content .e-err-stack-content").html(u);i.find("#"+this._id+"_error_dialog_show_content").ejDashboardScroller({height:r+"px",orientation:"vertical"})},_hideErrorDetails:function(){var n=this.currentTabContentElement.find(".e-dbrd-dialog"),i;n.find(".e-dbrd-hideDetails").html(this.locale.utils.ShowDetails).removeClass("e-dbrd-hideDetails").addClass("e-dbrd-showDetails");n.find(".e-dbrd-stacktrace").addClass("e-dbrd-err-hide").removeClass("e-dbrd-err-visible");n.find("#"+this._id+"_error_dialog_show_content").length>t.DashboardConstants.Zero&&(i=this.currentTabContentElement.find("#"+this._id+"_error_dialog_show_content").data("ejDashboardScroller"),t.isNullOrUndefined(i)||i.destroy(),n.find(".e-stackTrace-content").remove())},_getErrorSwitchDetails:function(i){var r=null;return n(window).width()<t.DashboardConstants.MobileWidth?(r="mobile",i.hasClass("e-dbrd-error-mob")||i.addClass("e-dbrd-error-mob")):n(window).width()>t.DashboardConstants.MobileWidth&&i.hasClass("e-dbrd-error-mob")&&(r="Desktop",i.removeClass("e-dbrd-error-mob")),r},_refreshErrorScroller:function(n){var r=this.currentTabContentElement.find("#"+this._id+"_error_dialog"),u=r.find(".e-dbrd-dialog-content-wrapper"),i=null;i=r.find("#"+this._id+"_error_dialog_show_content").data("ejDashboardScroller");t.isNullOrUndefined(i)||(i.destroy(),r.find("#"+this._id+"_error_dialog_show_content").ejDashboardScroller({height:n+"px",orientation:"vertical"}));r.find(".e-info-msg").length===t.DashboardConstants.Zero&&(i=u.data("ejDashboardScroller"),t.isNullOrUndefined(i)||(i.destroy(),r.find("#"+u.attr("id")).ejDashboardScroller({height:n+"px",orientation:"vertical"})))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.waitingIndicator={_showWaitingPopup:function(i){var r,u,f;this.element.find(".e-tab").length>t.DashboardConstants.Zero&&n("#"+this._dashboardId+"_popupContainerDiv").remove();r=null;u=null;n("#"+this._id+"_popupContainerDiv").length>t.DashboardConstants.Zero?i?(n("#"+this._id+"_popupContainerDiv").css({"background color":"#000000",position:"fixed",top:"0",right:"0",opacity:"0.7","z-index":1e3}),n("#"+this._id+"_popupContainerDiv #"+this._id+"_popupCenterDiv").html('<div class="FilterLoaderIndicator"><\/div>'),n("#"+this._id+"_popupContainerDiv").stop(!0,!0,!0).fadeIn()):(r=n("#"+this._id+"_popupContainerDiv"),r.show().html("").css({"z-index":"100000","background-color":"rgba(0, 0, 0, 0.5)"}),u='<svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class = "waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg>',r.append(u)):(f='<div class = "e-waitingLoadedPopup" id = "'+this._id+'_popupContainerDiv"><svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class="waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div>',this.element.append(f))},_destroyWaitingPopup:function(){this.element.find(".e-tab").length>t.DashboardConstants.Zero&&n("#"+this._id+"_popupContainerDiv").stop(!0,!0,!0).fadeOut();n("#"+this._dashboardId+"_popupContainerDiv").stop(!0,!0,!0).fadeOut()},_createControlWaitingIndicator:function(i,r){var u,f,e,o;n(i).length===t.DashboardConstants.Zero||n(i).parents(".e-dbrd-filter-control-wrapper").length>t.DashboardConstants.Zero||n(i).hasClass("e-dbrd-filterpanel-wrapper")||(u=n("<div>").addClass("e-dbrd-controlWaiting"),r&&u.css({background:" rgba(255, 255, 255, 0.30) "}),u.css({width:"100%",height:"100%","z-index":"5",position:"absolute",top:"0",left:"0"}),f=20,e=4,(t.browserInfo().name==="mozilla"||t.browserInfo().name==="msie")&&(f=10,e=2),(t.browserInfo().name==="chrome"||t.browserInfo().name==="edge"||t.browserInfo().name==="webkit")&&(u.css({zoom:"0.5"}),t.browserInfo().name==="edge"&&(f=15)),o='<svg class = "e-dbrd-blueWaitingIndcator"><circle class = "e-dbrd-circlePath" cx = "27" cy = "27" r = "'+f+'" fill = "none" stroke-width = "'+e+'" stroke-miterlimit = "10"><\/circle><\/svg>',u.append(o),n(i).css({position:"relative"}),n(i).append(u))},_destroyAllControlWaitingIndicator:function(){t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||n("#"+this.model.filterPanelSettings.filterPanelId).find(".e-dbrd-controlWaiting").remove();this.currentTabContentElement.find(".e-dbrd-controlWaiting").remove();this.isReloaded=!1},_showFilterViewLoader:function(){this._hideFilterViewLoader();var r=n("<div class='e-dbrd-filter-view-loader-wrapper'>"),i=n("<img class='e-dbrd-filter-view-loader' src='"+this.serviceUrl().toLowerCase().replace("dashboardservice.svc","themes/ViewerIcons/initial_loader.gif")+"'>"),u=this.currentTabContentElement.find("#"+this._id+"_filter");u.length===t.DashboardConstants.Zero&&i.css({left:"85%"});i.css({left:u.offset().left-25+"px"});r.append(i);this.currentTabContentElement.append(r)},_hideFilterViewLoader:function(){var n=this.currentTabContentElement.find(".e-dbrd-filter-view-loader-wrapper");n.length!==t.DashboardConstants.Zero&&n.remove()}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.filteroverview={_showMoreFiltersMenu:function(i){var tt,ht,l,r,o,h,a,w,c,g,v,y,lt,at,vt,yt,e,ft,pt,et,ot,wt,f,nt,st,bt,kt;if(!t.isNullOrUndefined(i)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewOpen,source:{element:n(i.target),data:this.appliedFilterData}}),tt=n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp"),tt.length!==t.DashboardConstants.Zero&&tt.css("display")==="block"){n("#"+n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").attr("id")).remove();n("#"+n(i.target).parent().attr("id")).removeClass("e-dbrd-filterListMenus");return}n("#"+n(i.target).parent().attr("id")).addClass("e-dbrd-filterListMenus");var s=n("<div>").attr({id:this._id+"_Commonmenupopupfilter"}).addClass("e-dbrd-filterListMenuPopUp").attr("tabindex","0").css({display:"block"}),dt='<div class = "e-dbrd-title"><div class = "e-dbrd-overview-back"><\/div><div class = "e-dbrd-titleDiv"><span class = "e-dbrd-titleText e-dbrd-filter-title">'+t.DashboardConstants.AppliedFilters+'<\/span><\/div><div class = "e-dbrd-clearDiv" tabindex = "0"><div class = "e-dbrd-clearAllFilters">'+t.DashboardConstants.ClearAllFilters+"<\/div><\/div><\/div>",u=this.currentTabContentElement.find(".e-dbrd-filterListMenu");this.multiTabs!==!0||this.model.showTab?n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"hidden"}),s.css({top:this.currentTabContentElement.scrollTop(),"z-index":"100000",width:"100%",height:"100%"})):s.css({top:u.offset().top-n(this.currentTabContentElement).offset().top+u.height()+this.element.find(".e-tab>.e-header").height()+5,left:this.currentTabContentElement.width()<300?this.currentTabContentElement.offset().left+3+"px":u.offset().left-n(this.currentTabContentElement).offset().left+u.width()+this.currentTabContentElement.scrollLeft()-295,right:"1px","z-index":"100000"}):s.css({top:u.offset().top-n(this.currentTabContentElement).offset().top+u.height()+8,left:this.currentTabContentElement.width()<300?this.currentTabContentElement.offset().left+3+"px":u.offset().left-n(this.currentTabContentElement).offset().left+u.width()+this.currentTabContentElement.scrollLeft()-295,right:"1px","z-index":"100000"});ht=n("<div>").addClass("e-dbrd-report-filter-arrow").css({position:"absolute","z-index":"1001",top:"-11px",left:u.width()+74});l=n("<div>").attr({id:this._id+"_commonmenufilterlist"}).addClass("e-dbrd-filterList e-dbrd-control");this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showViewSavedFilterIcon?l.css({height:"calc(100% - 112px)",top:u.offset().top+u.height()+10,left:u.offset().left+u.width()-291}):l.css({height:"calc(100% - 45px)",top:u.offset().top+u.height()+10,left:u.offset().left+u.width()-291});var p=n("<div>").attr({id:this._id+"_commonmenufilterlistscroll"}).addClass("e-dbrd-filterLists").css({height:"100%"}),it=n("<div>").attr({id:this._id+"_commonmenufilterlistinnerscroll"}).addClass("e-dbrd-filterListscollection"),rt=null,ct=t.DashboardConstants.One,ut=this.appliedFilterData.length;for(r=ut-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--){for(o=this.appliedFilterData[r].Control,h=0,a=0;a<ut;a++)a!==r&&this.appliedFilterData[a].Control===o&&(h+=t.DashboardConstants.One);if(h===t.DashboardConstants.Zero)for(w=0;w<ut;w++)this._getWidgetDetails(this.appliedFilterData[w].Control).type==="Grid"&&(h+=t.DashboardConstants.One);var b=this.getWidgetTitle(o),k=b.title.split("{{"),d=[];for(c=t.DashboardConstants.Zero;c<k.length;c++)k[c].indexOf("}}")!==t.DashboardConstants.IndexLowerBound&&k[c].indexOf(":")!==t.DashboardConstants.IndexLowerBound&&d.push("{{"+k[c]);for(g=this.currentTabContentElement.find(".e-dbrd-param-column"),v=t.DashboardConstants.Zero;v<d.length;v++)for(y=t.DashboardConstants.Zero;y<g.length;y++)lt=g.eq(y).attr("data-param"),d[v]===lt&&(at=g.eq(y).html(),vt=b.title.replace(d[v],at),b.title=vt);for(yt=n("<div>").attr({id:r+"__commonmenufilterlistinitset"}).addClass("e-dbrd-filterListMenuPopUp-item"),e=n("<div>").attr({id:o+"_controlId"}).addClass("e-brd-clearfilterclosetext"),(t.isNullOrUndefined(rt)||this.appliedFilterData[rt].Control!==o)&&(e.append(n("<span>").attr({"data-tooltip":this.locale.utils.Clear,tabindex:"0",id:o+"_controlId"}).addClass("e-brd-clearFilters e-dbrd-hoverable")),ft=n("<div>").addClass("e-brd-overview-widgetTitle").css({"white-space":"nowrap"}),pt=b.title+(!t.isNullOrUndefined(this.appliedFilterData[r].Column)&&this.appliedFilterData[r].Column.indexOf("(Excluding)")!==t.DashboardConstants.IndexLowerBound?"(Excluding)":""),ft.html(pt),e.append(ft)),h>t.DashboardConstants.Zero&&(et=n("<div>").addClass("e-brd-lists").css({height:"20px"}),et.html(t.isNullOrUndefined(this.appliedFilterData[r].DisplayName)?this.appliedFilterData[r].Column:this.appliedFilterData[r].DisplayName),e.append(et),ct!==t.DashboardConstants.One&&e.css({padding:"0px 0px 3px 0px"})),ot=n("<div>").addClass("e-brd-controlList"),ot.html(this.appliedFilterData[r].Control),e.append(ot),yt.append(e),wt=this.appliedFilterData[r].Data.length,f=0;f<wt;f++)this.appliedFilterData[r].Control.indexOf("DatePicker")!==t.DashboardConstants.IndexLowerBound&&this.appliedFilterData[r].Data[f].indexOf("single")!==t.DashboardConstants.IndexLowerBound?(nt=this.appliedFilterData[r].Data[f].substr(this.appliedFilterData[r].Data[f].lastIndexOf("_")+t.DashboardConstants.One),e.append(n("<div>").attr({id:this._id+"_"+o+"_"+f+"__commonmenufilterlistinner"}).addClass("e-brd-list").html(t.isNullOrUndefined(nt.Value)?nt:nt.Value))):(st=n("<div>").attr({id:this._id+"_"+o+"_"+f+"__commonmenufilterlistinner"}).addClass("e-brd-list").html(t.isNullOrUndefined(this.appliedFilterData[r].Data[f].Value)?this.appliedFilterData[r].Data[f]:this.appliedFilterData[r].Data[f].Value),h>t.DashboardConstants.Zero&&(st.css({"padding-left":"52px"}),ct=t.DashboardConstants.Zero),e.append(st));it.append(e);r!==t.DashboardConstants.Zero&&this.appliedFilterData[r].Control!==this.appliedFilterData[r-t.DashboardConstants.One].Control&&it.append(n("<div>").attr({id:o+"_commonmenufilterlisthr"}).addClass("e-brd-style-two"));rt=r}bt=n("<div>").addClass("e-dbrd-saveViewed-filters");p.append(it);l.append(p);s.html(dt);s.append(bt);s.append(ht,l);kt=n("<div>").addClass("e-dbrd-view-saved");s.append(kt);this.currentTabContentElement.append(s);(this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon||this.model.filterOverviewSettings.showViewSavedFilterIcon)&&(n(window).width()<t.DashboardConstants.MobileWidth?this._mobileUpdatedFilterOverview():this._updateSavedViewFilters());this.filterOverviewHeight=p.height();p.height()>240&&(n(window).width()<t.DashboardConstants.MobileWidth?n("#"+n(this.currentTabContentElement).find(".e-dbrd-filterLists").attr("id")).ejDashboardScroller({height:"100%"}):n("#"+n(this.currentTabContentElement).find(".e-dbrd-filterLists").attr("id")).ejDashboardScroller({height:220}));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewOpen,source:{element:n(i.target),data:this.appliedFilterData}});this.model.enableCustomTheming&&this._customTheme(["filterOverview"]);this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog);this._on(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)}},_removeMoreFilterMenu:function(i){var r=this;setTimeout(function(){var w,g,v,u,b,tt,h,e,k,it,c,rt,ut,l,ft,a,d,p,ot,o;if(!t.isNullOrUndefined(i)){r._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearIndividualFilter,source:{element:n(i.target),data:r.appliedFilterData}});w=n(i.target).parent();g=w.find(".e-brd-controlList");i.stopPropagation();i.bubbles=!1;r._hideDashboardToolTip(i);var s=g[0].innerText,nt=r.dashboardControls.getAllControlsMasterData(),st=nt.length;for(v=0;v<st;v++)if(u=nt[v].ReportName,s===u){if(b=r.dashboardControls.getControlByReport(u).controlType,r._isFilterPanelWidget(u))if(t.isNullOrUndefined(r.filterPanelObj)&&!t.isNullOrUndefined(r.tempDataForFilter)){for(tt=r.tempDataForFilter.length,h=null,e=t.DashboardConstants.Zero;e<tt;e++)s===r.tempDataForFilter[e].filterId&&(k=JSON.parse(r.tempDataForFilter[e].filterInfo.dynamicData),k.SelectedValues=null,r.tempDataForFilter[e].filterInfo.dynamicData=JSON.stringify(k));for(it=r.dashboardControls.controls.length,c=0;c<it;c++)rt=r.dashboardControls.controls[c].reportName,s===rt&&(r.dashboardControls.controls[c].SelectedFilterInfo=[]);for(ut=r.controlRelations.length,l=t.DashboardConstants.Zero;l<ut;l++)if(r.controlRelations[l].Master.lastIndexOf(s)!==t.DashboardConstants.IndexLowerBound&&(h=r.controlRelations[l].Slaves,h.length===t.DashboardConstants.Zero))return;ft={master:s,masterData:r.masterData,slaves:t.isNullOrUndefined(h)?[]:h,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};r._makeSlaveDataRequest(ft);break}else r.filterPanelObj.CurrentMaster=u,u=r.filterPanelObj._id+t.DashboardConstants.Widget+u,r.filterPanelObj._removeAppliedFilter(u,b);else!r.isInitialFilterCleared&&r.isExtendedLayout&&(r.isInitialFilterCleared=!0),r.isExtendedLayout&&r.initialFilterClearedList.indexOf(u)===t.DashboardConstants.IndexLowerBound&&r.initialFilterClearedList.push(u),r.clearWidgetFilter(u,b);n("#"+n(i.target).parent().attr("id")).hide()}var f=r.currentTabContentElement.find(".e-dbrd-filterListscollection").children(),y=[],et=f.length;for(a=0;a<et;a++)n(f[a]).attr("id")===n(i.target).attr("id")&&y.push(f[a]);for(r.filterOverviewHeight-=w.height()*y.length,r.filterOverviewHeight<=240&&(d=n("#"+n(r.currentTabContentElement).find(".e-dbrd-filterLists").attr("id")),d.hasClass("e-scroller")&&d.ejDashboardScroller("destroy")),p=null,p=y.length===t.DashboardConstants.One?n(i.target).parent().next().attr("id"):n(f[y.length]).attr("id"),ot=n(i.target).parent().prev().attr("id"),t.isNullOrUndefined(p)&&!t.isNullOrUndefined(ot)&&n(i.target).parent().prev().remove(),o=0;o<et;o++)(n(f[o]).attr("id")===n(i.target).attr("id")||n(f[o]).attr("id")===p)&&n(f[o]).remove();if(r.currentTabContentElement.find(".e-dbrd-filterListscollection").children().length===t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+r.element.attr("id")).height()-r.currentTabContentElement.find(".e-dbrd-banner").height()}):r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":r.isExtendedLayout?"hidden":"auto",height:n("#"+r.element.attr("id")).height()-r.currentTabContentElement.find(".e-dbrd-banner").height()}),n("#"+n(i.target).parent().attr("id")).remove(),n(r.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").remove(),n(r.currentTabContentElement).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus")),r.model.filterOverviewSettings.viewName&&r.currentTabContentElement.find(".e-dbrd-save-filterData").css({cursor:"pointer",color:"#6d6e70"}),r._trigger("actionComplete",{eventType:t.dashboardViewer.event.clearIndividualFilter,source:{element:n(i.target),data:r.appliedFilterData}}),r.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length===t.DashboardConstants.Zero&&r._off(r.currentTabContentElement,"click",r._closeFilterOverviewDialog),r.currentTabContentElement.find(".e-brd-clearfilterclosetext").length===t.DashboardConstants.Zero)r._closeFilterOverviewDialog(i);else return}},500)},_mobileUpdatedFilterOverview:function(){var r=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),s,u,o,h,c;if(r.length!==t.DashboardConstants.Zero)if(s=r.find(".e-dbrd-title"),u=this.model.filterOverviewSettings.viewName,t.isNullOrUndefined(u))c='<div class = "e-dbrd-save-filterData e-dbrd-hoverable" style = "height:45px;padding-left:13px;width:45px" data-tooltip = "'+this.locale.utils.Save+'"><\/div>',this.model.filterOverviewSettings.showSaveIcon&&s.append(c);else{var f=n("<div>").addClass("e-dbrd-filter-nameList"),i=r.find(".e-dbrd-saveViewed-filters").css({height:"45px",display:"block"}),l=n("<div>").addClass("e-dbrd-filterOverView-menu"),e=r.find(".e-dbrd-save-filterData");f.html(u);this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?i.append(f,l):i.append(f);o=i.find(".e-dbrd-filterOverView-menu");h=o.length!==t.DashboardConstants.Zero?o[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero;i.find(".e-dbrd-filter-nameList").css({width:i.width()-h,padding:"14px 10px",height:"45px"});t.isNullOrUndefined(e)||e.length===t.DashboardConstants.Zero||e.css({display:"none"})}},_showFilterOverviewMenu:function(i){var s,u,r,h,c,f,e,a;if(!t.isNullOrUndefined(i)){if(n.isFunction(i.stopPropogation)&&i.stopPropagation(),n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),s=this.currentTabContentElement.find(".e-dbrd-titleDiv").text(),n(i.currentTarget).hasClass("menuClicked")){n(i.currentTarget).removeClass("menuClicked");n("#"+this._id+"_FilterOverviewMenuPopup").ejDashboardMenu("destroy");n("#"+this._id+"_FilterOverviewMenuPopup").remove();return}for(u=[],this.model.filterOverviewSettings.showSaveIcon&&u.push({id:11,parentId:null,text:this.locale.utils.Save}),this.model.filterOverviewSettings.showSaveAsIcon&&u.push({id:22,parentId:null,text:this.locale.utils.SaveAs}),r=n("<div>").attr({id:this._id+"_FilterOverviewMenuPopup"}),n(i.currentTarget).addClass("menuClicked"),h="",r.ejDashboardMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,r,s,h)}),c=this.filterDataLength.length,f=0;f<c;f++){var l=this.filterDataLength[f],o=this.appliedFilterData[f],v=o.Data.length;for(e=0;e<v;e++)l.Data[e]!==o.Data[e]||this.appliedFilterData.length!==this.filterDataLength.length||l.Data.length!==o.Data.length?r.ejDashboardMenu("instance").enableItem(this.locale.utils.Save):r.ejDashboardMenu("instance").disableItem(this.locale.utils.Save)}this.currentTabContentElement.append(r.parent());r.css({position:"absolute",top:n(i.target).offset().top+n(i.target).offset().top/2,left:n(i.target).offset().left-r.width()+80+"px",width:"auto","z-index":3});a=this.currentTabContentElement.find(".e-menu-wrap");a.css({"z-index":1e5});r.parent().find(".e-menu.e-vertical>.e-list>a").attr("style","padding: 0px 38px 0px 10px !important;");u.length===t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-menu-wrap").hide();this.model.enableCustomTheming&&this._customTheme(["menu"]);this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)}},_destroyFilterOverviewMenu:function(){var i=this.currentTabContentElement.find("#"+this._id+"_FilterOverviewMenuPopup");i.length!==t.DashboardConstants.Zero&&(n("#"+this._id+"_FilterOverviewMenuPopup").ejDashboardMenu("destroy"),n("#"+this._id+"_FilterOverviewMenuPopup").remove(),this.currentTabContentElement.find(".e-dbrd-filterOverView-menu").removeClass("menuClicked"));this._on(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)},_hideFilterOverviewDialog:function(i){t.isNullOrUndefined(i)||(this.showFilterMenu=!0,this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-this.currentTabContentElement.find(".e-dbrd-overview-banner").height()}),this._closeFilterOverviewDialog(i));this.showFilterMenu=!1},_closeFilterOverviewDialog:function(i){if(t.isNullOrUndefined(i))n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}),n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").remove(),n(this.currentTabContentElement).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus"),this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}));else{if(i&&n(i.target).parents().hasClass("e-dbrd-filterListMenuPopUp")&&!this.showFilterMenu)return;n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}),n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").remove(),n(this.currentTabContentElement).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus"),this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}))}return},_updateSavedViewFilters:function(){var e=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),i=e.find(".e-dbrd-saveViewed-filters").css({display:"block"}),o=e.find(".e-dbrd-view-saved").css({display:"none"}),v=this.model.filterOverviewSettings.viewName,r=n("<div>").addClass("e-dbrd-filter-nameList"),s,h,c,u,f,b,a;r.html(this.locale.utils.UnSavedView).css({cursor:"default"});s='<div class = "e-dbrd-saveAs-filterData e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.SaveAs+'"><\/div>';h='<div class = "e-dbrd-save-filterData e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.Save+'"><\/div>';i.empty();this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showSaveAsIcon?i.append(r,s,h):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?this.model.filterOverviewSettings.showSaveIcon?i.append(r,h):(c=n(s),c.css({cursor:"pointer",color:"#6d6e70"}),i.append(r,c)):i.append(r);var y=i.find(".e-dbrd-save-filterData"),p=i.find(".e-dbrd-saveAs-filterData"),k=y.length!==t.DashboardConstants.Zero?y[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero,d=p.length!==t.DashboardConstants.Zero?p[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero;if(i.find(".e-dbrd-filter-nameList").css({width:i.width()-(k+d+t.DashboardConstants.One)}),!t.isNullOrUndefined(v)){r.html(v).css({cursor:"pointer"});var g=e.find(".e-dbrd-save-filterData").css({cursor:"default",color:"#dbdbdb"}).removeClass("e-dbrd-hoverable"),nt=e.find(".e-dbrd-saveAs-filterData").css({cursor:"pointer",color:"#6d6e70"}),tt=this.filterDataLength.length;for(u=0;u<tt;u++){var w=this.filterDataLength[u],l=this.appliedFilterData[u],it=l.Data.length;for(f=0;f<it;f++)(w.Data[f]!==l.Data[f]||this.appliedFilterData.length!==this.filterDataLength.length||w.Data.length!==l.Data.length)&&(g.css({cursor:"pointer",color:"#6d6e70"}),nt.css({cursor:"pointer",color:"#6d6e70"}))}}b=n("<div>").addClass("e-dbrd-icon-views");a=n("<div>").addClass("e-dbrd-viewText");a.html(this.locale.utils.SavedFilters);o.empty();this.model.filterOverviewSettings.showViewSavedFilterIcon&&(o.css({display:"block"}),o.append(b,a));this.filterDataLength=this.appliedFilterData}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.server={_showFilterOverview:function(){var i=this.element.find(".e-dbrd-filterListMenu"),r=n(this.currentTabContentElement).find("#"+this._id+"_Commonmenupopupfilter"),u=n(this.currentTabContentElement).find(".e-banner-verticalsplitline");this.enableFilterOverview()&&this.appliedFilterData.length>t.DashboardConstants.Zero?(i.show(),u.show()):r.length!==t.DashboardConstants.One&&this.enableFilterOverview()||(i.hide(),r.hide(),u.hide())},_saveFilterData:function(i){if(n(i.currentTarget).css("cursor")!=="default"){var u=n(i.currentTarget),f=t.isNullOrUndefined(i.currentTarget)?i.text:null,r=this.getCurrentFilters(),e=this.getCurrentTab(),s=this.model.filterOverviewSettings.viewName,h=this.model.filterOverviewSettings.viewId,o=this._getCurrentDashboardGuid();u.hasClass("e-dbrd-save-filterData")||!t.isNullOrUndefined(f)&&f===this.locale.utils.Save?r.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onSaveFilter,source:{element:u,data:r}}),this._trigger("onSaveFilter",{data:r,tabInfo:e,dashboardId:o,viewName:s,viewID:h,model:this.model}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onSaveFilter,source:{element:u,data:r}})):(u.hasClass("e-dbrd-saveAs-filterData")||!t.isNullOrUndefined(f)&&f===this.locale.utils.SaveAs)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onSaveAsFilter,source:{element:u,data:r}}),this._trigger("onSaveAsFilter",{data:r,tabInfo:e,dashboardId:o,model:this.model}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onSaveAsFilter,source:{element:u,data:r}}))}else return},_viewSavedFilter:function(){var n=this.getCurrentTab(),t=this._getCurrentDashboardGuid();this.model.onViewSavedFilters&&this._trigger("onViewSavedFilters",{tabInfo:n,dashboardId:t,model:this.model})},_enableOrDisableComment:function(){for(var o,s,h,c,l,f=this.currentTabContentElement.find(".e-dbrd-control-container"),y=f.length,u=t.DashboardConstants.Zero;u<y;u++){var r=f.eq(u).find(".e-control-prop"),p=n(f[u]).attr("data-widget-id"),a=n(f[u]).attr("id"),i=n(f[u]).attr("type"),w=this._id+p+"_"+this.locale.utils.Comment;if(r.length===t.DashboardConstants.Zero&&i===t.dashboardViewer.Controls.Card&&(r=f.eq(u).find(".e-control-singleCard")),this.model.allowComment){var e=n("<div>").attr({tabIndex:"0",name:this.locale.utils.Comment,id:w,"data-tooltip":this.locale.utils.Comment,type:i,"data-widget-id":a}).addClass("e-dbrd-banner-widget-withoutcomments e-dbrd-hoverable e-dbrd-border e-dbrd-containerIcon").css({visibility:"visible",display:"block"}),v=this.model.commentSettings.widgets,b=v.length;for(o=t.DashboardConstants.Zero;o<b;o++)if(a===v[o]&&this.model.commentSettings.isWidgetCommented){e.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments");break}r.hasClass("e-control-singleCard")&&(e.css({float:"left"}),n(window).width()<t.DashboardConstants.MobileWidth&&r.find(".e-dbrd-widget-menu").css({display:"block"}));n(window).width()<t.DashboardConstants.MobileWidth&&(i===t.dashboardViewer.Controls.RangeSlider||i===t.dashboardViewer.Controls.DatePicker||i===t.dashboardViewer.Controls.FilterComboBox||i===t.dashboardViewer.Controls.CheckBox||i===t.dashboardViewer.Controls.ListBox)?r.find(".e-dbrd-widget-menu").css({display:"block"}):n(window).width()>t.DashboardConstants.MobileWidth&&(s=r.find(".su"),h=r.find(".e-remove-control-filter"),h.length!==t.DashboardConstants.Zero?h.after(e):s.length!==t.DashboardConstants.Zero?s.after(e):r.prepend(e))}else c=f.eq(u).find(".e-dbrd-banner-widget-withoutcomments"),l=f.eq(u).find(".e-dbrd-banner-widget-withcomments"),r.hasClass("e-control-singleCard")&&n(window).width()<t.DashboardConstants.MobileWidth&&r.find(".e-dbrd-widget-menu").css({display:"none"}),n(window).width()<t.DashboardConstants.MobileWidth&&(i===t.dashboardViewer.Controls.RangeSlider||i===t.dashboardViewer.Controls.DatePicker||i===t.dashboardViewer.Controls.FilterComboBox||i===t.dashboardViewer.Controls.CheckBox||i===t.dashboardViewer.Controls.ListBox)?r.find(".e-dbrd-widget-menu").css({display:"none"}):n(window).width()>t.DashboardConstants.MobileWidth&&(c.length!==t.DashboardConstants.Zero&&c.remove(),l.length!==t.DashboardConstants.Zero&&l.remove())}},_openDashboardCommentDialog:function(i){var u=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked"),r;u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-widget-withcomments-menuClicked");r=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}});r.length>t.DashboardConstants.Zero?r.removeClass("e-dbrd-banner-dashboardcomment-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-banner-dashboardcomment-menuClicked");this._trigger("onDashboardCommented",{event:i,tabId:this.dashboardName});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}})},_openWidgetCommentDialog:function(i){var u,r,f;n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");f=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");f.length>t.DashboardConstants.Zero?f.removeClass("e-dbrd-banner-widget-withcomments-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-banner-widget-withcomments-menuClicked");t.isNullOrUndefined(i)||(r=n(i.target).attr("data-widget-id"),n(window).width()<t.DashboardConstants.MobileWidth&&!n(i.currentTarget).hasClass("e-dbrd-maxIcon")&&(r=n(i.currentTarget).attr("widgetid")));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}});this._trigger("onWidgetCommented",{event:i,reportGuid:r,tabId:this.dashboardName});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}})},_closeCommentDialog:function(i){t.isNullOrUndefined(i)||n(i.target).hasClass("e-dbrd-banner-dashboardwithcomment")||n(i.target).hasClass("e-dbrd-banner-dashboardwithoutcomment")||n(i.target).hasClass("e-dbrd-banner-widget-withcomments")||n(i.target).hasClass("e-dbrd-banner-widget-withoutcomments")||n(i.target).hasClass("e-dbrd-filterPanel-widget-withcomments")||n(i.target).hasClass("e-dbrd-filterPanel-widget-withoutcomments")||this._destroyCommentDialog(i)},_destroyCommentDialog:function(i){var u=null,r=null;u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");u.length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:u}}),u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:u}}),this._trigger("onCommentDialogClosing",{event:i}));r=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");r.length===t.DashboardConstants.Zero&&(r=n("#"+this.filterPanelId).find(".e-dbrd-filterPanel-widget-withcomments-menuClicked"));r.length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:r}}),r.removeClass("e-dbrd-banner-widget-withcomments-menuClicked"),r.removeClass("e-dbrd-filterPanel-widget-withcomments-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:r}}),this._trigger("onCommentDialogClosing",{event:i}))},_setAsFavorite:function(i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.markFavorite,source:{element:n(i.target),data:this.dashboardName}});this._trigger("onFavoriteStateChange",{event:i,isFavorite:!0,tabId:this.dashboardName});this.model.favoriteSettings.isFavorite=!0;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.markFavorite,source:{element:n(i.target),data:this.dashboardName}})},_setAsUnFavorite:function(i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.removeFavorite,source:{element:n(i.target),data:this.dashboardName}});this._trigger("onFavoriteStateChange",{event:i,isFavorite:!1,tabId:this.dashboardName});this.model.favoriteSettings.isFavorite=!1;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.removeFavorite,source:{element:n(i.target),data:this.dashboardName}})},_toggleFavoriteIcon:function(){if(this.model.favoriteSettings.enabled){var n=this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon"),t=this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon");this.model.favoriteSettings.isFavorite?t.removeClass("e-dbrd-dashboardunfavIcon").addClass("e-dbrd-dashboardfavIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite}):n.removeClass("e-dbrd-dashboardfavIcon").addClass("e-dbrd-dashboardunfavIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.menu={_controlMenuSelected:function(i,r,u,f){var w=0,b=null,c={},k=null,nt=-1,gt,l,ni,et,h,a,ti,ot,st,ht,ri,ui,at,fi,d,rt,g,ut,y,wt,bt,kt,ft,p;if(r.indexOf("Chart")!==nt&&!t.isNullOrUndefined(this.currentActionSettings)&&(b=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDashboardChart"),k=this.currentActionSettings.target.split("_child"),(!t.isNullOrUndefined(b)||!t.isNullOrUndefined(k))&&f.text==="Apply Filter"&&(gt=this.currentActionSettings.target,n("#"+gt).attr("value","filter"),c=this.currentActionSettings.configInfo.MultipleSeries||this.currentActionSettings.target.indexOf("_childChart")!==nt?n("#"+k[0]).find('[class*="Selection"]'):n("#"+b._id).find('[class*="Selection"]'),c.length>w)))for(l=w;l<c.length;l++)ni=n(c[l]).attr("value"),et=n(c[l]).attr("data-controlid"),(ni==="filter"||et==="click-filter"||et==="dbclick")&&n("#"+c[l].id).attr("class","");if(f.text==="Open Link"&&(!t.isNullOrUndefined(b)||!t.isNullOrUndefined(k))&&(h={},h=this.currentActionSettings.configInfo.MultipleSeries||this.currentActionSettings.target.indexOf("_childChart")!==nt?n("#"+k[0]).find('[class*="Selection"]'):n("#"+b._id).find('[class*="Selection"]'),h.length>w))for(a=w;a<h.length;a++)ti=n(h[a]).attr("value"),ot=n(h[a]).attr("data-controlid"),ti!=="filter"&&ot!=="click-filter"&&ot!=="dbclick"&&n("#"+h[a].id).attr("class","");r.indexOf("Gauge")!==nt&&f.text==="Apply Filter"&&(st=n(n(this.currentActionSettings.evt.currentTarget).find("canvas")),st.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),ht=[],ht.push(n(this.currentActionSettings.targetGauge).parents(".e-multiple-series").attr("id")),this._AddCardSelection(ht,st.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(w),this.currentActionSettings.GaugeCount,!0));this.imageContent=null;this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide();this.model._dashboardData.loadFromData===!1&&(t.isNullOrUndefined(f.event)||n.isFunction(f.event.stopImmediatePropagation)&&f.event.stopImmediatePropagation());var e=t.isNullOrUndefined(f.text)?f.menuText:f.text,o=i,s=r,tt=null,ii=null,it=null,ct="",lt=t.isNullOrUndefined(f.element)?f.selectedItem[0]:f.element;if(this._destroyContextMenu(),ri=t.isNullOrUndefined(f.event)?null:n(f.event.currentTarget).attr("widgetId"),ui=t.isNullOrUndefined(f.event)?null:n(f.event.currentTarget).attr("data-Widget-Id"),this._trigger("onMenuItemClick",{menuItem:i,headertext:r,args:f,widgetId:ri,dataWidgetId:ui,reportPath:this.dashboardPath(),tabId:this.model._selectedTabGuid,tabName:this.dashboardName}),f.text!==this.locale.utils.Filter&&f.text!==this.locale.utils.Linking&&f.text!==this.locale.utils.DrillDown||t.isNullOrUndefined(this.currentActionSettings)||t.isNullOrUndefined(this.currentActionSettings.id))this._destroyWidgetSelection();else{f.text===this.locale.utils.Filter?(at=this._id+t.DashboardConstants.Widget+this.currentActionSettings.id,n("#"+at+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+at).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),this._startSelectionMaintanenceForWidget(this.currentActionSettings,f)):this._clearSelectionForWidget(this.currentActionSettings,this.currentActionSettings.id,this.currentActionSettings.widgetInstance);f.text=f.text===this.locale.utils.Filter?t.dashboardViewer.Action.Filter:f.text===this.locale.utils.Linking?t.dashboardViewer.Action.Linking:f.text===this.locale.utils.DrillDown?t.dashboardViewer.Action.DrillDown:"";this._loadNavigation(this.currentActionSettings,f);this.currentActionSettings=null;return}if(t.isNullOrUndefined(u)?this.exportSettings.subtitleName="":u.length>=t.DashboardConstants.Zero&&(this.exportSettings.subtitleName=u),e==="Print"?(this._printControl(o.attr("type"),o.attr("control-id")),f.cancel=!0,n(lt).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked")):e===this.locale.utils.ExportToImage||e===this.locale.utils.ExportToExcel||e===this.locale.utils.ExportToPdf||e===this.locale.utils.ExportToCSV||e===this.locale.utils.Image||e===this.locale.utils.Excel||e===this.locale.utils.Pdf?(f.cancel=!0,n(lt).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this.isPrintTriggered=!1,this.currentTabContentElementData=o,fi=this.currentTabContentElementData.parents(".e-dbrd-layout-cell").attr("data-controltype"),this.currentTabContentElementData.attr({type:fi}),s.length===t.DashboardConstants.Zero&&(s=this.locale.utils.DefaultFileName),this.filename=s,this.filename=this.filename.replace(/[^\w\s]/gi,""),this.title=s,d=n(window).width()<t.DashboardConstants.MobileWidth,this.exportSettings.filename=this.filename,e!==this.locale.utils.ExportToImage&&e!==this.locale.utils.Image||d?e!==this.locale.utils.ExportToPdf&&e!==this.locale.utils.Pdf||d?e!==this.locale.utils.ExportToExcel&&e!==this.locale.utils.Excel||d?e!==this.locale.utils.ExportToCSV||d||(this.exportSettings.exportType="csv",this._exportDialogPage()):(this.exportSettings.exportType="excel",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1):(this.exportSettings.exportType="pdf",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1):(this.exportSettings.exportType="image",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1),this.model.enableCustomTheming&&this._customTheme(["popup"])):f.ID==="12"?this.refreshDashboard(null,!1):f.ID==="37"&&(rt={element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:{url:this.getCurrentViewUrl(),handled:!1}},this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:rt}),rt.data.handled||this._showGetLinkDialogForMobile(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:{element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:rt}})),e===this.locale.utils.ViewData)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:o.attr("control-id")}}),f.cancel=!0,n(lt).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:o.attr("control-id")}});else if(e===this.locale.utils.UpdateDashboard)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),this.refreshDashboard(null,!1),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Maximize)tt=n(f.event.currentTarget).attr("control-id"),ii=this.currentTabContentElement.find("#"+tt+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-maximize").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+tt+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-maximize"):this.currentTabContentElement.find("#"+tt+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-hide-maximize"),it=ii.attr("id"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:it}}),this._maximizeControl(it),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:it}});else if(e===this.locale.utils.RemoveFavorite||e===this.locale.utils.MarkFavorite)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),g=n(f.event.currentTarget).find(".e-dbrd-dashboardunfavIcon"),g.length!==t.DashboardConstants.Zero?(f.event.currentTarget=g[0],this._setAsFavorite(f.event),this._destroyDashboardMenu()):(g=n(f.event.currentTarget).find(".e-dbrd-dashboardfavIcon"),f.event.currentTarget=g[0],this._setAsUnFavorite(f.event),this._destroyDashboardMenu()),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Comment)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),this._openWidgetCommentDialog(f.event),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Export&&n(window).width()<t.DashboardConstants.MobileWidth)this.currentTabContentElementData=o,ut=this.currentTabContentElementData.parent().parent().parent().attr("data-controltype"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:ut}}),this.currentTabContentElementData.attr({type:ut}),s.length===t.DashboardConstants.Zero&&(s=this.locale.utils.DefaultFileName),this.filename=s,this.filename=this.filename.replace(/[^\w\s]/gi,""),this.title=s,this.exportSettings.filename=this.filename,this._mobileExport(this.exportSettings.filename),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:ut}});else if(e===this.locale.utils.Information){if(n(window).width()<t.DashboardConstants.MobileWidth){var v=r,vt=u,ei=n(f.event.currentTarget).attr("id"),yt="",oi=this._id+"_controlMenuPopup";if(ei===oi){var si=n(this.currentTabContentElement).find(".e-control-description"),pt=si.prev(),ai=pt.length;for(y=0;y<ai;y++)pt[y].innerText===r&&(wt=n(si[y].innerHTML),wt.length!==t.DashboardConstants.Zero&&(yt=wt[0].innerHTML,v=pt[y].innerHTML));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:v}})}else bt=n(this.currentTabContentElement).find(".e-dbrd-divHtml"),bt.length!==t.DashboardConstants.Zero&&(yt=bt[0].innerHTML,kt=n(this.currentTabContentElement).find(".e-dbrd-banner-title"),t.isNullOrUndefined(kt)||(v=kt[0].innerHTML)),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:v}});var hi=n("<div>").attr({id:this._id+"controlDescriptionDiv"}).addClass("e-dbrd-control-desc e-dbrd-fontfamily"),dt=n('<div class = "e-control-descDiv" style = "padding:0px 20px 0px 20px; width: 100%; word-wrap: break-word; font-size: 13px; font-weight: 400">'),ci=n("<div>").addClass("e-control-desc-bar").css({height:"45px","box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),vi=n("<div>").addClass("e-control-desc-back"),li=n("<div>").addClass("e-control-desc-title");li.html(this.locale.utils.Information);ci.append(vi,li);ft=n("<div>").addClass("e-control-mobile-div").css({height:"calc(100% - 45px)","overflow-y":"auto"});p=n("<div>").addClass("e-dbrd-information-title").css({width:"calc(100%-20px)"});vt.length>t.DashboardConstants.Zero&&(ct=n("<div>").addClass("e-dbrd-information-subtitle").css({width:"calc(100%-20px"}),ct.html(vt));p.html(v);vt.length>t.DashboardConstants.Zero?ft.append(p,ct,dt):ft.append(p,dt);hi.append(ci,ft);dt.html(yt);this.currentTabContentElement.append(hi);this.model.enableCustomTheming&&this._customTheme(["description"]);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:v}});this._adjustParameterColumn(ei===oi?p:p.find("p"))}}else e===this.locale.utils.Save||e===this.locale.utils.SaveAs?this._saveFilterData(f):e===this.locale.utils.ClearFilter?(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:n("#"+o.attr("control-id"))}}),this._destroyContextMenu(),this._removeControlFilter(n("#"+o.attr("control-id")))):e===this.locale.utils.DashboardParameters&&(this._openDashboardParametersDialog(this.dashboardParameters.data,!1),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:n("#"+o.attr("control-id"))}}))},_showDashoardMenu:function(i){var e,o,f,s,u,r,h,c,l;if(!t.isNullOrUndefined(i)){if(n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide(),this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this.showFilterMenu=!1,this._closeFilterOverviewDialog(i)),this.currentTabContentElement.find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(n(this.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control")),(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i),n.isFunction(i.stopPropogation)&&i.stopPropagation(),n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),e=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),this._closeCommentDialog(i),n(window).width()<t.DashboardConstants.MobileWidth&&n(i.currentTarget).removeClass("menuClicked"),n(i.currentTarget).hasClass("menuClicked")){n(i.currentTarget).removeClass("menuClicked");n("#"+this._id+"_DashboardMenuPopup").ejDashboardMenu("destroy");this.exportDashboard=!1;n("#"+this._id+"_DashboardMenuPopup").remove();return}for(o=!1,f=0;f<this.dashboardControls.controls.length-t.DashboardConstants.One;f++)if(s=this.dashboardControls.controls[f],s.controlType!==""&&s.controlType!=="NoData"){o=!0;break}u=[];o&&(n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElement.find(".e-dbrd-banner-description").length>t.DashboardConstants.Zero&&u.push({id:33,parentId:null,text:this.locale.utils.Information,sprite:"e-dbrd-banner-description"}),(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel)&&u.push({id:34,parentId:null,text:this.locale.utils.Export,sprite:"e-brd-showDashoardMenu-Exportoption e-brd-style-two"}),this.model.favoriteSettings.enabled&&(this.model.favoriteSettings.isFavorite?u.push({id:35,parentId:null,text:this.locale.utils.RemoveFavorite,sprite:"e-dbrd-dashboardfavIcon"}):u.push({id:35,parentId:null,text:this.locale.utils.MarkFavorite,sprite:"e-dbrd-dashboardunfavIcon"})),u.push({id:36,parentId:null,text:this.locale.utils.UpdateDashboard,sprite:"e-dbrd-banner-refresh"}),this.model.showGetLinkIcon&&u.push({id:37,parentId:null,text:this.locale.utils.GetLink,sprite:"e-dbrd-tab-link"}),!this.multiTabs&&this.dashboardParameters.showIcon&&this.HasDashboardParameter&&u.push({id:38,parentId:null,text:this.locale.utils.DashboardParameters,sprite:"e-dbrd-banner-params"})):(this.model._exportSettings.canExportImage&&u.push({id:11,parentId:null,text:this.locale.utils.ExportToImage,sprite:"e-brd-showDashoardMenu-Exportimage"}),this.model._exportSettings.canExportPdf&&u.push({id:22,parentId:null,text:this.locale.utils.ExportToPdf,sprite:"e-brd-showDashoardMenu-ExportPdf"}),this.model._exportSettings.canExportExcel&&u.push({id:13,parentId:null,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"})),t.isNullOrUndefined(this.model.beforeDashboardMenuOpen)||this.model.responsiveSettings.showMaximize||this._trigger("beforeDashboardMenuOpen",{menuData:u,headerText:e}));r=n("<div>").attr({id:this._id+"_DashboardMenuPopup"});n(window).width()>t.DashboardConstants.MobileWidth&&(h='<p class = "e-brd-showDashoardMenu-title">'+this.locale.utils.ExportDashboard+"<\/p>",r.html(h));n(i.currentTarget).addClass("menuClicked");n("#"+this.id+"_DashboardMenuPopup").data("ejDashboardMenu")&&r.ejDashboardMenu("show");this.exportDashboard=!0;c="";r.ejDashboardMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,r,e,c)});this.currentTabContentElement.append(r.parent());this._destroyContextMenu();this._tabMenuPopupHide(i);l=this.model.showTab?this.element.find(".e-tab .e-header").height():0;!this.multiTabs&&!this.model.showTab||n(window).width()<t.DashboardConstants.MobileWidth?(r.css({position:"absolute",top:n(i.target).offset().top,width:"auto","z-index":3}),r.css({left:n(i.target).offset().left-r.width()+30+"px"})):(r.css({position:"absolute",top:n(i.target).offset().top-n(this.currentTabContentElement).offset().top+n(i.target).height()+10+l,width:"auto","z-index":3}),r.css({left:t.isNullOrUndefined(i.pageX)?n(i.target).offset().left-r.width()*.9:i.pageX-n(this.currentTabContentElement).offset().left-r.width()}));this.isExtendedLayout&&r.css({"z-index":500});!this.multiTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&r.css({left:i.pageX-n(this.currentTabContentElement).offset().left-r.width()+this.currentTabContentElement.scrollLeft()+"px"});u.length===t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-menu-wrap").hide();this.model.enableCustomTheming&&this._customTheme(["menu"])}},_destroyDashboardMenu:function(){var i=this.currentTabContentElement.find("#"+this._id+"_DashboardMenuPopup");i.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onDashboardMenuPopupClose,source:{element:null,data:this._id}}),n("#"+this._id+"_DashboardMenuPopup").ejDashboardMenu("destroy"),n("#"+this._id+"_DashboardMenuPopup").remove(),this.currentTabContentElement.find(".e-dbrd-banner-icon-container").removeClass("menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onDashboardMenuPopupClose,source:{element:null,data:this._id}}))},_showContextMenu:function(i){if(!t.isNullOrUndefined(i)){if(n(i.currentTarget).find(".e-dbrd-control-nodatainfo.align-center").length===t.DashboardConstants.One)return!1;var r=this,u=t.DashboardConstants.Zero;if(this._onControlDescriptionMouseLeave(i),this.showContext||this.toolbarMethods)return this.showContext=!1,this.toolbarMethods=!1,!1;if(i.type==="touchend"&&!t.isNullOrUndefined(this.showContextMenu)){clearTimeout(this.showContextMenu);return}i.type==="touchstart"&&(u=1e3);this.showContextMenu=setTimeout(function(){var u,a,v,y,e,p,w;if(r.showContext=!0,!t.isNullOrUndefined(i)){if(r._trigger("actionBegin",{eventType:t.dashboardViewer.event.contextMenuOpen,source:{element:n(i.currentTarget),data:n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id")}}),r.model.enableWidgetMode||r.isWidget)return!1;r.element.find(".e-dbrd-descr-active").length!==t.DashboardConstants.Zero&&(n(r.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(r.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active"));r.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&r._closeFilterOverviewDialog(i);n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();r.exportDashboard=!1;r._destroyContextMenu();r._destroyDashboardMenu();r._tabMenuPopupHide(i);var c=n(i.currentTarget).parents(".e-dbrd-layout-cell"),s=n(i.currentTarget).data("IsFilterApplied"),f=n(i.currentTarget).parents(".e-dbrd-layout-cell").attr("data-controltype"),l=!0;if(t.isNullOrUndefined(f)||f===t.dashboardViewer.Controls.Label)return!1;var o=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control").attr("id"),b=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id"),k=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("data-widget-id");n("#"+o).hasClass("e-Card-Single")&&(l=!1);o=r._widgetContextMenu(i,f,o);u=r.currentTabContentElement.find("#"+r._id+"_contextMenuPopup");u.length===t.DashboardConstants.Zero&&(u=n("<div>").attr({id:r._id+"_contextMenuPopup"}));u.addClass("e-context-menu");u.attr({type:f,"control-id":o,widgetId:b,"data-Widget-Id":k,oncontextmenu:"return false"});n.isFunction(i.stopPropagation)&&i.stopPropagation();i.bubbbles=!1;var h=[],d=n(i.currentTarget).find(".e-dbrd-control-nodatainfo").length>t.DashboardConstants.Zero,g={hasNoData:l?d:!0,type:f};if(r._contextMenuManipulation(i,h,g),n(i.currentTarget).data("IsMaster")&&h.push({id:15,text:r.locale.utils.ClearFilter,sprite:s?"e-brd-showControlMenu-ClearFilter":"e-brd-showControlMenu-ClearFilterdisable"}),a=c.find(".e-dbrd-control-container").find(".e-control-heading").find(".e-control-title").text(),v=c.find(".e-dbrd-control-container").find(".e-control-subtitleHeading").find(".e-control-subtitle").text(),u.ejDashboardMenu({enableSeparator:!1,enableCenterAlign:!0,fields:{dataSource:h,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(r._controlMenuSelected,r,u,a,v)}),(t.isNullOrUndefined(s)||!s)&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.ClearFilter),!t.isNullOrUndefined(n(i.currentTarget).data("ExportImage"))&&n(i.currentTarget).data("ExportImage")&&r.model._exportSettings.canExportImage||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToImage),!t.isNullOrUndefined(n(i.currentTarget).data("ExportPdf"))&&n(i.currentTarget).data("ExportPdf")&&r.model._exportSettings.canExportPdf||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToPdf),!t.isNullOrUndefined(n(i.currentTarget).data("ExportCSV"))&&n(i.currentTarget).data("ExportCSV")&&f!==t.dashboardViewer.Controls.Image&&r.model._exportSettings.canExportCsv||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToCSV),!t.isNullOrUndefined(n(i.currentTarget).data("ExportExcel"))&&n(i.currentTarget).data("ExportExcel")&&f!==t.dashboardViewer.Controls.Image&&r.model._exportSettings.canExportExcel||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToExcel),(t.isNullOrUndefined(n(i.currentTarget).data("EnableMaximize"))||!n(i.currentTarget).data("EnableMaximize")||f===t.dashboardViewer.Controls.Image)&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.Maximize),r.model._exportSettings.canExportImage||r.model._exportSettings.canExportPdf||r.model._exportSettings.canExportExcel||r.model._exportSettings.canExportCsv||u.ejDashboardMenu("instance").disableItem(r.locale.utils.Export),u.css({position:"fixed",top:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent)?n(i.target).offset().left:i.originalEvent.touches[0].clientY:i.clientY,left:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent)?n(i.target).offset().top:i.originalEvent.touches[0].clientX:i.clientX,"z-index":"20",width:"auto"}),n(window).width()<t.DashboardConstants.MobileWidth&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportImage"))||!n(i.currentTarget).data("ExportImage"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportPdf"))||!n(i.currentTarget).data("ExportPdf"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportCSV"))||!n(i.currentTarget).data("ExportCSV"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportExcel"))||!n(i.currentTarget).data("ExportExcel"))&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.Export),u[0].children.length>t.DashboardConstants.One)for(y=u[0].children.length,e=0;e<y;e++)if(u[0].children[e].innerText===r.locale.utils.ClearFilter){p=u[0].children[e];n(p).prepend("<div style = 'border-top : 1px solid lightgrey; margin:0px 5px 0px 5px'><\/div>");break}return r.currentTabContentElement.append(u),u.show(),r.model.enableCustomTheming&&r._customTheme(["menu"]),u.offset().left+u.width()>r.currentTabContentElement.offset().left+r.currentTabContentElement.width()&&u.css({left:i.type==="touchstart "?t.isNullOrUndefined(i.originalEvent.touches[0].clientX)?n(i.target).offset().left:i.originalEvent.touches[0].clientX:i.clientX-(u.offset().left+u.width()-(r.currentTabContentElement.offset().left+r.currentTabContentElement.width())+20)}),u.offset().top+u.height()>r.currentTabContentElement.offset().top+r.currentTabContentElement.height()&&u.css({top:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent.touches[0].clientY)?n(i.target).offset().left:i.originalEvent.touches[0].clientY:i.clientY-(u.offset().top+u.height()-(r.currentTabContentElement.offset().top+r.currentTabContentElement.height())+20)}),w=u.parent().find(".e-menu.e-vertical>.e-list>a").attr("style"),u.parent().find(".e-menu.e-vertical>.e-list>a").css("cssText",w+"padding: 0px 38px 0px 10px !important"),u.parent().find(".e-menu li.e-list>ul>li.e-list>a").css({padding:"0px 35px 0px 10px"}),n(i.currentTarget).find(".e-hightlight").length!==t.DashboardConstants.Zero&&n(r.currentTabContentElement).find("#"+r._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&(n("#"+r.currentTabContentElement.attr("id")+"_contextMenuPopup").focus(),n("#"+r.currentTabContentElement.attr("id")+"_contextMenuPopup").addClass("e-hightlight")),r._trigger("actionComplete",{eventType:t.dashboardViewer.event.contextMenuOpen,source:{element:n(i.currentTarget),data:n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id")}}),!1}return!0},u)}},_destroyContextMenu:function(){var n=this.currentTabContentElement.find("#"+this._id+"_contextMenuPopup");n.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.contextMenuClose,source:{element:null,data:this._id}}),this.showContext=!1,n.hide(),n.remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.contextMenuClose,source:{element:null,data:this._id}}));n=this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup");n.length!==t.DashboardConstants.Zero&&(n.hide(),this.showContext=!1)},_controlMenuManipulation:function(i,r,u){var f;if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(r)){if(f=this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-header-Menu-button"),f.hasClass("e-dbrd-maxIcon"))i.hasClass("enable-image-export")&&u.push({id:12,parentId:null,text:this.locale.utils.ExportToImage,sprite:"e-brd-showDashoardMenu-Exportimage"}),i.hasClass("enable-pdf-export")&&u.push({id:146,parentId:null,text:this.locale.utils.ExportToPdf,sprite:"e-brd-showDashoardMenu-ExportPdf"}),i.hasClass("enable-csv-export")&&u.push({id:13,parentId:null,text:this.locale.utils.ExportToCSV,sprite:"e-brd-showControlMenu-ExportCSV"}),i.hasClass("enable-excel-export")&&u.push({id:14,parentId:null,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"});else{var s=n(i).parents(".e-dbrd-control-container"),h=n(s).find(".e-control-description"),e=n(i).parents(".e-dbrd-control-container");if(h.length>t.DashboardConstants.Zero&&n(window).width()<t.DashboardConstants.MobileWidth&&u.push({id:33,parentId:null,text:this.locale.utils.Information,sprite:"e-control-description"}),!i.hasClass("e-dbrd-widget-menu")&&(i.hasClass("enable-image-export")||i.hasClass("enable-pdf-export")||i.hasClass("enable-csv-export")||i.hasClass("enable-excel-export"))&&u.push({id:11,parentId:null,text:this.locale.utils.Export,sprite:"e-brd-showDashoardMenu-Exportoption"}),!i.hasClass("e-dbrd-widget-menu")&&e.width()<150&&e.find(".e-dbrd-hide-maximize").length!==t.DashboardConstants.Zero&&u.push({id:14,parentId:null,text:this.locale.utils.Maximize,sprite:"e-dbrd-maximize"}),n(window).width()>=t.DashboardConstants.MobileWidth&&(i.hasClass("enable-image-export")&&u.push({id:12,parentId:11,text:this.locale.utils.ExportToImage}),i.hasClass("enable-pdf-export")&&u.push({id:146,parentId:11,text:this.locale.utils.ExportToPdf}),i.hasClass("enable-csv-export")&&u.push({id:13,parentId:11,text:this.locale.utils.ExportToCSV}),i.hasClass("enable-excel-export")&&u.push({id:14,parentId:11,text:this.locale.utils.ExportToExcel})),n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment&&this._isCommentWidget){var o=i.parents(".e-dbrd-control-container"),c=o.find(".e-dbrd-banner-widget-withcomments"),l=o.find(".e-dbrd-banner-widget-withoutcomments");c.length!==t.DashboardConstants.Zero&&u.push({id:15,parentId:null,text:this.locale.utils.Comment,sprite:"e-dbrd-banner-widget-withcomments"});l.length!==t.DashboardConstants.Zero&&u.push({id:15,parentId:null,text:this.locale.utils.Comment,sprite:"e-dbrd-banner-widget-withoutcomments"})}}var a=i.parents(".e-dbrd-control-container").attr("type"),v=i.parents(".e-dbrd-control-container").attr("id"),y=i.parents(".e-dbrd-control-container").attr("data-widget-id");this._trigger("beforeControlMenuOpen",{menuData:u,WidgetType:a,widgetId:v,dataWidgetId:y,tabId:this.model._selectedTabGuid,tabName:this.dashboardName})}},_showControlMenu:function(i){var r=n(this.currentTabContentElement).find("#"+i),f,h,a,s,v,y;if(this.exportDashboard=!1,this._destroyContextMenu(),this._closeCommentDialog(r),this.lastFocusElement=r,f=r.parents(".e-dbrd-layout-cell"),f.css({position:"relative"}),h=this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-header-Menu-button"),r.hasClass("e-dbrd-menuClicked")){r.removeClass("e-dbrd-menuClicked");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").ejDashboardMenu("destroy");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").remove();return}n(this.currentTabContentElement).find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked");r.addClass("e-dbrd-menuClicked");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").data("ejDashboardMenu")&&this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").ejDashboardMenu("destroy");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").remove();this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide();this._destroyDashboardMenu();var o=r.parents(".e-dbrd-layout-cell").attr("data-controltype"),e=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control").attr("id"),p=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id"),c=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("data-widget-id");o==="FilterComboBox"&&(e=r.parents(".e-dbrd-layout-cell").find(".e-dropdownlist").attr("id"));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuIconClick,source:{element:r,data:e}});var u=n("<div>").attr({id:this._id+"_controlMenuPopup",type:o,"control-id":e,widgetId:p,"data-Widget-Id":c,oncontextmenu:"return false"}),l=f.find(".e-dbrd-control-container").find(".e-control-heading").find(".e-control-title").text(),w=f.find(".e-dbrd-control-container").find(".e-control-subtitleHeading").find(".e-control-subtitle").text();h.hasClass("e-dbrd-maxIcon")&&(n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElementData=n("<div><\/div>"),this.filename=l,this.exportSettings.filename=this.filename,this.currentTabContentElementData.attr({type:o,"control-id":e,"data-Widget-Id":c}),this._mobileExport()):(a='<p class = "e-brd-showDashoardMenu-title">'+this.locale.utils.ExportControl+"<\/p>",u.append(a)));s=[];v=r.parents(".e-dbrd-control-container").find(".e-dbrd-control-nodatainfo").length>t.DashboardConstants.Zero;this._controlMenuManipulation(r,v,s);u.ejDashboardMenu({enableSeparator:!1,fields:{dataSource:s,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,u,l,w)});f.length&&(y=f.find(".e-dbrd-control").offset().top,r.hasClass("e-control-prop-onHover")&&(y+=20),this.currentTabContentElement.append(u.parent()),this.multiTabs!==!0||this.model.showTab?n(window).width()<t.DashboardConstants.MobileWidth?(u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+3+"px",width:"auto","z-index":"20"}),u.css({left:r.offset().left-n("#"+this._id+"_controlMenuPopup").width()+r.width()+17+"px"})):u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+22+this.element.find(".e-tab .e-header").height()+"px",left:r.offset().left-n(this.currentTabContentElement).offset().left-98+"px","z-index":"20",width:"auto"}):u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+22+"px",left:r.offset().left-n(this.currentTabContentElement).offset().left-104+"px","z-index":"20",width:"auto"}),!this.multiTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&u.css({left:r.offset().left-n(this.currentTabContentElement).offset().left-98+this.element.scrollLeft()+"px"}),u.offset().left<0&&u.css({left:"5px"}),u.parent().find(".e-menu li.e-list>ul>li.e-list>a").css({padding:"0px 35px 0px 10px"}));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuIconClick,source:{element:r,data:e}});this.model.enableCustomTheming&&this._customTheme(["menu"])},_destroyControlMenu:function(){var i,r;n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onControlMenuPopupClose,source:{element:null,data:this._id}}),n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").data("ejDashboardMenu")&&n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").ejDashboardMenu("destroy"),n("#"+this._id+"_controlMenuPopup").remove(),n(this.currentTabContentElement).find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onControlMenuPopupClose,source:{element:null,data:this._id}}));n(window).width()<t.DashboardConstants.MobileWidth&&(i=n(this.currentTabContentElement).find(".e-dbrd-inactive"),i.length!==t.DashboardConstants.Zero&&(i.find(".e-dbrd-inactive-header").css({position:"fixed"}),r=i.find(".e-dbrd-upArrow"),r.css("display")==="block"&&i.css({"overflow-y":"auto"})))},_showMaximizedControlMenu:function(i){var e,o,h,r,c,s;for(n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),e=t.DashboardConstants.Zero,o=n("#"+n(i.currentTarget).attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-menu"),o.length!==t.DashboardConstants.Zero?o.click():n("#"+n(i.currentTarget).attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-small-menu").click(),h=this.currentTabContentElement.find(".e-menu-wrap").find(".e-menu li a"),n(this.currentTabContentElement).find(".e-menu.e-vertical .e-list").css({"line-height":"30px"}),n(this.currentTabContentElement).find(".e-menu.e-vertical>.e-list>a").css({"font-size":"11px"}),r=0;r<=this.currentTabContentElement.find(".e-menu-wrap").find(".e-menu li a").length;r++)c=n(h[r]).text(),s=t.EjSvgRender.utils._measureText(c,100,{size:"13px",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,e<s&&(e=s);var u=this.currentTabContentElement.find(".e-menu-wrap"),l=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv"),f=n(this.currentTabContentElement).find(".e-dbrd-inactive");l.append(u);n(window).width()<t.DashboardConstants.MobileWidth?(n(u).find(".e-menu.e-vertical .e-list").css({"line-height":"52px"}),n(u).find(".e-menu").css({position:"fixed",top:n(".e-dbrd-inactive").height()/3.5+"px",left:n(".e-dbrd-inactive").width()/2.5+"px","z-index":"1000",width:"auto"}),f.find(".e-dbrd-inactive-header").css({position:"absolute"}),f.length!==t.DashboardConstants.Zero&&f.css("overflow-y")==="auto"&&f.css({"overflow-y":"hidden"})):n(u).find(".e-menu").css({position:"fixed",top:n(i.currentTarget).offset().top+21.7+"px",left:n(i.currentTarget).offset().left-84.3+"px","z-index":"1000",width:"auto"})},_contextMenuManipulation:function(i,r,u){var o=u.type,v=u.hasNoData,h,s,f,c,e,l,a,y;if(!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(v)&&o!==t.dashboardViewer.Controls.FilterComboBox&&o!==t.dashboardViewer.Controls.DatePicker&&o!==t.dashboardViewer.Controls.CheckBox&&o!==t.dashboardViewer.Controls.ListBox&&o!==t.dashboardViewer.Controls.RangeSlider&&o!==t.dashboardViewer.Controls.RangeNavigator){if(h=n(i.target).parents(".e-dbrd-control-container").attr("data-widget-id"),s=this.dashboardControls.getControlByReport(h),!t.isNullOrUndefined(this.currentActionSettings)&&!t.isNullOrUndefined(this.currentActionSettings.id)&&this.isActionMenu&&h===this.currentActionSettings.id){if(f=this.currentActionSettings.actionData,!t.isNullOrUndefined(s)&&!t.isNullOrUndefined(s.configInfo)){for(c=[],e=0;e<f.length;e++)l=s.configInfo.IsMasterFilter&&f[e]===t.dashboardViewer.Action.Filter?f[e]:s.configInfo.IsLinked&&f[e]===t.dashboardViewer.Action.Linking?f[e]:(s.configInfo.isDrillDown||s.configInfo.EnableDrillDown)&&f[e]===t.dashboardViewer.Action.DrillDown?f[e]:null,t.isNullOrUndefined(l)||c.push(l);f=c}this.isActionMenu=!1;for(a in f)if(f.hasOwnProperty(a))switch(f[a]){case t.dashboardViewer.Action.Filter:this.currentActionSettings.slaves.length>t.DashboardConstants.Zero&&r.push({id:50,text:this.locale.utils.Filter});break;case t.dashboardViewer.Action.DrillDown:r.push({id:51,text:this.locale.utils.DrillDown});break;case t.dashboardViewer.Action.Linking:r.push({id:52,text:this.locale.utils.Linking})}}!n(i.currentTarget).hasClass("e-dbrd-control-container")||v||this.isWidget||r.push({id:14,text:this.locale.utils.Maximize});r.push({id:11,parentId:null,text:this.locale.utils.Export});n(window).width()>=t.DashboardConstants.MobileWidth&&(this.model._exportSettings.canExportImage&&r.push({id:12,parentId:11,text:this.locale.utils.ExportToImage}),this.model._exportSettings.canExportPdf&&r.push({id:146,parentId:11,text:this.locale.utils.ExportToPdf}),this.model._exportSettings.canExportCsv&&r.push({id:13,parentId:11,text:this.locale.utils.ExportToCSV}),this.model._exportSettings.canExportExcel&&r.push({id:14,parentId:11,text:this.locale.utils.ExportToExcel}));y=n(i.target).parents(".e-dbrd-control-container").attr("id");this._trigger("beforeContextMenuOpen",{menuData:r,widgetType:o,widgetId:y,dataWidgetId:h,tabId:this.model._selectedTabGuid,tabName:this.dashboardName})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.customTheme={_customThemeforAPI:function(n,t,i){var r={},u=0,f,e,o;if(t.controlType===n.controlType&&t.reportName===n.reportName&&this.model.customThemeSettings.widgetThemeSettings!==null&&(f=this.model.customThemeSettings.widgetThemeSettings[n.controlType.toLowerCase()],f!==null&&f[i]!==null))for(e=f[i],o=Object.keys(r).length,r=this._generateAPIFromJson(n.controlType,e),u=0;u<o;u++)t.customTheme[Object.keys(r)[u]]=r[Object.keys(r)[u]]},_generateCSSFromJson:function(n,i,r,u,f){var e=t.DashboardConstants.Zero,h=null,s=null,o=Object.keys(u),l,c,v,a;for(i==="PivotGrid"&&(n=n+"_div"),e=t.DashboardConstants.Zero;e<o.length;e++)if(l=this._getControlClassName(r,o[e],i,f),!t.isNullOrUndefined(l))for(c=l.split(","),v=c.length,s=t.DashboardConstants.Zero;s<v;s++)a=i==="RangeSlider"&&r==="label"?c[s]:"#"+n+c[s],t.isNullOrUndefined(h)?h=a+" { "+this._getPropertyName(o[e])+" : "+u[o[e]]+" !important}":h+=a+" { "+this._getPropertyName(o[e])+" : "+u[o[e]]+" !important}";return h},_getPropertyName:function(n){switch(n){case"font-color":case"filter-icon-color":case"sort-icon-color":case"expand-icon-color":case"collapse-icon-color":case"symbol-color":case"tick-color":case"box-color":case"currentmonth-font-color":case"week-header-color":case"days-color":case"arrow-color":case"calendar-color":case"search-icon-color":case"applybutton-font-color":case"cancelbutton-font-color":return"color";case"othermonth-font-color":case"range-color":case"background-color":case"applybutton-color":case"cancelbutton-color":return"background";case"highlight-color":return"border-color"}return n},_customTheme:function(n){for(var i=0;i<=n.length-t.DashboardConstants.One;i++)switch(n[i]){case"dashboard":this._customThemefordashboard();break;case"banner":this._customThemeforbanner();break;case"font":this._customThemeforfont();break;case"container":this._customThemeforcontainer();break;case"popup":this._customThemeforpopup();break;case"description":this._customThemefordescription();break;case"menu":this._customThemeformenu();break;case"disableBtn":this._customThemefordisableBtn();break;case"enableBtn":this._customThemeforenableBtn();break;case"erroredContainer":this._customThemeforerroredContainer();break;case"export":this._customThemeforexport();break;case"filterOverview":this._customThemeforfilterOverview();break;case"maximize":this._customThemeformaximize();break;case"passiveError":this._customThemeforpassiveError();break;case"tooltip":this._customThemefortooltip();break;case"multitabSettings":this._customThemeforTabs()}},_customThemefordashboard:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard)&&(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["background-image"])&&this.model.customThemeSettings.dashboard["background-image"].length>t.DashboardConstants.Zero?this.currentTabContentElement.css({"background-image":this.model.customThemeSettings.dashboard["background-image"]}):!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["background-color"])&&this.model.customThemeSettings.dashboard["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.css({"background-color":this.model.customThemeSettings.dashboard["background-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["icon-hover-color"])&&this.model.customThemeSettings.dashboard["icon-hover-color"].length>t.DashboardConstants.Zero)){var i=this.model.customThemeSettings.dashboard["icon-hover-color"],r=".e-dbrd-tab-res-icon:hover {color:"+i+"!important}.e-dbrd-tab-menu:hover {color:"+i+"!important}.e-dbrd-bannerIcon:hover {color:"+i+"!important}.e-dbrd-containerIcon:hover {color:"+i+"!important}.e-dbrd-popup-icon:hover {color:"+i+"!important}.e-dbrd-maxIcon:hover {color:"+i+"!important}.e-brd-clearFilters:hover {color:"+i+"!important}.e-close-notification:hover {color:"+i+"!important}";n("head").prepend('<style type= "text/css">'+r+"<\/style>")}},_customThemeforfont:function(){var i,r;t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(i=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(i["font-family"])&&i["font-family"].length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.src)&&i.src.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.format)&&i.format.length>t.DashboardConstants.Zero&&(n("head").prepend('<style type= "text/css"> @font-face {\n font-family: "'+i["font-family"]+'" ;\n  src: url(  "'+i.src+'" )format( "'+i.format+'");\n } \n  <\/style>'),r=this.currentTabContentElement[0],r.style.setProperty("font-family",i["font-family"],"important"),this.element.find(".e-tab>.e-header .e-item").css({"font-family":i["font-family"]}),this.element.find(".e-dbrd-tab-res-popup .e-dbrd-tab-res-text").css({"font-family":i["font-family"]})))},_customThemeforbanner:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.banner)){var i=this.currentTabContentElement.find(".e-dbrd-banner"),n=this.model.customThemeSettings.banner;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({background:n["background-color"]}),this.currentTabContentElement.find(".e-dbrd-filterListMenu").css({background:n["background-color"]}),this.currentTabContentElement.find(".e-dbrd-filterListMenu").css({border:"none"}),this.currentTabContentElement.find(".e-dbrd-overview-banner").css({background:n["background-color"]}));!t.isNullOrUndefined(n["title-color"])&&n["title-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({color:n["title-color"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({color:n["title-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-size":n["font-size"]}));!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-bannerIcon").css({color:n["icons-color"]}),this.element.find(".e-dbrd-tab-menu").css({color:n["icons-color"]}),this.element.find(".e-dbrd-tab-menu-border").css({"background-color":n["icons-color"]}),this.element.find(".e-dbrd-tab-res-icon").css({color:n["icons-color"]}),this.currentTabContentElement.find(".e-dynamic-filterdroparrow").css({color:n["icons-color"]}));!t.isNullOrUndefined(n["banner-top-border-color"])&&n["banner-top-border-color"].length>t.DashboardConstants.Zero&&i.css({"border-top-color":n["banner-top-border-color"]})}},_customThemeforexport:function(){t.isNullOrUndefined(this.model.customThemeSettings.container)||this.currentTabContentElement.css({"background-color":this.model.customThemeSettings.container["background-color"]})},_customThemeforcontainer:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.container)){var n=this.model.customThemeSettings.container,i=this.currentTabContentElement.find(".e-dbrd-control-container");!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({"background-color":n["background-color"]}),this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&this.currentTabContentElement.find(".e-dbrd-control").css({"background-color":n["background-color"]}));!t.isNullOrUndefined(n.border)&&n.border.length>t.DashboardConstants.Zero&&i.css({border:n.border});!t.isNullOrUndefined(n["border-radius"])&&n["border-radius"].length>t.DashboardConstants.Zero&&i.css({"border-radius":n["border-radius"]});!t.isNullOrUndefined(n["box-shadow"])&&n["box-shadow"].length>t.DashboardConstants.Zero&&i.css({"box-shadow":n["box-shadow"]});!t.isNullOrUndefined(n["header-background-color"])&&n["header-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-heading").css({"background-color":n["header-background-color"]});!t.isNullOrUndefined(n["title-color"])&&n["title-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({color:n["title-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]});!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-size":n["font-size"]});!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-containerIcon").css({color:n["icons-color"]})}},_customThemeformenu:function(){var u,i,f,e,r;t.isNullOrUndefined(this.model.customThemeSettings.menuSettings)||(u=this.currentTabContentElement.find("#"+this._id+"_DashboardMenuPopup"),i=this.model.customThemeSettings.menuSettings,!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(u.css({"background-color":i["background-color"]}),u.css({"border-color":i["background-color"]}),u.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(u.children().find("a").css({color:i["font-color"]}),u.children().find("span").css({color:i["font-color"]}),u.children(".e-brd-showDashoardMenu-title").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&u.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&u.css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(u.children().find("a").css({"font-size":i["font-size"]}),u.children().find("span").css({"font-size":i["font-size"]}),u.children(".e-brd-showDashoardMenu-title").css({"font-size":i["font-size"]})),f=this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup"),!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(f.css({"background-color":i["background-color"]}),f.css({"border-color":i["background-color"]}),f.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(f.children().find("a").css({color:i["font-color"]}),f.children().find("span").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&f.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&f.css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(f.children().find("a").css({"font-size":i["font-size"]}),f.children().find("span").css({"font-size":i["font-size"]})),e=this.currentTabContentElement.find("#"+this._id+"_contextMenuPopup"),!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(e.css({"background-color":i["background-color"]}),e.css({"border-color":i["background-color"]}),e.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(e.children().find("a").css({color:i["font-color"]}),e.children().find("span").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&e.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&e.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&e.children().find("a").css({"font-size":i["font-size"]}),this.multiTabs&&this.model.showTab&&(r=n(".e-dbrd-tab-menu-popup")[0],!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&n(r).length>t.DashboardConstants.Zero&&(r.style.setProperty("background-color",i["background-color"]),r.style.setProperty("border-color",i["background-color"]),r.style.setProperty("box-shadow","1px 1px 1px 3px "+i["background-color"])),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(n(r).children().find("a").css({color:i["font-color"]}),n(r).children().find("span").css({color:i["font-color"]}),n(r).children(".e-brd-showDashoardMenu-title").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&n(r).css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&n(r).css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(n(r).children().find("a").css({"font-size":i["font-size"]}),n(r).children().find("span").css({"font-size":i["font-size"]}),n(r).children(".e-brd-showDashoardMenu-title").css({"font-size":i["font-size"]}))))},_customThemefordescription:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.descriptionSettings)){var i=this.currentTabContentElement.find(".e-dbrd-report-desc"),n=this.model.customThemeSettings.descriptionSettings;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({"background-color":n["background-color"]}),this.element.find(".e-dbrd-desc-tooltip").css({"background-color":n["background-color"]}));!t.isNullOrUndefined(n["border-color"])&&n["border-color"].length>t.DashboardConstants.Zero&&(i.css({"border-color":n["border-color"]}),this.element.find(".e-dbrd-desc-tooltip").css({"border-color":n["border-color"]}));!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(i.css({color:n["font-color"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({color:n["font-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(i.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(i.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(i.css({"font-size":n["font-color"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-size":n["font-size"]}))}},_customThemeforpopup:function(){var f=n(window).width()<t.DashboardConstants.MobileWidth,i,e,o,s,h,u,c,l,r;t.isNullOrUndefined(this.model.customThemeSettings.popupSettings)||(i=this.model.customThemeSettings.popupSettings,!t.isNullOrUndefined(i["popup-background-color"])&&i["popup-background-color"].length>t.DashboardConstants.Zero&&!f?(this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-inactive-export").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export-waiting").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-params-inactive-prompt").css({"background-color":i["popup-background-color"]})):!t.isNullOrUndefined(i["popup-background-color"])&&i["popup-background-color"].length>t.DashboardConstants.Zero&&f&&(this.currentTabContentElement.find(".e-dbrd-mobileExport").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export-waiting").css({"background-color":i["popup-background-color"]})),!t.isNullOrUndefined(i["popup-buttons-bar-background-color"])&&i["popup-buttons-bar-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportButtons").css({"background-color":i["popup-buttons-bar-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"background-color":i["popup-buttons-bar-background-color"]})),!t.isNullOrUndefined(i["popup-buttons-bar-border-color"])&&i["popup-buttons-bar-border-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportButtons").css({"border-top-color":i["popup-buttons-bar-border-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"border-top-color":i["popup-buttons-bar-border-color"]})),!t.isNullOrUndefined(i["popup-container-background-color"])&&i["popup-container-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive-export").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-waiting-inactive-export").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-alert").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-alert").css({border:"1px solid "+i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-alert").css({"box-shadow":"0 0 5px 0 "+i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog").css({border:"1px solid "+i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog").css({"box-shadow":"0 0 5px 0 "+i["popup-container-background-color"]}),this.element.find(".e-dbrd-params-dialog").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"background-color":i["popup-container-background-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExport").css({"background-color":i["popup-container-background-color"]})),!t.isNullOrUndefined(i["popup-title-color"])&&i["popup-title-color"].length>t.DashboardConstants.Zero&&!f?(this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({color:i["popup-title-color"]}),this.currentTabContentElement.find(".e-dbrd-inactive-export").find("hr").css({"border-color":i["popup-title-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-params-title").css({color:i["popup-title-color"]})):!t.isNullOrUndefined(i["popup-title-color"])&&i["popup-title-color"].length>t.DashboardConstants.Zero&&f&&(this.currentTabContentElement.find(".e-dbrd-exportTitle").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-params-title").css({color:i["popup-title-color"]})),!t.isNullOrUndefined(i["hyperlink-color"])&&i["hyperlink-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-btn-support").css({color:i["hyperlink-color"]}),!t.isNullOrUndefined(i["error-msg-color"])&&i["error-msg-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({color:i["error-msg-color"]}),this.currentTabContentElement.find(".e-error").css({color:i["error-msg-color"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({color:i["error-msg-color"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({color:i["error-msg-color"]})),!t.isNullOrUndefined(i["popup-font-color"])&&i["popup-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-inactive-left").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-dbrd-content").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-share-text").css({color:i["popup-font-color"]}),this.element.find(".e-dbrd-params-lable").css({color:i["popup-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({color:i["popup-font-color"]})),!t.isNullOrUndefined(i["popup-icons-color"])&&i["popup-icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:i["popup-icons-color"]}),this.currentTabContentElement.find(".e-share-copy-btn").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-dialog-close-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-input-container .e-ddl .e-select .e-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker-wrapper .e-dashboarddatepicker-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-back-icon").css({color:i["popup-icons-color"]}),e=".e-dbrd-params-date .e-arrow-enabled i:before { color :"+i["popup-icons-color"]+"}",n("head").append('<style type= "text/css">'+e+"<\/style>"),n(".e-dbrd-params-date .e-arrow-enabled i").css({color:i["popup-icons-color"]})),!t.isNullOrUndefined(i["input-box-background-color"])&&i["input-box-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdownSelection").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_container").css({"background-color":i["input-box-background-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find(".e-text-box").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_container").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find(".e-share-text").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-textbox").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container .e-ddl .e-select").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"background-color":i["input-box-background-color"]}),o=".e-dbrd-params-date .e-available-date, .e-dbrd-params-date .other-month, .e-dbrd-params-date .calendar-table table th { background-color :"+i["input-box-background-color"]+"}",n("head").append('<style type= "text/css">'+o+"<\/style>"),n(".e-dbrd-params-drpdwn").css({"background-color":i["input-box-background-color"]}),n(".e-dbrd-params-date").css({"background-color":i["input-box-background-color"]}),f&&this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"background-color":i["input-box-background-color"]})),!t.isNullOrUndefined(i["input-box-border-color"])&&i["input-box-border-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"border-color":i["input-box-border-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find(".e-down-arrow").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find(".e-text-box").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find(".e-share-text").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-dbrd-params-textbox").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"border-color":i["input-box-border-color"]}),n(".e-dbrd-params-drpdwn").css({"border-color":i["input-box-border-color"]}),n(".e-dbrd-params-date").css({"border-color":i["input-box-border-color"]}),f&&this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"border-color":i["input-box-border-color"]})),!t.isNullOrUndefined(i["inputbox-font-color"])&&i["inputbox-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({color:i["inputbox-font-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-text-box").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-textbox").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({color:i["inputbox-font-color"]}),n(".e-dbrd-params-drpdwn").css({color:i["inputbox-font-color"]}),s=".e-dbrd-params-date .e-available-date, .e-dbrd-params-date .other-month, .e-dbrd-params-date .calendar-table table th { color :"+i["inputbox-font-color"]+"}",n("head").append('<style type= "text/css">'+s+"<\/style>"),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({color:i["inputbox-font-color"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-inactive-left").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-exportImageField").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-success").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-text-box").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-error").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-btn-support").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-share-text").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-textbox").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n(".e-dbrd-params-drpdwn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),h=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-family:"+this.model.customThemeSettings.fontSettings["font-family"]+"}",n("head").append('<style type= "text/css">'+h+"<\/style>"),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-exportTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(u=this.model.customThemeSettings.fontSettings,this.currentTabContentElement.find(".e-brd-exportImageField").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"font-size":u["font-size"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"font-size":u["font-size"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-text-box").css({"font-size":u["font-size"]}),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"font-size":u["font-size"]})),this.currentTabContentElement.find(".e-brd-inactive-left").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-content").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-error").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-success").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-share-text").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-textbox").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-size":u["font-size"]}),c=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-size:"+u["font-size"]+"}",n("head").append('<style type= "text/css">'+c+"<\/style>")),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"font-size":i["font-size"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"font-size":i["font-size"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-text-box").css({"font-size":i["font-size"]}),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"font-size":i["font-size"]})),this.currentTabContentElement.find(".e-brd-inactive-left").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-content").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-error").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-exportTitle").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-size":i["success-font-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-success").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-share-text").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-textbox").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-size":i["font-size"]}),l=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-size:"+i["font-size"]+"}",n("head").append('<style type= "text/css">'+l+"<\/style>")));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(r=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(r["success-background-color"])&&r["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"background-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"border-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-success").css({"background-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-success").css({"border-color":r["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":r["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":r["success-background-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":r["success-background-color"]})),!t.isNullOrUndefined(r["success-font-color"])&&r["success-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:r["success-font-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({color:r["success-font-color"]}),this.currentTabContentElement.find(".e-success").css({color:r["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:r["success-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:r["success-font-color"]})),!t.isNullOrUndefined(r["reset-background-color"])&&r["reset-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"background-color":r["reset-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"border-color":r["reset-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":r["reset-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":r["reset-background-color"]})),!t.isNullOrUndefined(r["reset-font-color"])&&r["reset-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageReset").css({color:r["reset-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button, .e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span").css({color:r["reset-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-exportResetIcon").css({color:r["reset-font-color"]})),!t.isNullOrUndefined(r["cancel-background-color"])&&r["cancel-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"background-color":r["cancel-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"border-color":r["cancel-background-color"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"background-color":r["cancel-background-color"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"border-color":r["cancel-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"background-color":r["cancel-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"border-color":r["cancel-background-color"]})),!t.isNullOrUndefined(r["cancel-font-color"])&&r["cancel-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({color:r["cancel-font-color"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({color:r["cancel-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({color:r["cancel-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-titleBackIcon").css({color:r["reset-font-color"]})),!t.isNullOrUndefined(r["font-size"])&&r["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-size":r["success-font-color"]}),this.currentTabContentElement.find(".e-success").css({"font-size":r["font-size"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-size":r["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span").css({"font-size":r["font-size"]})))},_customThemeformaximize:function(){var i,f,u,e,o,r;t.isNullOrUndefined(this.model.customThemeSettings.maximizationSettings)||(i=this.model.customThemeSettings.maximizationSettings,!t.isNullOrUndefined(i["max-background-color"])&&i["max-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").css({"background-color":i["max-background-color"]}),!t.isNullOrUndefined(i["max-header-background-color"])&&i["max-header-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-header").css({"background-color":i["max-header-background-color"]}),!t.isNullOrUndefined(i["max-container-background-color"])&&i["max-container-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-control-container-avoid").css({"background-color":i["max-container-background-color"]}),!t.isNullOrUndefined(i["max-footer-background-color"])&&i["max-footer-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-footer").css({"background-color":i["max-footer-background-color"]}),!t.isNullOrUndefined(i["max-icons-color"])&&i["max-icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxIcon").css({color:i["max-icons-color"]}),f=i["max-icons-color"],u=".e-dbrd-inactive-header-close:hover {color:"+f+"!important}",n("head").append('<style type= "text/css">'+u+"<\/style>"),u=".e-dbrd-maxIcon:hover:before {color:"+f+"!important}",n("head").append('<style type= "text/css">'+u+"<\/style>")),!t.isNullOrUndefined(i["max-title-color"])&&i["max-title-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({color:i["max-title-color"]}),!t.isNullOrUndefined(i["description-font-color"])&&i["description-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description").css({color:i["description-font-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").length>t.DashboardConstants.Zero&&(e=this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description")[0],e.style.setProperty("font-family",this.model.customThemeSettings.fontSettings["font-family"],"important"))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").length>t.DashboardConstants.Zero&&(o=this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description")[0],o.style.setProperty("font-size",this.model.customThemeSettings.fontSettings["font-size"],"important"))),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description").css({"font-size":i["font-size"]})));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(r=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(r["cancel-background-color"])&&r["cancel-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"border-color":r["cancel-background-color"]}),!t.isNullOrUndefined(r["cancel-font-color"])&&r["cancel-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({color:r["cancel-font-color"]}),!t.isNullOrUndefined(r["font-size"])&&r["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-size":r["font-size"]}))},_customThemeforfilterOverview:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.filterOverviewSettings)||(n=this.model.customThemeSettings.filterOverviewSettings,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp")[0],i.style.setProperty("background-color",n["background-color"],"important"),i.style.setProperty("border-color",n["background-color"],"important"),this.currentTabContentElement.find(".e-dbrd-filterList").css({"background-color":n["background-color"]})),!t.isNullOrUndefined(n["footer-background-color"])&&n["footer-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-clearFilterdiv").css({"background-color":n["footer-background-color"]}),this.currentTabContentElement.find(".e-brd-style-two").css({"border-color":n["footer-background-color"]})),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-brd-list").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({color:n["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-list").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-brd-list").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]})),!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-brd-clearFilters").css({color:n["icons-color"]}),!t.isNullOrUndefined(n["back-icon-color"])&&n["back-icon-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-overview-back").css({color:n["back-icon-color"]}),!t.isNullOrUndefined(n["clear-all-font-color"])&&n["clear-all-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-clearAllFilters").css({color:n["clear-all-font-color"]}),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-brd-list").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-clearAllFilters").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({"font-size":n["font-size"]})))},_customThemeforpassiveError:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.passiveErrorSettings)){var n=this.model.customThemeSettings.passiveErrorSettings;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-error-notification").css({"background-color":n["background-color"]});!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-error-msg-mobile").css({color:n["font-color"]}));!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-close-notification").css({color:n["icons-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-errorDiv-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("reload-button-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(n["link-color"])&&n["link-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-learnMore").css({color:n["link-color"]}),this.currentTabContentElement.find(".e-dbrd-learnMore-text-mobile").css({color:n["link-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-errorDiv-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find("reload-button-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-error-msg-mobile").css({"font-size":n["font-size"]}))}},_customThemeforerroredContainer:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.erroredContainer)||(n=this.model.customThemeSettings.erroredContainer,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".align-center").css({"background-color":n["background-color"]}),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-nodata").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-higher-error-message").css({color:n["font-color"]})),!t.isNullOrUndefined(n["link-color"])&&n["link-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-link-btn").css({color:n["link-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-link-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-nodata").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"font-size":n["font-size"]})),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-nodata").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"font-size":n["font-size"]})));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(i=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(i["success-background-color"])&&i["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"background-color":i["success-background-color"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"border-color":i["success-background-color"]})),!t.isNullOrUndefined(i["success-font-color"])&&i["success-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({color:i["success-font-color"]}))},_customThemefortooltip:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.tooltipSettings)||(n=this.model.customThemeSettings.tooltipSettings,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tooltip").css({"background-color":n["background-color"]}),this.element.find(".e-dbrd-tooltip").css({"border-color":n["background-color"]}),this.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px"+n["background-color"]})),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({color:n["font-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(i=this.element.find(".e-dbrd-tooltip")[0],i.style.setProperty("font-family",this.model.customThemeSettings.fontSettings["font-family"],"important")),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({"fonts-size":n["font-size"]}),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({"font-size":n["font-size"]}))},_customThemeforenableBtn:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)){var i=this.model.customThemeSettings.buttonSettings;!t.isNullOrUndefined(i["success-background-color"])&&i["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":i["success-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":i["success-background-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":i["success-background-color"]}));!t.isNullOrUndefined(i["success-font-color"])&&i["success-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:i["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({color:i["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:i["success-font-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:i["success-font-color"]}))}},_customThemefordisableBtn:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)){var i=this.model.customThemeSettings.buttonSettings;!t.isNullOrUndefined(i["disabled-btn-background-color"])&&i["disabled-btn-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":i["disabled-btn-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":i["disabled-btn-background-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":i["disabled-btn-background-color"]}));!t.isNullOrUndefined(i["disabled-btn-font-color"])&&i["disabled-btn-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:i["disabled-btn-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({color:i["disabled-btn-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:i["disabled-btn-font-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:i["disabled-btn-font-color"]}))}},_mouseHoverOnMenu:function(i){var f,r,u,e;this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&(t.isNullOrUndefined(this.model.customThemeSettings.dashboard)||!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["menu-hover-color"])&&this.model.customThemeSettings.dashboard["menu-hover-color"].length>t.DashboardConstants.Zero&&(f=this.element.find(".e-menu .e-list"),f.css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]}),i.currentTarget.style.setProperty("background-color",this.model.customThemeSettings.dashboard["menu-hover-color"],"important"),r=this.element.find(".e-menu .e-list.e-haschild>a"),u="",n(i.currentTarget).parents().hasClass("e-haschild")||n(i.currentTarget).hasClass("e-haschild")?(u="",u=r.attr("style"),r.css("cssText",u+"background-color:"+this.model.customThemeSettings.dashboard["menu-hover-color"]+"!important"),r.css({color:this.model.customThemeSettings.menuSettings["font-color"]})):(u="",u=r.attr("style"),r.css("cssText",u+"background-color:"+this.model.customThemeSettings.menuSettings["background-color"]+"!important"),r.css({color:this.model.customThemeSettings.menuSettings["font-color"]}))));this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(e=this.element.find(".e-menu .e-list.e-haschild>a"),e.css("font-size",this.model.customThemeSettings.menuSettings["font-size"]))},_mouseLeaveOnMenu:function(){if(this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.dashboard)&&(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["hover-color"])&&this.model.customThemeSettings.dashboard["hover-color"].length>t.DashboardConstants.Zero||!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["icon-hover-color"])&&this.model.customThemeSettings.dashboard["icon-hover-color"].length>t.DashboardConstants.Zero)){var n=this.element.find(".e-menu");n.css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]});this.element.find(".e-menu").children().find("a").css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]});n.children(".e-haschild").css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]+"!important"})}},_customThemeforTabs:function(){var i,r,u,f;t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)||(i=null,r=null,!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["background-color"])&&this.model.customThemeSettings.multitabSettings["background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-tab>.e-header .e-item").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-menu-container").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-res-popup").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-res-element").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-color"])&&this.model.customThemeSettings.multitabSettings["font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header .e-item>a").css({color:this.model.customThemeSettings.multitabSettings["font-color"]}),this.element.find(".e-dbrd-tab-res-text").css({color:this.model.customThemeSettings.multitabSettings["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["tab-hover-color"])&&this.model.customThemeSettings.multitabSettings["tab-hover-color"].length>t.DashboardConstants.Zero&&(i=this.model.customThemeSettings.multitabSettings["tab-hover-color"],r=".e-tab>.e-header .e-item:hover {border-bottom-color:"+i+"!important}.e-dbrd-tab-res-element:hover {background-color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["tab-hover-font-color"])&&this.model.customThemeSettings.multitabSettings["tab-hover-font-color"].length>t.DashboardConstants.Zero&&(i=this.model.customThemeSettings.multitabSettings["tab-hover-font-color"],r=".e-tab>.e-header .e-item>a:hover {color:"+i+"!important}.e-dbrd-tab-res-text:hover {color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["selected-font-color"])&&this.model.customThemeSettings.multitabSettings["selected-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-res-selected-font").css({color:this.model.customThemeSettings.multitabSettings["selected-font-color"]}),this.element.find(".e-tab>.e-header .e-active>a").css({color:this.model.customThemeSettings.multitabSettings["selected-font-color"]}),i=this.model.customThemeSettings.multitabSettings["selected-font-color"],r=".e-tab>.e-header .e-active:hover {color:"+i+"!important}.e-res-selected-font:hover {color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["selected-tab-color"])&&this.model.customThemeSettings.multitabSettings["selected-tab-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header>.e-active").css({"border-bottom-color":this.model.customThemeSettings.multitabSettings["selected-tab-color"]}),this.element.find(".e-res-selected-element").css({"background-color":this.model.customThemeSettings.multitabSettings["selected-tab-color"]}),i=this.model.customThemeSettings.multitabSettings["selected-tab-color"],r=".e-tab>.e-header .e-active:hover {border-bottom-color:"+i+"!important}.e-res-selected-element:hover {background-color:"+i+"!important}",n("head").append('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"])&&this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-ryt-icon-scroll-wrap").css({"background-color":this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"]}),this.element.find(".e-dbrd-left-icon-scroll-wrap").css({"background-color":this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["arrow-icons-color"])&&this.model.customThemeSettings.multitabSettings["arrow-icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-scroll-right").css({color:this.model.customThemeSettings.multitabSettings["arrow-icons-color"]}),this.element.find(".e-dbrd-scroll-left").css({color:this.model.customThemeSettings.multitabSettings["arrow-icons-color"]})),n(window).width()<t.DashboardConstants.MobileWidth&&(!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"])&&this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-multitab-mob-export-btn").css({"background-color":this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({"background-color":this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"])&&this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-multitab-mob-export-btn").css({color:this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({color:this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"]}),u=this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"],f=".e-brd-multitab-mob-export-btn:before, .e-brd-multitab-mob-params-btn:before {color:"+u+"!important}",n("head").prepend('<style type= "text/css">'+f+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"])&&this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-element").css({"border-bottom-color":this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({border:"1px solid "+this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-size"])&&this.model.customThemeSettings.multitabSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-size":this.model.customThemeSettings.multitabSettings["font-size"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header").css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header .e-item>a").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-size"])&&this.model.customThemeSettings.multitabSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header .e-item>a").css({"font-size":this.model.customThemeSettings.multitabSettings["font-size"]}))},_filterPanelCustomValues:function(i,r){var u,o,f,e;if(i.controlType!==null&&r!==null&&(u=i.controlType.toLocaleLowerCase(),u==="listbox"||u==="rangeslider"||u==="radiobutton"||u==="checkbox"||u==="filtercombobox"||u==="datepicker"))if(n(this.filterPanelCustomThemeCol).length===t.DashboardConstants.Zero)this.filterPanelCustomThemeCol.push({control:u,customThemeValue:r});else if(this.filterPanelCustomThemeCol.length>t.DashboardConstants.Zero)for(o=this.filterPanelCustomThemeCol.length,f=0;f<o;f++){if(e=this.filterPanelCustomThemeCol[f].control,e===u)return;e!==u&&this.filterPanelCustomThemeCol.push({control:u,customThemeValue:r})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.keyboardNavigation={_keyboardNavigation:function(i){var u,r,f,e,o;if(!t.isNullOrUndefined(i))if(this._off(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),u=40,i.type==="keydown"){this._on(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this._on(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this.isMouseClick=!1;r=null;switch(i.keyCode){case 17:n(this.element).find(".e-hightlight").removeClass("e-hightlight");break;case 9:n(i.currentTarget).hasClass("e-multiple-series")&&n(i.currentTarget).closest(".e-multiple-parent").find(".e-multiple-series").removeAttr("tabindex");n(i.currentTarget).hasClass("menuClicked")&&n(i.currentTarget).removeClass("menuClicked");n(this.currentTabContentElement).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active");n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"&&this._tabMenuPopupHide(i);this._destroyCommentDialog(i);i.stopImmediatePropagation();break;case 27:n(i.currentTarget).hasClass("menuClicked")&&n(i.currentTarget).removeClass("menuClicked");n(this.currentTabContentElement).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&this._closeFilterOverviewDialog(i);n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active");n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"&&this._tabMenuPopupHide(i);break;case 32:case 13:n(i.currentTarget).hasClass("e-remove-control-filter-enable")?(n(i.currentTarget).hasClass("e-hightlight")&&n(i.currentTarget).removeClass("e-hightlight"),n(i.currentTarget).click()):n(i.currentTarget).hasClass("e-dbrd-control-menu")?(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_controlMenuPopup").focus()):n(i.currentTarget).hasClass("e-dbrd-banner-menu")?(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_DashboardMenuPopup").focus()):n(i.currentTarget).hasClass("e-dbrd-filterListMenu")?(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_Commonmenupopupfilter").focus(),f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),this._on(this.currentTabContentElement,"keydown",f.find("div[tabindex=0]"),f.find("span[tabindex=0]"),this._keyboardNavigationOnFilterOverview)):n(i.currentTarget.parentElement).hasClass("e-dbrd-banner-icon-container")?n(i.currentTarget).hasClass("e-dbrd-filterListMenu")?this._showMoreFiltersMenu(i):this._toolbarsInBanner(i):n(i.currentTarget).hasClass("e-dbrd-clearDiv")?this._clearAllFilters(i):n(i.currentTarget).hasClass("e-brd-clearFilters")?this._removeMoreFilterMenu(i):n(i.currentTarget).hasClass("e-dbrd-tab-menu-container")?(this._showTabMenu(i),n("#"+this.element.attr("id")+"_tabMenuPopup").focus()):n(i.currentTarget).hasClass("e-grid")&&!n(i.currentTarget).children().hasClass("e-addfilter-separator")||n(i.currentTarget).hasClass("e-dbrd-drill")||n(i.currentTarget).hasClass("e-brd-clearfilterclosetext")||n(i.currentTarget).hasClass("e-dbrd-maximize")||n(i.currentTarget).hasClass("e-dbrd-banner-description")||n(i.currentTarget).hasClass("e-dbrd-inactive-header-close")||n(i.currentTarget).hasClass("e-chkbox-wrap")||n(i.currentTarget).hasClass("e-radiobtn-wrap")||n(i.currentTarget).find(".e-multiple-series").length>t.DashboardConstants.Zero?n(i.currentTarget).click().focus():n(i.target).hasClass("e-datepicker")?(r=n.Event("keydown"),r.keyCode=u,r.altKey=!0,n(i.target).trigger(r)):n(i.currentTarget).find(".e-dropdownlist").length>t.DashboardConstants.Zero?n(i.currentTarget).find(".e-dropdownlist").attr("aria-expanded")==="true"?(e=n("#"+n(i.currentTarget).find(".e-dropdownlist").attr("id")+"_popup").find(".e-globalfilter-selection").find(".e-focus"),e.length>t.DashboardConstants.Zero&&e.click()):setTimeout(function(){r=n.Event("keydown");r.keyCode=u;r.altKey=!0;n(i.target).closest(".e-dbrd-control").focus().trigger(r);n(i.target).find(".e-dropdownlist").trigger(r).addClass("e-set-focus")},700):(n(i.target).hasClass("e-dbrd-banner-widget-withoutcomments")||n(i.target).hasClass("e-dbrd-banner-widget-withcomments"))&&n(i.currentTarget).click();i.stopImmediatePropagation();break;case 38:case 40:if(n(i.currentTarget.parentElement).hasClass("e-grid")&&n(i.currentTarget.parentElement).hasClass("e-dbrd-control"))o=n(i.currentTarget.parentElement).data("ejDashboardGrid"),t.isNullOrUndefined(o)||o.model.selectedRecords.length===t.DashboardConstants.Zero&&(n(i.currentTarget).focus(),n(i.currentTarget).ejDashboardGrid("selectRows",t.DashboardConstants.Zero,t.DashboardConstants.One));else if(n(i.currentTarget).find(".e-multiple-series").length>t.DashboardConstants.Zero){if(n(i.currentTarget).hasClass("e-last-child")&&i.keyCode===u||n(i.currentTarget).hasClass("e-first-child")&&i.keyCode===38)return;n(this.element).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.element).find(".e-hightlight").removeClass("e-hightlight");i.keyCode===38?n.tabPrev():n.tabNext();n(document.activeElement).hasClass("e-radiobtn-wrap")?n(document.activeElement).addClass("e-hightlight").click():n(i.currentTarget).find(".e-dbrd-tab-menu").length>t.DashboardConstants.Zero?i.keyCode===38?n(document.previousSibling).addClass("e-hightlight"):n(document.nextSibling).addClass("e-hightlight"):n(document.activeElement).addClass("e-hightlight");n.isFunction(i.preventDefault)&&i.preventDefault()}else n(i.currentTarget).find(".e-dropdownlist").length>t.DashboardConstants.Zero&&n(i.target).find(".e-dropdownlist").hasClass("e-set-focus")&&(n(i.target).find(".e-dropdownlist").removeClass("e-set-focus"),n(i.target).find(".e-ddl").focus());i.stopImmediatePropagation()}}else i.type==="focusin"&&(this.isMouseClick?this.isMouseClick=!1:this._on(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),n(i.target).hasClass("e-multiple-parent")&&n(i.target).hasClass("e-focus-in")?n.tabPrev():n(i.target).hasClass("e-multiple-parent")&&!n(i.target).hasClass("e-focus-in")&&this._handleTabIndexForMultipleSeries(i.currentTarget,!0))},_keyboardNavigationOnFilterOverview:function(t){n(t.currentTarget).hasClass("e-dbrd-clearDiv")?this._clearAllFilters(t):n(t.currentTarget).hasClass("e-brd-clearFilters")&&this._removeMoreFilterMenu(t)},_keyboardNavigationKeyUp:function(){this._off(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle)},setFocusStyle:function(i){n(this.element).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.element).find(".e-hightlight").removeClass("e-hightlight");t.isNullOrUndefined(i)||n(i.currentTarget).hasClass("e-remove-control-filter-disable")||(n(i.currentTarget.parentElement).parent().attr("type")===t.dashboardViewer.Controls.ListBox?n(i.currentTarget).children().addClass("e-hightlight"):n(i.currentTarget).hasClass("e-dbrd-tab-container")?n(i.target).hasClass("e-dbrd-tab-container")?n(i.target).find(".e-dbrd-tab-menu-container").addClass("e-hightlight"):n(i.currentTarget).find(".e-active").addClass("e-hightlight"):n(i.currentTarget).addClass("e-hightlight"),this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&(n(i.currentTarget).hasClass("e-dbrd-filterListMenuPopUp")||n(i.currentTarget).hasClass("e-brd-clearFilters")||n(i.currentTarget).hasClass("e-dbrd-clearDiv")||this._closeFilterOverviewDialog(i)),i.stopPropagation())}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dashboardParameters={_textBoxkeyPress:function(n){var t;return n.target.type==="number"&&(t=n.which?n.which:n.keyCode,t>31&&t!==46&&(t<48||t>57))?!1:!0},_textBoxkeyUpEvent:function(n){this._compareChangedValuesforTextBox(n)},_radioButtonSelected:function(n,t){this._enableanddisableFilterIcon(t.model.value,this._getCurrentDefaultValue(n),n);t.type==="change"&&this._resetIconforValueChange(t.model.value,n)},_compareChangedValuesforTextBox:function(n){this._enableanddisableFilterIcon(n.target.value,this._getCurrentDefaultValue(n.target.getAttribute("name")),n.target.name);this._resetIconforValueChange(n.target.value,n.target.name)},_getCurrentDefaultValue:function(n){for(var r=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,i=0;i<r;i++)if(this.dashboardParameters.data[i].id===n){if(this.dashboardParameters.data[i].isDateRange)return this.dashboardParameters.data[i].defaultRange;if(this.dashboardParameters.data[i].isDateRange||this.dashboardParameters.data[i].isMultiSelectionListMode){if(this.dashboardParameters.data[i].isMultiSelectionListMode)return this.dashboardParameters.data[i].valueCollection}else return this.dashboardParameters.data[i].value}return null},_resetIconforValueChange:function(i,r){var f=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button"),e=!1,u=0,o=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length;for(n(window).width()<t.DashboardConstants.MobileWidth&&(f="",f=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile")),u=0;u<o;u++)this.dashboardParameters.data[u].isDateRange?this.dashboardParameters.data[u].id===r&&i.start!==this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.Zero]&&i.end!==this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.One]?this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i.start===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.Zero]&&i.end===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.One]?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this.dashboardParameters.data[u].startDate===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.Zero]&&this.dashboardParameters.data[u].endDate===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.One]?!0:!1):this.dashboardParameters.data[u].isMultiSelectionListMode?this.dashboardParameters.data[u].id!==r||this._isSameForMultiSelection(i,this.dashboardParameters.data[u].defaultValueCollection)?this.dashboardParameters.data[u].id===r&&this._isSameForMultiSelection(i,this.dashboardParameters.data[u].defaultValueCollection)?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this._isSameForMultiSelection(this.dashboardParameters.data[u].valueCollection,this.dashboardParameters.data[u].defaultValueCollection)?!0:!1):this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i!==this.dashboardParameters.data[u].defaultValue?this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i===this.dashboardParameters.data[u].defaultValue?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this.dashboardParameters.data[u].value===this.dashboardParameters.data[u].defaultValue?!0:!1);for(u=0;u<o;u++)if(Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id))if(this.reset[this.dashboardParameters.data[u].id]===!0)e=!0;else{e=!1;break}else{e=!1;break}e?f.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"}):f.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"})},_enableanddisableFilterIcon:function(n,i,r,u,f){this.isPrompt||(u&&!t.isNullOrUndefined(n)?n.start!==i[t.DashboardConstants.Zero]&&n.end!==i[t.DashboardConstants.One]?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable")):f&&!t.isNullOrUndefined(n)?this._isSameForMultiSelection(n,i)?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):n!==i?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable")),t.isNullOrUndefined(n)&&t.isNullOrUndefined(i)||this._enableorDisableOverallFilterIcon())},_enableorDisableOverallFilterIcon:function(){var n=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply"),i=this.element.find(".e-dbrd-params-wrapper").find(".e-dbrd-params-reset.e-enable");i&&i.length!==t.DashboardConstants.Zero?(n.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}),this.applyParametersEnabled=!0):this.applyParametersEnabled||n.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})},_disableResetIcons:function(){var i="",u=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r;for(n(window).width()<t.DashboardConstants.MobileWidth?(i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile"),i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})):(i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button"),i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})),r=0;r<u;r++)this.reset[this.dashboardParameters.data[r].id]=!0},_dropDownSelectionChanged:function(n,t){var i=t.model.showCheckbox?t.text.split(","):t.selectedValue;t.model.showCheckbox&&!t.isInteraction?this._isSameSelectionCountForMultiSelection(n,i)&&this._enableanddisableFilterIcon(i,this._getCurrentDefaultValue(n),n,!1,t.model.showCheckbox):this._enableanddisableFilterIcon(i,this._getCurrentDefaultValue(n),n,!1,t.model.showCheckbox);t.isInteraction&&this._resetIconforValueChange(i,n)},_checkDefaultValue:function(){for(var u,r=0,f=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,i=0;i<f;i++)this.dashboardParameters.data[i].isDateRange?this.dashboardParameters.data[i].startDate===this.dashboardParameters.data[i].defaultRange[0]&&this.dashboardParameters.data[i].endDate===this.dashboardParameters.data[i].defaultRange[1]&&(r+=t.DashboardConstants.One):this.dashboardParameters.data[i].isMultiSelectionListMode?this._isSameForMultiSelection(this.dashboardParameters.data[i].valueCollection,this.dashboardParameters.data[i].defaultValueCollection)&&(r+=t.DashboardConstants.One):this.dashboardParameters.data[i].value===this.dashboardParameters.data[i].defaultValue&&(r+=t.DashboardConstants.One);u=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button");n(window).width()<t.DashboardConstants.MobileWidth&&(u="",u=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile"));this.dashboardParameters.data.length!==r&&u.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"})},_drawDashboardParametersDialog:function(i,r){var b=n(window).width()<t.DashboardConstants.MobileWidth?"e-mobile":"e-desktop",k='<div class="e-dbrd-params-dialog '+b+'" id="'+this._dashboardId+'_dashboardparametersdialog"><div class="e-dbrd-params-dialog-heading"><span class="e-dbrd-params-back-icon"><\/span><div class= "e-dbrd-params-dialog-close-icon"><\/div><div class="e-dbrd-params-reset-all-mobile e-disable" disabled="true">'+this.locale.utils.ResetAll+'<\/div><div class="e-dbrd-params-title">'+this.locale.utils.DashboardParameters+'<\/div><\/div><div class="e-dbrd-params-dialog-content-wrapper e-dbrd-control" id="'+this._dashboardId+'_dashboardparametersWrapper"><div><\/div><\/div><div class="e-dbrd-params-dialog-footer"><div class= "e-dbrd-params-reset-all-button e-disable" dbrd-params-id="all" disabled="true"><span>'+this.locale.utils.ResetParameters+'<\/span><\/div><input type="button" class="e-dbrd-apply-button e-dashboardparameters-apply e-disable" disabled="true" value="'+this.locale.utils.Apply+'" class="e-dbrd-btn" /><input type="button" class="e-dbrd-cancel-button e-dashboardparameters-cancel" value="'+this.locale.utils.Cancel+'" class="e-dbrd-btn" /><\/div><\/div>',f="",s="",h="",e=[],c,u,l,y,p,w;for(this.isPrompt=r,c=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<c;u++)if(l=r&&i[u].showInPromptDialog,i[u].showInParameterDialog||l){if(f=f+'<div class="e-dbrd-params-wrapper" id="'+this._dashboardId+"_"+i[u].id+'_wrapper"><div class="e-dbrd-params-lable">'+i[u].parameterName+'<\/div><div class= "e-dbrd-params-reset e-mobile e-disable" style ="display: none";><\/div>',i[u].dataType===3)f=f+'<div class = "e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" > <div class="e-dbrd-params-radio-wrapper"> <input type="radio" name="paramsradio" id="'+this._dashboardId+"_"+i[u].id+'_widget_true" class="e-dbrd-params-radio" style="height:25px; float:left; margin-left: 10px;"/> <label class="e-dbrd-params-radio-label">True<\/label><\/div> <div class="e-dbrd-params-radio-wrapper"><input type="radio" name="paramsradio" id="'+this._dashboardId+"_"+i[u].id+'_widget_false" class="e-dbrd-params-radio" style="height:25px; float:right;margin-left: 10px;"/><label class="e-dbrd-params-radio-label e-dbrd-false">False<\/label><\/div> <\/div>',e.push(i[u]);else switch(i[u].mode){case 0:i[u].dataType!==2&&i[u].dataType!==4?(s=i[u].dataType===1?"number":"text",h=r&&i[u].showInPromptDialog?"":i[u].value,f=f+'<div class="e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" ><span><input type="'+s+'" name="'+i[u].id+'" class="e-dbrd-params-textbox" value="'+h+'" /><\/span><\/div>'):(f=f+'<div class = "e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" > <input type="text" id="'+this._dashboardId+"_"+i[u].id+'_widget"/> <\/div>',e.push(i[u]));break;case 1:case 2:f=f+'<div class = "e-dbrd-params-input-container"id="'+this._dashboardId+"_"+i[u].id+'_container" ><input type="text" id="'+this._dashboardId+"_"+i[u].id+'_widget"/> <\/div>';e.push(i[u])}f=f+'<div class="e-dbrd-params-reset e-desktop e-disable" style ="display: none"; dbrd-params-id="'+i[u].id+'" data-tooltip="'+this.locale.clearFilterText+'"><\/div><\/div>'}var o=n(k),a=n(f),v=90,d=n(window).width()<t.DashboardConstants.MobileWidth?n(window).height()-v:236;o.find(".e-dbrd-params-dialog-content-wrapper>div").append(a);this.element.append(o);i.length>t.DashboardConstants.Zero&&o.find("#"+this._dashboardId+"_dashboardparametersWrapper").ejDashboardScroller({height:d,orientation:"vertical"});r&&(y=this.element.find(".e-dbrd-apply-button"),y.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}));this._checkDefaultValue();this.element.find(".e-dbrd-params-dialog").wrapAll('<div class="e-dbrd-params-inactive-prompt" id="'+this._dashboardId+'_inactive-prompt"><\/div>');r&&!t.isNullOrUndefined(r)&&this._addClassforPromptDialog();this._renderDashboardParameterwidgets(a,e);this.model.enableWidgetMode&&n(window).width()>this._mobileWidth&&(this.element.find(".e-dbrd-params-dialog").addClass("e-dbrd-params-widgets"),this.element.find(".e-dbrd-params-input-container").css({"margin-left":"0px !important"}),this.element.find(".e-dbrd-params-lable").css({"margin-top":"10px !important"}),this.element.find(".e-dbrd-params-wrapper").css({"padding-top":"0px !important"}),p=this.element.find(".e-dbrd-params-inactive-prompt").height(),this.model.enableWidgetMode&&n(window).width()<this._mobileWidth&&i.length>t.DashboardConstants.Zero&&o.find("#"+this._dashboardId+"_dashboardparametersWrapper").ejDashboardScroller({height:p-v}),w=this.element.find("#"+this._dashboardId+"_dashboardparametersWrapper"),w.data("ejDashboardScroller").refresh());this.model.enableCustomTheming&&this._customTheme(["popup"])},_addClassforPromptDialog:function(){this.element.find(".e-dbrd-apply-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-apply-button").addClass("e-dbrd-ok-button");this.element.find(".e-dbrd-cancel-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-cancel-button").addClass("e-dbrd-prompt-cancel-button");this.element.find(".e-dbrd-params-dialog-close-icon").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-dialog-close-icon").addClass("e-dbrd-back-button");this.element.find(".e-dbrd-params-back-icon").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-back-icon").addClass("e-dbrd-close-button");this.element.find(".e-dbrd-params-reset-all-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-reset-all-button").addClass("e-dbrd-disable-params-reset-all-button");this.element.find(".e-dbrd-params-reset-all-mobile").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-reset-all-mobile").addClass("e-dbrd-disable-params-reset-all-button")},_wireEventsforDashboardParametersDialog:function(){this._on(this.element,"click",".e-dbrd-apply-button.e-dashboardparameters-apply",this._applyDashboardParameters);this._on(this.element,"click",".e-dbrd-params-dialog-close-icon .e-dbrd-back-button,.e-dbrd-params-back-icon .e-dbrd-close-button,.e-dbrd-cancel-button .e-dashboardparameters-cancel ,e-dbrd-prompt-cancel-button,.e-dbrd-params-inactive-prompt",this._cancelDashboardParameters);this._on(this.element,"click",".e-dbrd-params-reset-all-button,.e-dbrd-params-reset-all-mobile",this._resetParameterSelection);this._on(this.element,"keypress change",".e-dbrd-params-textbox",this._textBoxkeyPress);this._on(this.element,"keyup change",".e-dbrd-params-textbox",this._textBoxkeyUpEvent);this._on(n(document),"keyup",this._handleParameterDialogKeyPress)},_unwireEventsforDashboardParametersDialog:function(){this._off(this.element,"click",".e-dbrd-apply-button.e-dashboardparameters-apply",this._applyDashboardParameters);this._off(this.element,"click",".e-dbrd-params-reset-all-button,.e-dbrd-params-reset-all-mobile",this._resetParameterSelection);this._off(this.element,"keypress change",".e-dbrd-params-textbox",this._textBoxkeyPress);this._off(this.element,"keyup change",".e-dbrd-params-textbox",this._textBoxkeyUpEvent);this._off(this.element,"click",".e-dbrd-params-dialog-close-icon .e-dbrd-back-button,.e-dbrd-params-back-icon .e-dbrd-close-button,.e-dbrd-cancel-button .e-dashboardparameters-cancel .e-dbrd-prompt-cancel-button,.e-dbrd-params-inactive-prompt",this._cancelDashboardParameters);this._off(n(document),"keyup",this._handleParameterDialogKeyPress);this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").hide()},_handleParameterDialogKeyPress:function(n){n.keyCode===27&&this.element.find(".e-dbrd-params-inactive-prompt").length===t.DashboardConstants.One&&this.element.find(".e-dbrd-params-inactive-prompt").click()},_resizeDashboardParametersDialog:function(){var i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog"),h=this.element.find(".e-dbrd-params-inactive-prompt").height(),u,s,f;if(i.length!==t.DashboardConstants.Zero){n(window).width()<t.DashboardConstants.MobileWidth?i.removeClass("e-desktop").addClass("e-mobile"):i.removeClass("e-mobile").addClass("e-desktop");this.model.enableWidgetMode&&i.hasClass("e-desktop")?(this.element.find(".e-dbrd-params-dialog").addClass("e-dbrd-params-widgets"),this.element.find(".e-dbrd-params-input-container").css({"margin-left":"0px !important"}),this.element.find(".e-dbrd-params-lable").css({"margin-top":"10px !important"}),this.element.find(".e-dbrd-params-wrapper").css({"padding-top":"0px !important"})):this.model.enableWidgetMode&&i.hasClass("e-mobile")&&this.element.find(".e-dbrd-params-dialog").removeClass("e-dbrd-params-widgets");var c=this.element.find("#"+this._dashboardId+"_dashboardparametersWrapper"),r=c.data("ejDashboardScroller"),e=90,o=n(window).width()<t.DashboardConstants.MobileWidth?n(window).height()-e:236;for(this.model.enableWidgetMode&&i.hasClass("e-mobile")?r.option("height",h-e):r.option("height",o),r.option("height",o),r.refresh(),u=this.element.find(".e-dbrd-params-input-container .e-dropdownlist"),s=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<s;f++)this._parameterDropDownResize(u[f])}},_parameterDropDownResize:function(i){var f=i.id,r="",o,e,u,s;this.model.enableWidgetMode?(o=f.split("_")[t.DashboardConstants.Zero],r="dashboard"===o?f.split("_")[t.DashboardConstants.Zero]:f.split("_")[3]):r=f.split("_")[t.DashboardConstants.One];e=n("#"+this._dashboardId+"_"+r+"_widget").ejDashboardDropDownList("instance");u=this._mobileParameterDropDownWidthCalc();t.isNullOrUndefined(u)&&(u="240px");e.option("width",u);e.option("popupWidth",u);s=parseInt(n("#"+this._dashboardId+"_"+r+"_widget_popup_list_wrapper").width());n("#"+this._dashboardId+"_"+r+"_widget_popup").ejDashboardScroller({width:s+"px"});this._addParamHorizontalScrollbar(r)},_resetParameterSelection:function(i){var r,e,u,f;if(this.resetParameterApplied=!0,this.applyParametersEnabled=!1,n(i.currentTarget).hasClass("e-dbrd-params-reset-all-button e-enable")||n(i.currentTarget).hasClass("e-dbrd-params-reset-all-mobile e-enable")){for(r=this.dashboardParameters.data,e=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<e;u++)f=this.element.find("#"+this._dashboardId+"_"+r[u].id+"_container"),f.length>t.DashboardConstants.Zero&&this._replaceCurrentDefaultValue(f,r[u]);this._disableResetIcons();this.applyParametersEnabled=!1;this.resetParameterApplied=!1}},_replaceCurrentDefaultValue:function(n,i){var o=null,f=!1,e=[],s,h,l,a,u,v;if(i.dataType===3)s=n.find("#"+this._dashboardId+"_"+i.id+"_widget_true").data("ejDashboardRadioButton"),i.defaultValue==="True"?(s.option("checked",!0),this._resetIconforValueChange("True",i.id)):(s.option("checked",!1),this._resetIconforValueChange("False",i.id));else switch(i.mode){case 0:if(i.dataType!==2&&i.dataType!==4)h=n.find("input")[0],o=h.value,h.value=i.defaultValue,this._enableanddisableFilterIcon(null,null,i.id),f=o!==i.defaultValue||i.value!==i.defaultValue,f&&this._enableOrDisableApplyButton(i.value,i.defaultValue);else{var r=n.find(".e-dashboarddatepicker").data("ejDashboardDashboardDatePicker"),y=t.format(i.defaultValue,"yyyy/MM/dd"),c=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply");o=t.isNullOrUndefined(r.model.value.start)?r.model.value:r.model.value.start;r.model.value={range:null,start:y,end:null};i.isDateRange&&(e.push(i.startDate),e.push(i.endDate),r.model.value=i.isCustomDateRangeDefaultValue?{range:null,start:i.defaultRange[0],end:i.defaultRange[1]}:{range:i.defaultSelectedRelativeDate,start:null,end:null});r.redraw();r.model.value=i.defaultValue;i.isDateRange&&(r.model.value={start:i.startDate,end:i.endDate});this._enableanddisableFilterIcon(null,null,i.id);f=o!==i.defaultValue||i.value!==i.defaultValue||c.hasClass("e-enable");f=i.isDateRange?e[0]!==i.defaultRange[0]&&e[1]!==i.defaultRange[1]||i.startDate!==i.defaultRange[0]&&i.endDate!==i.defaultRange[1]||c.hasClass("e-enable"):f;f&&(l=i.isDateRange?e:i.value,a=i.isDateRange?i.defaultRange:i.defaultValue,this._enableOrDisableApplyButton(l,a,i.isDateRange))}break;case 1:u=n.find(".e-dropdownlist").data("ejDashboardDropDownList");!t.isNullOrUndefined(u)&&u.model.showCheckbox?(u.unCheckAll(),u.selectItemByValue(i.defaultValueCollection.join())):t.isNullOrUndefined(i.defaultValueCollection)?u.selectItemByValue(i.defaultValue):t.isNullOrUndefined(i.defaultValueCollection)||u.selectItemByValue(i.defaultValueCollection.join());break;case 2:v=n.find(".e-dropdownlist").data("ejDashboardDropDownList");v.selectItemByValue(i.defaultValue)}},_enableOrDisableApplyButton:function(n,i,r){var u=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply");!t.isNullOrUndefined(r)&&r?n[0]!==i[0]&&n[1]!==i[1]?(u.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}),this.applyParametersEnabled=!0):u.hasClass("e-enable")&&!this.applyParametersEnabled&&u.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"}):n!==i?(u.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}),this.applyParametersEnabled=!0):u.hasClass("e-enable")&&!this.applyParametersEnabled&&u.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})},_openDashboardParametersDialog:function(n,i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.openDashboardParameterPopUp,source:{element:null,data:n}});this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").length===t.DashboardConstants.Zero?(this._drawDashboardParametersDialog(n,i),this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").show()):this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").show();this._wireEventsforDashboardParametersDialog();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.openDashboardParameterPopUp,source:{element:null,data:n}})},_applyDashboardParameters:function(n){var o,f,i,u,s,h,r,e,c;for(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.applyDashboardParameterValue,source:{element:null,data:this.dashboardParameters.data}}),this.multiTabDashboardParameter=JSON.parse(JSON.stringify(this.dashboardParameters)),o=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,f=0;f<o;f++)if(i=this.dashboardParameters.data[f],u=this.element.find("#"+this._dashboardId+"_"+i.id+"_container"),u.length>t.DashboardConstants.Zero)if(i.dataType===3)s=u.find("#"+this._dashboardId+"_"+i.id+"_widget_true").data("ejDashboardRadioButton"),i.value=s.model.checked?"True":"False";else switch(i.mode){case 0:i.dataType!==2&&i.dataType!==4?(h=u.find("input")[0],i.value=h.value):(r=u.find(".e-dashboarddatepicker").data("ejDashboardDashboardDatePicker"),i.isDateRange?(i.startDate=t.format(r.selectedStartDate.date,"yyyy/MM/dd"),i.endDate=t.format(r.selectedEndDate.date,"yyyy/MM/dd"),i.isCustomDateRange=t.isNullOrUndefined(r.selectedRange),i.selectedRelativeDate=!t.isNullOrUndefined(r.selectedRange)&&r.selectedRange.length>t.DashboardConstants.Zero?r.selectedRange[t.DashboardConstants.Zero].innerHTML:i.selectedRelativeDate):i.value=t.format(r.selectedDate.date,"yyyy/MM/dd"));break;case 1:e=u.find(".e-dropdownlist").data("ejDashboardDropDownList");t.isNullOrUndefined(e.model.value)||(i.valueCollection=e.model.value.split(","));i.value=e.model.value;break;case 2:c=u.find(".e-dropdownlist").data("ejDashboardDropDownList");i.value=c.model.value}this._unwireEventsforDashboardParametersDialog();this.element.find("#"+this._dashboardId+"_inactive-prompt").remove();this._applyPromptDashboardParameters(n);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.applyDashboardParameterValue,source:{element:null,data:this.dashboardParameters.data}})},_applyPromptDashboardParameters:function(i){var u,r;if(n(i.target).hasClass("e-dbrd-ok-button")){for(u=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r=0;r<u;r++)this.dashboardParameters.data[r].defaultValue=this.dashboardParameters.data[r].value;this._dashboardData().loadFromData||this.loadDashboard()}else this.refreshDashboard(null,!1)},_setAjaxDashboardParameterValue:function(n){var r=null,i;if(!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero){for(i=0;i<n.data.length;i++)n.data[i].data=null;r=JSON.parse(JSON.stringify(n))}else r=JSON.parse(JSON.stringify(n));return r},_cancelDashboardParameters:function(i){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.cancelDashboardParameterDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:this.dashboardParameters.data}}),t.isNullOrUndefined(i))this._unwireEventsforDashboardParametersDialog(),this.element.find("#"+this._dashboardId+"_inactive-prompt").remove();else{var r=n(i.target).hasClass("e-dbrd-params-dialog-close-icon"),u=n(i.target).hasClass("e-dbrd-params-back-icon"),f=n(i.target).hasClass("e-dbrd-cancel-button"),e=n(i.target).hasClass("e-dbrd-params-inactive-prompt"),o=this.element.find(".e-dbrd-prompt-cancel-button").length>t.DashboardConstants.Zero;(r||u||f||e)&&(o||this.element.find("#"+this._dashboardId+"_inactive-prompt").remove())}this._cancelPromptDashboardParameters(i);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.cancelDashboardParameterDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:this.dashboardParameters.data}})},_cancelPromptDashboardParameters:function(i){var u,r;if(!t.isNullOrUndefined(i)&&(n(i.target).hasClass("e-dbrd-prompt-cancel-button")||n(i.target).hasClass("e-dbrd-back-button")||n(i.target).hasClass("e-dbrd-close-button"))){for(this.element.find("#"+this._dashboardId+"_inactive-prompt").remove(),u=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r=0;r<u;r++)this.dashboardParameters.data[r].data===null&&this.dashboardParameters.data[r].mode===t.DashboardConstants.Zero&&this.dashboardParameters.data[r].dataType!==2&&this.dashboardParameters.data[r].dataType!==4&&this.dashboardParameters.data[r].showInPromptDialog&&(this.dashboardParameters.data[r].defaultValue="",this.dashboardParameters.data[r].value="");this._dashboardData().loadFromData||this.loadDashboard()}},_renderDropDownWidget:function(i,r){var u=this._mobileParameterDropDownWidthCalc(),f;t.isNullOrUndefined(u)&&(u="240px");i.ejDashboardDropDownList({dataSource:r.data,width:"100%",popupWidth:u,popupHeight:"140px",showCheckbox:r.isMultiSelectionListMode,cssClass:"e-dbrd-canvas",fields:{text:r.mode===1?"valueMember":"displayMember",value:"valueMember"},change:n.proxy(this._dropDownSelectionChanged,this,r.id),popupShown:n.proxy(this._addScrollbar,this,r.id)});t.isNullOrUndefined(r.valueCollection)||!t.isNullOrUndefined(r.valueCollection)&&r.valueCollection.length===t.DashboardConstants.Zero?(i.data("ejDashboardDropDownList").selectItemByValue(r.value),r.defaultValueCollection=[],r.defaultValueCollection.push(r.defaultValue)):!t.isNullOrUndefined(r.valueCollection)&&r.valueCollection.length>t.DashboardConstants.Zero&&(r.isMultiSelectionListMode||t.isNullOrUndefined(r.value)||(r.valueCollection=[],r.valueCollection.push(r.value)),i.data("ejDashboardDropDownList").selectItemByValue(r.valueCollection));f=n(i).attr("id");n("#"+f+"_popup_list_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_mobileParameterDropDownWidthCalc:function(){var i=null,r;return n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.element.find(".e-dbrd-params-dialog-content-wrapper"),i=r.width()+"px"),i},_addParamHorizontalScrollbar:function(i){var r=n("#"+this._dashboardId+"_"+i+"_widget").data("ejDashboardDropDownList"),f=t.DashboardConstants.Zero,u;r.ultag.children("li").css({"white-space":"nowrap"});var o=n("#"+this._dashboardId+"_"+i+"_widget_popup"),e=r.ultag.children("li"),s=t.isNullOrUndefined(e)?t.DashboardConstants.Zero:e.length;for(u=0;u<s;u++)f=e.eq(u).find(".e-ddltxt").innerWidth(),f>o.width()?r.ultag.children("li").css({width:f+13+"px"}):r.ultag.children("li").css({width:"auto"});r.scrollerObj.model.width=o.width();r.scrollerObj.refresh()},_addScrollbar:function(t){var u=n("#"+this._dashboardId+"_"+t+"_widget_wrapper"),i=parseInt(n("#"+this._dashboardId+"_"+t+"_widget_popup_list_wrapper").css("max-height")),r;u.height(i);n("#"+this._dashboardId+"_"+t+"_widget_popup").height(i);n("#"+this._dashboardId+"_"+t+"_widget_popup_wrapper").addClass("e-dbrd-control");r=n("#"+this._dashboardId+"_"+t+"_widget").data("ejDashboardDropDownList");r.scrollerObj.model.height=i;r.scrollerObj.refresh();this._addParamHorizontalScrollbar(t)},_renderDatePickerWidget:function(i,r){var f=null,e=null,o=null,s=null,u="yyyy/MM/dd",h;t.isNullOrUndefined(t.globalize.parseDate(r.value,u))?(f=t.globalize.parseDate(r.value,"yyyy-MM-dd"),e=t.globalize.parseDate(r.defaultValue,"yyyy-MM-dd")):(f=t.globalize.parseDate(r.value,u),e=t.globalize.parseDate(r.defaultValue,u));r.defaultValue=t.format(e,u);r.value=t.format(f,u);o=t.globalize.parseDate(r.startDate,u);s=t.globalize.parseDate(r.endDate,u);r.startDate=t.format(o,u);r.endDate=t.format(s,u);i.ejDashboardDashboardDatePicker({cssClass:"e-dbrd-control",datePickerType:r.isDateRange?"range":"single",ranges:t.isNullOrUndefined(r.relativeDateItems)?null:n.parseJSON(r.relativeDateItems),highlightAvailableDates:!1,limitDate:!0,showCustomDatePicker:!0,showWeekNumbers:!1,startDate:r.isCustomDateRange?r.startDate:"1900/01/01",endDate:r.isCustomDateRange?r.endDate:"2050/12/31",dataSource:null,showDropDowns:!0,locale:{format:u},selected:n.proxy(this._datePickerSelectionChanged,this,r.id),value:{range:r.isCustomDateRange?null:r.selectedRelativeDate,start:r.isDateRange?r.isCustomDateRange?t.format(o,u):null:t.format(f,u),end:r.isCustomDateRange?t.format(s,u):null}});h=n(i).attr("id");n("#"+h+"_popup_wrapper").addClass("e-dbrd-params-date")},_datePickerSelectionChanged:function(n,t){var i=t.datePickerType==="single"?t.value:t.selectedValues;this._enableanddisableFilterIcon(i,this._getCurrentDefaultValue(n),n,t.datePickerType==="range");t.type==="selected"&&this._resetIconforValueChange(i,n)},_renderDashboardParameterwidgets:function(i,r){for(var f,e,o,s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)f=i.find("#"+this._dashboardId+"_"+r[u].id+"_widget"),r[u].dataType===3?(e=i.find("#"+this._dashboardId+"_"+r[u].id+"_widget_true"),o=i.find("#"+this._dashboardId+"_"+r[u].id+"_widget_false"),e.ejDashboardRadioButton({checked:r[u].value==="True",size:"medium",value:"True",change:n.proxy(this._radioButtonSelected,this,r[u].id)}),o.ejDashboardRadioButton({checked:r[u].value==="False",size:"medium",value:"False",change:n.proxy(this._radioButtonSelected,this,r[u].id)})):r[u].mode===0&&(r[u].dataType===2||r[u].dataType===4)?this._renderDatePickerWidget(f,r[u]):this._renderDropDownWidget(f,r[u])},_fillDashboardParametersfromIntialFiltersifAny:function(n){var t,i;if(n!==null)for(t=0;t<n.length;t++)for(i=0;i<this.dashboardParameters.data.length;i++)if(n[t].Column.indexOf("@")!==-1&&n[t].Column.replace("@","")===this.dashboardParameters.data[i].parameterName){this.dashboardParameters.data[i].value=n[t].Values[0];break}},_dashboardparameterbuttonClick:function(i){t.isNullOrUndefined(i)||n(i.currentTarget).hasClass("e-brd-multitab-mob-params-btn")&&(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}));this._openDashboardParametersDialog(this.dashboardParameters.data,!1)},_stringifyParameterValue:function(i){for(var o,f,e=null,r=i.data,s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)if(!t.isNullOrUndefined(r[u].value)&&t.isNullOrUndefined(r[u].value.start)&&t.isNullOrUndefined(r[u].value.end)){if(!n.isArray(r[u].value)&&this._hasRelativeDate(r[u].value))e={relativeDate:r[u].value};else if(n.isArray(r[u].value)){for(o=[],f=0;f<r[u].value.length;f++)t.isNullOrUndefined(r[u].value[f].value)?o=r[u].value:o.push(r[u].value[f].value);e={values:o}}else e={value:r[u].value};r[u].value=JSON.stringify(e)}else t.isNullOrUndefined(r[u].value.start)||t.isNullOrUndefined(r[u].value.end)||(r[u].value=JSON.stringify(r[u].value));return i.data=r,i},_hasRelativeDate:function(n){var t=n.split(" ");return t[0].toUpperCase()==="TOMORROW"||t[0].toUpperCase()==="TODAY"||t[0].toUpperCase()==="YESTERDAY"||t[0].toUpperCase()==="WEEK"||t[0].toUpperCase()==="YEAR"||t[0].toUpperCase()==="QUARTER"||t[0].toUpperCase()==="MONTH"||t[0].toUpperCase()==="SUCCEEDING"||t[0].toUpperCase()==="CURRENT"||t[0].toUpperCase()==="PREVIOUS"||t[0].toUpperCase()==="LAST"||t[0].toUpperCase()==="NEXT"||t[0].toUpperCase()==="UPCOMING"},_isSameForMultiSelection:function(n,i){var r=!1,u;if(n.length===i.length)for(u=0;u<n.length;u++)if(i.indexOf(n[u])!==t.DashboardConstants.IndexLowerBound)r=!0;else{r=!1;break}else r=!1;return r},_isSameSelectionCountForMultiSelection:function(n,i){for(var u=!1,f=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r=0;r<f;r++)if(this.dashboardParameters.data[r].id!==n||this.resetParameterApplied){if(this.dashboardParameters.data[r].id===n&&this.resetParameterApplied&&this.dashboardParameters.data[r].defaultValueCollection.length===i.length){u=!0;break}}else if(this.dashboardParameters.data[r].valueCollection.length===i.length){u=!0;break}return u}}}(jQuery,SyncfusionDashboard),function(n,t){if(t.dashboardViewer=t.dashboardViewer||{},t.widget("ejDashboardViewer","ej.DashboardViewer",{_rootCSS:"e-dashboardviewer",element:null,model:null,validTags:["div"],defaults:{serviceUrl:"",cssClass:"",dashboardPath:"",size:{height:"",width:""},_dashboardData:{loadFromData:!1,isControl:!1,layout:[],widgetData:[],isExportImage:!1,controlHeader:"",isScreenshot:!1,isExportPdf:!1,isWidgetSpecific:!1,isUnitTesting:!0,isTestCase:!1,isPinned:!1,isWidget:!1},enableServerSideCache:!1,enableClientSideCache:!0,cacheSettings:{capacity:null,enableAutoCleanup:!1,cleanupInterval:null},accessToken:null,enableFilterOverview:!0,onFilterOverviewUpdated:null,beforeFilterPanelOpen:null,filterPanelOpen:null,beforeFilterPanelClose:null,filterPanelClose:null,updatePageTitle:!1,showFilterPanelHeader:!0,showFilterPanelClose:!0,enableVirtualLoading:!0,enableAutoRefresh:!1,autoRefreshSettings:[{tabName:null,tabIndex:0,showWaitingIndicator:!1,isWidgetSpecific:!1,widgets:[],intervalSettings:{mode:"Hourly",monthlySchedule:{day:1,months:1},weeklySchedule:{weeks:1,weekDay:[1]},dailySchedule:{days:1},hourlySchedule:{hours:0,minutes:0,seconds:30},yearlySchedule:{years:1,day:1,month:1}},trackData:!1,rowCount:""}],favoriteSettings:{enabled:!1,isFavorite:!1},allowComment:!1,commentSettings:{isDashboardCommented:!1,isWidgetCommented:!1,widgets:[]},responsiveSettings:{showMaximize:!1,showExport:!1},enableCustomTheming:!1,filterPanelSettings:{showIcon:!0,filterPanelId:null,showHeader:!0,showCloseIcon:!0,state:"collapsed"},customThemeSettings:"",enableWidgetMode:!1,widgetModeSettings:{name:null,id:null,title:null},filterOverviewSettings:{viewName:null,viewId:null,showSaveIcon:!1,showSaveAsIcon:!1,showViewSavedFilterIcon:!1},dashboardParameterSettings:{showIcon:!0,data:[]},_exportSettings:{canExportImage:!0,canExportPdf:!0,canExportExcel:!0,canExportCsv:!0},_baseUrl:null,_isLiveData:!1,actionBegin:null,actionComplete:null,onSaveFilter:null,onSaveAsFilter:null,onViewSavedFilters:null,onWidgetCommented:null,onDashboardCommented:null,beforeWidgetRender:null,afterWidgetRender:null,beforeLayoutRender:null,afterLayoutRender:null,beforeMasterFilterApplied:null,dashboardCreated:null,onApplyConnection:null,destroy:null,beforePassiveErrorRender:null,onWidgetPin:null,currentMasterReport:null,filterParameters:null,beforeWidgetIconRendered:null,beforeDashboardIconRendered:null,beforeControlMenuOpen:null,beforeContextMenuOpen:null,onMenuItemClick:null,onMenuIconClick:null,onDashboardClick:null,onBannerIconClick:null,onFavoriteStateChange:null,onCommentDialogClosing:null,beforeNavigate:null,afterNavigate:null,showTab:!0,tabSelect:null,tabActive:null,selectedTabIndex:0,beforeDashboardFetch:null,selectedTabName:null,_selectedTabGuid:null,localeSettings:{resourcePath:"",culture:"",dateFormat:"",timeFormat:""},serviceMethods:{initializeControl:"InitializeControls",getDrilledChart:"GetChartDrilledData",savePdfFile:"SavePdfFile",saveCsvFile:"savecsvfile",saveExcelfile:"saveExcelfile",saveImagefile:"saveImagefile",exportAsExcel:"ExportAsExcel",navigateTo:"NavigateLinkedReport",viewData:"ViewData",downloadedexportedfiles:"DownloadedExportedFiles"},enableErrorCode:!1,onErrorCodeLink:"",interactionSettings:{allowHistoryMaintenance:!0,handleHistoryEvent:!0,multiSelectionInterval:500},onHistoryPopStateChange:null,showGetLinkIcon:!0,widgetActionSettings:[{widgetId:"",actionSettings:[{type:"",actions:[]}]}]},observables:["dashboardPath","serviceUrl","updatePageTitle","enableFilterOverview"],dashboardPath:t.util.valueFunction("dashboardPath"),serviceUrl:t.util.valueFunction("serviceUrl"),_dashboardData:t.util.valueFunction("_dashboardData"),enableFilterOverview:t.util.valueFunction("enableFilterOverview"),updatePageTitle:t.util.valueFunction("updatePageTitle"),dataTypes:{serviceMethods:"data",cacheSettings:"data",enableServerSideCache:"boolean",data:"array",currentMasterReport:"data",_isPublic:"boolean",resourcePath:"data",culture:"data",_isLiveData:"boolean",enableComment:"boolean",isDashboardCommented:"boolean",isWidgetCommented:"boolean",enablePin:"boolean",isWidgetPinned:"boolean",widgetList:"array",time:"data",showIndicator:"boolean",isWidgetSpecific:"boolean",widgets:"array",isConsiderRowCount:"boolean",rowCount:"data"},_init:function(){if(t.isNullOrUndefined(this.model.filterParameters)&&(this.model.filterParameters=location.search.substr(t.DashboardConstants.One)),this._setSessionTabAndMaster(),this.currentTabContentElement=this.element,this.element.html(""),this._unWireEvents(),this._initialGlobalValues(),this._initPrivateProperties(),this._reassignDeprecatedApi(),this._initializeFilterParameters(),this._overrideTreemapDrillHeader(),this._clearCacheOnRefresh(),this.isPublicDashboard=this.model._isPublic||!1,this.itemId=this.model._itemId||"",this._dashboardId=this._id,this.multiTabs=!1,this.showFilterMenu=!1,this.element.empty().addClass("e-dashboardviewer"+this.model.cssClass),this._dashboardData().loadFromData)this._loadDashboardFromData();else{if(this.dashboardPath()===null||this.dashboardPath()===""){this._dashboardData().isWidget&&(this.isWidget=!0);this.isWidget?this._errorMsgPopup(this.locale.utils.DashboardNotConfiguredForWidget,!0):this._errorMsgPopup(this.locale.utils.DashboardNotConfigured,!0);return}if(this.serviceUrl()===null||this.serviceUrl()===""){this._dashboardData().isWidget&&(this.isWidget=!0);this.isWidget?this._errorMsgPopup(this.locale.utils.ServiceNotConfiguredForWidget,!0):this._errorMsgPopup(this.locale.utils.ServiceNotConfigured,!0);return}this._trigger("beforeDashboardFetch",this.requestHeaders);this.loadLayout(null,!0)}this._wireEvents()},_reassignDeprecatedApi:function(){var n,r,i,u;if(t.isNullOrUndefined(this.model.url)||(this.model.serviceUrl=this.model.url),t.isNullOrUndefined(this.model.report)||(this.model.dashboardPath=this.model.report),t.isNullOrUndefined(this.model.showTitleInHtmlTitle)||(this.model.updatePageTitle=this.model.showTitleInHtmlTitle),t.isNullOrUndefined(this.model.ondemandChangeConnectionString)||(this.model.onApplyConnection=this.model.ondemandChangeConnectionString),t.isNullOrUndefined(this.model.autorefreshSettings)||(this.model.enableAutoRefresh=this.model.autorefreshSettings.enableAutoRefresh,this.model.autoRefreshSettings.interval=this.model.autorefreshSettings.time,this.model.autoRefreshSettings.showWaitingIndicator=this.model.autorefreshSettings.showIndicator,this.model.autoRefreshSettings.isWidgetSpecific=this.model.autorefreshSettings.isWidgetSpecific,this.model.autoRefreshSettings.widgets=this.model.autorefreshSettings.widgets,this.model.autoRefreshSettings.isConsiderRowCount=this.model.autorefreshSettings.trackData,this.model.autoRefreshSettings.RowCountOfDatasource=this.model.autorefreshSettings.rowCount),t.isNullOrUndefined(this.model.cacheAjax)||(this.model.enableClientSideCache=this.model.cacheAjax.enableAjaxCache,this.model.cacheSettings.capacity=this.model.cacheAjax.capacity,this.model.cacheSettings.enableAutoCleanup=this.model.cacheAjax.enableExpiration,this.model.cacheSettings.cleanupInterval=this.model.cacheAjax.expirationMinutes),t.isNullOrUndefined(this.model.favoriteSettings.showFavoriteIcon)||(this.model.favoriteSettings.enabled=this.model.favoriteSettings.showFavoriteIcon),t.isNullOrUndefined(this.model.favoriteSettings.isFavoriteDashboard)||(this.model.favoriteSettings.isFavorite=this.model.favoriteSettings.isFavoriteDashboard),t.isNullOrUndefined(this.model.commentSettings.enableComment)||(this.model.allowComment=this.model.commentSettings.enableComment),t.isNullOrUndefined(this.model.commentSettings.isDashboardCommented)||(this.model.commentSettings.isDashboardCommented=this.model.commentSettings.isDashboardCommented),t.isNullOrUndefined(this.model.commentSettings.isWidgetCommented)||(this.model.commentSettings.isWidgetCommented=this.model.commentSettings.isWidgetCommented),t.isNullOrUndefined(this.model.commentSettings.commentedWidgetList)||(this.model.commentSettings.widgets=this.model.commentSettings.commentedWidgetList),!t.isNullOrUndefined(this.model.autoRefreshSettings.interval)||!t.isNullOrUndefined(this.model.autoRefreshSettings.intervalSettings)){if(n=[],this.model.autoRefreshSettings[t.DashboardConstants.Zero].isWidgetSpecific=this.model.autoRefreshSettings.isWidgetSpecific,this.model.autoRefreshSettings[t.DashboardConstants.Zero].trackData=this.model.autoRefreshSettings.trackData,this.model.autoRefreshSettings[t.DashboardConstants.Zero].showWaitingIndicator=this.model.autoRefreshSettings.showWaitingIndicator,t.isNullOrUndefined(this.model.autoRefreshSettings.intervalSettings)){if(this.model.autoRefreshSettings[t.DashboardConstants.Zero].intervalSettings={mode:"Hourly",hourlySchedule:{hours:t.DashboardConstants.Zero,minutes:t.DashboardConstants.Zero,seconds:this.model.autoRefreshSettings.interval}},this.model.autoRefreshSettings.isWidgetSpecific)for(r=this.model.autoRefreshSettings.widgets.length,i=t.DashboardConstants.Zero;i<r;i++)n.push({id:this.model.autoRefreshSettings.widgets[i],intervalSettings:{mode:"Hourly",hourlySchedule:{hours:t.DashboardConstants.Zero,minutes:t.DashboardConstants.Zero,seconds:this.model.autoRefreshSettings.interval}}});else n=this.model.autoRefreshSettings.widgets;this.model.autoRefreshSettings[t.DashboardConstants.Zero].widgets=n}else this.model.autoRefreshSettings[t.DashboardConstants.Zero].intervalSettings=this.model.autoRefreshSettings.intervalSettings,this.model.autoRefreshSettings[t.DashboardConstants.Zero].widgets=this.model.autoRefreshSettings.widgets;u=this.model.autoRefreshSettings[t.DashboardConstants.Zero];this.model.autoRefreshSettings=[];this.model.autoRefreshSettings[t.DashboardConstants.Zero]=u}},_setModel:function(n){var i,w,s,a,h,o,c,v,l,f,y,r,p,b,k,u,e,d,g;for(i in n)if(n.hasOwnProperty(i))switch(i){case"showTab":this.model.showTab=n[i];this.model.showTab?this._showTab():this._hideTab();break;case"dashboardPath":this._init();break;case"report":this.model.dashboardPath=n[i];this._init();break;case"enableAutoRefresh":this._clearAutoRefreshTimerAndCollection();this.model.enableAutoRefresh=n[i];this._resetAutoRefreshRevamp();break;case"accessToken":this.model.accessToken=n[i];this._init();break;case"autoRefreshSettings":w=n[i];this._setModelAutoRefreshSettingsAPI(w);this.model.enableAutoRefresh&&this._resetAutoRefreshRevamp();break;case"filterPanelSettings":s=n[i];this.model.filterPanelSettings.showIcon=t.isNullOrUndefined(s.showIcon)?this.model.filterPanelSettings.showIcon:s.showIcon;this._setFilterIcon();t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||(this.model.filterPanelSettings.showHeader=this.filterPanelObj.model.showHeader=t.isNullOrUndefined(s.showHeader)?this.model.filterPanelSettings.showHeader:s.showHeader,this.model.filterPanelSettings.showCloseIcon=this.filterPanelObj.model.showCloseIcon=t.isNullOrUndefined(s.showCloseIcon)?this.model.filterPanelSettings.showCloseIcon:s.showCloseIcon,this.filterPanelObj._setFilterHeader(),this.filterPanelObj._setFilterCloseIcon());break;case"serviceUrl":this._init();break;case"url":this.model.serviceUrl=n[i];this._init();break;case"_dashboardData":this._init();break;case"updatePageTitle":this._updateDashboardTitle();break;case"enableFilterOverview":this.model.enableFilterOverview=n[i];this._showFilterOverview();break;case"cssClass":this.model.cssClass=n[i];this._init();break;case"_isPublic":this._init();break;case"favoriteSettings":a=n[i];t.isNullOrUndefined(a.isFavorite)||(this.model.favoriteSettings.isFavorite=a.isFavorite);t.isNullOrUndefined(a.enabled)||(this.model.favoriteSettings.enabled=a.enabled);this._toggleFavoriteIcon();break;case"enableCustomTheming":this._customTheme(["banner","dashboard","container"]);break;case"filterParameters":this.clearAllFilters();!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters.trim().length>t.DashboardConstants.Zero?this._initializeFilterParameters():this.initialFilters=[];this._refreshMasterControl();this.refreshDashboard(null,!0,!0);this._showFilterOverview();break;case"enableWidgetMode":this.model.enableWidgetMode=n[i];break;case"widgetModeSettings":h=n[i];this.model.widgetModeSettings.name=t.isNullOrUndefined(h.name)?this.model.widgetModeSettings.name:h.name;this.model.widgetModeSettings.id=t.isNullOrUndefined(h.id)?this.model.widgetModeSettings.id:h.id;this.model.widgetModeSettings.title=t.isNullOrUndefined(h.title)?this.model.widgetModeSettings.title:h.title;this._init();break;case"localeSettings":o=n[i];this.model.localeSettings.resourcePath=t.isNullOrUndefined(o.resourcePath)?this.model.localeSettings.resourcePath:o.resourcePath;this.model.localeSettings.culture=t.isNullOrUndefined(o.culture)?this.model.localeSettings.culture:o.culture;this.model.localeSettings.dateFormat=t.isNullOrUndefined(o.dateFormat)?this.model.localeSettings.dateFormat:o.dateFormat;this.model.localeSettings.timeFormat=t.isNullOrUndefined(o.timeFormat)?this.model.localeSettings.timeFormat:o.timeFormat;this._init();break;case"selectedTabIndex":this.model.selectedTabIndex=n[i];this.selectTabByIndex(this.model.selectedTabIndex);break;case"selectedTabName":this.model.selectedTabName=n[i];this.selectTabByName(this.model.selectedTabName);break;case"_selectedTabGuid":this.model._selectedTabGuid=n[i];this._selectTabById(this.model._selectedTabGuid);break;case"allowComment":this.model.allowComment=n[i];this._isCommentWidget=n[i];this._enableOrDisableComment();break;case"commentSettings":c=n[i];this.model.commentSettings.isDashboardCommented=t.isNullOrUndefined(c.isDashboardCommented)?this.model.commentSettings.isDashboardCommented:c.isDashboardCommented;this.model.commentSettings.isWidgetCommented=t.isNullOrUndefined(c.isWidgetCommented)?this.model.commentSettings.isWidgetCommented:c.isWidgetCommented;this.model.commentSettings.widgets=t.isNullOrUndefined(c.widgets)?this.model.commentSettings.widgets:c.widgets;this.applyComments(this.model.commentSettings);break;case"size":v=n[i];this.model.size.height=t.isNullOrUndefined(v.height)?this.model.size.height:v.height;this.model.size.width=t.isNullOrUndefined(v.width)?this.model.size.width:v.width;this._init();break;case"enableServerSideCache":this.model.enableServerSideCache=n[i];this._init();break;case"enableClientSideCache":this.model.enableClientSideCache=n[i];this._init();break;case"cacheSettings":l=n[i];this.model.cacheSettings.capacity=t.isNullOrUndefined(l.capacity)?this.model.cacheSettings.capacity:l.capacity;this.model.cacheSettings.enableAutoCleanup=t.isNullOrUndefined(l.enableAutoCleanup)?this.model.cacheSettings.enableAutoCleanup:l.enableAutoCleanup;this.model.cacheSettings.cleanupInterval=t.isNullOrUndefined(l.cleanupInterval)?this.model.cacheSettings.cleanupInterval:l.cleanupInterval;this._init();break;case"filterOverviewSettings":f=n[i];this.model.filterOverviewSettings.viewName=t.isNullOrUndefined(f.viewName)?this.model.filterOverviewSettings.viewName:f.viewName;this.model.filterOverviewSettings.viewId=t.isNullOrUndefined(f.viewId)?this.model.filterOverviewSettings.viewId:f.viewId;this.model.filterOverviewSettings.showSaveIcon=t.isNullOrUndefined(f.showSaveIcon)?this.model.filterOverviewSettings.showSaveIcon:f.showSaveIcon;this.model.filterOverviewSettings.showSaveAsIcon=t.isNullOrUndefined(f.showSaveAsIcon)?this.model.filterOverviewSettings.showSaveAsIcon:f.showSaveAsIcon;this.model.filterOverviewSettings.showViewSavedFilterIcon=t.isNullOrUndefined(f.showViewSavedFilterIcon)?this.model.filterOverviewSettings.showViewSavedFilterIcon:f.showViewSavedFilterIcon;this._updateSavedViewFilters();break;case"showGetLinkIcon":this.model.showGetLinkIcon=n[i];this._showGetLinkIcon();break;case"interactionSettings":y=n[i];this.model.interactionSettings.allowHistoryMaintenance=t.isNullOrUndefined(y.allowHistoryMaintenance)?this.model.interactionSettings.allowHistoryMaintenance:y.allowHistoryMaintenance;this.model.interactionSettings.handleHistoryEvent=t.isNullOrUndefined(y.handleHistoryEvent)?this.model.interactionSettings.handleHistoryEvent:y.handleHistoryEvent;break;case"dashboardParameterSettings":if(r=n[i],p=!1,this.model.dashboardParameterSettings.showIcon=t.isNullOrUndefined(r.showIcon)?this.model.dashboardParameterSettings.showIcon:r.showIcon,t.isNullOrUndefined(r.data))t.isNullOrUndefined(r.showInPromptDialog)&&t.isNullOrUndefined(r.showInParameterDialog)||(this.dashboardParameters.data[0].showInPromptDialog=t.isNullOrUndefined(r.showInPromptDialog)?this.dashboardParameters.data[0].showInPromptDialog:r.showInPromptDialog,this.dashboardParameters.data[0].showInParameterDialog=t.isNullOrUndefined(r.showInParameterDialog)?this.dashboardParameters.data[0].showInParameterDialog:r.showInParameterDialog);else{for(b=t.isNullOrUndefined(r.data)?t.DashboardConstants.Zero:r.data.length,k=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,u=0;u<b;u++)for(e=0;e<k;e++)r.data[u].parameterName===this.dashboardParameters.data[e].parameterName&&(!t.isNullOrUndefined(r.data[u].isDateRange)&&r.data[u].isDateRange&&!t.isNullOrUndefined(r.data[u].isCustomDateRange)&&r.data[u].isCustomDateRange?(this.dashboardParameters.data[e].startDate=r.data[u].startDate,this.dashboardParameters.data[e].endDate=r.data[u].endDate):t.isNullOrUndefined(r.data[u].isDateRange)||!r.data[u].isDateRange||t.isNullOrUndefined(r.data[u].isCustomDateRange)||r.data[u].isCustomDateRange?!t.isNullOrUndefined(r.data[u].isMultiSelectionListMode)&&r.data[u].isMultiSelectionListMode?this.dashboardParameters.data[e].valueCollection=r.data[u].valueCollection:this.dashboardParameters.data[e].value=r.data[u].value:this.dashboardParameters.data[e].selectedRelativeDate=r.data[u].selectedRelativeDate,this.dashboardParameters.data[e].showInPromptDialog&&(p=this.dashboardParameters.data[e].showInPromptDialog));p?this.loadLayout():this.refreshDashboard(null,!1)}break;case"widgetActionSettings":d=n[i];this.model.widgetActionSettings=[];g=d[0].widgetActionSettings;this.model.widgetActionSettings=g}},_initializeFilterParameters:function(){var v,e,h,d,u,g,w,f,b,k;if(!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters!==""&&this.model.filterParameters.length!==t.DashboardConstants.Zero){v=[];try{this.model.filterParameters.indexOf("%25")!==t.DashboardConstants.IndexLowerBound&&(this.model.filterParameters=decodeURI(this.model.filterParameters));v=decodeURI(this.model.filterParameters).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252));var s=v.split("|,|"),tt=t.isNullOrUndefined(s)?t.DashboardConstants.Zero:s.length,y=[];for(e=0;e<tt;e++){if(s[e].indexOf(String.fromCharCode(254)+String.fromCharCode(253))>-1)var p=s[e].split(String.fromCharCode(254)+String.fromCharCode(253)),ut=p[1],ft=p[2],et=p[3];if(h=s[e].split("|:|"),h.length>=2){var r=h[0],i=h[1],o=null;if(r===String.fromCharCode(254)+"filterQuery"+String.fromCharCode(254)){d=CryptoJS.AES.decrypt(i,"RGFzaGJvYXJkIFVybCBLZXk=").toString(CryptoJS.enc.Utf8).replaceAll(String.fromCharCode(254),":");try{if(o=n.parseJSON(d),o.length!==t.DashboardConstants.Zero){this.model.currentMasterReport=o;continue}}catch(ot){}}else if(r.trim().toUpperCase()==="FILTERQUERY"){if(u=i.split("::"),g=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,!t.isNullOrUndefined(i)&&u.length>t.DashboardConstants.One){for(w={},f=t.DashboardConstants.Zero;f<g;f++){var c=u[f].indexOf(":"),it=c!==t.DashboardConstants.IndexLowerBound?u[f].substring(t.DashboardConstants.Zero,c):u[f],rt=c!==t.DashboardConstants.IndexLowerBound?u[f].substring(c+t.DashboardConstants.One):null;w[it]={masterData:rt}}this._privateFilterData=w;this._hasPrivateFilterData=!0}else o=n.parseJSON(i),o.length!==t.DashboardConstants.Zero&&(b=this.dashboardControls.unMinifySelectedFilterInfo(o),this.model.currentMasterReport=b.masterData,this.dashboardControls.initialDashboardParameters=b.dashboardParams);continue}if(r.toUpperCase().trim()==="~TABINDEX~"){k=parseInt(i);t.isNullOrUndefined(i)||isNaN(k)||(this.model.selectedTabIndex=k);continue}if(r.toUpperCase().trim()==="~TABNAME~"){t.isNullOrUndefined(i)||i===""||(this.model.selectedTabName=i);continue}if(r.toUpperCase().trim()==="~TABID~"){t.isNullOrUndefined(i)||i===""||(this.model._selectedTabGuid=i);continue}if(r.toUpperCase().trim()==="~ISGETLINKDASHBOARD~"){!t.isNullOrUndefined(i)&&i&&(this.isGetLinkDashboard=i.toLowerCase()==="true"?!0:!1);continue}var l=this._processFilterData(i),a=l.Value,nt=this._hasKey(y,r.trim(),l.isExclude);nt.present?this._addIfNotPresent(nt.obj.Values,a):y.push({Column:r.trim(),Values:a.constructor===Array?a:[a],IsExclude:l.isExclude,FilterType:l.filterType})}}this.initialFilters=y}catch(st){}}},_processFilterData:function(n){var y,p;if(!t.isNullOrUndefined(n)){var e=!1,i=[],u=null,f="",o=n.match(/in *?\(/gi),s=n.match(/notin *?\(/gi),h=n.match(/between *?\(/gi),c=n.match(/inbetween *?\(/gi),l=n.match(/startswith *?\(/gi),a=n.match(/contains *?\(/gi),v=n.match(/endswith *?\(/gi),r=0;if(s!==null&&s.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(s[0],"").replace(")",""),e=!0,u="notin";else if(o!==null&&o.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(o[0],"").replace(")",""),u="in";else if(h!==null&&h.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(h[0],"").replace(")",""),u="between";else if(c!==null&&c.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(c[0],"").replace(")",""),u="inbetween";else if(l!==null&&l.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(l[0],"").replace(")",""),u="startswith";else if(a!==null&&a.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(a[0],"").replace(")",""),u="contains";else if(v!==null&&v.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(v[0],"").replace(")",""),u="endswith";else{for(i=n.split(","),y=t.isNullOrUndefined(i)?i.length:t.DashboardConstants.Zero,r=0;r<y;r++)i[r]=i[r].trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,"");return{Value:i.length<=t.DashboardConstants.One?n.trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,""):i,isExclude:e,filterType:u}}if(f!==""){for(i=f.split(","),p=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<p;r++)i[r]=i[r].trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,"");return{Value:i,isExclude:e,filterType:u}}}return""},_addIfNotPresent:function(n,i){if(!t.isNullOrUndefined(n&&i))if(i.constructor===Array)for(var r=0;r<i.length;r++)n.indexOf(i[r])===t.DashboardConstants.IndexLowerBound&&n.push(i[r]);else n.indexOf(i)===t.DashboardConstants.IndexLowerBound&&n.push(i)},_hasKey:function(n,i,r){for(var f=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,u=0;u<f;u++)if(n[u].Column===i&&n[u].IsExclude===r)return{present:!0,obj:n[u]};return{present:!1}},_initialGlobalValues:function(){this.stopRendering=!1;this.preventFilterPanelEvents=!1;this.isFilterPanelOpen=!1;this.timers=[];this.hiddenTabData={};this.isPublicDashboard=this.model._isPublic||!1;this.itemId=this.model._itemId||"";this.isLinking=!1;this._id!==""?this._dashboardId=this._id:(n(this.element).attr("id","dashboard"),this._dashboardId=this.element.attr("id"));this.multiTabs=!1;this._privateFilterData=null;this._hasPrivateFilterData=!1;this.showFilterMenu=!0;this.multiDashboardExport=!1;this._base64Key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+";this.ajaxCacheStore=[];this.token=null;this.html5Supported=typeof sessionStorage!="undefined"&&t.browserInfo().name!=="webkit";this.html5Supported&&(this.token=window.sessionStorage.getItem("token"),window.sessionStorage.setItem("token",this.token));this.initialFilters=null;this.currentUser=null;this.multiSelectCollection=[];this.currentSlaveInfo=[];this.tabSwitchFromHistory=!1;this.isFromHistory=!1;this.dashboardParameters=[];this.multiTabDashboardParameter=[];this.resize=!1;this.reset={};this.isPrompt=!1;this.requestHeaders=new RequestHeaders;this.updatedTime={};this.autoRefreshCollection=[];this.autoRefreshTimerCollection=[];this.hiddenTabRefreshKey=[];this.autoRefreshUserCollection=[];this.scheduleCollection=[];this.schedulerHiddenTabKeys=[];this.hiddenTabUpdateTime={};this.previousCacheKey=null;this.applyParametersEnabled=!1;this.resetParameterApplied=!1;this.HasDashboardParameter=!1;this.isGetLinkDashboard=!1;this.isLink=!1},_initPrivateProperties:function(){this.updateTimer=null;this.reportCultures=null;this._isCommentWidget=!0;this.hasFilterPanel=!1;this.isDashboardResize=!1;this.filterPanelId=null;this.filterPanelDiv=null;this.filterPanelObj=null;this.toolbarMethods=!1;this.showContext=!1;this.levels=[];this.slaveDataRequest=null;this.isFromAutoRefresh=!1;this.rendered=!1;this.filterDataLength=[];this.locale=jQuery.extend(!0,{},t.dashboardViewer.localization["en-US"]);this.isReloaded=!1;this.isFilterWidget=!1;this._isUnLoad=!1;this.widgetModeSettings=this.model.widgetModeSettings||this.defaults.widgetModeSettings;this.filterOverviewHeight=null;this.theme={};this.controlRelations=[];this.Context="";this.requestTimer=null;this.autorefreshTimer=null;this._id=this.element.attr("id");this.flag=!1;this.isWidget=!1;this.rangeData=[];this.masterData=[];this.mapControlsData=[];this.filterDataList=[];this.isMouseClick=!1;this.target=[];this.lastFocusElement="";this.currentScrollTop="";this.currentReport=[];this.CurrentMaster="";this.MapType=[];this.customRange=[];this.defaultRange=[];this.modifiedConnectionStrings=null;this.customRangeApplied=!1;this.DrillableMapEntries=[];this.rtl=!1;this.stackChartConfig=[];this.TitleLabels=[];this.scrollTop=0;this.previousDashboardSize=[];this.isPrintTriggered=!1;this.reportName="";this.reportDescription="";this.dashboardControls=new dbrddashboardControls;this.filterControls=new dbrddashboardControls;this.maximizedashboardControls=new dbrddashboardControls;this.appliedFilterData=[];this._gaugeTooltipTarget=null;this._gaugetoolTipTimer=null;this._ExportedImageFileName=null;this.fileName="";this.title="";this.exportDashboard=!1;this.imageValidation=!0;this.dashboardHeight=0;this.dashboardWidth=0;this.containerWidth=0;this.containerHeight=0;this.month=[];this.weekDays=[];this.clearFilter=!1;this.removeFilter=!1;this.orientation=this.locale.utils.DefaultOrientation;this.exportSettings={exportType:"",exportFormat:"",exportDpi:"",filename:"",pagesize:"",orientation:"",widgetSelection:"",dashboardSelection:"",widgetDrpDwnDisplay:!1,excelFileType:"",exportDashboard:!1,isMobile:!1,isExportTriggered:!1,subtitleName:""};this.filterPanelCustomThemeCol=[];this.errorHyperLink="https://help.syncfusion.com/dashboard-platform/dashboard-sdk/troubleshooting-errors#errorCode";this.loadAction=!1;this.isDialogNotCreated=!1;this.isExtendedLayout=!1;this.availableRowCount=0;this.layoutControls=null;this.pageInfo=[t.DashboardConstants.One];this.pageInformations=[t.DashboardConstants.One];this.heightOfCell=0;this.isDashboardScrolled=!1;this.isWidgetExceedCurrentPage=!1;this.layoutWrapperHeight=0;this.isRowsAvailable=!0;this.actualPages=[];this.pageHeight=0;this.currentScrollTop=0;this.currentScrollHeight=0;this.hiddenPageWidgetsForRefresh=[];this.exportImageHeightForExtendedLayout=0;this.currentActionSettings=null;this.isFromCache=!1;this.noNeedtoUpdateTimeSpan=!1;this.isVirtualScroll=!1;this.contextMenu=!1;this.isRefreshClicked=!1;this.pagesToRefresh=[];this.refreshedPages=[];this.isInitialFilterCleared=!1;this.initialFilterClearedList=[];this.isActionMenu=!1},_validateCredentials:function(){var r=this.currentTabContentElement.find(".e-dbrd-dialog"),u=r.find(".e-dbrd-dialog-content"),c=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,o=[],s=!1,i,h;for(r.find(".e-dbrd-dialog-heading .e-dbrd-dialog-header-error").hide(),i=0;i<c;i++){var n=u.eq(i),f=n.find(".e-input-container input[name=username]").val(),e=n.find(".e-input-container input[name=password]").val();if(t.isNullOrUndefined(f)||t.isNullOrUndefined(e)||f.trim()===""||e.trim()===""){s=!0;n.addClass("e-invalid");n.find(".e-error").html(this.locale.utils.UserNamePasswordEmpty);continue}else n.hasClass("e-invalid")&&n.removeClass("e-invalid");o.push({DataSourceName:n.find(".e-datasource-name").attr("data-name"),Username:f,Password:e})}s||(h={type:"POST",url:this.serviceUrl()+"/"+t.DashboardConstants.Authenticate,data:JSON.stringify({dashboardName:this.dashboardName,dashboardPath:this.dashboardPath(),authenticationData:JSON.stringify(o)}),onSuccess:this._postAuthenticate,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(h),this._createControlWaitingIndicator(r,!0))},_postAuthenticate:function(i,r){var h=this,u,c,e,f,o,s;if(this._destroyAllControlWaitingIndicator(),!t.isNullOrUndefined(r)&&(u=n.parseJSON(r.d),!t.isNullOrUndefined(u)))if(t.isNullOrUndefined(u.Token)){if(Object.prototype.toString.call(u)==="[object Array]"){for(c=this.currentTabContentElement.find(".e-dbrd-dialog .e-dbrd-dialog-content"),e=0,f=0;f<u.length;f++)o=c.find(".e-datasource-name[data-name='"+u[f].DatasourceName+"']").parent(),u[f].IsInvalid?(o.addClass("e-invalid"),o.find(".e-error").html(this.locale.utils.InvalidCredentials),e+=t.DashboardConstants.One):o.hide();s=this.currentTabContentElement.find(".e-dbrd-dialog #"+this._id+"_authWindowWrapper").data("ejDashboardScroller");s&&(s.model.height=e>t.DashboardConstants.One?"135":"75",s.refresh());e>t.DashboardConstants.One?this.currentTabContentElement.find(".e-dbrd-dialog .e-dbrd-dialog-heading .e-dbrd-dialog-header-error").show():this.currentTabContentElement.find(".e-dbrd-dialog .e-dbrd-dialog-heading .e-dbrd-dialog-header-error").hide();n(this.currentTabContentElement).find(".e-dbrd-dialog .e-dbrd-control .e-dbrd-dialog-content:visible input:first").focus()}}else this.token=u.Token,this.html5Supported&&window.sessionStorage.setItem("token",this.token),this.currentTabContentElement.find(".e-dbrd-dialog").remove(),this.loadLayout(null,!0),this._off(this.currentTabContentElement,"keypress",function(i){i.keyCode===13&&n(h.currentTabContentElement).find(".e-dbrd-dialog").find(".e-dbrd-controlWaiting").length===t.DashboardConstants.Zero&&h._validateCredentials()});return null},_wireEvents:function(){window.ontouchstart=function(){window.ontouchmove=null};var i=this;t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(this._on(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog),this._on(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-refresh-link-btn",this._refreshControl));window.addEventListener?window.addEventListener("message",this._receiveIFramePostMessage,!1):window.attachEvent("onmessage",this._receiveIFramePostMessage);this._on(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-support, .e-share-copy-btn, .e-dbrd-mobileCopyBtn",this._copyToClipboard);this._on(this.element,"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog);this._on(this.element,"click",".e-dbrd-refresh-link-btn",this._refreshControl);this._on(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-ok.e-success , .e-dbrd-alert .e-dbrd-dialog-heading .e-dbrd-dialog-close-icon,.e-dbrd-dialog-bgrnd, .e-dbrd-error-text-close",this._hideErrorDialog);this._on(this.element,"click",".e-dbrd-dialog .e-dbrd-dialog-footer .e-dbrd-btn.e-success",this._validateCredentials);this._on(n(window),"unload",n.proxy(function(){i._isUnLoad=!0},this));this._on(this.element,"click",".e-datavisualization-chart svg",function(){i._destroyContextMenu()});this._on(this.currentTabContentElement,"click",".e-dbrd-clearDiv",this._clearAllFilters);this._on(this.currentTabContentElement,"click",".e-dbrd-save-filterData, .e-dbrd-saveAs-filterData",this._saveFilterData);this._on(this.currentTabContentElement,"click",".e-dbrd-view-saved",this._viewSavedFilter);this._on(this.currentTabContentElement,"click",".e-brd-clearFilters",this._removeMoreFilterMenu);this._on(this.currentTabContentElement,"click",".e-multiple-series",this._focusMultipleSeriesOnClick);this._on(this.currentTabContentElement,"click",".e-dbrd-inactive-header-Menu-button",this._showMaximizedControlMenu);this._on(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withoutcomments",this._openWidgetCommentDialog);this._on(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withcomments",this._openWidgetCommentDialog);this._on(this.currentTabContentElement,"click",".e-close-notification,.e-close-icon",this._closeNotification);this._on(this.currentTabContentElement,"click",".e-brd-ControlImageCancel,.e-brd-exportPopupWindowClose, .e-dbrd-dialog-bgrnd-export, .e-dbrd-exportBack",this._hideExport);this._on(this.currentTabContentElement,"keypress",".e-brd-imageResolution",this._validatingImageResolution);this._on(this.currentTabContentElement,"keyup change",".e-brd-imageResolution",this._validatingResolutionLimit);this._on(this.currentTabContentElement,"keyup",".e-brd-exportFilename, .e-brd-mobileFilenameText",this._validatingImageFilename);this._on(this.currentTabContentElement,"keyup",".e-brd-exportWidgetTitle",this._validatingImageWidgetTitle);this._on(this.currentTabContentElement,"click",".e-brd-PdfOrientationforportrait",this._selectPdfOrientationforportrait);this._on(this.currentTabContentElement,"click",".e-brd-PdfOrientationforlandscape",this._selectPdfOrientationforlandscape);this.isWidget||this._on(this.element,"contextmenu touchstart touchend",".e-dbrd-control-container",this._showContextMenu);this._on(this.element,"click",".e-dbrd-banner-icon-container",this._toolbarsInBanner);this._on(this.element,"click",".e-dbrd-filterOverView-menu",this._showFilterOverviewMenu);this._on(this.element,"click",this._closeCommentDialog);this._on(this.element,"click",".e-dbrd-filterListMenu",this._showMoreFiltersMenu);this._on(n("body"),"mouseleave",".e-dbrd-MaximizedControl",this._onMaximizeLeave);this._on(n("body"),"mousemove",".e-dbrd-inactive",this._onMaximizeMove);this._on(this.currentTabContentElement,"click",".e-dbrd-desc-moreDiv",this._descShowOrLess);this._on(this.element,"click",".e-brd-Pdfcancel",this._cancelWaitingIndicator);this._on(n("body"),"mouseenter",".e-dbrd-layout-cell",this._onControlMouseOver);this._on(n("body"),"mouseenter",".e-dbrd-control",this._onControlMouseOver);this._on(n("body"),"touchstart",".e-dbrd-control",this._onControlMouseOver);this._on(n("body"),"mouseleave",".e-dbrd-control",this._onControlMouseLeave);this._on(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseMove);this._on(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseLeave);this._on(this.currentTabContentElement,"touchstart click",".e-control-prop ,.e-control-singleCard",this._toolbarMethods);this._on(this.currentTabContentElement,"click",this._destroyPopups);this._on(this.currentTabContentElement,"mouseover","td .e-progressbar",this._showGridBarToolTip);this._on(this.currentTabContentElement,"mouseout","td .e-progressbar",this._hideGridBarToolTip);this._on(this.currentTabContentElement,"mouseover",".e-dbrd-interaction-filter",this._showTitleFilterToolTip);this._on(this.currentTabContentElement,"mouseout",".e-dbrd-interaction-filter,.e-dbrd-title-filter-wrapper",this._hideTitleFilterToolTip);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mouseout",".e-dbrd-hoverable",this._hideDashboardToolTip);this._on(this.currentTabContentElement,"click",".e-control-desc-back",this._hideDescription);this._on(this.element,"mousemove",".e-dbrd-gaugeControl",this._showGaugeToolTip);this._on(this.element,"mouseout",".e-dbrd-gaugeControl",this._hideGaugeToolTip);this._on(this.element,"mousemove",".e-brd-list,.e-brd-lists",this._showFilterToolTip);this._on(this.element,"mouseout",".e-brd-list,e-brd-lists",this._hideFilterToolTip);this._on(this.element,"click",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._on(this.element,"contextmenu",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._on(this.element,"click",".e-dbrd-imageControl",this._loadimageSlaves);this._on(this.element,"keydown","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigation);this._on(this.element,"keyup","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigationKeyUp);this._on(n("body"),"keypress",this._exportEnter);this._on(n(document),"keyup",this._handleKeyPress);this._on(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this._tabIndexFocus);this._on(this.element,"focusin",".e-multiple-parent",this._keyboardNavigation);this._on(this.element,"click",".e-dbrd-export",this._exportControlData);this._dashboardData().isUnitTesting&&this._on(n(window),"resize",this._resizeDashboard);this._on(this.element,"click",".e-brd-ControlImageExport, .e-dbrd-mobileExportBtn",this._exportImagePopup);this._on(this.element,"touchstart click",".e-brd-ControlImageReset, .e-dbrd-exportResetIcon",this._ControlImageReset);this._on(this.element,"click",".e-reset-dbrd-btn",this.refreshDashboard);this._on(this.element,"click",".e-dbrd-banner-description",this._showReportDescription);this._on(this.element,"click",".e-dbrd-banner-export",this._exportDashboardImage);this._on(this.element,"click",".e-dbrd-banner-export",this._exportDashboardPdf);this._on(this.element,"click",".e-control-description",this._onControlDescriptionMouseOver);this._on(this.element,"click",".e-dbrd-dashboardfavIcon",this._setAsUnFavorite);this._on(this.element,"click",".e-dbrd-dashboardunfavIcon",this._setAsFavorite);this._on(this.element,"click",".e-dbrd-customIcon",this._triggerCustomEvent);this._on(this.element,"scroll",this._bodyScroll);this._on(this.element,"mousemove",".e-mhover",this._mouseHoverOnMenu);this._on(this.element,"mouseleave",".e-menu-wrap, .e-list, .e-memu-wrap,.e-menu",this._mouseLeaveOnMenu);this._on(this.element,"touchstart touchend mouseover","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label,.e-tab .e-header .e-link, .e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle, .e-dbrd-maxSubTitleText",this._onControlTitleMouseOver);this._on(this.element,"mouseleave","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label, .e-tab .e-header .e-link,.e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle",this._onControlTitleMouseLeave);this._on(this.element,"click",".e-dbrd-tab-menu-container",this._showTabMenu);this._on(this.element,"click",".e-dbrd-tab-res-icon-container",this._createNavigationDrawers);this._on(this.element,"click",".e-dbrd-tab-res-text",this._navigationItemClick);this._on(this.element,"click",".e-dbrd-scroll-right",this._scrollForward);this._on(this.element,"click",".e-dbrd-scroll-left",this._scrollBackward);this._on(this.element,"click",".e-dbrd-overview-back",this._hideFilterOverviewDialog);this._on(this.element,"click",".reload-button-mobile",this._reloadDashboard);this._on(this.element,"click",".e-dbrd-exportype , .e-brd-multitab-mob-export-btn",this._mobileExportContentCreate);this._on(this.element,"click",".e-dbrd-banner-link",this.openGetLinkDialog);this._on(this.element,"click",".e-brd-multitab-mob-params-btn",this._dashboardparameterbuttonClick);this._on(this.element,"click",".e-templatecell .e-gridhyperlink",this._gridLinking);this.model.interactionSettings.handleHistoryEvent&&this._on(n(window),"popstate",this._popBrowserHistory)},_layoutScroll:function(i){var r,e;if(n(window).width()<t.DashboardConstants.MobileWidth)if(this.isExtendedLayout)r=this,Math.floor(n(i.currentTarget).height()+n(i.currentTarget).scrollTop())>=n(i.currentTarget)[t.DashboardConstants.Zero].scrollHeight-100?(e=Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One,r._hasControl(r.layoutControls,e)&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(e)===t.DashboardConstants.IndexLowerBound&&r._scrollDashboardAction(e,n(i.currentTarget).scrollTop()))):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();else{var u=n("#"+n(i.currentTarget).attr("id")).scrollTop(),f=n("#"+this._id).find(".e-dbrd-overview-banner"),h=f.find(".e-dbrd-filterListMenu"),o=this.currentTabContentElement.find(".e-dbrd-banner"),s=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height();h.css("display")==="none"?(n(".e-dbrd-overview-banner").css({display:"none"}),o.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"})):u>this.currentScrollTop&&u>t.DashboardConstants.Zero&&u<s?(n(".e-dbrd-overview-banner").stop(!0,!1).slideUp("fast"),f.css({height:"35px",position:"absolute",display:"none"}),o.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),n(".e-dbrd-layout-wrapper").css({height:n("#"+this.element.attr("id")).height()-n("#"+this.element.attr("id")).find(".e-dbrd-banner").height()})):u<t.DashboardConstants.One?(n(".e-dbrd-overview-banner").stop(!0,!1).slideDown("fast"),f.css({height:"35px",position:"initial",display:"block"}),o.css({"box-shadow":"0px 0px 0px 0px"}),n(".e-dbrd-layout-wrapper").css({height:n("#"+this.element.attr("id")).height()-f.height()-n("#"+this.element.attr("id")).find(".e-dbrd-banner").height()})):u>t.DashboardConstants.Zero&&u<s&&(n(".e-dbrd-overview-banner").stop(!0,!1).slideDown("fast"),o.css({"box-shadow":"0px 0px 0px 0px"}),f.css({height:"35px",position:"absolute",display:"block"}));this._destroyContextMenu();this.currentScrollTop=u}},_dashboardScroll:function(n){var t=this.currentScrollTop;this._scrollDashboardAction(n,t)},_scrollDashboardAction:function(i,r){var f,o,s,e,h;this.isRefreshClicked&&this.refreshedPages.indexOf(i)===t.DashboardConstants.IndexLowerBound&&this.refreshedPages.push(i);this.isDashboardScrolled=!0;var u=0,c=this.pageInfo[0];for(this.pageInfo=[],this.pageInfo.push(i),i!==c&&i!==2&&n(window).width()>t.DashboardConstants.MobileWidth?(f=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),f.option("scrollTop",r),f.refresh()):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").scrollTop(r),o=i-t.DashboardConstants.One,this._hideShowPageForMobile(o,!1)),s=this.layoutControls.length,u=0;u<s;u++)e=this.currentTabContentElement.find(".e-dbrd-control-container[id="+this.layoutControls[u].Guid+"]"),e.find(".e-dbrd-controlWaiting").length!==t.DashboardConstants.One&&i===this.layoutControls[u].Page&&this._createControlWaitingIndicator(e,!1);this.loadDashboardOnDemand();h=this._calculateRowCount(this.availableRowCount);this.availableRowCount>t.DashboardConstants.Zero&&this.isRowsAvailable&&(this._addLayoutCell(h,24,this.heightOfCell,this.currentTabContentElement.find("#"+this._id+"_layout")),this._createLayout(this.layoutControls),n(window).width()<=t.DashboardConstants.MobileWidth&&(this._controlSizeCalculationForMobile(this.layoutControls,null),this._hideShowPageForMobile(i,!0)));this.availableRowCount=this._getAvailabelRowCount(this.availableRowCount)},_hasControl:function(n,i){for(var u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r=0;r<u;r++)if(n[r].Page===i)return!0;return!1},_bodyScroll:function(){var i=this,r=i.currentTabContentElement.scrollTop();i.currentTabContentElement.find("#"+i._id+"_InActiveDiv")&&n("#"+i._id+"_InActiveDiv").css({top:r+"px"});i.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").length>t.DashboardConstants.Zero&&n(".e-dbrd-dialog-bgrnd").css({top:r+"px"});i.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export")&&n(".e-dbrd-dialog-bgrnd-export").css({top:r+"px"});i.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export-waiting")&&n(".e-dbrd-dialog-bgrnd-export-waiting").css({top:r+"px"})},_unWireEvents:function(){window.removeEventListener?window.removeEventListener("message",this._receiveIFramePostMessage,!1):window.detachEvent("onmessage",this._receiveIFramePostMessage);var i=this;t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(this._off(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog),this._off(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-refresh-link-btn",this._refreshControl));this._off(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-support",this._copyToClipboard);this._off(this.element,"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog);this._off(this.element,"click",".e-dbrd-refresh-link-btn",this._refreshControl);this._off(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-ok.e-success , .e-dbrd-alert .e-dbrd-dialog-heading .e-dbrd-dialog-close-icon,.e-dbrd-dialog-bgrnd, .e-dbrd-error-text-close",this._hideErrorDialog);this._off(this.element,"click",".e-dbrd-dialog .e-dbrd-dialog-footer .e-dbrd-btn.e-success",this._validateCredentials);this._off(n(window),"unload",n.proxy(function(){i._isUnLoad=!0},this));this._off(this.element,"click",".e-datavisualization-chart svg",function(){i._destroyContextMenu()});this._off(this.currentTabContentElement,"click",".e-dbrd-clearDiv",this._clearAllFilters);this._off(this.currentTabContentElement,"click",".e-dbrd-save-filterData, .e-dbrd-saveAs-filterData",this._saveFilterData);this._off(this.currentTabContentElement,"click",".e-dbrd-view-saved",this._viewSavedFilter);this._off(this.currentTabContentElement,"click",".e-brd-clearFilters",this._removeMoreFilterMenu);this._off(this.currentTabContentElement,"click",".e-multiple-series",this._focusMultipleSeriesOnClick);this._off(this.currentTabContentElement,"click",".e-dbrd-inactive-header-Menu-button",this._showMaximizedControlMenu);this._off(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withoutcomments",this._openWidgetCommentDialog);this._off(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withcomments",this._openWidgetCommentDialog);this._off(this.currentTabContentElement,"click",".e-close-notification,.e-close-icon",this._closeNotification);this._off(this.currentTabContentElement,"click",".e-brd-ControlImageCancel,.e-brd-exportPopupWindowClose, .e-dbrd-dialog-bgrnd-export, .e-dbrd-exportBack",this._hideExport);this._off(this.currentTabContentElement,"keypress",".e-brd-imageResolution",this._validatingImageResolution);this._off(this.currentTabContentElement,"keyup change",".e-brd-imageResolution",this._validatingResolutionLimit);this._off(this.currentTabContentElement,"keyup",".e-brd-exportFilename, .e-brd-mobileFilenameText",this._validatingImageFilename);this._off(this.currentTabContentElement,"keyup",".e-brd-exportWidgetTitle",this._validatingImageWidgetTitle);this._off(this.currentTabContentElement,"click",".e-brd-PdfOrientationforportrait",this._selectPdfOrientationforportrait);this._off(this.currentTabContentElement,"click",".e-brd-PdfOrientationforlandscape",this._selectPdfOrientationforlandscape);this.isWidget||this._off(this.element,"contextmenu touchstart touchend",".e-dbrd-control-container",this._showContextMenu);this._off(this.element,"click",".e-dbrd-banner-icon-container",this._toolbarsInBanner);this._off(this.element,"click",".e-dbrd-filterOverView-menu",this._showFilterOverviewMenu);this._off(this.element,"click",this._closeCommentDialog);this._off(this.element,"click",".e-dbrd-filterListMenu",this._showMoreFiltersMenu);this._off(n("body"),"mouseleave",".e-dbrd-MaximizedControl",this._onMaximizeLeave);this._off(n("body"),"mousemove",".e-dbrd-inactive",this._onMaximizeMove);this._off(this.currentTabContentElement,"click",".e-dbrd-desc-moreDiv",this._descShowOrLess);this._off(this.element,"click",".e-brd-Pdfcancel",this._cancelWaitingIndicator);this._off(n("body"),"mouseenter",".e-dbrd-layout-cell",this._onControlMouseOver);this._off(n("body"),"mouseenter",".e-dbrd-control",this._onControlMouseOver);this._off(n("body"),"touchstart",".e-dbrd-control",this._onControlMouseOver);this._off(n("body"),"mouseleave",".e-dbrd-control",this._onControlMouseLeave);this._off(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseMove);this._off(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseLeave);this._off(this.currentTabContentElement,"touchstart click",".e-control-prop ,.e-control-singleCard",this._toolbarMethods);this._off(this.currentTabContentElement,"click",this._destroyPopups);this._off(this.currentTabContentElement,"mouseover","td .e-progressbar",this._showGridBarToolTip);this._off(this.currentTabContentElement,"mouseout","td .e-progressbar",this._hideGridBarToolTip);this._off(this.currentTabContentElement,"mouseover",".e-dbrd-interaction-filter",this._showTitleFilterToolTip);this._off(this.currentTabContentElement,"mouseout",".e-dbrd-interaction-filter,.e-dbrd-title-filter-wrapper",this._hideTitleFilterToolTip);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._off(this.element,"mouseout",".e-dbrd-hoverable",this._hideDashboardToolTip);this._off(this.currentTabContentElement,"click",".e-control-desc-back",this._hideDescription);this._off(this.element,"mousemove",".e-dbrd-gaugeControl",this._showGaugeToolTip);this._off(this.element,"mouseout",".e-dbrd-gaugeControl",this._hideGaugeToolTip);this._off(this.element,"mousemove",".e-brd-list,.e-brd-lists",this._showFilterToolTip);this._off(this.element,"mouseout",".e-brd-list,e-brd-lists",this._hideFilterToolTip);this._off(this.element,"click",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._off(this.element,"click",".e-dbrd-imageControl",this._loadimageSlaves);this._off(this.element,"contextmenu",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._off(this.element,"keydown","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigation);this._off(this.element,"keyup","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigationKeyUp);this._off(n("body"),"keypress",this._exportEnter);this._off(n(document),"keyup",this._handleKeyPress);this._off(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this._tabIndexFocus);this._off(this.element,"focusin",".e-multiple-parent",this._keyboardNavigation);this._off(this.element,"click",".e-dbrd-export",this._exportControlData);this._off(n(window),"resize",this._resizeDashboard);this._off(this.element,"click",".e-brd-ControlImageExport, .e-dbrd-mobileExportBtn",this._exportImagePopup);this._off(this.element,"touchstart click",".e-brd-ControlImageReset, .e-dbrd-exportResetIcon",this._ControlImageReset);this._off(this.element,"click",".e-reset-dbrd-btn",this.refreshDashboard);this._off(this.element,"click",".e-dbrd-banner-description",this._showReportDescription);this._off(this.element,"click",".e-dbrd-banner-export",this._exportDashboardImage);this._off(this.element,"click",".e-dbrd-banner-export",this._exportDashboardPdf);this._off(this.element,"click",".e-control-description",this._onControlDescriptionMouseOver);this._off(this.element,"click",".e-dbrd-dashboardfavIcon",this._setAsUnFavorite);this._off(this.element,"click",".e-dbrd-dashboardunfavIcon",this._setAsFavorite);this._off(this.element,"click",".e-dbrd-customIcon",this._triggerCustomEvent);this._off(this.element,"scroll",this._bodyScroll);this._off(this.element,"mousemove",".e-mhover",this._mouseHoverOnMenu);this._off(this.element,"mouseleave",".e-menu-wrap, .e-list, .e-memu-wrap,.e-menu",this._mouseLeaveOnMenu);this._off(this.element,"touchstart touchend mouseover","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label,.e-tab .e-header .e-link, .e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle, .e-dbrd-maxSubTitleText",this._onControlTitleMouseOver);this._off(this.element,"mouseleave","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label, .e-tab .e-header .e-link,.e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle",this._onControlTitleMouseLeave);this._off(this.element,"click",".e-dbrd-tab-menu-container",this._showTabMenu);this._off(this.element,"click",".e-dbrd-tab-res-icon-container",this._createNavigationDrawers);this._off(this.element,"click",".e-dbrd-tab-res-text",this._navigationItemClick);this._off(this.element,"click",".e-dbrd-scroll-right",this._scrollForward);this._off(this.element,"click",".e-dbrd-scroll-left",this._scrollBackward);this._off(this.element,"click",".e-dbrd-overview-back",this._hideFilterOverviewDialog);this._off(this.element,"click",".reload-button-mobile",this._reloadDashboard);this._off(this.element,"click",".e-dbrd-exportype , .e-brd-multitab-mob-export-btn",this._mobileExportContentCreate);this._off(this.element,"click",".e-dbrd-banner-link",this.openGetLinkDialog);this._off(this.element,"click",".e-brd-multitab-mob-params-btn",this._dashboardparameterbuttonClick);this._off(this.element,"click",".e-templatecell .e-gridhyperlink",this._gridLinking);this.model.interactionSettings.handleHistoryEvent&&this._off(n(window),"popstate",this._popBrowserHistory)},_destroy:function(){this._unWireEvents();this._destroySlaveControls();this.element.empty().removeClass("e-dashboardviewer"+this.model.cssClass);this._clearTimers();this._clearAutoRefreshTimerAndCollection()},_loadDashboardFromData:function(){var o,a,v,ut,w,e,st,ht,ct,lt,at,b,vt,s,tt,it;this._destroyWaitingPopup();var i=null,h=window.data,yt=t.isNullOrUndefined(h)?t.DashboardConstants.Zero:h.length,u=null,r=0;if(window.isExportPdf)for(o=0;o<yt;o++)h[o].id===this._dashboardId&&(i=h[o].layoutString,u=h[o].widgetString);else i=window.dashboardLayoutString,u=window.dashboardWidgetString;if((this._dashboardData().isTestCase||this._dashboardData().layout.length!==t.DashboardConstants.Zero||this._dashboardData().widgetData.length!==t.DashboardConstants.Zero)&&(i=this._dashboardData().layout,u=this._dashboardData().widgetData),!this._dashboardData().isExportImage&&this._dashboardData().isTestCase&&!t.isNullOrUndefined(i)&&this.multiTabs===!1){for(r=0;r<i.length;r++)i[r].Key==="TabInformation"&&(this.dashboardDetails=JSON.parse(i[r].Value)),i[r].Key==="DashboardParameters"&&(this.dashboardParameters=JSON.parse(i[r].Value),!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero&&(this.HasDashboardParameter=!0)),i[r].Key==="CustomWidgetCultures"&&this._fetchCultureFilesForCustomWidget(JSON.parse(i[r].Value));t.isNullOrUndefined(this.dashboardDetails)||(a=this.dashboardDetails.length,a>t.DashboardConstants.One?this._createDashboardTabs():t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||a!==t.DashboardConstants.One||this.model._selectedTabGuid===this.dashboardDetails[t.DashboardConstants.Zero].DashboardId?t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||a!==t.DashboardConstants.Zero||this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:null}):(this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this.dashboardDetails[t.DashboardConstants.One].DashboardId}),this.model._selectedTabGuid=this.dashboardDetails[t.DashboardConstants.One].DashboardId))}t.isNullOrUndefined(u.d)&&(u={d:u});u.d.length===t.DashboardConstants.Zero||t.isNullOrUndefined(u.d[t.DashboardConstants.Zero].loadedPages)||u.d[t.DashboardConstants.Zero].loadedPages.length!==t.DashboardConstants.One||u.d[0].loadedPages.splice(0,1);this.modifiedConnectionStrings=null;var f=null,rt=null,c=t.isNullOrUndefined(this._dashboardData().masterControls)?"":this._dashboardData().masterControls,k=null,d=null;if(c.length>t.DashboardConstants.Zero)for(f=n("<div>").css({width:"100%",height:"auto","max-height":"25%",padding:"5px",overflow:"hidden"}).html(this.locale.utils.AppliedFilters),rt=c.length,r=0;r<rt;r++)k=c[r].Column,d=c[r].Data,c.length>5?f.append(n("<div>").css({width:"auto","text-overflow":"ellipsis",height:"100%","margin-left":"2px",padding:"2px"}).html(k+" : "+d)):f.append(n("<div>").css({width:"auto","text-overflow":"ellipsis",height:"100%","margin-left":"2px",padding:"5px"}).html(k+" : "+d)),this.element.append(f);if(this.filterHeight=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.height(),this._dashboardData().isControl){v=JSON.parse(i[1].Value);ut=JSON.parse(i[2].Value);v.RowCount=1;v.ColumnCount=1;i[1].Value=JSON.stringify(v);var ft=45,et=45,g=u.d[0].configInfo,y=this._getHeaderInfo(ut,g),l=t.isNullOrUndefined(y)?null:this._getControlTitleAlignment(y.Label.LabelAlignment),p=n("<div>").attr({id:this._id+"_cell_"+g.Row+"_"+g.Column}),nt=n("<div>").addClass("e-control-heading").css({height:"30px",width:"100%"}),ot=n("<div>").addClass(l),pt=t.isNullOrUndefined(y)?"":y.Label.HeaderLabelForeground.substr(3),wt=n("<span/>").addClass("e-control-title").css({display:"block",color:"#"+pt}).html(this._dashboardData().controlHeader);nt.append(ot);ot.append(wt);w=null;e=null;t.isNullOrUndefined(this._dashboardData().subtitleName)||this._dashboardData().subtitleName===""||(w=n("<div>").addClass("e-control-subtitleHeading").css({height:"25px",width:"100%"}),e=n("<div>").addClass(l),st=n("<span/>").addClass("e-control-subtitle e-export-control-subtitle").html(this._dashboardData().subtitleName),e.css({height:"25px"}),w.append(e),e.append(st));p.css({height:this._dashboardData().isExportImage?n(window).height()-this.filterHeight:"calc(100% - 10px)",width:"100%"});t.isNullOrUndefined(this._dashboardData().subtitleName)||this._dashboardData().subtitleName===""?p.append(nt.addClass(l),n("<div>").addClass("e-dbrd-control").css({height:this._dashboardData().isExportImage?t.isNullOrUndefined(f)?n(window).height()-et:n(window).height()-(this.filterHeight+ft+10):"calc(100% - 20px)",width:"100%",float:"left"})):p.append(nt.addClass(l),w.addClass(l),n("<div>").addClass("e-dbrd-control").css({height:this._dashboardData().isExportImage?t.isNullOrUndefined(f)?n(window).height()-(e.height()+et):n(window).height()-(this.filterHeight+e.height()+ft+10):"calc(100% - 20px)",width:"100%",float:"left"}));this.currentTabContentElement.append(p);this.model.enableCustomTheming&&this._customTheme(["container"])}else ht=JSON.parse(i[1].Value),this.currentReport={layout:i,data:[]},n("#"+this._id).append('<div class="e-dbrd-desc-tooltip"><\/div>'),this._setDashboardSize(),this._drawBanner(i),this._drawLayout(ht,i),ct=25,this.filterHeight===t.DashboardConstants.Zero||this._dashboardData().isWidgetSpecific||(lt=n(window).height()-this.filterHeight-this.currentTabContentElement.find(".e-dbrd-banner").height()-ct,this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this._dashboardData().isExportImage?this.isExtendedLayout?"auto":lt:"calc(100% - 10px)",width:"100%"})),this._dashboardData().isWidgetSpecific&&this.filterHeight!==t.DashboardConstants.Zero&&(at=0,b=this.currentTabContentElement.find(".e-dbrd-layout-cell").eq(at),b.find(".e-dbrd-control-container").attr("type")!=="Grid"&&b.css({height:b.height()-n(".e-dbrd-banner").height()-this.filterHeight}));if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),this._dashboardData().isScreenshot)this._renderControl(null,u);else{for(vt=t.isNullOrUndefined(u.d)?t.DashboardConstants.Zero:u.d.length,r=0;r<vt;r++)s=new Dbrdcontrol,s=s.clone(u.d[r]),s.isFilterPanelControl=this._isFilterPanelWidget(s.reportName),this.dashboardControls.addControl(s);this._startRenderingControls()}this.model._dashboardData.isControl&&(this._trigger("dashboardCreated",{model:this,data:i,hasFilterPanel:this.hasFilterPanel}),tt=this._getKeyFromCookie(),it=this._popSessionStorageData(tt),!this.model.interactionSettings.allowHistoryMaintenance||this.isFromHistory||this.tabSwitchFromHistory?this.model.interactionSettings.allowHistoryMaintenance&&this.tabSwitchFromHistory&&(this._pushSessionStorage("TabSwitch"),this.tabSwitchFromHistory=!1):t.isNullOrUndefined(it)||it.dashboardPath!==this.dashboardPath()?this._pushSessionStorage("initial"):this._replaceState(tt))},_getHeaderInfo:function(n,i){for(var u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r=0;r<u;r++)if(n[r].ReportName===i.Id)return n[r];return null},_addToStore:function(n,t){this.ajaxCacheStore[n]={Time:new Date,Value:JSON.parse(JSON.stringify(t))};this.previousCacheKey=n},_removeFromStore:function(n){delete this.ajaxCacheStore[n]},_getValueFromStore:function(n){var h=2,f=null,i=[],r=t.isNullOrUndefined(n)?[]:n.split(t.DashboardConstants.CacheStoreList),e,c,u,o,s,l;if(f=this.ajaxCacheStore[n],i=Object.keys(this.ajaxCacheStore),i=i.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound}),t.isNullOrUndefined(f)&&r.length>h){for(e=[],c=i.length,u=0;u<c;u++)i[u].indexOf(r[t.DashboardConstants.Zero])!==t.DashboardConstants.IndexLowerBound&&i[u].indexOf(r[t.DashboardConstants.One])!==t.DashboardConstants.IndexLowerBound&&e.push(i[u]);for(o=0;o<e.length;o++)s=e[o],l=s.split(t.DashboardConstants.CacheStoreList),l.length===r.length&&this._cacheKeyComparision(r,s,r[h])&&(f=this.ajaxCacheStore[s])}return f},_cleanUpStore:function(){var n=[],r,e;n=Object.keys(this.ajaxCacheStore);var o=null,u=null,f=null,i=0;if(o=n.length,this.model.cacheSettings&&this.model.cacheSettings.enableAutoCleanup&&!t.isNullOrUndefined(this.model.cacheSettings.cleanupInterval))for(i=0;i<o;i++)r=this._getValueFromStore(n[i]),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.Time)||(e=new Date(r.Time),e.setMinutes(e.getMinutes()+this.model.cacheSettings.cleanupInterval),e<new Date?this._removeFromStore(n[i]):f===null?(f=new Date(r.Time),u=n[i]):f>new Date(r.Time)&&(f=new Date(r.Time),u=n[i]));n=Object.keys(this.ajaxCacheStore);n=n.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound});this.model.cacheSettings&&u!==null&&!t.isNullOrUndefined(this.model.cacheSettings.capacity)&&n.length>this.model.cacheSettings.capacity&&this._removeFromStore(u)},_isAjaxCacheEnabled:function(){return t.isNullOrUndefined(this.model.cacheSettings)?!1:this.model.enableClientSideCache},_checkFilterOverviewData:function(n){var r,i;if(!t.isNullOrUndefined(n)){for(r={InteractionData:[]},i=0;i<this.appliedFilterData.length;i++)n===this.appliedFilterData[i].Control?this.appliedFilterData.splice(i,1):r.InteractionData.push(this.appliedFilterData[i]);return r}return null},_checkKeyInStore:function(n,i){var r=this._getValueFromStore(n),u;return r?(u=this,this.isFromCache=!0,setTimeout(function(){i.call(u,null,r.Value)},t.DashboardConstants.Zero),this._addToStore(n,r.Value),!0):!1},_cacheKeyComparision:function(n,i,r){var f=n.indexOf(r),u=!1;return i.indexOf(r)!==t.DashboardConstants.IndexLowerBound&&(u=!0,f+t.DashboardConstants.One<n.length&&(u=this._cacheKeyComparision(n,i,n[f+t.DashboardConstants.One]))),u},_generateKeyFromDataForCache:function(n,i,r){var l=null,o="",k,a,v,rt,y,f,u,d,s,g,h,nt,c,ut,p,tt,e,w,it,ft,b;if(t.isNullOrUndefined(n)||t.isNullOrUndefined(r)||r!=="GetInnerLevelDrillChart"){if(t.isNullOrUndefined(n.data)||n.data==="[]"||n.data==="null"){if(t.isNullOrUndefined(i)||i.InteractionData.length===t.DashboardConstants.Zero||t.isNullOrUndefined(r)||r!=="initialize")o=t.DashboardConstants.CacheStoreList+"[]";else for(ut=t.isNullOrUndefined(i.InteractionData)?t.DashboardConstants.Zero:i.InteractionData.length,p=0;p<ut;p++)if(tt="",e=i.InteractionData[p],!t.isNullOrUndefined(e.UniqueColumnName)){if(e.Data.length>t.DashboardConstants.Zero)for(w=0;w<e.Data.length;w++)tt+="&&"+e.Data[w];o+=t.DashboardConstants.CacheStoreList+e.UniqueColumnName.toUpperCase()+"_"+e.Control+tt}}else for(v=JSON.parse(n.data),rt=t.isNullOrUndefined(v)?t.DashboardConstants.Zero:v.length,y=0;y<rt;y++)if(f="",u=v[y],!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.UniqueColumnName)&&!t.isNullOrUndefined(u.ReportName)){if(!t.isNullOrUndefined(u.DateFilterInfo)&&u.DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero)for(d=t.isNullOrUndefined(u.DateFilterInfo.DateFilterList)?t.DashboardConstants.Zero:u.DateFilterInfo.DateFilterList.length,s=0;s<d;s++)f+="&&"+u.DateFilterInfo.DateFilterList[s],s===d-t.DashboardConstants.One&&(f+="("+u.DateFilterInfo.Action+")");else if(!t.isNullOrUndefined(u.DimensionFilterInfo)&&u.DimensionFilterInfo.Text.length>t.DashboardConstants.Zero)for(g=t.isNullOrUndefined(u.DimensionFilterInfo.Text)?t.DashboardConstants.Zero:u.DimensionFilterInfo.Text.length,h=0;h<g;h++)f+="&&"+u.DimensionFilterInfo.Text[h],h===g-t.DashboardConstants.One&&(f+="("+u.DimensionFilterInfo.Conditions+")");else if(!t.isNullOrUndefined(u.MeasureFilterInfo)&&u.MeasureFilterInfo.Values.length>t.DashboardConstants.Zero)for(nt=t.isNullOrUndefined(u.MeasureFilterInfo.Values)?t.DashboardConstants.Zero:u.MeasureFilterInfo.Values.length,c=0;c<nt;c++)f+="&&"+u.MeasureFilterInfo.Values[c],c===nt-t.DashboardConstants.One&&(f+="("+u.MeasureFilterInfo.Conditions+")");o+=t.DashboardConstants.CacheStoreList+u.UniqueColumnName.toUpperCase()+"_"+u.ReportName+f}}else{if(k="",!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero)for(a=0;a<n.data.length;a++)k+="&&"+n.data[a];o+=t.DashboardConstants.CacheStoreList+n.controlId.toUpperCase()+"_"+k}if(l=this.model.reportName+o,this.pageInformations.length>t.DashboardConstants.Zero){for(it="",ft=this.pageInformations.length,b=0;b<ft;b++)it+="&&_Page_"+this.pageInformations[b];l=l+t.DashboardConstants.CacheStoreList+it}return l},_clearCacheOnRefresh:function(){var n=[],r,i,u;for(n=Object.keys(this.ajaxCacheStore),n=n.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound}),r=n.length,i=0;i<r;i++)u=n[i],delete this.ajaxCacheStore[u];this.previousCacheKey=null},_addRemainingData:function(n,i,r){var o={},s=[],h=[],nt=[],w=null,c=null,l=null,e,b,k,a,tt,v,y,it,u,d,rt,p,g,f;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(b=n[e].ConfigInfo,k=n[e].Data,e.indexOf(t.dashboardViewer.Controls.Label)!==t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(b)?t.isNullOrUndefined(k)?h.push(e):h.push(JSON.parse(k).Id):h.push(JSON.parse(b).Id));for(w=this._getWidgetDataForCache(i),a=Object.keys(w),tt=t.isNullOrUndefined(a)?t.DashboardConstants.Zero:a.length,v=0;v<tt;v++)y=a[v],it=y.split(":"),h.indexOf(it[0])===t.DashboardConstants.IndexLowerBound&&(o[y]=w[y]);if(JSON.stringify(o)!=="{}")for(u=0;u<r.d.length;u++)r.d[u].Key==="Widgets"&&(r.d[u].Value=r.d[u].Value!=="{}"?r.d[u].Value.slice(t.DashboardConstants.Zero,t.DashboardConstants.IndexLowerBound)+","+JSON.stringify(o).substr(t.DashboardConstants.One):JSON.stringify(o));l=this._getFilterpanelDataForCache(r);c=this._getFilterpanelDataForCache(i);for(d in l)Object.prototype.hasOwnProperty.call(l,d)&&nt.push(l[d].filterId);if(!t.isNullOrUndefined(c)){for(rt=c.length,p=0;p<rt;p++)g=c[p],nt.indexOf(g.filterId)===t.DashboardConstants.IndexLowerBound&&s.push(g);if(JSON.stringify(s)!=="[]")for(f=0;f<r.d.length;f++)r.d[f].Key==="FilterPanel"&&(r.d[f].Value=r.d[f].Value!=="[]"?r.d[f].Value.slice(t.DashboardConstants.Zero,t.DashboardConstants.IndexLowerBound)+","+JSON.stringify(s).substr(t.DashboardConstants.One):JSON.stringify(s))}return r},_getWidgetDataForCache:function(n){var i=null,r=null,t;for(n=n.d,r=n.length,t=0;t<r;t++)if(n[t].Key==="Widgets"){i=n[t].Value;break}return JSON.parse(i)},_getFilterpanelDataForCache:function(n){var i=null,t;for(n=n.d,t=0;t<n.length;t++)if(n[t].Key==="FilterPanel"){i=n[t].Value;break}return JSON.parse(i)},_addPreviousPageDataForCache:function(n,i,r){var s=JSON.parse(n),h="&&_Page_"+s[0],c=r.replace(h,""),e=this._getValueFromStore(c),f,u,o;if(!t.isNullOrUndefined(e))for(f=this._getWidgetDataForCache(e.Value),u=0;u<i.d.length;u++)if(i.d[u].Key==="Widgets"){o=JSON.parse(i.d[u].Value);i.d[u].Value=Object.getOwnPropertyNames(o).length>t.DashboardConstants.Zero&&JSON.stringify(f)!=="{}"?i.d[u].Value.slice(t.DashboardConstants.Zero,t.DashboardConstants.IndexLowerBound)+","+JSON.stringify(f).substr(t.DashboardConstants.One):JSON.stringify(f)==="{}"?i.d[u].Value:JSON.stringify(f);break}return i},_destroySlaveControls:function(){try{t.widget.destroyAll(n(this.currentTabContentElement).find(".e-js").off())}catch(i){console(i.message)}},_destroyPopups:function(i){if(this.isVirtualScroll){this.isVirtualScroll=!1;return}if(this._trigger("onDashboardClick",{event:i,tabId:this.dashboardName}),this.toolbarMethods){this.toolbarMethods=!1;this.showContext=!1;return}n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&(this._destroyWidgetSelection(),this._destroyContextMenu());n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyControlMenu();n(this.currentTabContentElement).find(".e-dbrd-inactive").length!==t.DashboardConstants.Zero&&this._closeMaximize(i);n(this.currentTabContentElement).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.element).find("#"+this._dashboardId+"_tabMenuPopup").length!==t.DashboardConstants.Zero&&this._tabMenuPopupHide(i);(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i);n(this.currentTabContentElement).find("#"+this._id+"_FilterOverviewMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyFilterOverviewMenu();n(this.currentTabContentElement).find("#"+this._id+"_InteractionMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyInteractionMenu()},_toolbarMethods:function(i){var h,c,e;this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this.showFilterMenu=!1,this._closeFilterOverviewDialog(event));this.currentTabContentElement.find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(n(this.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control"));(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(event);this._tabMenuPopupHide(i);var u=n(i.target),o=u.attr("name"),f=u.attr("id"),s=null,l=u.parents(".e-dbrd-control-container").find(".e-dbrd-control"),r=u.parents(".e-dbrd-control-container"),a=l.attr("data-controlid"),v=r.attr("id");s=n(r).find(".e-control-title").length>t.DashboardConstants.Zero?n(r).find(".e-control-title").text().trim():n(r).find(".e-control-heading").text()===""?n(r).find(".e-title").text():n(r).find(".e-control-heading").text().trim();h=s;c=this.model._selectedTabGuid?this.model._selectedTabGuid:null;this._trigger("onMenuIconClick",{target:u,event:i,name:o,serviceUrl:this.serviceUrl(),dashboardPath:this.dashboardPath(),widgetId:v,dataWidgetId:a,headertext:h,tabId:c,tabName:this.dashboardName});this.toolbarMethods=!0;e=!1;t.isNullOrUndefined(r)||(e=r.attr("type").toLowerCase()===t.dashboardViewer.Controls.CustomWidget.toLowerCase());switch(o){case"Maximize":n(r).find(".e-dbrd-control-nodatainfo").length===t.DashboardConstants.Zero&&this._maximizeControl(f,e);break;case"menu":n(r).find(".e-dbrd-control-nodatainfo").length===t.DashboardConstants.Zero&&this._showControlMenu(f);break;case"filter":this._removeControlFilter(f,i)}},_initializeRelationships:function(){var r=this.currentTabContentElement.find(".e-dbrd-containerWrapper").find(".e-dbrd-control"),e,i,u,f;for(r=r.add(n("#"+this._id+" input.e-FilterBox,div.e-FilterBox")).add(n("#"+this._id+" td.e-dbrd-slider-control div.e-slider")),t.isNullOrUndefined(this.filterPanelObj)||(r=r.add(this.filterPanelDiv.find(".e-dbrd-control")).add(this.filterPanelDiv.find("input.e-FilterBox"))),e=this.controlRelations.length,i=0;i<e;i++)if(this.element.find("#"+this.controlRelations[i].Master).length===t.DashboardConstants.Zero&&(this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master).length===t.DashboardConstants.One||this.dashboardControls.isControlExists(this.controlRelations[i].Master))&&(this.controlRelations[i].Master=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master),this.controlRelations[i].Slaves.length>t.DashboardConstants.Zero)for(u=0;u<this.controlRelations[i].Slaves.length;u++)this.element.find("#"+this.controlRelations[i].Slaves[u]).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[u]).length===t.DashboardConstants.One&&(this.controlRelations[i].Slaves[u]=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[u]);else for(f=0;f<r.length;f++)n(r[f]).attr("type")==="Label"&&(this.controlRelations[i].Slaves=r[f].id)},_renderControl:function(i,r){var tt,k,d,it,a,ft,et,ot,st,g,ht,w,bt,kt,p,o,b;if(this.multiTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveHiddenTabData(i.tabId,{data:r,type:"initData"});return}if(this._setDashboardSize(),r.d[0].Key===t.DashboardConstants.WrongExcel){this._errorMsgPopup(this.locale.utils.ExcelError,!0);this._destroyWaitingPopup();return}tt="";n.each(r.d,function(t,i){i.Key==="Title"&&(tt=n.parseJSON(i.Value))});this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)&&(k=this._generateKeyFromDataForCache(i,tt,"initialize"),this._getValueFromStore(k)||(d=n.extend(!0,{},r),d=this.pageInformations.length>t.DashboardConstants.One?this._addPreviousPageDataForCache(i.page,d,k):r,this._addToStore(k,d)));this._changeScrollSize();this.currentReport.data=r;it=JSON.parse(r.d[0].Value);this.theme=it.Theme?window[it.Theme]:window.light;var f={d:[]},lt=null,u={d:[]},v=null;this.TitleLabels=[];this.flag=!1;this.isDashboardResize=!1;for(var h=null,at=[],vt=[],c=[],s=[],rt={},yt={},ut=[],e=0,l=0,pt=u.WidgetType,y=[],wt=[],e=r.d.length-t.DashboardConstants.One;e>=t.DashboardConstants.Zero;e--){if(h=r.d[e].Key,h==="Widgets"){c=JSON.parse(r.d[e].Value);this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetRender,source:{element:h,data:u}});for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(u=c[a],rt={},ut={},u!==null&&(!t.isNullOrUndefined(c[a])&&c[a].hasOwnProperty("NotConfigured")&&c[a].NotConfigured===!0?(t.isNullOrUndefined(c[a].position)||(ft=JSON.parse(c[a].position)),t.isNullOrUndefined(ft)||(f=new Dbrdcontrol,f.configInfo=ft,f.controlType="NoData",u.WidgetType="NoData",this.dashboardControls.addControl(f))):(f=t.isNullOrUndefined(u)||t.isNullOrUndefined(u.WidgetType)||u.WidgetType!=="CustomWidget"?new Dbrdcontrol:this.dashboardControls.getControlByReport(JSON.parse(u.ConfigInfo).Id),s=new dbrdcontrolData,h=h.toLowerCase(),f.currentPage=1,et=!1,t.isNullOrUndefined(u.Data)||(s.pagedata=JSON.parse(u.Data)),t.isNullOrUndefined(u.FormattedData)||(s.formattedData=JSON.parse(u.FormattedData)),t.isNullOrUndefined(u.ExpandedData)||(s.ExpandedNodeData=u.ExpandedData),t.isNullOrUndefined(u.DefaultData)||(this.cardDefaultData=parseFloat(u.DefaultData)),t.isNullOrUndefined(u.Error)||(s.pagedata=t.isNullOrUndefined(u.Error)?u.Error:u.Error,s.isError=et=!0),f.errorOccured=et,s.pageNumber=1,s.LastUpdateTime="",f.data.push(s),t.isNullOrUndefined(u.ConfigInfo)||t.isNullOrUndefined(u.ConfigInfo)||(f.configInfo=JSON.parse(u.ConfigInfo),this._updateConfigInfo(u.WidgetType,f),f.reportName=f.configInfo.Id),t.isNullOrUndefined(u.DynamicData)||(rt=JSON.parse(u.DynamicData)),t.isNullOrUndefined(u.StaticFiles)||(ut=JSON.parse(u.StaticFiles))))),pt=u.WidgetType,yt={widgetType:pt,dynamicData:rt,staticFiles:ut,control:f,controldata:s},this._renderWidgetControl(yt),this._setSelectedFitlerInfo(f),n(window).width()<t.DashboardConstants.MobileWidth?(ot=f.controlType===t.dashboardViewer.Controls.Label&&!t.isNullOrUndefined(f.data[t.DashboardConstants.Zero].pagedata)?f.data[t.DashboardConstants.Zero].pagedata.Page:f.configInfo.Page,y.indexOf(ot)===t.DashboardConstants.IndexLowerBound&&y.push(ot)):(st=f.controlType===t.dashboardViewer.Controls.Label&&!t.isNullOrUndefined(f.data[t.DashboardConstants.Zero].pagedata)?f.data[t.DashboardConstants.Zero].pagedata.Page:f.configInfo.Page,y.indexOf(st)===t.DashboardConstants.IndexLowerBound&&y.push(st));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetRender,source:{element:h,data:u}})}else h==="FilterPanel"?(this.tempDataForFilter=n.parseJSON(r.d[e].Value),this.isFilterPanelOpen&&this.externalFilterPanel&&(this.filterPanelObj!==null?this.filterPanelObj.refreshData(this.tempDataForFilter):(this.preventFilterPanelEvents=!0,this._showFilterPanel(),this.preventFilterPanelEvents=!1))):h==="MasterFilterList"&&(wt=n.parseJSON(r.d[e].Value));switch(h.toLowerCase()){case"context":this.Context=r.d[e].Value;break;case"paramcolumns":lt=JSON.parse(r.d[e].Value);r.d[e].Value!==null&&(f=new Dbrdcontrol,f.controlType="parameterColumnData",f.reportName="parameterColumnData",s=new dbrdcontrolData,s.pagedata=lt,f.data.push(s),this.dashboardControls.addControl(f));break;case"titleparams":at=n.parseJSON(r.d[e].Value);break;case"descriptionparams":vt=n.parseJSON(r.d[e].Value);break;case"autorefreshrowcounts":this.model.autoRefreshSettings.rowCount=r.d[e].Value;break;case"title":v=n.parseJSON(r.d[e].Value);break;case"controlrelation":this.controlRelations=n.parseJSON(r.d[e].Value)}}for(e=0;e<this.controlRelations.length;e++)if(g=[],this.controlRelations[e].Slaves.length===t.DashboardConstants.Zero&&(ht=this.dashboardControls.getControlByReport(this.controlRelations[e].Master),!t.isNullOrUndefined(ht))){for(ht.SelectedFilterInfo=[],w=0;w<v.InteractionData.length;w++)v.InteractionData[w].Control===this.controlRelations[e].Master&&g.push(w);for(l=g.length-t.DashboardConstants.One;l>=t.DashboardConstants.Zero;l--)v.InteractionData.splice(g[l],t.DashboardConstants.One)}this._updateLinkingDateFieldFilterInfo(wt,v);var nt=this.model.commentSettings.widgets,dt=t.isNullOrUndefined(nt)?t.DashboardConstants.Zero:nt.length,ct=this.currentTabContentElement.find(".e-dbrd-control-container"),gt=ct.length;if(!t.isNullOrUndefined(nt))for(e=0;e<gt;e++)for(bt=n(ct[e]).attr("id"),l=0;l<dt;l++)nt[l]===bt&&(kt=n(ct[e]).find(".e-dbrd-banner-widget-withoutcomments"),kt.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"));this._dashboardData().isControl||this._callFunction(this._addFilterDataToTitle,v);p=y;n(window).width()>t.DashboardConstants.MobileWidth&&(p=[],p.push(Math.min.apply(Math,y)),p[t.DashboardConstants.Zero]<this.pageInfo[t.DashboardConstants.Zero]&&(p=this.pageInfo));this._startRenderingControls(null,p);o=this;this._dashboardData().isControl||(b=n("<p>"),this.reportName=this.model.reportName,this._appendControlTitle(this.model.reportName,at,b),this.currentTabContentElement.find(".e-dbrd-banner-title").html(""),this.currentTabContentElement.find(".e-dbrd-banner-title").attr({"data-tooltip":b.text()}).append(b),this._adjustParameterColumn(b),this._appendDashboardDescription(this.reportDescription,vt),this._callFunction(this._initializeRelationships,r));this._initializeFilterPanel();this._callFunction(function(){setTimeout(function(){o.flag=!0;o._trigger("dashboardCreated",{model:o.model,data:r,tabId:o.dashboardName,hasFilterPanel:o.hasFilterPanel});o.model.filterPanelSettings.state===t.dashboardViewer.filterPanelSettings.state.expand&&o.hasFilterPanel&&o.openFilterPanel();var n=o._getKeyFromCookie(),i=o._popSessionStorageData(n);!o.model.interactionSettings.allowHistoryMaintenance||o.isFromHistory||o.tabSwitchFromHistory?o.model.interactionSettings.allowHistoryMaintenance&&o.tabSwitchFromHistory&&(o._pushSessionStorage("TabSwitch"),o.tabSwitchFromHistory=!1):t.isNullOrUndefined(i)||i.dashboardPath!==o.dashboardPath()?o._pushSessionStorage("initial"):o._replaceState(n)},300)});this._callFunction(this._updateDashboardTitle);this.rendered=!0;this.model.enableAutoRefresh&&this._resetAutoRefreshRevamp();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.renderComplete,source:{element:this.dashboardPath(),data:u}})},_updateLinkingDateFieldFilterInfo:function(n,i){var r,u,f;if(this.isLink&&!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(r=0,u=0,!t.isNullOrUndefined(i)&&i.InteractionData.length>t.DashboardConstants.Zero)for(r=0;r<i.InteractionData.length;r++)for(f=this.dashboardControls.getControlByReport(i.InteractionData[r].Control),u=0;u<f.SelectedFilterInfo.length;u++)f.SelectedFilterInfo[u].UniqueColumnName===i.InteractionData[r].UniqueColumnName&&f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&(i.InteractionData[r].Control.split("_")[t.DashboardConstants.Zero]===t.dashboardViewer.Controls.DatePicker?isNaN(Date.parse(i.InteractionData[r].Data[t.DashboardConstants.Zero]))||(f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList=i.InteractionData[r].Data):f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList=i.InteractionData[r].Data,this.target=[]);for(r=0;r<n.length;r++)this._removeAllControlSelectedValues(n[r]);this.isLink=!1}},_updateConfigInfo:function(n,i){switch(n){case t.dashboardViewer.Controls.FilterComboBox:this._setComboBoxConfigInfo(i);break;case t.dashboardViewer.Controls.ListBox:this._setListBoxConfigInfo(i);break;case t.dashboardViewer.Controls.TreeMap:this._setTreeMapConfigInfo(i);break;case t.dashboardViewer.Controls.CheckBox:this._setChkboxConfigInfo(i);break;case t.dashboardViewer.Controls.RangeSlider:this._setRangeSliderConfigInfo(i);break;case t.dashboardViewer.Controls.RangeNavigator:this._setRangeNavigatorConfigInfo(i);break;case t.dashboardViewer.Controls.DatePicker:this._setDatePickerConfigInfo(i);break;case t.dashboardViewer.Controls.Card:this._setCardConfigInfo(i);break;case t.dashboardViewer.Controls.ChoroplethMap:this._setChoroplethMapConfigInfo(i);break;case t.dashboardViewer.Controls.BubbleMap:this._setBubbleMapConfigInfo(i);break;case t.dashboardViewer.Controls.Grid:this._setGridConfigInfo(i);break;case t.dashboardViewer.Controls.Gauge:this._setGaugeConfigInfo(i);break;case t.dashboardViewer.Controls.PivotGrid:this._setPivotGridConfigInfo(i);break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:this._setChartConfigInfo(i)}},_setSelectedFitlerInfo:function(n){var f,i,r,u;if(!t.isNullOrUndefined(this.model.currentMasterReport)&&!t.isNullOrUndefined(n))for(f=t.isNullOrUndefined(this.model.currentMasterReport)?t.DashboardConstants.Zero:this.model.currentMasterReport.length,i=0;i<f;i++)r=this.model.currentMasterReport[i],r.ReportName===n.reportName&&(u=this._filterIndex(r,n.SelectedFilterInfo),u!==t.DashboardConstants.IndexLowerBound&&n.SelectedFilterInfo.splice(u,t.DashboardConstants.One),n.SelectedFilterInfo.push(r))},_filterIndex:function(n,i){var u,r;if(!t.isNullOrUndefined(i))for(u=i.length,r=0;r<u;r++)if(n.UniqueColumnName===i[r].UniqueColumnName)return r;return t.DashboardConstants.IndexLowerBound},_startRenderingControls:function(n,i){var r,u,f;this.theme=window.light;r=[];this.flag=!1;r=n?n:this.dashboardControls.getAllControls();this.isExtendedLayout&&!this._dashboardData().isExportImage&&(u=t.isNullOrUndefined(i)?this.pageInfo:i,r=this.dashboardControls.getControlsForCurrentPage(u));this._renderControlsForStarting(r);this._callFunction(this._destroyAllControlWaitingIndicator);f=this;setTimeout(function(){f.flag=!0},500)},_getScripts:function(i,r,u,f){n.ajaxSetup({cache:!0});var e=this,o=0;i.forEach(function(s){n.getScript(s,function(){o+=t.DashboardConstants.One;o===i.length&&(ej.dashboard.createWidgetInstance(u.widgetSettings.capabilities.Guid,f,{dashboardId:e._dashboardId,widgetId:u.reportName,baseURL:e.serviceUrl()+"//GetScriptsForCustomWidget/"+(u.widgetSettings.extractedPath+"/")}),n(f).addClass("isInitialized"),n(f).hasClass("dataLoaded")&&(u=e.dashboardControls.getControlByReport(u.reportName),n(f).attr("id")===e._id+"_maximized"?r.apply(e,[u,{id:u.reportName,Div:n(f),isMaximize:!0}]):r.apply(e,[u])),e._initializeRelationships())})})},_WidgetNotConfigured:function(t){var f=t.configInfo,i=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),u=n("<div>").css({overflow:"hidden"}).addClass("widget-not-configured-text align-center e-dbrd-fontfamily").css({display:"table",clear:"both",width:"100%",height:"100%","margin-left":"-2px"}),r=n("<div>").css({"vertical-align":"middle",overflow:"hidden"});i.attr("rowspan")==="1"&&i.attr("colspan")==="1"?(u.css({display:"inline-block"}),r.append(n("<div>").css({overflow:"hidden"}).addClass("widget-not-configured-icon e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.WidgetNotConfigured})),u.append(r)):(r.css({display:"table-cell"}),r.append(n("<div>").addClass("widget-not-configured-icon"),n("<div>").css({overflow:"hidden"}).html(this.locale.utils.WidgetNotConfigured)),u.append(r));i.find(".e-dbrd-control").append(u);i.find(".e-control-prop").hide();this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]);i.find(".e-dbrd-control iframe").remove()},_changeScrollSize:function(){var s=t.Menu.prototype._subMenuPos,i=0,h=0,u,r,f,e,o;t.Menu.prototype._subMenuPos=function(n,t){var r=t,u,f;if(this.element.parents(".e-dashboardviewer").length>h){u=300;f=400;try{i=this.element.parents(".e-dashboardviewer").width()-this.element.parents(".e-dashboardviewer").offset().left-this.element.offset().left;i<u&&(r="left")}catch(e){i=f}}s.call(this,n,r)};u=t.ScrollBar.prototype._calculateLayout;r=this;t.ScrollBar.prototype._calculateLayout=function(n){u.call(this,n);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&(n.handler==="e-vhandle"?(n.buttonSize=10,n.handleSpace=n.modelDim-2*n.buttonSize-9,n.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(this.model.height-2*n.buttonSize),n.handle<25&&(n.handle=25),n.handle>=n.handleSpace-15&&(n.handle-=15),n.onePx=n.scrollable/(n.handleSpace-n.handle)):n.buttonSize=this.model.buttonSize)};f=t.ScrollBar.prototype._mouseDown;t.ScrollBar.prototype._mouseDown=function(i){f.call(this,i);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&(n(i.delegateTarget).hasClass("e-vhandle")||n(i.toElement).hasClass("e-vhandle"))&&i.type==="mousedown"&&(this.element.addClass("onScrolling"),this.element.find(".e-vhandle").css({"background-color":"#838383",border:"1px solid #838383"}))};e=t.ScrollBar.prototype._mouseUp;t.ScrollBar.prototype._mouseUp=function(i){var u,o,f,s;e.call(this,i);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&i.type==="mouseup"&&(u=this.element.parents(".e-dbrd-control"),u.hasClass("e-dbrd-MaximizedControl")&&u.parents(".e-dbrd-inactive").removeClass("canClose"),this.element.removeClass("onScrolling"),this.element.hasClass("mouseOver")||this.element.trigger("mouseleave"),u.hasClass("mouseEntered")||(n(this.element).parents(".e-dbrd-control").attr("id")!==n(i.target).parents(".e-dbrd-control").attr("id")&&(this.element.stop(!0).show().fadeOut(1500),this.element.removeClass("e-dbrd-active-scrollbar")),o=this.element.parents(".e-dbrd-control").attr("data-controlid"),f=!1,this.element.parents(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")&&(f=!0),s={reportName:o,scrollTop:this.element.prev().scrollTop(),div:this.element.parents(".e-dbrd-control"),isMaximized:f},r._loadVirtualScrollingPage(s)))};o=t.ScrollBar.prototype.scroll;t.ScrollBar.prototype.scroll=function(n,i,u,f){var s,e,h;if(o.call(this,n,i,u,f),this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero){if(t.isNullOrUndefined(f))return;if(i.indexOf("wheel")===t.DashboardConstants.IndexLowerBound)return;s=this.element.parents(".e-dbrd-control").attr("data-controlid");e=!1;this.element.parents(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")&&(e=!0);h={reportName:s,scrollTop:this.element.prev().scrollTop(),div:this.element.parents(".e-dbrd-control"),isMaximized:e};r._loadVirtualScrollingPage(h)}}},_loadVirtualScrollingPage:function(n){var a=JSON.parse(JSON.stringify(this.dashboardParameters)),e,r,h,u,l,b,s,k;if(!t.isNullOrUndefined(n.reportName)&&!t.isNullOrUndefined(n.scrollTop)&&!t.isNullOrUndefined(n.div)&&!t.isNullOrUndefined(n.isMaximized)){this.isVirtualScroll=n.isMaximized;var i=this.dashboardControls.getControlByReport(n.reportName),v=this.model.localeSettings.resourcePath,y=this.model.localeSettings.culture,p=this.model.localeSettings.dateFormat,w=this.model.localeSettings.timeFormat,f={};if(!t.isNullOrUndefined(i)){if(n.isMaximized&&(i=this.maximizedashboardControls.getControlByReport(n.reportName)),e=n.div.find("table"),r=n.div.data("ejDashboardScroller"),i===!1||t.isNullOrUndefined(e)||t.isNullOrUndefined(r))return;if(i.scrollSetting.currentScrollTop=n.scrollTop,i.scrollSetting.visibleHeight=r.option("height"),!(i.currentPage>i.totalPages)&&!t.isNullOrUndefined(r)&&n.scrollTop>i.scrollSetting.scrollTop&&e[0].scrollHeight-n.scrollTop<=r.option("height")+100){if(i.currentPage+=t.DashboardConstants.One,i.currentPage===2&&(i.heightPerPage=e[0].scrollHeight),i.scrollSetting.scrollTop=n.scrollTop,i.currentPage>i.totalPages){i.currentPage=i.totalPages;return}this._createControlWaitingIndicator(n.div,!0);h=JSON.stringify({action:"",dashboardPath:this.dashboardPath(),controlId:n.reportName,startIndex:(i.currentPage-t.DashboardConstants.One)*i.scrollSetting.controlPerPage+t.DashboardConstants.One-i.scrollSetting.emptyCellsCount,pageSizeOnDemand:i.scrollSetting.controlPerPage+i.scrollSetting.emptyCellsCount,emptyCellsCount:i.scrollSetting.emptyCellsCount,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:i.totalCount,rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,customLanguagePath:v,dateFormat:p,timeFormat:w,customCulture:y,dashboardName:this.dashboardName,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardParameterSettings:this._setAjaxDashboardParameterValue(a)});f={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:h,onSuccess:this._processControlDataOnDemand,needRequestParameter:!1,additionalParameter:h};this.doAjaxPost(f)}else if(this.model.enableAutoRefresh&&i.scrollSetting.scrollTop!==n.scrollTop){this._resetAutoRefreshRevamp();i.scrollSetting.scrollTop=n.scrollTop;i.scrollSetting.visibleHeight=r.option("height");var o=i.getControlPagesforRefresh(i),c=[],d=o.length;for(u=0;u<d;u++){for(l=!1,b=i.loadedPages.length,s=0;s<b;s++)if(i.loadedPages[s]===o[u]){l=!0;break}l||(k={currentPage:o[u],reportName:i.reportName,controlPerPage:i.scrollSetting.controlPerPage},c.push(k),i.loadedPages.push(o[u]))}c.length>t.DashboardConstants.Zero&&(f={type:"POST",url:this.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:this.dashboardPath(),widgetInfo:JSON.stringify(c),data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.model.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,customLanguagePath:v,dateFormat:p,timeFormat:w,customCulture:y,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(a)}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(f))}}}return},_processControlDataOnDemand:function(n,i,r){var e=JSON.parse(i),f=null,u=this.dashboardControls.getControlByReport(e.controlId),l=!1,a=null,h,o,s,c;for(this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length>t.DashboardConstants.Zero&&(u=this.maximizedashboardControls.getControlByReport(e.controlId),l=!0),h=!1,o=100,s=0;s<r.d[0].Value.length;s++)c=r.d[0].Value[s],c.key==="Data"&&(f=new dbrdcontrolData,f.pagedata=JSON.parse(c.value),f.LastUpdateTime="",u.currentPage=Math.ceil((e.startIndex+e.emptyCellsCount)/(e.pageSizeOnDemand-e.emptyCellsCount)),f.pageNumber=u.currentPage,u.data.push(f),f.pagedata.length===t.DashboardConstants.Zero?(u.totalCount-=o,u.totalPages-=t.DashboardConstants.One,u.data.pop(),h=!0,u.totalPages-=t.DashboardConstants.One):f.pagedata.length<o?u.totalCount=u.totalCount-o+f.pagedata.length:(u.totalCount+=o,u.totalPages=u.data.length+t.DashboardConstants.One));l&&(a=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero));h||this._processWidgetData(u,a);this._destroyAllControlWaitingIndicator()},_renderRowsOndemand:function(i){var o=i.data.scrollSetting.rowPerPage,u=i.data.scrollSetting.colPerPage,a=i.data.currentPage,h,s,f,r,c,e,l;for(i.data.currentPage===i.data.totalPages&&(h=o*u*i.data.data.length-i.data.totalCount,h>=u&&(o=o-parseInt(h/u))),s=0;s<o;s++){for(f=null,r=(a-t.DashboardConstants.One)*i.data.scrollSetting.rowPerPage+s,n("#"+i.controlId+"_child_row_"+r).length===t.DashboardConstants.Zero?(f=n("<tr>"),f.attr({id:i.controlId+"_child_row_"+r})):f=n("#"+i.controlId+"_child_row_"+r),c=n("#"+i.controlId+"_child_row_"+(r-t.DashboardConstants.One)),e=0;e<u;e++)n("#"+i.controlId+"_child_column_"+(r*u+e)).length===t.DashboardConstants.Zero&&(l=n("<td>").attr({id:i.controlId+"_child_column_"+(r*u+e)}).css({height:i.heightofColumn,"padding-left":"3px","padding-right":"3px","padding-top":"0px","padding-bottom":"0px"}),f.append(l));c.after(f)}},_updateDashboardTitle:function(){!this.isWidget&&this.updatePageTitle()&&(t.isNullOrUndefined(this.reportName)||(document.title=t.isNullOrUndefined(n(document.head).attr("title"))?this.currentTabContentElement.find(".e-dbrd-banner-title").text():n(document.head).attr("title").replace("{{:reportName}}",this.currentTabContentElement.find(".e-dbrd-banner-title").text())))},_appendDashboardDescription:function(i,r){var e=n("<div>").attr({id:this._id+"reportDescriptionDiv"}).addClass("e-dbrd-report-desc e-dbrd-fontfamily").css({position:"absolute",left:"-5px","z-index":"1000",display:"none"}),o=n('<div class = "e-dbrd-divHtml" style = "word-wrap:break-word">'),u,f;e.append(o);u=n("<p>");f=this;this._appendControlTitle(i,r,u);o.html(u);this.currentTabContentElement.append(e);n(window).width()>t.DashboardConstants.MobileWidth&&n("#"+this._id).click(function(t){if(!n(t.target).hasClass("e-dbrd-banner-description")&&!n(t.target).hasClass("e-dbrd-report-desc")&&!n(t.target).parents().hasClass("e-dbrd-report-desc")){n(t.currentTarget).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick");n(t.currentTarget).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control");for(var i=0;i<=n("body").find(".e-dbrd-drillIconBackward").length;i++)n("#"+f.currentTabContentElement.find(".e-dbrd-drillIconBackward").eq(i).children().attr("id")).remove(),f.currentTabContentElement.find(".e-dbrd-drillIconBackward").eq(i).removeClass("e-dbrd-drillIconBackward-focused")}});this._adjustParameterColumn(u)},_removeControlFilter:function(i,r){var u=n(this.currentTabContentElement).find("#"+i),f;if(this.clearFilter=!0,!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero))u.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}),u.parents(".e-dbrd-control-container").find(".e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");else{if(n("#"+u[0].id).hasClass("e-remove-control-filter-disable"))return;n("#"+u[0].id).addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");n(u).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&f.remove();var o=!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?u.attr("id"):u[0].id.substr(t.DashboardConstants.Zero,u[0].id.indexOf("_removeControlFilter")),e=!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?u.parents(".e-dbrd-layout-cell"):u.parents(".e-dbrd-layout-cell"),s=e.attr("data-controltype");this.CurrentMaster=e.find(".e-dbrd-control").attr("data-controlId");this._removeAppliedFilter(o,s,r)},_clearMapSelectedShapes:function(t){var i=n("#"+t).data("ejMap");i.model.layers[0].selectedItems=[];i.refresh()},_initializeFilterPanel:function(){var n,e,u,o;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(this.tempDataForFilter)&&this.tempDataForFilter.length!==t.DashboardConstants.Zero)for(var i="",f=t.DashboardConstants.Zero,r=null,s=this.tempDataForFilter.length,f=t.DashboardConstants.Zero;f<s;f++)n=this.tempDataForFilter[f],e={},r=new Dbrdcontrol,u=new dbrdcontrolData,r.isControlFilter=!0,i=n.filterId.indexOf("_")===t.DashboardConstants.IndexLowerBound?n.filterId:n.filterId.substr(t.DashboardConstants.Zero,n.filterId.indexOf("_")),i=i.toLowerCase(),r.reportName=n.filterId,(i===t.dashboardFilterPanel.controls.DatePicker.toLowerCase()||i===t.dashboardFilterPanel.controls.CheckBox.toLowerCase()||i===t.dashboardFilterPanel.controls.RadioButton.toLowerCase()||i===t.dashboardFilterPanel.controls.FilterComboBox.toLowerCase()||i===t.dashboardFilterPanel.controls.ComboBox.toLowerCase()||i===t.dashboardFilterPanel.controls.RangeSlider.toLowerCase()||i===t.dashboardFilterPanel.controls.ListBox.toLowerCase())&&(r.currentPage=1,!t.isNullOrUndefined(n.filterInfo.data)&&n.filterInfo.data.length>0&&(u.pagedata=JSON.parse(n.filterInfo.data),r.errorOccured=!1,u.pageNumber=1,u.LastUpdateTime=""),t.isNullOrUndefined(n.filterInfo.error)||(u.pagedata=n.filterInfo.error,r.errorOccured=!0,u.isError=!0),t.isNullOrUndefined(n.filterInfo.configInfo)||(r.configInfo=JSON.parse(n.filterInfo.configInfo)),t.isNullOrUndefined(n.filterInfo.dynamicData)||(e=JSON.parse(n.filterInfo.dynamicData)),t.isNullOrUndefined(n.filterInfo.layout)||(r.layout=JSON.parse(n.filterInfo.layout)),r.data.push(u),o={filterId:i,dynamicData:e,control:r,controldata:u},this._renderFilter(o),this._setSelectedFitlerInfo(r))},_refreshControlData:function(i,r){var w,e,o,tt,st,v,ht,b,wt,k,it,rt,bt,kt,y,dt,gt,ut,ni,d,ct,l,lt,h,ft,g,ti,nt,at,vt,et;if(this.multiTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveHiddenTabData(i.tabId,{data:r,type:"refreshData"});return}var u={},s={},p=null,a=[],f={},yt="",pt=null,c=this,ot=[];for(this.isReloaded=!0,this.currentSlaveInfo=[],this.isDashboardResize=!1,this.flag=!1,n("#"+this._id+"_ChartContext").length>t.DashboardConstants.Zero&&(this._off(this.currentTabContentElement,"click","#"+this._id+"_ChartContext_Select",function(){n.proxy(c._loadChartSlaves(),c)}),this._off(this.currentTabContentElement,"click","#"+this._id+"_ChartContext_Drill",function(){n.proxy(c._onChartDrilled(),c)}),this.currentTabContentElement.remove("#"+this._id+"_ChartContext")),w=null,e=[],o=0;o<r.d.length;o++){if(r.d[o].Key===null)continue;else w=r.d[o].Key.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.d[o].Key:r.d[o].Key.substr(t.DashboardConstants.Zero,r.d[o].Key.indexOf("_"));if(w==="FilterPanel"){if(tt=n.parseJSON(r.d[o].Value),!t.isNullOrUndefined(this.tempDataForFilter)&&this.tempDataForFilter.length>t.DashboardConstants.Zero){for(st=this.tempDataForFilter.length,v=0;v<st;v++)this.tempDataForFilter[v].filterId===this.CurrentMaster&&(ht=JSON.parse(this.tempDataForFilter[v].filterInfo.configInfo),ht.SelectFirstItem=!1,this.tempDataForFilter[v].filterInfo.configInfo=JSON.stringify(ht));for(b=0;b<st;b++)for(wt=tt.length,k=0;k<wt;k++)this.tempDataForFilter[b].filterId===tt[k].filterId&&(this.tempDataForFilter[b]=tt[k])}else this.tempDataForFilter=n.parseJSON(r.d[o].Value);t.isNullOrUndefined(this.filterPanelObj)?this._initializeFilterPanel():this.filterPanelObj.refreshData(this.tempDataForFilter);continue}if(w==="Widgets"){if(e=JSON.parse(r.d[o].Value),it={},rt=this.CurrentMaster,rt=this._refreshControlFromCache(e,this.CurrentMaster),bt=e[rt],this.isFromCache&&!t.isNullOrUndefined(bt)){for(delete e[rt],kt=this.controlRelations.length,y=t.DashboardConstants.Zero;y<kt;y++)if(dt=this._id+t.DashboardConstants.Widget+this.CurrentMaster,this.controlRelations[y].Master===dt)for(gt=this.controlRelations[y].Slaves.length,ut=t.DashboardConstants.Zero;ut<gt;ut++)ni=this.controlRelations[y].Slaves[ut].split(this._id+t.DashboardConstants.Widget),d=ni[t.DashboardConstants.One],d=this._refreshControlFromCache(e,d),ct=e[d],t.isNullOrUndefined(ct)||(it[d]=ct);Object.getOwnPropertyNames(it).length>t.DashboardConstants.Zero&&(e=it)}for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(f=e[l],ot=[],f!==null&&(!t.isNullOrUndefined(e[l])&&e[l].hasOwnProperty("NotConfigured")&&e[l].NotConfigured===!0?(t.isNullOrUndefined(e[l].position)||(lt=JSON.parse(e[l].position)),t.isNullOrUndefined(lt)||(u=new Dbrdcontrol,u.configInfo=lt,u.controlType="NoData",f.WidgetType="NoData",this.dashboardControls.addControl(u))):(u=new Dbrdcontrol,h=new dbrdcontrolData,u.currentPage=1,ft=!1,t.isNullOrUndefined(f.Data)||(h.pagedata=JSON.parse(f.Data)),t.isNullOrUndefined(f.FormattedData)||(h.formattedData=f.FormattedData),t.isNullOrUndefined(f.ExpandedData)||(h.ExpandedNodeData=f.ExpandedData),t.isNullOrUndefined(f.Error)||(h.pagedata=t.isNullOrUndefined(f.Error)?f.Error:f.Error,h.isError=ft=!0),u.errorOccured=ft,h.pageNumber=1,h.LastUpdateTime="",u.data.push(h),t.isNullOrUndefined(f.ConfigInfo)||t.isNullOrUndefined(f.ConfigInfo)||(u.configInfo=JSON.parse(f.ConfigInfo),u.reportName=u.configInfo.Id),e[l].WidgetType!==t.dashboardViewer.Controls.Label||t.isNullOrUndefined(h.pagedata.Id)||(u.reportName=h.pagedata.Id),t.isNullOrUndefined(f.StaticFiles)||(s=this.dashboardControls.getControlByReport(u.reportName),u.staticFiles=s.staticFiles),t.isNullOrUndefined(f.DynamicData)||(ot=JSON.parse(f.DynamicData)))),this.currentSlaveInfo.push(u.reportName),yt=f.WidgetType,s=this.dashboardControls.getControlByReport(u.reportName),ft||t.isNullOrUndefined(s)||s.errorOccured?this._updateConfigInfo(f.WidgetType,u):(a.pagedata=p,u.configInfo=s.configInfo,u.widgetSettings=s.widgetSettings,u.SelectedFilterInfo=s.SelectedFilterInfo,s.data.push(a)),this._refreshWidgetData(yt,u,ot)),this.dashboardControls.updateCurrentReport(u)}else{switch(w){case"ParamColumns":u=new Dbrdcontrol;s=this.dashboardControls.getControlByReport("parameterColumnData");p=JSON.parse(r.d[o].Value);u.controlType="parameterColumnData";s.data=[];a=new dbrdcontrolData;a.pagedata=p;s.data.push(a);u=s;u.data=[];u.data.push(a);this._callFunction(this._updateParameterColumns,u.data[0].pagedata);break;case"Context":this.Context=r.d[o].Value;break;case"Title":pt=n.parseJSON(r.d[o].Value)}this.dashboardControls.updateCurrentReport(u)}}if(this._dashboardData().isControl||(this._addFilterDataToTitle(pt),this._callFunction(function(){c.flag=!0}),this._callFunction(this._updateDashboardTitle)),setTimeout(function(){p!==null&&(c.isFromCache=c.noNeedtoUpdateTimeSpan,c._callFunction(c._updateParameterColumns,p))},10),this._callFunction(this._destroyAllControlWaitingIndicator),this.model.enableAutoRefresh)for(g=0;g<r.d.length;g++)r.d[g].Key==="Widgets"&&(ti=JSON.parse(r.d[g].Value),this._restartTimerForSlaves(Object.keys(ti)));if(this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)){for(nt=t.DashboardConstants.Zero;nt<r.d.length;nt++)if(r.d[nt].Key==="FilterPanel"){r.d[nt].Value=JSON.stringify(this.tempDataForFilter);break}at=this._generateKeyFromDataForCache(i);this._getValueFromStore(at)||t.isNullOrUndefined(this.previousCacheKey)||(vt=this._getValueFromStore(this.previousCacheKey),et=n.extend(!0,{},r),t.isNullOrUndefined(vt)||(et=this._addRemainingData(e,vt.Value,et)),this._addToStore(at,et));this._cleanUpStore()}this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("refreshControls")},_isFilterPanelWidget:function(n){var u,i,f,r;if(!t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(n))for(u=this.filterPanelObj.model.dataSource.length,i=0;i<u;i++)if(n.indexOf(this.filterPanelObj.model.dataSource[i].filterId)!==-1)return!0;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(this.tempDataForFilter))for(f=this.tempDataForFilter.length,r=t.DashboardConstants.Zero;r<f;r++)if(n===this.tempDataForFilter[r].filterId)return!0;return!1},_refreshControlFromCache:function(n,i){var f=null,u,e,r;if(this.isFromCache&&!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(n))for(f=i,u=Object.keys(n),e=u.length,r=t.DashboardConstants.Zero;r<e;r++)if(u[r].indexOf(i)===t.DashboardConstants.Zero){f=u[r];break}return f},_makeSlaveDataRequest:function(i){var h,p,rt,c,w,f,l,ut,k,d,a,g,e,ft,o,nt,et;this.isFromHistory=!1;this.CurrentMaster=i.master;this.loadAction=!0;var s=[],tt=[],u=0,r=0,v=t.dashboardViewer.event.onMasterFilterApplied;this.target=[];var it=[],ot=JSON.parse(JSON.stringify(this.dashboardParameters)),y=this._getPageForCurrentView();if((this.clearFilter||i.setFilter)&&(this.dashboardControls.removeSelectedControlsMasterData(i.master),v=t.dashboardViewer.event.clearFilter,this.clearFilter=!1),this.removeFilter||(s=this.dashboardControls.getAllControlsMasterData()),h=[],this.isExtendedLayout?(p=this,h=p.pageInformations.concat(y.filter(function(n){return p.pageInformations.indexOf(n)<t.DashboardConstants.Zero}))):h=y,this.removeFilter=!1,this._trigger("actionBegin",{eventType:v,source:{element:null,data:i}}),!i.isAutoRefresh)for(rt=this.rangeData.length,r=0;r<rt;r++)for(c=0;c<i.slaves.length;c++)if(i.slaves[c].lastIndexOf("_"+this.rangeData[r].Master)!==t.DashboardConstants.IndexLowerBound){this.rangeData.splice(r,t.DashboardConstants.Zero);n("#"+i.slaves[r]+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass(" e-remove-control-filter-enable").attr("tabindex","-1");break}for(w=t.isNullOrUndefined(i.slaves)?t.DashboardConstants.Zero:i.slaves.length,r=0;r<w;r++){var st=i.slaves[r].indexOf("_"),ht=i.slaves[r].lastIndexOf("_")-i.slaves[r].indexOf("_"),b=i.slaves[r].substr(st+t.DashboardConstants.One,ht-t.DashboardConstants.One);b=b.substr(t.DashboardConstants.Zero,b.indexOf("_"));f=n("#"+i.slaves[r]).attr("data-controlid");t.isNullOrUndefined(f)&&(f=n("#"+i.slaves[r]).parents("div.e-dbrd-control").attr("data-controlid"));l=this.dashboardControls.getControlByReport(f);ut=n("#"+i.slaves[r]+"_removeControlFilter");ut.closest(".e-dbrd-control-container").find(".e-dbrd-control-error").remove();t.isNullOrUndefined(l)||tt.push({Method:"LoadWidget",Control:f,ErrorOccured:l===!1?!1:l.errorOccured});this.target.push(i.slaves[r]);it.push(t.isNullOrUndefined(f)?i.slaves[r]:f)}if(k=t.isNullOrUndefined(i.master)||!t.isNullOrUndefined(i.master)&&this._isFilterPanelWidget(i.master),!i.isAutoRefresh||i.showIndicator===!0){for(u=0;u<w;u++)this._isFilterPanelWidget(i.slaves[u])?k=!0:(d=this.currentTabContentElement.find("#"+i.slaves[u]).hasClass("e-dbrd-control-container")?this.currentTabContentElement.find("#"+i.slaves[u]):this.currentTabContentElement.find("#"+i.slaves[u]).parents(".e-dbrd-control-container")[t.DashboardConstants.Zero],this.isExtendedLayout?(a=n("#"+i.slaves[u]).attr("data-controlid"),t.isNullOrUndefined(a)&&(a=n("#"+i.slaves[u]).parents("div.e-dbrd-control").attr("data-controlid")),g=this.dashboardControls.getControlByReport(a),t.isNullOrUndefined(g)||y.indexOf(g.configInfo.Page)===t.DashboardConstants.IndexLowerBound||this._createControlWaitingIndicator(d,!0)):this._createControlWaitingIndicator(d,!0));if(e=this.currentTabContentElement.find(".e-dbrd-label-control"),e.length!==t.DashboardConstants.Zero)for(ft=t.isNullOrUndefined(e)?t.DashboardConstants.Zero:e.length,o=0;o<ft;o++)n(e[o]).find(".e-dbrd-param-column").length!==t.DashboardConstants.Zero&&n.inArray(n(e[o]).attr("id"),this.target)!==t.DashboardConstants.IndexLowerBound&&this._createControlWaitingIndicator(e[o],!0);k&&!t.isNullOrUndefined(this.filterPanelObj)&&this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open&&this.filterPanelObj.showLoader()}nt=[];i.isAutoRefresh&&(nt=this.model.autoRefreshSettings.widgets);var ct=this.model.localeSettings.resourcePath,lt=this.model.localeSettings.culture,at=this.model.localeSettings.dateFormat,vt=this.model.localeSettings.timeFormat;!t.isNullOrUndefined(i.master)&&t.isNullOrUndefined(i.masterList)&&(i.masterList=[],i.masterList.push(i.master));this._trigger("beforeMasterFilterApplied",{masterData:s,slaves:i.slaves,currentMaster:i.master,tabId:this.dashboardName});et={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.initializeControl,data:JSON.stringify({action:JSON.stringify(tt),masterWidgets:i.masterList,dashboardPath:this.dashboardPath(),data:t.isNullOrUndefined(s)?null:JSON.stringify(s),rangeData:this.rangeData===null?null:JSON.stringify(this.rangeData),context:JSON.stringify(this.Context),serverSideCache:this.model.enableServerSideCache,filterParameters:JSON.stringify(this.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,widgets:JSON.stringify(nt),token:this.token,customLanguagePath:ct,dateFormat:at,timeFormat:vt,customCulture:lt,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(ot),defaultSelectedControls:JSON.stringify(this.dashboardControls.getAllControlsIsDefaultProperty()),page:JSON.stringify(h),controlsIdList:JSON.stringify(it)}),onSuccess:this._refreshControlData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(et);this._trigger("actionComplete",{eventType:v,source:{element:null,data:i}})},_updatedParameterFromCache:function(n){for(var f=n.length,r=n,u=new Date,i=t.DashboardConstants.Zero;i<f;i++)r[i].ColumnKey==="{{:UpdatedTime}}"&&(r[i].Value=u.toLocaleDateString()+" "+u.toLocaleTimeString());return r},_updateParameterColumns:function(n){var et,a,k,ht,d,h,g,ct,nt,lt,c,tt,at,vt,it,l,rt,yt,ut;if(!t.isNullOrUndefined(n)){var u=this.isFromCache?this._updatedParameterFromCache(n):n,ft=[],e=this.currentTabContentElement.find(".e-dbrd-param-column"),o=this.dashboardControls.getAllControlsMasterData(),r=0,v="",y=0,p=!0;if(e=e.add(this.element.find(".e-item.e-active .e-dbrd-param-column")),e.length!==t.DashboardConstants.Zero)for(et=u.length,r=0;r<et;r++){var w=[],f=u[r].Value,ot=this.model.localeSettings.timeFormat;for(t.isNullOrUndefined(f)||ot.indexOf("H")===t.DashboardConstants.IndexLowerBound||ot.indexOf("t")===t.DashboardConstants.IndexLowerBound||(w=f.split(":PM"),w=f.split(":AM")),a=e.length-1;a>=t.DashboardConstants.Zero;a--){var i=e.eq(a),s=null,st=null,b=null;if(st=i.parents(".e-dbrd-layout-cell").attr("data-controltype")!==t.dashboardViewer.Controls.Label,i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label)for(this._dashboardData().isExportImage&&(s=!0),k=0;k<this.target.length;k++)if(this.target[k].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound)if(o.length>t.DashboardConstants.Zero){for(ht=o.length,d=0;d<ht;d++)for(h=0;h<this.controlRelations.length;h++)if(this.controlRelations[h].Master.indexOf(o[d].ReportName)!==t.DashboardConstants.IndexLowerBound)for(g=0;g<this.controlRelations[h].Slaves.length;g++)if(this.controlRelations[h].Slaves[g].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){s=!0;break}}else{s=!0;break}else{s=!0;break}if(i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&!this.loadAction)if(o.length>t.DashboardConstants.Zero){for(ct=o.length,nt=0;nt<ct;nt++)for(lt=this.controlRelations.length,c=0;c<lt;c++)if(this.controlRelations[c].Master.indexOf(o[nt].ReportName)!==t.DashboardConstants.IndexLowerBound)for(tt=0;tt<this.controlRelations[c].Slaves.length;tt++)if(this.controlRelations[c].Slaves[tt].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){b=!0;break}}else if(this.appliedFilterData.length>t.DashboardConstants.Zero){for(at=this.appliedFilterData.length,vt=this.controlRelations.length,it=0;it<at;it++)for(l=0;l<vt;l++)if(this.controlRelations[l].Master.indexOf(this.appliedFilterData[it].Control)!==t.DashboardConstants.IndexLowerBound)for(rt=0;rt<this.controlRelations[l].Slaves.length;rt++)if(this.controlRelations[l].Slaves[rt].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){b=!0;break}}else b=!0;if(i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&i.attr("data-param")==="{{:UpdatedTime}}"&&(s=!0),v=i.parents(".e-dbrd-control-container").attr("data-widget-id"),u[r].ColumnKey==="{{:UpdatedTime}}"&&this.currentSlaveInfo.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(v))for(yt=this.currentSlaveInfo.length,y=0;y<yt;y++)if(v===this.currentSlaveInfo[y]){p=!0;break}else p=!1;else u[r].ColumnKey==="{{:UpdatedTime}}"&&t.isNullOrUndefined(v)&&(p=!0);if((st||s||b)&&p&&i.attr("data-param")===u[r].ColumnKey&&i.attr("data-source")===u[r].DataSource&&t.isNullOrUndefined(u[r].TimespanType)){switch(u[r].Status){case 0:i.html(t.isNullOrUndefined(w[t.DashboardConstants.Zero])?f:w[t.DashboardConstants.Zero]);break;case 1:i.html(t.DashboardConstants.All);break;case 2:!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.One?i.html(f.join()):i.html(f);break;case 3:i.html((new Date).toLocaleString());break;default:i.html("*")}e.splice(a,t.DashboardConstants.Zero)}}t.isNullOrUndefined(u[r].TimespanType)||u[r].TimespanType.indexOf(t.DashboardConstants.TimeSpan)===t.DashboardConstants.IndexLowerBound||ft.push(u[r])}this._resizeWidgetTitle();this._updateLabelControlSettings();this.noNeedtoUpdateTimeSpan=this.isFromCache;this._updateTimeSpanParameter(ft,t.DashboardConstants.One);ut=this.currentTabContentElement.find(".e-dbrd-banner-title");ut.find(".e-dbrd-param-column").length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-banner-title").attr({"data-tooltip":ut.text()});this.isFromCache=!1}},_getTimespanParameterValue:function(n,i){var s="All",r="",a=60,v=24,y=7,b=4,p=12,k=30,u,l,e;if(!t.isNullOrUndefined(n)&&n!==""&&(u=parseInt(n),!isNaN(u))){var o=u>a-t.DashboardConstants.One?Math.floor(u/a):t.DashboardConstants.Zero,f=o>v-t.DashboardConstants.One?Math.floor(o/v):t.DashboardConstants.Zero,c=f>y-t.DashboardConstants.One?Math.floor(f/y):t.DashboardConstants.Zero,h=f>k-t.DashboardConstants.One?Math.floor(f/k):t.DashboardConstants.Zero,w=h>p-t.DashboardConstants.One?Math.floor(h/p):t.DashboardConstants.Zero;f=f>y-t.DashboardConstants.One?Math.floor(f%y):f;c=c>b-t.DashboardConstants.One?Math.floor(c%b):c;h=h>p-t.DashboardConstants.One?Math.floor(h%p):h;l=w!==t.DashboardConstants.Zero?w:h!==t.DashboardConstants.Zero?h:c!==t.DashboardConstants.Zero?c:f!==t.DashboardConstants.Zero?f:o!==t.DashboardConstants.Zero?o:u!==t.DashboardConstants.Zero?u:t.DashboardConstants.Zero;e=w!==t.DashboardConstants.Zero?this.locale.utils.Years:h!==t.DashboardConstants.Zero?this.locale.utils.Months:c!==t.DashboardConstants.Zero?this.locale.utils.Weeks:f!==t.DashboardConstants.Zero?this.locale.utils.Days:o!==t.DashboardConstants.Zero?this.locale.utils.Hours:u!==t.DashboardConstants.Zero?this.locale.utils.Minutes:this.locale.utils.Minutes;i.indexOf(t.DashboardConstants.TimeSpanMinutes)!==t.DashboardConstants.IndexLowerBound?(u=u>a-t.DashboardConstants.One?Math.floor(u%a):u,r=this.locale.utils.Minutes,s=r.replace("*",u.toString())):i.indexOf(t.DashboardConstants.TimeSpanHours)!==t.DashboardConstants.IndexLowerBound?(o=o>v-t.DashboardConstants.One?Math.floor(o%v):o,r=this.locale.utils.Hours,s=r.replace("*",o.toString())):i.indexOf(t.DashboardConstants.TimeSpanDays)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Days,s=r.replace("*",f.toString())):i.indexOf(t.DashboardConstants.TimeSpanWeeks)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Weeks,s=r.replace("*",c.toString())):i.indexOf(t.DashboardConstants.TimeSpanMonths)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Months,s=r.replace("*",h.toString())):i.indexOf(t.DashboardConstants.TimeSpanYears)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Years,s=r.replace("*",w.toString())):i.indexOf(t.DashboardConstants.TimeSpanInMinutes)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Minutes,s=r.replace("*",u.toString())):i.indexOf(t.DashboardConstants.TimeSpanInHours)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Hours,s=r.replace("*",o.toString())):i===t.DashboardConstants.TimeSpan&&(s=e===this.locale.utils.Years?e.replace("*",l.toString()):e===this.locale.utils.Months?e.replace("*",l.toString()):e===this.locale.utils.Weeks?e.replace("*",l.toString()):e===this.locale.utils.Days?e.replace("*",l.toString()):e===this.locale.utils.Hours?e.replace("*",l.toString()):e.replace("*",l.toString()))}return s},_updateTimeSpanParameter:function(n,i){var l=!0,e=null,a=null,s=this.currentTabContentElement.find(".e-dbrd-param-column"),nt=n.length,y=!1,u,p,k,d,c,g,v,r;if(!t.isNullOrUndefined(n))for(u=0;u<nt;u++){e=n[u].Value;p=new Date;Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName)?Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName)&&e!=="0"&&(this.updatedTime[this.reportName]=e,y=!0):(this.updatedTime[this.reportName]=e,y=!0);y&&(k=(new Date(p)-new Date(this.updatedTime[this.reportName]))/1e3,d=k/60,parseInt(d)!==t.DashboardConstants.Zero&&(this.updatedTime[this.reportName]=p));n[u].Value=e===this.updatedTime[this.reportName]?t.DashboardConstants.Zero.toString():n[u].Value;e=e===this.updatedTime[this.reportName]?t.DashboardConstants.Zero.toString():n[u].Value;var h=n[u].ColumnKey,tt=h.indexOf(":"),it=h.lastIndexOf("}}"),w=n[u].TimespanType;for(h=h.substring(tt+t.DashboardConstants.One,it),c=s.length-t.DashboardConstants.One;c>=t.DashboardConstants.Zero;c--){var f=s.eq(c),b=f.attr("data-param"),o=f.parents(".e-dbrd-control-container").attr("data-widget-id");if(i!==t.DashboardConstants.Zero&&this.currentSlaveInfo.length===t.DashboardConstants.Zero&&(Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName+t.DashboardConstants.UpdateTimerList+o)||(this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+o]=this.updatedTime[this.reportName],this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+o+"_ColumnKey"]=n[u].ColumnKey)),this.currentSlaveInfo.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(o))for(g=this.currentSlaveInfo.length,v=0;v<g;v++)if(o===this.currentSlaveInfo[v]){this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+o]=this.updatedTime[this.reportName];l=!0;break}else l=!1;else t.isNullOrUndefined(o)&&(l=!0);if(l){switch(!0){case b===n[u].ColumnKey&&b.indexOf(t.DashboardConstants.TimeSpan)!==t.DashboardConstants.IndexLowerBound:i!==t.DashboardConstants.Zero&&f.attr({"data-min":this.isDashboardResize?f.attr("data-min"):e});a=this._getTimespanParameterValue(f.attr("data-min"),w);f.html(a);break;case"{{:"+w+"("+h+")}}"===b:i!==t.DashboardConstants.Zero&&f.attr({"data-min":this.isDashboardResize?f.attr("data-min"):e});a=this._getTimespanParameterValue(f.attr("data-min"),w);f.html(a)}s.splice(c,t.DashboardConstants.Zero)}}}r=this;this.updateTimer!==null&&clearTimeout(this.updateTimer);this.updateTimer=setTimeout(function(){var o,u,e;for(r.hiddenTabUpdateTime={},s=r.element.find(".e-dbrd-param-column"),o=Object.keys(r.updatedTime),u=s.length-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--){var f=s.eq(u),h=f.attr("data-min"),c=null,i=f.parents(".e-dbrd-control-container").attr("data-widget-id"),l=new Date;if(!t.isNullOrUndefined(h))if(Object.prototype.hasOwnProperty.call(r.updatedTime,r.reportName+t.DashboardConstants.UpdateTimerList+i)){var a=new Date(l)-new Date(r.updatedTime[r.reportName+t.DashboardConstants.UpdateTimerList+i]),v=a/1e3,y=v/60;c=parseInt(y);Object.prototype.hasOwnProperty.call(r.updatedTime,r.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey")&&r.updatedTime[r.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey"]!=="{{:UpdatedTime}}"?f.attr({"data-min":(parseInt(h)+t.DashboardConstants.One).toString()}):f.attr({"data-min":c.toString()})}else e=r._getDashboardNameFromUpdateTimerKeys(o,i),r.hiddenTabUpdateTime[e+t.DashboardConstants.UpdateTimerList+i]=r.updatedTime[e+t.DashboardConstants.UpdateTimerList+i]}r.currentSlaveInfo=[];r._updateTimeSpanParameter(n,t.DashboardConstants.Zero)},6e4)},_updateHiddenTabRefreshTimeOnSwitch:function(){for(var u=this.currentTabContentElement.find(".e-dbrd-param-column"),r=u.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--){var n=u.eq(r),f=n.attr("data-min"),e=null,i=n.parents(".e-dbrd-control-container").attr("data-widget-id"),o=new Date;if(!t.isNullOrUndefined(f)&&Object.prototype.hasOwnProperty.call(this.hiddenTabUpdateTime,this.reportName+t.DashboardConstants.UpdateTimerList+i)){var s=new Date(o)-new Date(this.hiddenTabUpdateTime[this.reportName+t.DashboardConstants.UpdateTimerList+i]),h=s/1e3,c=h/60;e=parseInt(c);Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey")&&this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey"]!=="{{:UpdatedTime}}"?n.attr({"data-min":(parseInt(f)+t.DashboardConstants.One).toString()}):n.attr({"data-min":e.toString()})}}},_getDashboardNameFromUpdateTimerKeys:function(n,i){for(var u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r=0;r<u;r++)if(n[r].indexOf(i)!==t.DashboardConstants.IndexLowerBound)return n[r].split(t.DashboardConstants.UpdateTimerList)[0];return null},_updateLabelControlSettings:function(){var r=this.currentTabContentElement.find(".dashboardLabelControl"),f=r.length,n=0,i,u;if(r.length!==t.DashboardConstants.Zero)for(n=0;n<f;n++)i=r.eq(n).find(".e-dbrd-control"),i.css({display:"table-cell"}),u=i.data("ejDashboardScroller"),u&&u.refresh(),i.css({display:"table"})},_addFilterDataToTitle:function(i){var e;if(!t.isNullOrUndefined(i)){if(i.InteractionData){this.appliedFilterData=i.InteractionData;var r=this.currentTabContentElement.find(".e-dbrd-filterListMenu"),u=this.currentTabContentElement.find(".e-dbrd-overview-banner"),o=this.currentTabContentElement.find(".e-dbrd-layout-wrapper"),f=this.currentTabContentElement.find(".e-banner-verticalsplitline");if(this.enableFilterOverview())switch(!0){case i.InteractionData.length===t.DashboardConstants.Zero:r.hide();u.hide();f.hide();r.find(".e-dynamic-title").html("");break;case i.InteractionData.length===t.DashboardConstants.One&&n(window).width()>t.DashboardConstants.MobileWidth:r.show();f.show();break;case i.InteractionData.length>=t.DashboardConstants.One&&n(window).width()<t.DashboardConstants.MobileWidth:u.append(r);u.show();r.show();o.css({height:n("#dashboard").height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-u.height()});break;default:r.show();f.show()}else r.css("display")==="block"&&(r.hide(),u.hide(),f.hide(),this.currentTabContentElement.find(".e-dynamic-title").html(""))}else this.currentTabContentElement.find(".e-dynamic-title-moreFilter").hide();e=this.currentTabContentElement.find(".e-dbrd-banner-title");this.currentTabContentElement.find(".e-dbrd-filterListMenu").css("display")==="block"&&n(window).width()>t.DashboardConstants.MobileWidth?e.css({"max-width":this.currentTabContentElement.find(".e-dbrd-banner").width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()}):this.currentTabContentElement.find(".e-dbrd-filterListMenu").css("display")==="none"&&n(window).width()>t.DashboardConstants.MobileWidth&&e.css({"max-width":this.currentTabContentElement.find(".e-dbrd-banner").width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()});this.filterDataLength.length===t.DashboardConstants.Zero&&this.appliedFilterData.length!==t.DashboardConstants.Zero&&(this.filterDataLength=this.appliedFilterData);this._trigger("onFilterOverviewUpdated",{currentFilterData:this.appliedFilterData});this._adjustParameterColumn(e.find("p"))}},_callFunction:function(n,i,r,u){var f=this;this.timers.push(setTimeout(function(e){if(u&&t.isNullOrUndefined(e)){var o=t.browserInfo();o.name==="msie"&&o.version==="9.0"&&(e=i)}u&&f._trigger("beforeWidgetRender",{data:e,tabId:f.dashboardName});e?t.isNullOrUndefined(r)?n.call(f,e):n.call(f,e,r):n.call(f);u&&f._trigger("afterWidgetRender",{data:e,tabId:f.dashboardName})},4,i))},_isJsonString:function(n){try{JSON.parse(n)}catch(t){return!1}return!0},_fetchCultureFiles:function(n){for(var r,u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,i=0;i<u;i++)r=n[i],t.cultures.hasOwnProperty(r)||this._getCultureScriptFile(r)},_getCultureScriptFile:function(t){var i=this;n.ajax({url:this.serviceUrl()+"/GetCultureScript",data:{culture:t},dataType:"script",cache:!0,error:function(){i._errorMsgPopup(i.locale.utils.CultureFileDownloadError+t,!0)}})},_fetchCultureFilesForCustomWidget:function(n){var u,i,r,f;for(this.reportCultures=n,u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,i=0;i<u;i++)for(r=0;r<n[i].Cultures.length;r++)f=n[i].Cultures[r],this._getCultureScriptFileForCustomWidget(f)},_getCultureScriptFileForCustomWidget:function(t){var i=this;n.ajax({url:this.serviceUrl()+"/GetCultureScriptForCustomWidget",data:{culture:t},dataType:"script",cache:!0,error:function(){i._errorMsgPopup(i.locale.utils.CultureFileDownloadError+t,!0)}})},_errorMsgPopup:function(i,r){var l,a,v,y,p,s;if(!t.isNullOrUndefined(i))if(n(window).width()<t.DashboardConstants.MobileWidth)this._errorMsgPopupForMobile(i,r);else{this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.multiTabs||this.currentTabContentElement.css({position:"relative"}));var u=null,h=null,f=i;if(f.match(":")){var o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),c=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase());(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),u.append(n("<a>").addClass("e-error-link"),n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily"),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html("Learn More"),n("<div>").addClass("e-close-notification")),v=u.find(".e-error-msg"),n(v).html(":"+e).attr({"data-tooltip":e}),y=u.find(".e-error-link"),n(y).html(o).css({float:"left","margin-top":"6px","margin-left":"10px"}).attr({href:c,target:"_blank"})):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px"}),u.append(n("<a>").addClass("e-error-link"),n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily"),n("<div>").addClass("e-close-notification")),l=u.find(".e-error-msg"),n(l).html(":"+e).attr({"data-tooltip":e}),a=u.find(".e-error-link"),n(a).html(o).css({float:"left","margin-top":"6px","margin-left":"10px"}).attr({href:c,target:"_blank"}))}else(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(f).attr({"data-tooltip":f}),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html("Learn More"),n("<div>").addClass("e-close-notification"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(f).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification")));this.currentTabContentElement.append(u);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);t.isNullOrUndefined(u)||u.css({left:-(u.width()/2)});this.isWidget?n("#"+this._id+"_errorShown").css({"max-width":"90%",left:this.currentTabContentElement.width()/20,right:"0"}):n("#"+this._id+"_errorShown").css({"margin-left":"50%"});this.multiTabs?(p=this.element.find("li").height()+5,n("#"+this._id+"_errorShown").css({top:p})):this.currentTabContentElement.css({position:"relative"});t.isNullOrUndefined(u)||(h=u.html());s={errorDialog:h};this._trigger("beforePassiveErrorRender",s);t.isNullOrUndefined(u)||u.html(s.errorDialog)}return null},_errorMsgPopupForMobile:function(i,r){var f=i,p=":",u=null,o=null,e=null,a=null,s=null,v=null,h=null,c,w,b,k,y,d,nt,tt;if(this.currentTabContentElement.find(".e-dbrd-banner").length!==t.DashboardConstants.Zero)this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.multiTabs||this.currentTabContentElement.css({position:"relative"})),f.match(p)?(o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),a=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),s="<a href = "+a+" target= _blank>"+o+"<\/a>",(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(s+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"}))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(s+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"})))):(c=null,(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute"}),c=f.toLocaleUpperCase(),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(c).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification-mobile"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute","padding-right":"30px"}),c=f.toLocaleUpperCase(),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(c).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"})))),this.currentTabContentElement.append(u),w=this.currentTabContentElement.find(".e-error-notification"),w.css({"padding-right":"0px"}),b=this.currentTabContentElement.find(".e-error-msg-popup-mobile"),b.css({"padding-right":"30px"}),k=this.currentTabContentElement.find(".e-close-notification-mobile"),k.append(n("<div>").addClass("e-close-icon")),this.model.enableCustomTheming&&this._customTheme(["passiveError"]),t.isNullOrUndefined(u)||(v=u.html()),h={errorDialog:v},this._trigger("beforePassiveErrorRender",h),t.isNullOrUndefined(u)||u.html(h.errorDialog),this.element.find(".e-error-notification-mobile")&&(this.multiTabs?(y=this.currentTabContentElement.find(".e-dbrd-multitab-banner"),y.css({"margin-top":"70px"}),d=this.element.find(".e-dbrd-tab-res-icon-container"),d.css({"margin-top":"70px"})):(y=this.currentTabContentElement.find(".e-dbrd-banner"),y.css({"margin-top":"70px"})));else{this.currentTabContentElement.find(".e-error-notification-mobile")&&(this.currentTabContentElement.find(".e-error-notification-mobile").remove(),this.multiTabs||this.currentTabContentElement.css({position:"relative"}));u=n("<div>").addClass("e-errorDiv-mobile").css({width:"100%",height:"100%"});var g=n("<div>").attr({id:this._id+"_errorShown_mobile"}).addClass("e-error-notification-mobile"),l=null;f.match(p)?(o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),a=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),s="<a href = "+a+" target= _blank>"+o+"<\/a>",(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=t.isNullOrUndefined(this.slaveDataRequest)?"":this.slaveDataRequest.responseText,this.dashboardError=t.isNullOrUndefined(this.dashboardError)?"":this.dashboardError.substring(this.dashboardError.indexOf("at")+2),l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+e+')">'+s+":"+e+'<div class = "e-dbrd-learnMore-text-mobile e-dbrd-fontfamily">Learn More<\/div><\/div>'):l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+e+')">'+s+":"+e+"<\/div>"):(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=t.isNullOrUndefined(this.slaveDataRequest)?"":this.slaveDataRequest.responseText,this.dashboardError=t.isNullOrUndefined(this.dashboardError)?"":this.dashboardError.substring(this.dashboardError.indexOf("at")+2),l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+f+'">'+f+'<div class = "e-dbrd-learnMore-text-mobile e-dbrd-fontfamily">Learn More<\/div><\/div>'):l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+f+')">'+f+"<\/div>";nt='<button class = "reload-button-mobile">RELOAD<\/button>';tt='<div class = "e-error-icon"><\/div>'+l+nt;g.append(tt);u.append(g);this.currentTabContentElement.append(u);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);this._calculateErrorDialogSize();t.isNullOrUndefined(u)||(v=u.html());h={errorDialog:v};this._trigger("beforePassiveErrorRender",h);t.isNullOrUndefined(u)||u.html(h.errorDialog)}},_closeNotification:function(t){var i,r;n(t.currentTarget).parents(".e-error-notification").remove();this.currentTabContentElement.css({position:""});i=this.currentTabContentElement.find(".e-dbrd-banner");i.css({"margin-top":"0px"});r=this.element.find(".e-dbrd-tab-res-icon-container");r.css({"margin-top":"0px"})},_closeMaximize:function(i){var r,u,c,e,o;if(this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length>t.DashboardConstants.Zero){r=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").find(".e-dbrd-MaximizedControl").attr("data-controlid");this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();this._closeCommentDialog(i);var s=this.currentTabContentElement.find(".e-dbrd-inactive").attr("data-id"),f=s,h=s.split("_Maximize")[0],l=h.substr(t.DashboardConstants.Zero,h.indexOf("_"));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth&&this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth&&this.currentTabContentElement.css({"overflow-x":"auto"});switch(l){case"Chart":case"ProportionChart":u=new Dbrdcontrol;this.dashboardControls.getControlByReport(f)&&(u=u.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f)))));u.isExportFromMaximizedView=!1;this._updateValuesInDrillLevelInfo(u,f,[],!0);this._updateValuesInDrillLevelData(u,f,[],!0);this.dashboardControls.updateCurrentReport(u)}t.isNullOrUndefined(i)?(this.currentTabContentElement.find(".e-dbrd-inactive").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),this.currentTabContentElement.find(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),this.currentTabContentElement.find(".e-dbrd-inactive").length>t.DashboardConstants.Zero&&(o=this.currentTabContentElement.find(".e-dbrd-inactive"),t.widget.destroyAll(o.find(".e-js")),o.remove())):((n(i.target).hasClass("e-dbrd-max-wrapper")||n(i.target).hasClass("e-dbrd-inactive"))&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),c=n(i.target),c.parents(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).hasClass("e-dbrd-max-wrapper")&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),n(i.target).parents(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).hasClass("e-dbrd-inactive-header-close")&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),e=n(i.target).parents(".e-dbrd-inactive"),t.widget.destroyAll(e.find(".e-js")),e.remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).find(".e-pivotgrid").find("#dashboard_maximized_divclientDialog_wrapper").length>t.DashboardConstants.Zero&&(n("body").find("#preventDiv").remove(),n(".e-pivotgrid").data("ejDashboardWaitingPopup")&&n(".e-pivotgrid").data("ejDashboardWaitingPopup").hide(),n(".dashboardPivotGridControl").find(".e-dialog-wrap:visible").hide()));n("head").find("#dashboard_maximized_style")&&n("head").find("#dashboard_maximized_style").remove()}},_checkMasterData:function(n){for(var r=t.isNullOrUndefined(this.masterData)?t.DashboardConstants.Zero:this.masterData.length,i=0;i<r;i++)if(this.masterData[i].Key===n)return i;return null},_checkIfWidgetHasMaster:function(i,r){var h=t.isNullOrUndefined(r)?!1:r,f=this.currentTabContentElement.find(".e-dbrd-control-container[id="+i+"]"),o,u,e,s;if(f=t.isNullOrUndefined(f)||f.length===t.DashboardConstants.Zero?n(".e-dbrd-control-container[id="+i+"]"):f,o=[],this.controlRelations.length!==t.DashboardConstants.Zero&&!t.isNullOrUndefined(i)&&i!=="")for(u=t.DashboardConstants.Zero;u<this.controlRelations.length;u++)if(this.controlRelations[u].Slaves.length>t.DashboardConstants.Zero)for(e=t.DashboardConstants.Zero;e<this.controlRelations[u].Slaves.length;e++)if(s=f.find("#"+this.controlRelations[u].Slaves[e]).attr("id"),!t.isNullOrUndefined(s)&&this.controlRelations[u].Slaves[e]===s)if(h)o.push(this.controlRelations[u].Master);else return!0;return h?o:!1},_checkIfWidgetHasMasterFilterApplied:function(i){var r=this._checkIfWidgetHasMaster(i,!0),e=this.dashboardControls.getAllControlsMasterData(),u,o,s,f;if(!t.isNullOrUndefined(r)&&r.length!==t.DashboardConstants.Zero&&e.length!==t.DashboardConstants.Zero)for(u=t.DashboardConstants.Zero;u<r.length;u++)for(o=this.currentTabContentElement.find("#"+r[u]),s=r[u].indexOf(this.filterPanelId)===this.indexLowerBound?o.parents(".e-dbrd-control-container").attr("data-widget-id"):n("#"+r[u]).parents(".e-dbrd-filter-wrapper").attr("data-controlid"),f=t.DashboardConstants.Zero;f<e.length;f++)if(s===e[f].ReportName)return!0;return!1},_checkFilterInfoByReportName:function(n,i){for(var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<u;r++)if(i[r].ReportName.toUpperCase()===n.toUpperCase())return r;return null},_getOptimumFontSize:function(n){var i=t.DashboardConstants.One,r={};if(n.adjustFont==="both")for(i=1;;)if(r=this._measureText(n.text,n.width,"Bold "+n.height*i+" Roboto"),r.width>n.width||r.height>n.height){if(parseFloat(i.toFixed(2))===.1)return n.height*i;i-=.1}else return Math.min(n.height*i,50);else{if(n.adjustFont==="height")return i=.8,n.height*i;if(n.adjustFont==="width")for(i=.9;;)if(r=this._measureText(n.text,n.width,"Bold "+n.height*i+" Roboto"),r.width>n.width){if(parseFloat(i.toFixed(2))===.1)return n.height*i;i-=.1}else return n.height*i;else return n.height*.9}},_checkSlavesFilterData:function(n,i,r){for(var f=[],e=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<e;u++)if(r.indexOf(i[u].Key)!==t.DashboardConstants.IndexLowerBound)return r.indexOf("CheckBox")===t.DashboardConstants.IndexLowerBound?i[u].Value:(f.push({Value:i[u].Value,Filter:i[u].Filter}),f);return null},_measureText:function(i,r,u){var s=n(document).find("#dashboardMeasureText"),f={},h={},c="",o="",l="",e;return s.length===t.DashboardConstants.Zero?(f=document.createElement("text"),n(f).attr({id:"dashboardMeasureText"}),document.body.appendChild(f)):f=s[0],f.innerHTML=i,t.isNullOrUndefined(u)||t.isNullOrUndefined(u.size)||(e=u,e=e.split(" "),c=e[0],o=e[1],l=e[2]),t.isNullOrUndefined(u)||(f.style.fontSize=u.size>t.DashboardConstants.Zero?u.size+"px":u.size?u.size:o.indexOf("px")===t.DashboardConstants.IndexLowerBound||o.indexOf("%")===t.DashboardConstants.IndexLowerBound?o+"px":o,f.style.fontStyle=u.fontStyle?u.fontStyle:c,f.style.fontFamily=u.fontFamily?u.fontFamily:l),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",r&&(f.style.maxwidth=r+"px"),h={width:f.offsetWidth,height:f.offsetHeight},t.browserInfo().name==="msie"||t.browserInfo().name==="webkit"?f.parentNode.removeChild(f):f.remove(),h}}),t.isNullOrUndefined(t.dashboardViewer.common)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.common),t.isNullOrUndefined(t.dashboardViewer.layoutEngine)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.layoutEngine),t.isNullOrUndefined(t.dashboardViewer.layoutEngine.render)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.layoutEngine.render),t.isNullOrUndefined(t.dashboardViewer.keyboardNavigation)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.keyboardNavigation),t.isNullOrUndefined(t.dashboardViewer.sdk)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.sdk),t.isNullOrUndefined(t.dashboardViewer.maps)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.maps),t.isNullOrUndefined(t.dashboardViewer.grid)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.grid),t.isNullOrUndefined(t.dashboardViewer.charts)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.charts),t.isNullOrUndefined(t.dashboardViewer.filters)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.filters),t.isNullOrUndefined(t.dashboardViewer.gauges)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.gauges),t.isNullOrUndefined(t.dashboardViewer.exportView)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.exportView),t.isNullOrUndefined(t.dashboardViewer.misc)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.misc),t.isNullOrUndefined(t.dashboardViewer.widgetscore)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.widgetscore),t.isNullOrUndefined(t.dashboardViewer.dropdownlist)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.dropdownlist),t.isNullOrUndefined(t.dashboardViewer.rangeNavigator)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.rangeNavigator),t.isNullOrUndefined(t.dashboardViewer.treemap)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.treemap),t.isNullOrUndefined(t.dashboardViewer.card)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.card),t.isNullOrUndefined(t.dashboardViewer.pivotGrid)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.pivotGrid),t.isNullOrUndefined(t.dashboardViewer.multiTabs)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.multiTabs),t.isNullOrUndefined(t.dashboardViewer.widgets)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.widgets),t.isNullOrUndefined(t.dashboardViewer.history)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.history),t.isNullOrUndefined(t.dashboardViewer.dashboardParameters)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.dashboardParameters),t.isNullOrUndefined(t.dashboardViewer.scroller)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.scroller),t.isNullOrUndefined(t.dashboardViewer.tooltips)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.tooltips),t.isNullOrUndefined(t.dashboardViewer.dataRefresh)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.dataRefresh),t.isNullOrUndefined(t.dashboardViewer.linking)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.linking),t.isNullOrUndefined(t.dashboardViewer.maximize)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.maximize),t.isNullOrUndefined(t.dashboardViewer.errordialogs)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.errordialogs),t.isNullOrUndefined(t.dashboardViewer.waitingIndicator)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.waitingIndicator),t.isNullOrUndefined(t.dashboardViewer.filteroverview)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.filteroverview),t.isNullOrUndefined(t.dashboardViewer.server)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.server),t.isNullOrUndefined(t.dashboardViewer.menu)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.menu),t.isNullOrUndefined(t.dashboardViewer.customTheme)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.customTheme),String.prototype.replaceAll=function(n,t){for(var i=this,r=1,u=this.split(n).length-r;u>0;)i=i.replace(n,t),u-=r;return i},t.dashboardViewer.Layout={Grid:"DesktopGridCanvas",FreeForm:"DesktopFreeForm"},t.dashboardViewer.FreeFormSize={Large:"Large",Small:"Small"},t.DashboardConstants={All:"All",SelectAll:"(Select All)",SelectDate:"Select Date",Apply:"Apply",From:"From",To:"To",DaysOfWeek:{DaysOfWeekSu:"Su",DaysOfWeekMo:"Mo",DaysOfWeekTu:"Tu",DaysOfWeekWe:"We",DaysOfWeekTh:"Th",DaysOfWeekFr:"Fr",DaysOfWeekSa:"Sa"},MonthNames:{MonthJan:"January",MonthFeb:"February",MonthMar:"March",MonthApr:"April",MonthMay:"May",MonthNov:"November",MonthOct:"October",MonthSep:"September"},MultipleValues:"(Multiple Values)",UrlLink:"Url",DashboardLink:"Dashboard",Culture:"Culture",LoadedVersion:"LoadedVersion",WrongExcel:"WrongExcel",UserUnchecked:"userunchecked",RequireAuthentication:"RequireAuthentication",Authenticate:"Authenticate",Title:"Title",Desc:"Desc",TimeSpan:"TimeSpan",TimeSpanMinutes:"TimeSpanMinutes",TimeSpanHours:"TimeSpanHours",TimeSpanDays:"TimeSpanDays",TimeSpanWeeks:"TimeSpanWeeks",TimeSpanMonths:"TimeSpanMonths",TimeSpanYears:"TimeSpanYears",DateFilterInfoRange:"Range",DateFilterInfoInclude:"Include",ClearAllFilters:"CLEAR ALL",FilterOverview:"Filters Overview",AppliedFilters:"Applied Filters",DateFilterInfoExclude:"Exclude",HasFilterPanel:"HasFilterPanel",EnableComments:"EnableComment",Subtitle:"Subtitle",IndexLowerBound:-1,Zero:0,One:1,MinimumWidth:650,MobileWidth:769,Resolution:96,Window:window,Widget:"_Widget_",FilterPanel:"_filter_panel",TimeSpanInMinutes:"TimeSpanInMinutes",TimeSpanInHours:"TimeSpanInHours",AutoRefreshList:"_ARL_",Thousand:1e3,UpdateTimerList:"_UPL_",CacheStoreList:"_CSL_",HasDashboardParameter:"HasDashboardParameter",AutoRefreshMinTimer:30},t.dashboardViewer.navigationTargets={Self:"_self",Blank:"_blank",Parent:"_parent",Top:"_top"},t.dashboardViewer.Controls={Grid:"Grid",Chart:"Chart",Card:"Card",TreeMap:"TreeMap",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",DrillDownChart:"DrillDownChart",ComparisonChart:"ComparisonChart",ProportionChart:"ProportionChart",RangeNavigator:"RangeNavigator",RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",CheckBox:"CheckBox",RadioButton:"RadioButton",ListBox:"ListBox",Image:"Image",Label:"Label",Gauge:"Gauge",PivotGrid:"PivotGrid",CustomWidget:"CustomWidget",ComboBox:"ComboBox",IMAGE:"IMAGE"},t.dashboardViewer.event={maximizeDialogOpen:"maximizeDialogOpen",maximizeDialogClose:"maximizeDialogClose",exportDialogOpen:"exportDialogOpen",exportDialogClose:"exportDialogClose",drillDown:"drillDown",ajaxRequest:"ajaxRequest",ajaxRequestCompleted:"ajaxRequestCompleted",ajaxRequestFailure:"ajaxRequestFailure",exporting:"exporting",exportCompleted:"exportCompleted",filterOverViewOpen:"filterOverViewOpen",filterOverViewClose:"filterOverViewClose",commentDialogOpen:"commentDialogOpen",commentDialogClose:"commentDialogClose",markFavorite:"markFavorite",removeFavorite:"removeFavorite",tabActive:"tabActive",renderComplete:"renderComplete",layoutRendered:"layoutRendered",beforeWidgetRender:"beforeWidgetRender",afterWidgetRender:"afterWidgetRender",beforeWidgetRefresh:"beforeWidgetRefresh",afterWidgetRefresh:"afterWidgetRefresh",beforeLayoutRender:"beforeLayoutRender",filterPanelOpen:"filterPanelOpen",filterPanelClose:"filterPanelClose",filterPanelResize:"filterPanelResize",tabSelect:"tabSelect",contextMenuOpen:"contextMenuOpen",contextMenuClose:"contextMenuClose",clearFilter:"clearFilter",clearAllFilter:"clearAllFilter",clearIndividualFilter:"clearIndividualFilter",onMasterFilterApplied:"onMasterFilterApplied",onFilterOverviewUpdated:"onFilterOverviewUpdated",onApplyConnection:"onApplyConnection",onSaveFilter:"onSaveFilter",onSaveAsFilter:"onSaveAsFilter",onMenuItemClick:"onMenuItemClick",onMenuIconClick:"onMenuIconClick",descriptionPopupOpen:"descriptionPopupOpen",informationOpen:"informationOpen",informationClose:"informationClose",resize:"resize",resizeComplete:"resizeComplete",onDashboardMenuPopupClose:"onDashboardMenuPopupClose",onControlMenuPopupClose:"onControlMenuPopupClose",refresh:"refresh",refreshComplete:"refreshComplete",beforeNavigate:"beforeNavigate",afterNavigate:"afterNavigate",onHistoryPopstateChange:"onHistoryPopstateChange",getLinkDialogOpen:"getLinkDialogOpen",getLinkDialogClose:"getLinkDialogClose",openDashboardParameterPopUp:"openDashboardParameterPopUp",cancelDashboardParameterDialog:"cancelDashboardParameterDialog",applyDashboardParameterValue:"applyDashboardParameterValue",beforeRendering:"beforeRendering",afterRendering:"afterRendering",beforeWidgetAction:"beforeWidgetAction",afterWidgetAction:"afterWidgetAction",beforeWidgetActionNavigate:"beforeWidgetActionNavigate",afterWidgetActionNavigate:"afterWidgetActionNavigate"},t.dashboardViewer.ActionType={Click:"Click",DBClick:"DoubleClick",ContextMenu:"ContextMenu"},t.dashboardViewer.Action={Filter:"Filter",Linking:"Linking",DrillDown:"DrillDown"},t.dashboardViewer.refreshTimer={mode:{hourly:"Hourly",daily:"Daily",monthly:"Monthly",weekly:"Weekly",yearly:"Yearly"}},t.dashboardViewer.filterPanelSettings={state:{expand:"expanded",collapse:"collapsed"}},t.isNullOrUndefined(t)){var t={};t.addCulture=t.addCulture}}(jQuery,SyncfusionDashboard);window.light={targetLineColor:"#000000",axisLineColor:"#bdbdbd",axisFontSize:"10",axisTitleFontSize:"10",legendFontSize:"12",legendfontcolor:"#636363",primaryXAxisfontcolor:"#636363",primaryXAxismajorGridLines:"#dfdfdf",primaryYAxisfontcolor:"#636363",captionSettingsfontcolor:"#ADADAD",subtitlefontcolor:"#ADADAD",majorTickSettingsstroke:"#191919",minorTickSettingsstroke:"#191919",majorTickStrokeThickness:2,minorTickStrokeThickness:2,majorTickStrokeLabelcolor:"#ADADAD",minorTickStrokeLabelcolor:"#ADADAD",palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],titletextcolor:"#636363",labelscolor:"#444444",tickscolor:"#E1E1E1",pointerCapbackgroundColor:"#424242",pointerCapborderColor:"#424242",customLabelcolor:"#444444",pointersbackgroundColor1:"#424242",pointersbackgroundColor2:"#FFFF00",primaryXAxisminorGridLines:"#dfdfdf",Cards:[{targetValueColor:"Red",customHeaderColor:"Green",subTitleColor:"blue"}],RangeNavigator:[{labelSettingsHigherLevelColor:"#626262",labelSettingsLowerLevelColor:"#626262",seriesSettingsBorderColor:"",seriesSettingsFill:"",navigatorSelectedRegionColor:"#d6d6d6",navigatorUnSelectedRegionColor:"#ededed",navigatorThumbStrokes:"#A1CE36",navigatorBackground:"#EEEDED",navigatorBorderColor:"#D2D2D2",majorGridLineColor:"#EEEDED",minorGridLineColor:"#CDCECE",seriesFill:"#73CBE7"}]};window.dark={legendfontcolor:"#C1C1C1",primaryXAxisfontcolor:"#C1C1C1",primaryXAxismajorGridLines:"#606060",primaryYAxisfontcolor:"#C1C1C1",captionSettingsfontcolor:"#ADADAD",subtitlefontcolor:"#ADADAD",majorTickSettingsstroke:"#ADADAD",minorTickSettingsstroke:"#ADADAD",majorTickStrokeThickness:2,minorTickStrokeThickness:2,palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],titletextcolor:"#C1C1C1",labelscolor:"#C1C1C1",tickscolor:"#606060",pointerCapbackgroundColor:"#A6A8AB",pointerCapborderColor:"#A6A8AB",customLabelcolor:"#C1C1C1",pointersbackgroundColor1:"#A6A8AB",pointersbackgroundColor2:"#FFFF00",primaryXAxisminorGridLines:"#606060",Cards:[{targetValueColor:"Red",customHeaderColor:"Green",subTitleColor:"blue"}],RangeNavigator:[{labelSettingsHigherLevelColor:"#393939",labelSettingsLowerLevelColor:"#626262",seriesSettingsBorderColor:"",seriesSettingsFill:"",navigatorSelectedRegionColor:"#585858",navigatorUnSelectedRegionColor:"#484848",navigatorThumbStrokes:"#A1CE36",navigatorBackground:"#484848",navigatorBorderColor:"#646464",majorGridLineColor:"B2B2B2",minorGridLineColor:"#555555",seriesFill:"#0BBCF4"}]};
